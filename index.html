<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<link rel="stylesheet" href="style.css" />
		<link rel="manifest" href="/manifest.json" />
		<link rel="shortcut icon" href="icon.png" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Playpen+Sans:wght@100..800&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap"
			rel="stylesheet"
		/>
		<title>Structure</title>
	</head>
	<body class="app" theme="light">
		<noscript class="data-v-pbK92VG3">
			<svg
				class="data-v-xEV7t6Dm icon"
				xmlns="http://www.w3.org/2000/svg"
				viewBox="0 0 24 24"
			>
				<circle cx="12" cy="12" r="10"></circle>
				<line x1="12" y1="8" x2="12" y2="12"></line>
				<line x1="12" y1="16" x2="12.01" y2="16"></line>
			</svg>
			<span class="title">Not Available</span>
			<span class="description"
				>Please allow your browser to run JavaScript</span
			>
		</noscript>
		<div class="sidebar">
			<div class="data-v-OTtcBZd2">
				<span>structure</span>
			</div>
			<div class="data-v-8u3Iqtu9">
				<svg
					class="data-v-1YPTYxid icon"
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 24 24"
				>
					<circle cx="11" cy="11" r="8"></circle>
					<line x1="21" y1="21" x2="16.65" y2="16.65"></line>
				</svg>
				<input
					class="data-v-ujXllYgW"
					placeholder="Search"
					maxlength="25"
					tabindex="0"
				/>
			</div>
			<div class="data-v-8FrVw7Ca">
				<div class="data-v-emr1y6ie">
					<span>No items found</span>
				</div>
			</div>
		</div>
		<div class="main">
			<div class="data-v-LXlNqANi">
				<div class="data-02EVo67v"></div>
				<div class="data-v-5WLQI9tU"></div>
			</div>
			<div class="data-v-qvrT8rNI">
				<div class="data-v-ikyLwDf4 data-v-Vjpzmyej">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						viewBox="0 0 28 28"
						class="data-v-nKzgeITl"
					>
						<g class="data-v-pLKAJBtH">
							<path
								class="data-v-iAFL26p8"
								d="M14 1.5A12.5 12.5 0 1 1 1.5 14"
							/>
						</g>
					</svg>

					<!--Start HERE-->
				</div>
				<div class="data-v-9vGRGDgT">
					<div class="data-v-kFjA3rNT">
						<!--Important a	utofocus-->
						<div
							class="data-v-tsARDHTI"
							contenteditable="true"
							autocomplete="off"
							spellcheck="false"
							tabindex="0"
						></div>
						<div class="data-v-uwRtDpu4" tabindex="0">
							<svg
								class="data-v-1EV2qZZE icon"
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 24 24"
							>
								<line x1="22" y1="2" x2="11" y2="13"></line>
								<polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
							</svg>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script type="module">
			import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js";
			import {
				getDatabase,
				ref,
				get,
				set,
				onValue,
			} from "https://www.gstatic.com/firebasejs/9.0.2/firebase-database.js";

			let firebaseConfig = {
				apiKey: "AIzaSyAp73V5ZsBUtpy4kS3",
				authDomain: "smiling-theory-397204.firebaseapp.com",
				databaseURL:
					"https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",
				projectId: "smiling-theory-397204",
				storageBucket: "smiling-theory-397204.appspot.com",
				messagingSenderId: "360479398694",
				appId: "1:360479398694:web:a827941ea3db2bc2a8ffe7",
				measurementId: "G-MB98QK6ZCD",
			};

			const app = initializeApp(firebaseConfig);
			const database = getDatabase(app);
			window.GetData = async function (key) {
				const dataRef = ref(database, key);
				try {
					const snapshot = await get(dataRef);
					if (snapshot.exists()) {
						return snapshot.val();
					} else {
						return null;
					}
				} catch (c) {
					throw c;
				}
			};

			window.WriteData = async function (message, timestamp, uid, sender) {
				const data = {
					message: message,
					timestamp: timestamp,
					uid: uid,
					sender: sender,
				};

				try {
					await set(ref(database, "chat"), data);
				} catch (error) {
					throw error;
				}
			};

			onValue(ref(database, "chat"), (k) => {
				var z = k.val();
				if (z.sender !== window.user_id) {
					_A25(z.message, z.timestamp, z.uid);
				}
			});
		</script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.11.0/sweetalert2.all.min.js"></script>
		<script src="script.js"></script>
	</body>
</html>
