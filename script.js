({334:function(){var e=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function s(e){try{c(a.next(e))}catch(e){i(e)}}function r(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((a=a.apply(e,t||[])).next())}))},t=this&&this.__generator||function(e,t){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(r){return function(c){return function(r){if(n)throw TypeError("Generator is already executing.");for(;i&&(i=0,r[0]&&(s=0)),s;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,a=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}};console.log("ðŸ’€ Please do not perform any operations in the console, attackers may steal your data.");var n=function(e){return document.querySelector(e)},o=/(Android|webOS|Windows Phone|Mac|iPhone|iPod|iPad)/i.test(window.navigator.platform);o&&document.body.classList.add("mobile");var i={activitybar:n(".activitybar"),sidebar:n(".sidebar"),main:n(".main"),modalInput:n(".xPgDa0opT"),modalButton:n(".x7dBirbNO"),messageInput:n(".xtsARDHTI"),searchInput:n(".xujXllYgW"),messageArea:n(".xikyLwDf4"),sendButton:n(".xuwRtDpu4")},s=!1,r=!1;function c(e){i.messageInput.innerHTML="",function(e){var t=e.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<","&lt;").replaceAll(">","&gt;");console.log(t);var n=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div");suid=btoa("".concat(ts=(new Date).getTime()).concat(uid=function(e){for(var t="",n=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";n<8;)t+=a.charAt(Math.floor(62*Math.random())),n+=1;return t}())),a.classList.add("xMyW2iRSH"),n.classList.add("xVC8gtuyS"),o.classList.add("xKljxgVJA"),s.classList.add("xu4Celbbq"),n.setAttribute("data-uid",suid),n.appendChild(o),o.appendChild(s),o.appendChild(a);var c=function(e){return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,(function(e){return'<a class="x0ciSQShX" href="'.concat(e,'" target="_blank">').concat(decodeURIComponent(e),"</span>")}))}(t).replace(/(\r?\n){3,}/g,"\n\n").replaceAll("\n","<br>");a.oncontextmenu=function(t){r&&d(t,e,n)},a.innerHTML=c,s.innerHTML='<div class="xc4iCj2Gy">You</div>',i.messageArea.appendChild(n),i.messageArea.scrollTo({top:i.messageArea.scrollHeight,behavior:"smooth"}),n.classList.add("xiOw4dg0O");try{WriteData(c,ts,suid,window.user_id)}catch(e){console.log(e)}}(e)}function l(e,t,n,a){var o=document.createElement("div"),s=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div"),p=document.createElement("div"),m=document.createElement("div"),v=document.createElement("div");s.classList.add("xMyW2iRSH"),o.classList.add("xVC8gtuyS"),c.classList.add("xSYcbYqTG"),l.classList.add("xKljxgVJA"),u.classList.add("xu4Celbbq"),p.classList.add("xc4iCj2Gy"),m.classList.add("xuvoVURIs"),v.classList.add("xt8fROB2L"),m.innerText=" â€¢ ",v.innerText="now",o.setAttribute("data-uid",t),o.appendChild(c),o.appendChild(l),l.appendChild(u),u.appendChild(p),u.appendChild(m),u.appendChild(v),l.appendChild(s),p.innerHTML=n,s.oncontextmenu=function(t){var n=document.createElement("div");n.innerHTML=e;var a=n.textContent||n.innerText||"";r&&d(t,a,o)},s.innerHTML=e,a&&console.log("verify account");var f=i.messageArea.scrollTop,h=i.messageArea.clientHeight,g=i.messageArea.scrollHeight;i.messageArea.appendChild(o),80>Math.abs(f+h-g)&&i.messageArea.scrollTo({top:g,behavior:"smooth"})}function d(a,o,i){var s=n(".xaAFBykLS");s.classList.value.includes("show")?s.classList.remove("show"):(s.querySelector(".item[data-conid='copy']").onclick=function(){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,navigator.clipboard.writeText(o)];case 1:return e.sent(),s.classList.remove("show"),[2]}}))}))},s.querySelector(".item[data-conid='translate']").onclick=function(){s.classList.remove("show"),window.open("https://translate.google.com.tw/?sl=auto&tl=".concat(navigator.language,"&op=translate&text=").concat(o))},s.querySelector(".item[data-conid='share']").onclick=function(){s.classList.remove("show"),y=window.open("https://www.threads.net/intent/post?text=".concat(o))},s.querySelector(".item[data-conid='delete']").onclick=function(){i.remove(),s.classList.remove("show")},s.style.left=a.clientX+"px",s.style.top=a.clientY+"px",s.classList.add("show"))}function u(e,t){e.addEventListener("click",(function(e){var n=e.currentTarget,a=document.createElement("span"),o=Math.max(n.clientWidth,n.clientHeight);a.style.background=t,a.style.width=a.style.height=o+"px",a.style.left=e.offsetX-o/2+"px",a.style.top=e.offsetY-o/2+"px",a.classList.add("ripple_effect");var i=n.getElementsByClassName("ripple_effect")[0];i&&i.remove(),n.appendChild(a)}))}window.totalNoSee=0,document.addEventListener("visibilitychange",(function(){"visible"==document.visibilityState&&(document.title="Structure")})),i.searchInput.addEventListener("input",(function(e){""===e.target.value.trim()?(e.target.value="",n(".xemr1y6ie").classList.remove("show")):n(".xemr1y6ie").classList.add("show")})),i.messageInput.addEventListener("input",(function(e){""===e.target.innerText.trim()&&(e.target.innerHTML="")})),i.messageInput.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:e.shiftKey||""===e.target.innerHTML.trim()||o||(e.preventDefault(),s?c(e.target.innerText):console.log("Unable to send the message"));break;case 85:case 66:e.ctrlKey&&e.preventDefault()}})),i.sendButton.onclick=function(){""!==i.messageInput.innerHTML.trim()&&(s?c(i.messageInput.innerText):console.log("Unable to send the message"))},i.messageInput.onpaste=function(e){e.preventDefault(),document.execCommand("insertHTML",!0,(e.clipboardData||window.clipboardData).getData("text/plain").replace(/&([^;]+)/g,"&amp;$1").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(" ","&nbsp;").replaceAll("\n","<br>"))},i.messageInput.ondragover=function(e){e.preventDefault()},document.onkeydown=function(e){switch(e.keyCode){case 191:"true"===i.messageInput.getAttribute("contenteditable")&&document.activeElement!==i.messageInput&&document.activeElement!==i.searchInput&&(e.preventDefault(),n(".xtsARDHTI").focus());break;case 75:e.ctrlKey&&s&&(e.preventDefault(),i.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 79:case 187:case 189:case 83:e.ctrlKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach((function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}})),document.oncontextmenu=function(e){e.preventDefault()},window.onload=function(){var e=localStorage.getItem("_structure_invite_code");e=null!=e?e:"";var t=new URLSearchParams(window.location.search).get("invitecd");t=null!=t?t:e;try{function o(){i.modalInput.onkeydown=function(){return""},i.modalInput.blur(),i.modalButton.blur(),i.modalButton.onclick=function(){return""};var e=i.modalInput.value.toLowerCase(),t=n(".xHiNaAdY7");i.modalButton.classList.add("progress"),i.modalButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="spinner"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',GetData("invitation_code").then((function(a){""===e.trim()?(t.classList.add("show"),t.querySelector("span").textContent="You need to write something!"):-1!==a.indexOf(e)?(t.classList.remove("show"),localStorage.setItem("_structure_invite_code",e),window.user_id=e,function(){if(!1===r){n(".xLwq2C6gp").classList.remove("in"),setTimeout((function(){return n(".xLwq2C6gp").remove()}),500),i.searchInput.removeAttribute("disabled"),i.messageInput.setAttribute("contenteditable","true"),i.messageArea.classList.remove("xVjpzmyej"),n(".xnKzgeITl")&&n(".xnKzgeITl").remove();var e=(new Date).getHours();l("Good {dl} and welcome to Structure".replaceAll("{dl}",e>=5&&e<12?"morning":e>=12&&e<18?"afternoon":e>=18&&e<24?"evening":"night"),"0","Official",!0),r=!0,s=!0}}()):(t.classList.add("show"),t.querySelector("span").textContent="The invitation code cannot be found"),i.modalInput.onkeydown=function(e){13===e.keyCode&&o()},i.modalButton.onclick=a,i.modalButton.classList.remove("progress"),i.modalButton.innerHTML="<span>OK</span>"})).catch((function(e){console.error(e),t.classList.add("show"),t.querySelector("span").textContent="An unknown error occurred",i.modalButton.classList.remove("progress"),i.modalButton.innerHTML="<span>OK</span>",i.modalInput.onkeydown=function(e){13===e.keyCode&&o()},i.modalButton.onclick=a}))}setTimeout((function(){n(".xLwq2C6gp").classList.add("in")}),1e3),i.modalInput.value=t,n(".xaAFBykLS").classList.remove("show"),i.modalInput.onkeydown=function(e){13===e.keyCode&&o()},i.modalButton.onclick=o,n(".xPgDa0opT").focus()}catch(c){console.error(c)}},window._A25=l,document.querySelectorAll(".activitybar ._top .option").forEach((function(e){e.onclick=function(){n(".activitybar ._top .option.active").classList.remove("active"),e.classList.add("active")}})),document.addEventListener("click",(function(e){var t=n(".xaAFBykLS");t.contains(e.target)||t.classList.remove("show")})),i.messageArea.addEventListener("scroll",(function(){n(".xaAFBykLS").classList.remove("show")})),u(n(".x8u3Iqtu9"),"#2d2d3866"),u(n(".xuwRtDpu4"),"#a8a8af71"),u(n(".header ._left .actionbtn"),"#a9a9a947"),u(n(".header ._right .actionbtn"),"#a9a9a947"),document.addEventListener("touchstart",(function(e){e.touches&&e.touches.length>1&&e.preventDefault()}),{passive:!1});var p=0;document.addEventListener("touchend",(function(e){var t=(new Date).getTime();t-p<=300&&e.preventDefault(),p=t}),!1),document.addEventListener("gesturestart",(function(e){e.preventDefault()})),l('If you\'re not familiar with Structure yet, consider typing <div class="xTM1zG4xi">/help</div> for help!',"0","Official",!0)}})[334]();
