/**release 0.2.35*/
let _0x5bcb49=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x28ebff=_0x5bcb49(this,function(){let e={};return e.AWmYs="(((.+)+)+)+$",_0x28ebff.toString().search("(((.+)+)+)+$").toString().constructor(_0x28ebff).search(e.AWmYs)});_0x28ebff();let _0x938da4=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x48cb5d=_0x938da4(this,function(){let e={};e.JrlAA="return (function() ",e.TSZXp='{}.constructor("return this")( )',e.QMfIs="log",e.euPIL="warn",e.DCeun="info",e.ADOeb="error",e.ekpzX="trace",e.BKMrp=function(e,t){return e<t};let t=e,n;try{n=Function(t.JrlAA+t.TSZXp+");")()}catch(i){n=window}let a=n.console=n.console||{},s=[t.QMfIs,t.euPIL,t.DCeun,t.ADOeb,"exception","table",t.ekpzX];for(let o=0;t.BKMrp(o,s.length);o++){let r=_0x938da4.constructor.prototype.bind(_0x938da4),l=s[o],d=a[l]||r;r.__proto__=_0x938da4.bind(_0x938da4),r.toString=d.toString.bind(d),a[l]=r}});_0x48cb5d();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as i,onAuthStateChanged as a,signInWithEmailAndPassword as s,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as l,uploadBytesResumable as d,getDownloadURL as c}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as $,enableIndexedDbPersistence as x,collection as h,setDoc as u,doc as _,deleteDoc as b,getDoc as p,where as f,getDocs as m,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as y,arrayRemove as L,updateDoc as k,limit as T}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x9c4afc{constructor(e,t={}){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.logicalWidth=0,this.logicalHeight=0,this.devicePixelRatio=window.devicePixelRatio||1,this.updateCanvasSize();let n={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=n,this.customDrawer=null,this.lastTapTime=0,this.tapTimeout=null,this.scale=1,this.posX=0,this.posY=0,this.isDragging=!1,this.lastX=0,this.lastY=0,this.img=null,this.needsRedraw=!1,this.animationFrameId=null,this.isTouching=!1,this.initialDistance=0,this.initialScale=1,this.touchStartPosX=0,this.touchStartPosY=0,this.touchStartScale=1,this.initialCenterX=0,this.initialCenterY=0,this.rotation=0,this.velocityX=0,this.velocityY=0,this.lastTime=0,this.isInertialMoving=!1,this.decelerationRate=.85,this.minVelocityThreshold=.1,this.setupEventListeners(),this.requestRedraw()}updateCanvasSize(){let e={};e.Plrkw=function(e,t){return e*t};let t=this.canvas.parentElement;this.logicalWidth=t.clientWidth,this.logicalHeight=t.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=this.logicalWidth+"px",this.canvas.style.height=this.logicalHeight+"px",this.canvas.width=Math.floor(e.Plrkw(this.logicalWidth,this.devicePixelRatio)),this.canvas.height=Math.floor(this.logicalHeight*this.devicePixelRatio),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.OrmMI="touchend",e.LCdkf="wheel",e.ksUsI="touchmove",e.WSSnT="touchstart",e.GkzuK="resize";let t=e,n="17|20|0|1|7|6|14|3|15|4|19|8|21|16|13|5|2|18|9|22|12|10|11".split("|"),i=0;for(;;){switch(n[i++]){case"0":this.canvas.addEventListener("click",this.handleCanvasClick);continue;case"1":this.canvas.addEventListener(t.OrmMI,this.handleCanvasTouchEnd);continue;case"2":document.addEventListener("mousemove",this.handleMouseMove);continue;case"3":this.handleMouseUp=this.handleMouseUp.bind(this);continue;case"4":this.handleTouchStart=this.handleTouchStart.bind(this);continue;case"5":this.canvas.addEventListener("mousedown",this.handleMouseDown);continue;case"6":this.handleMouseDown=this.handleMouseDown.bind(this);continue;case"7":this.handleResize=this.handleResize.bind(this);continue;case"8":this.handleTouchEnd=this.handleTouchEnd.bind(this);continue;case"9":this.canvas.addEventListener(t.LCdkf,this.handleWheel);continue;case"10":this.canvas.addEventListener(t.ksUsI,this.handleTouchMove);continue;case"11":this.canvas.addEventListener(t.OrmMI,this.handleTouchEnd);continue;case"12":this.canvas.addEventListener(t.WSSnT,this.handleTouchStart);continue;case"13":window.addEventListener(t.GkzuK,this.handleResize);continue;case"14":this.handleMouseMove=this.handleMouseMove.bind(this);continue;case"15":this.handleWheel=this.handleWheel.bind(this);continue;case"16":this.handleMouseLeave=this.handleMouseLeave.bind(this);continue;case"17":this.handleCanvasClick=this.handleCanvasClick.bind(this);continue;case"18":document.addEventListener("mouseup",this.handleMouseUp);continue;case"19":this.handleTouchMove=this.handleTouchMove.bind(this);continue;case"20":this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this);continue;case"21":this.draw=this.draw.bind(this);continue;case"22":this.canvas.addEventListener("mouseleave",this.handleMouseLeave);continue}break}}getDisplayWidth(){return this.rotation%180==90?this.img.height:this.img.width}getDisplayHeight(){let e={};e.QLkzy=function(e,t){return e===t},e.HZDjK=function(e,t){return e%t};let t=e;return t.QLkzy(t.HZDjK(this.rotation,180),90)?this.img.width:this.img.height}calculateInitialScale(){let e={};e.fqXYH=function(e,t){return e/t},e.yqjZy=function(e,t){return e/t};let t=e;if(!this.img)return;let n=this.getDisplayWidth(),i=this.getDisplayHeight(),a=t.fqXYH(this.logicalWidth,n),s=t.yqjZy(this.logicalHeight,i);this.options.minScale=Math.min(a,s,1),this.scale=this.options.minScale}centerImage(){let e={};e.xCAnG=function(e,t){return e*t},e.SRnKd=function(e,t){return e/t},e.nRPgF=function(e,t){return e-t},e.hPGda=function(e,t){return e/t};let t=e;if(!this.img)return;let n=t.xCAnG(this.getDisplayWidth(),this.scale),i=this.getDisplayHeight()*this.scale;this.posX=t.SRnKd(t.nRPgF(this.logicalWidth,n),2),this.posY=t.hPGda(this.logicalHeight-i,2),this.enforceBounds()}setCustomDrawer(e){let t={};t.PXPgF=function(e,t){return e===t},t.PXPgF(typeof e,"function")?this.customDrawer=e:console.error("setCustomDrawer 期望接收一個函數")}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.eVKCi=function(e,t){return e*t},e.SGpOo=function(e,t){return e+t},e.aKvCF=function(e,t){return e/t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=t.eVKCi(this.getDisplayWidth(),this.scale),i=t.eVKCi(this.getDisplayHeight(),this.scale);this.ctx.translate(t.SGpOo(this.posX,t.aKvCF(n,2)),this.posY+i/2),this.ctx.rotate(t.aKvCF(this.rotation*Math.PI,180)),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,-this.img.width/2,t.aKvCF(-this.img.height,2)),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){this.rotation=(this.rotation+90)%360,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.LhdYW=function(e,t){return e*t},e.DIlmc=function(e,t){return e>t},e.rOswv=function(e,t){return e-t},e.dnIwy=function(e,t){return e>t},e.zkBNJ=function(e,t){return e-t},e.Cuhge=function(e,t){return e-t};let t=e;if(!this.img)return;let n=t.LhdYW(this.getDisplayWidth(),this.scale),i=t.LhdYW(this.getDisplayHeight(),this.scale);t.DIlmc(n,this.logicalWidth)?this.posX=Math.min(Math.max(this.posX,t.rOswv(this.logicalWidth,n)),0):this.posX=(this.logicalWidth-n)/2,t.dnIwy(i,this.logicalHeight)?this.posY=Math.min(Math.max(this.posY,t.zkBNJ(this.logicalHeight,i)),0):this.posY=t.Cuhge(this.logicalHeight,i)/2}isInImageArea(e,t){let n={};n.xKvWL=function(e,t){return e*t},n.dvGbQ=function(e,t){return e+t},n.PUQmv=function(e,t){return e>=t};let i=n;if(!this.img)return!1;let a=i.xKvWL(this.getDisplayWidth(),this.scale),s=this.getDisplayHeight()*this.scale,o=this.posX,r=i.dvGbQ(o,a),l=this.posY,d=Math.min(r,this.logicalWidth),c=Math.min(l+s,this.logicalHeight);return i.PUQmv(e,Math.max(o,0))&&e<=d&&t>=Math.max(l,0)&&t<=c}requestRedraw(){let e={vVBJh:"2|3|1|0|4",kbZav:function(e,t){return e(t)},YtfTK:"mousemove"},t=e.vVBJh.split("|"),n=0;for(;;){switch(t[n++]){case"0":this.animationFrameId&&e.kbZav(cancelAnimationFrame,this.animationFrameId);continue;case"1":this.canvas.dispatchEvent(new MouseEvent(e.YtfTK));continue;case"2":if(this.needsRedraw)return;continue;case"3":this.needsRedraw=!0;continue;case"4":this.animationFrameId=e.kbZav(requestAnimationFrame,this.draw);continue}break}}handleMouseDown(e){let t={};t.OZaKh=function(e,t){return e-t},t.ifiCl="grabbing";let n=t,i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=n.OZaKh(e.clientY,i.top);this.isDraggable()&&this.isInImageArea(a,s)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor=n.ifiCl)}handleMouseLeave(){let e={};e.scwgd="default",this.canvas.style.cursor=e.scwgd}handleMouseMove(e){let t={};t.TbQgW="grabbing",t.SgupI="grab",t.vwEhh=function(e,t){return e/t};let n=t,i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=e.clientY-i.top;if(this.isInImageArea(a,s)?this.canvas.style.cursor=this.isDragging?n.TbQgW:n.SgupI:this.canvas.style.cursor="default",this.isDragging){let o=Date.now(),r=o-this.lastTime;this.lastTime=o;let l=e.clientX-this.lastX,d=e.clientY-this.lastY;this.posX+=l,this.posY+=d,r>0&&(this.velocityX=l/r,this.velocityY=n.vwEhh(d,r)),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.yqqiJ=function(e,t){return e>t},t.IBvXp=function(e,t){return e-t},t.WDuff="default";let n=t;this.isDragging=!1,Math.abs(this.velocityX)>this.minVelocityThreshold||n.yqqiJ(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0);let i=this.canvas.getBoundingClientRect(),a=n.IBvXp(e.clientX,i.left),s=n.IBvXp(e.clientY,i.top);this.isInImageArea(a,s)?this.canvas.style.cursor="grab":this.canvas.style.cursor=n.WDuff}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={};e.osAyH=function(e,t){return e-t},e.SVgCP=function(e,t){return e*t};let t=e;if(!this.isInertialMoving)return;let n=Date.now(),i=t.osAyH(n,this.lastTime);this.lastTime=n,this.velocityX*=Math.pow(this.decelerationRate,i/16),this.velocityY*=Math.pow(this.decelerationRate,i/16),this.posX+=t.SVgCP(this.velocityX,i),this.posY+=this.velocityY*i,this.enforceBounds(),this.requestRedraw(),Math.abs(this.velocityX)<this.minVelocityThreshold&&Math.abs(this.velocityY)<this.minVelocityThreshold?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):requestAnimationFrame(this.animateInertia.bind(this))}handleWheel(e){let t={};t.bQhVb=function(e,t){return e-t},t.RXkRK=function(e,t){return e>t},t.jwPZQ=function(e,t){return e/t},t.YOBet=function(e,t){return e*t};let n=t;e.preventDefault();let i=this.canvas.getBoundingClientRect(),a=n.bQhVb(e.clientX,i.left),s=n.bQhVb(e.clientY,i.top);if(!this.isInImageArea(a,s))return;let o=n.RXkRK(e.deltaY,0)?.9:1.1,r=(a-this.posX)/this.scale,l=n.jwPZQ(s-this.posY,this.scale),d=Math.min(Math.max(n.YOBet(this.scale,o),this.options.minScale),this.options.maxScale);this.posX=n.bQhVb(a,n.YOBet(r,d)),this.posY=s-n.YOBet(l,d),this.scale=d,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};t.wJIAN=function(e,t){return e===t},t.oPIVN=function(e,t){return e>=t};let n=t;if(n.wJIAN(e.touches.length,0))return;let i=Array.from(e.touches),a=this.getTouchCenter(i);this.initialCenterX=a.x,this.initialCenterY=a.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,n.oPIVN(e.touches.length,2)&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.TdqSw=function(e,t){return e===t},t.gpkNt=function(e,t){return e>=t},t.uDjsp=function(e,t){return e>t},t.tKFDb=function(e,t){return e-t},t.rJvhm=function(e,t){return e*t},t.yfWiG=function(e,t){return e-t},t.Nwath=function(e,t){return e/t};let n=t;if(!this.isTouching)return;e.preventDefault();let i=Array.from(e.touches);if(n.TdqSw(i.length,0))return;let a=this.getTouchCenter(i),s=1;if(n.gpkNt(i.length,2)){let o=this.getTouchDistance(i[0],i[1]);n.uDjsp(this.initialDistance,0)&&(s=o/this.initialDistance)}let r=Math.min(Math.max(this.touchStartScale*s,this.options.minScale),this.options.maxScale),l=n.tKFDb(this.initialCenterX,this.touchStartPosX)/this.touchStartScale,d=n.tKFDb(this.initialCenterY,this.touchStartPosY)/this.touchStartScale;if(this.posX=a.x-l*r,this.posY=a.y-n.rJvhm(d,r),this.scale=r,this.enforceBounds(),this.requestRedraw(),n.TdqSw(i.length,1)){let c=Date.now(),$=c-this.lastTime;this.lastTime=c;let x=this.canvas.getBoundingClientRect(),h=i[0],u=n.yfWiG(h.clientX,x.left),_=h.clientY-x.top;n.uDjsp($,0)&&(this.velocityX=(u-this.lastX)/$,this.velocityY=n.Nwath(n.tKFDb(_,this.lastY),$)),this.lastX=u,this.lastY=_}}handleTouchEnd(){let e={};e.GkdGM=function(e,t){return e>t},this.isTouching=!1,this.initialDistance=0,e.GkdGM(Math.abs(this.velocityX),this.minVelocityThreshold)||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.requestRedraw())}handleCanvasClick(e){let t={};if(t.spgzA=function(e,t){return e-t},!this.img)return;let n=this.canvas.getBoundingClientRect(),i=t.spgzA(e.clientX,n.left),a=e.clientY-n.top;this.isInImageArea(i,a)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={};if(t.KiBIz=function(e,t){return e-t},!this.img||e.touches.length>0)return;let n=this.canvas.getBoundingClientRect(),i=e.changedTouches[0],a=t.KiBIz(i.clientX,n.left),s=i.clientY-n.top,o=new Date().getTime();if(o-this.lastTapTime<360){clearTimeout(this.tapTimeout);return}this.tapTimeout=setTimeout(()=>{this.isInImageArea(a,s)||this.triggerClickOutside(e),this.lastTapTime=o},200)}getTouchDistance(e,t){let n={};n.CNFnj=function(e,t){return e-t},n.cLzDQ=function(e,t){return e-t},n.TWYBn=function(e,t){return e+t},n.HFriY=function(e,t){return e*t};let i=n,a=i.CNFnj(e.clientX,t.clientX),s=i.cLzDQ(e.clientY,t.clientY);return Math.sqrt(i.TWYBn(i.HFriY(a,a),i.HFriY(s,s)))}isDraggable(){let e={};return e.dVCuH=function(e,t){return e>t},this.img&&(e.dVCuH(this.img.width*this.scale,this.logicalWidth)||this.img.height*this.scale>this.logicalHeight)}triggerClickOutside(e){let t={};t.WODKx=function(e,t){return e===t},t.TvAKc="function",t.Mgxet=function(e,t){return e-t},t.umNAV=function(e,t){return e-t},t.EXupF=function(e,t){return e-t},t.ctmHt=function(e,t){return e/t};let n=t;if(n.WODKx(typeof this.options.onClickOutside,n.TvAKc)){let i=this.canvas.getBoundingClientRect(),a={x:n.Mgxet(e.clientX,i.left),y:n.umNAV(e.clientY,i.top),canvasX:e.clientX-i.left,canvasY:n.EXupF(e.clientY,i.top),imageX:-1,imageY:-1};this.img&&(a.imageX=n.ctmHt(a.canvasX-this.posX,this.scale),a.imageY=n.ctmHt(a.canvasY-this.posY,this.scale)),this.options.onClickOutside(a,e)}}getTouchCenter(e){let t={};t.dfzPi=function(e,t){return e-t},t.wPOGQ=function(e,t){return e/t};let n=t,i=0,a=0,s=this.canvas.getBoundingClientRect();for(let o of e)i+=n.dfzPi(o.clientX,s.left),a+=n.dfzPi(o.clientY,s.top);return{x:n.wPOGQ(i,e.length),y:n.wPOGQ(a,e.length)}}destroy(){let e={GsQis:"resize",jEHcu:"mousemove",YMpXf:"mouseup",YgMQk:"wheel",LarYk:"touchstart",LvABx:"touchend",QceQV:function(e,t){return e(t)}};window.removeEventListener(e.GsQis,this.handleResize),document.removeEventListener(e.jEHcu,this.handleMouseMove),document.removeEventListener(e.YMpXf,this.handleMouseUp),this.canvas.removeEventListener("mouseleave",this.handleMouseLeave),this.canvas.removeEventListener("mousedown",this.handleMouseDown),this.canvas.removeEventListener(e.YgMQk,this.handleWheel),this.canvas.removeEventListener(e.LarYk,this.handleTouchStart),this.canvas.removeEventListener("touchmove",this.handleTouchMove),this.canvas.removeEventListener("touchend",this.handleTouchEnd),this.canvas.removeEventListener("click",this.handleCanvasClick),this.canvas.removeEventListener(e.LvABx,this.handleCanvasTouchEnd),this.animationFrameId&&e.QceQV(cancelAnimationFrame,this.animationFrameId)}}function _0x14b61a(e,t,n,i){let a={rdqap:function(e,t){return e*t},cWMwm:function(e,t){return e+t},Gcbxn:function(e,t){return e+t},QGdIJ:function(e,t){return e+t},Igkvk:function(e,t){return e*t},xOeNm:function(e,t){return e*t},Uojxx:function(e,t){return e*t},UZptu:function(e,t){return e<t},ybuIH:function(e,t){return e-t},FBqBe:function(e,t){return e<t},KMFys:function(e,t){return e(t)},pGDnR:function(e,t){return e<t},WPxHJ:function(e,t){return e/t},gmCcD:function(e,t){return e>t},hIcEx:function(e,t){return e(t)},ClzdO:function(e,t){return e>t},ILjLF:function(e,t){return e/t},GwBeS:function(e,t){return e-t},rVrNt:function(e,t){return e*t},Msfpw:function(e,t){return e*t},MNuIh:function(e,t){return e*t}},s=a.Gcbxn(a.GwBeS(3*e,a.rVrNt(3,n)),1),o=3*n-a.rdqap(6,e),r=3*e,l=a.QGdIJ(a.GwBeS(a.Msfpw(3,t),a.Igkvk(3,i)),1),d=a.GwBeS(a.MNuIh(3,i),a.Igkvk(6,t)),c=a.Msfpw(3,t);function $(e){return a.rdqap(a.cWMwm(a.rdqap(a.Gcbxn(s*e,o),e),r),e)}function x(e){return a.Gcbxn(a.Igkvk(a.xOeNm(3,s)*e+a.Uojxx(2,o),e),r)}return e=>{var t;return t=function e(t){let n=0,i=1,s=t;for(let o=0;a.UZptu(o,8);o++){let r=a.ybuIH($(s),t);if(a.FBqBe(Math.abs(r),1e-6))return s;let l=a.KMFys(x,s);if(a.pGDnR(Math.abs(l),1e-6))break;s-=a.WPxHJ(r,l)}for(;a.gmCcD(i,n);){let d=a.ybuIH(a.hIcEx($,s),t);if(a.UZptu(Math.abs(d),1e-6))break;a.ClzdO(d,0)?i=s:n=s,s=a.ILjLF(a.Gcbxn(i,n),2)}return s}(e),a.QGdIJ(a.Igkvk(l*t+d,t),c)*t}}function _0x42d67b(e,t="vertical"){let n={rMVmx:"keydown",tGwik:function(e,t){return e%t},ZHDGa:function(e,t){return e-t},OBhzO:function(e,t){return e+t},qcJPy:function(e){return e()},TMFox:function(e){return e()}};function i(){let i={hBsqz:function(e,t){return e===t},HBpKU:"ArrowDown",MURTn:function(e,t){return n.tGwik(e,t)},RWwOE:function(e,t){return e+t},wrIWR:function(e,t){return n.ZHDGa(e,t)},sGzGa:"horizontal",EjveS:function(e,t){return n.OBhzO(e,t)},frHev:function(e,t){return n.ZHDGa(e,t)}};if(e.length<=1){e.forEach(e=>{e._navHandler&&(e.removeEventListener("keydown",e._navHandler),delete e._navHandler)});return}e.forEach((a,s)=>{a._navHandler&&a.removeEventListener("keydown",a._navHandler),a._navHandler=n=>{let a=s;if(i.hBsqz(t,"vertical")){if(n.key===i.HBpKU)a=i.MURTn(i.RWwOE(s,1),e.length);else{if("ArrowUp"!==n.key)return;a=i.RWwOE(i.wrIWR(s,1),e.length)%e.length}}else{if(t!==i.sGzGa)return;if("ArrowRight"===n.key)a=i.MURTn(s+1,e.length);else{if("ArrowLeft"!==n.key)return;a=i.EjveS(i.frHev(s,1),e.length)%e.length}}e[a].focus()},a.addEventListener(n.rMVmx,a._navHandler)})}n.TMFox(i);let a={};return a.removeItem=function t(n){e=e.filter(e=>e!==n),i()},a.addItem=function t(a){e.push(a),n.qcJPy(i)},a.updateEventListeners=i,a}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.stNAH="disabled",n.eeWZi="click",n.TmFMe=function(e,t){return e===t},n.Pexlg=function(e,t){return e-t},n.QpFCs="keydown";let i=n,a=this;a._bindWithCooldownHandler&&(a.removeEventListener(i.eeWZi,a._bindWithCooldownHandler),a.removeEventListener("keydown",a._bindWithCooldownHandler));let s=0,o=function(n){let o=Date.now();!a.classList.contains(i.stNAH)&&!a.hasAttribute(i.stNAH)&&(n.type===i.eeWZi||i.TmFMe(n.keyCode,32)||13===n.keyCode)&&(i.Pexlg(o,s)>=t||0===t)&&(s=o,e.call(a,n))};a.addEventListener("click",o),a.addEventListener(i.QpFCs,o),a._bindWithCooldownHandler=o};let _0x4e5bea={set(e,t){try{let n=JSON.stringify(t);localStorage.setItem(e,n)}catch(i){console.error("Error saving to localStorage",i)}},get(e,t=null){try{let n=localStorage.getItem(e);return null!==n?JSON.parse(n):t}catch(i){return console.error("Error reading from localStorage",i),t}},remove(e){try{localStorage.removeItem(e)}catch(t){console.error("Error removing from localStorage",t)}},clear(){let e={};e.WSShj="Error clearing localStorage";try{localStorage.clear()}catch(t){console.error(e.WSShj,t)}},has(e){let t={};return t.UEkHO=function(e,t){return e!==t},t.UEkHO(localStorage.getItem(e),null)},keys:()=>Object.keys(localStorage)};class _0x2bfb5a{constructor({parent:e,text:t,placement:n="top"}){let i={};i.zSdid="blur",i.APgiB="focus";let a=i,s="1|3|6|0|8|7|2|9|11|10|5|4".split("|"),o=0;for(;;){switch(s[o++]){case"0":this._tooltip=null;continue;case"1":this._parent=e;continue;case"2":this.showTooltip=this.showTooltip.bind(this);continue;case"3":this._content=t;continue;case"4":this._parent.addEventListener("mouseleave",this.hideTooltip);continue;case"5":this._parent.addEventListener(a.zSdid,this.hideTooltip);continue;case"6":this._placement=n;continue;case"7":this._parent.setAttribute("aria-describedby",this._tooltipId);continue;case"8":this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9);continue;case"9":this.hideTooltip=this.hideTooltip.bind(this);continue;case"10":this._parent.addEventListener(a.APgiB,this.showTooltip);continue;case"11":this._parent.addEventListener("mouseenter",this.showTooltip);continue}break}}_createTooltipElement(){let e=({ftahT:function(e,t){return e(t)}}).ftahT(_0x234641,"xuocLuDI6");return e.setAttribute("placement",this._placement),e.setAttribute("id",this._tooltipId),e.innerText=this._content,e}updatePosition(){let e={};e.LkgIO=function(e,t){return e-t},e.YqRRQ=function(e,t){return e-t},e.qFeEF=function(e,t){return e/t},e.AHjzg="bottom",e.XQBWc=function(e,t){return e+t},e.PyIBg="left",e.kJDWt="right",e.VWHTL=function(e,t){return e+t};let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),i=this._tooltip.getBoundingClientRect(),a,s;switch(this._placement){case"top":a=t.LkgIO(window.scrollY+n.top,i.height)-8,s=t.YqRRQ(window.scrollX+n.left+t.qFeEF(n.width,2),i.width/2);break;case t.AHjzg:a=window.scrollY+n.bottom+8,s=t.XQBWc(t.XQBWc(window.scrollX,n.left),t.qFeEF(n.width,2))-i.width/2;break;case t.PyIBg:a=t.LkgIO(window.scrollY+n.top+t.qFeEF(n.height,2),i.height/2),s=window.scrollX+n.left-i.width-8;break;case t.kJDWt:a=t.XQBWc(t.VWHTL(window.scrollY,n.top),n.height/2)-i.height/2,s=window.scrollX+n.right+8;break;default:throw Error("Invalid placement value")}this._tooltip.style.top=a+"px",this._tooltip.style.left=s+"px"}showTooltip(){let e={};e.uvKSw="delayed-open",e.HGsEN="aria-expanded";let t=e,n="3|1|0|5|2|4".split("|"),i=0;for(;;){switch(n[i++]){case"0":document.body.appendChild(this._tooltip);continue;case"1":this._tooltip=this._createTooltipElement();continue;case"2":this._tooltip.setAttribute("data-state",t.uvKSw);continue;case"3":if(this._tooltip)return;continue;case"4":this._tooltip.setAttribute(t.HGsEN,"true");continue;case"5":this.updatePosition();continue}break}}hideTooltip(){let e={};e.AfqsX="closed",this._tooltip&&(this._tooltip.setAttribute("data-state",e.AfqsX),this._tooltip.setAttribute("aria-expanded","false"),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.nxYPH="3|0|2|4|1",e.fFAQy="focus";let t=e;if(this.hideTooltip(),this._parent){let n=t.nxYPH.split("|"),i=0;for(;;){switch(n[i++]){case"0":this._parent.removeEventListener("mouseenter",this.showTooltip);continue;case"1":this._parent.removeEventListener("mouseleave",this.hideTooltip);continue;case"2":this._parent.removeEventListener(t.fFAQy,this.showTooltip);continue;case"3":this._parent.removeAttribute("aria-describedby");continue;case"4":this._parent.removeEventListener("blur",this.hideTooltip);continue}break}}this._tooltip=null,this._parent=null,this._content=null}}class _0x2eea8{constructor({trigger:e,placement:t="bottom"}){let n={ONeeC:"inert",jaEwz:"true",uTzqr:function(e,t){return e(t)},edIzO:function(e,t){return e(t)},lRMRP:"overlay",oZTWF:"xC3Uih0ex",xmpsp:"open",JjTbH:"role",oTSse:"aria-modal",vaIJa:function(e,t){return e(t)},ZuPan:"resize"},i="_"+n.uTzqr(_0x15d911,12);this.trigger=e,this.placement=t,this.Root=n.edIzO(_0x234641,"xEHCrF5Oe"),this.Overlay=_0x234641(n.lRMRP),this.Content=_0x234641(n.oZTWF),this.Root.setAttribute("data-state",n.xmpsp),this.Root.setAttribute(n.JjTbH,"popover"),this.Root.setAttribute(n.oTSse,n.jaEwz),this.Root.id=i,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let a=n.vaIJa(_0x5e2a51,i);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+a+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute(n.ONeeC,n.jaEwz)}),this.Overlay.addEventListener("click",()=>this.close()),this.Overlay.addEventListener("contextmenu",()=>this.close()),document.addEventListener("keydown",this._handleKeyDown),this._setPosition(),window.addEventListener(n.ZuPan,this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e={};e.QNnFT="absolute";let t=this.trigger.getBoundingClientRect(),n=this.Content.getBoundingClientRect(),i;if(Array.isArray(this.placement)){for(let a of this.placement){let s=this._calculatePosition(a,t,n);if(this._isPositionWithinViewport(s,n)){i=a;break}}i||(i=this.placement[0])}else i=this.placement;let o=this._calculatePosition(i,t,n);this.Content.style.position=e.QNnFT,this.Content.style.top=o.top+"px",this.Content.style.left=o.left+"px"}_calculatePosition(e,t,n){let i={};i.qEpxy=function(e,t){return e-t},i.xQvqU=function(e,t){return e-t},i.zGpzr="right",i.MngOb=function(e,t){return e+t},i.XTngF=function(e,t){return e===t},i.KvIfL=function(e,t){return e/t};let a=i,s=0,o=0,[r,l]=e.split("-");switch(r){case"top":s=a.qEpxy(t.top,n.height);break;case"bottom":s=t.bottom;break;case"left":o=a.xQvqU(t.left,n.width);break;case a.zGpzr:o=t.right}switch(l){case"start":o=t.left;break;case"end":o=a.MngOb(t.left,t.width)-n.width;break;default:a.XTngF(r,"top")||"bottom"===r?o=t.left+(t.width-n.width)/2:s=t.top+a.KvIfL(a.qEpxy(t.height,n.height),2)}let d={};return d.top=s,d.left=o,d}_isPositionWithinViewport(e,t){let n={};n.HZWZL=function(e,t){return e>=t},n.RpSFA=function(e,t){return e>=t},n.eSbDf=function(e,t){return e<=t},n.SMACp=function(e,t){return e+t},n.wOkDF=function(e,t){return e<=t},n.BtZWe=function(e,t){return e+t};let i=n,a=window.innerWidth,s=window.innerHeight,{top:o,left:r}=e;return i.HZWZL(o,0)&&i.RpSFA(r,0)&&i.eSbDf(i.SMACp(o,t.height),s)&&i.wOkDF(i.BtZWe(r,t.width),a)}_handleKeyDown=e=>{27===e.keyCode&&(this.close(),this.trigger.focus())};_removeListeners(){let e={};e.ETJsn="keydown",e.nMrIi="resize";let t=e;document.removeEventListener(t.ETJsn,this._handleKeyDown),window.removeEventListener(t.nMrIi,this._handleResize)}onClose(e){this.onCloseCallback=e}close(){let e={};e.ThgWn="closed",this._removeListeners(),this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),this.Root.setAttribute("data-state",e.ThgWn),setTimeout(()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x5e2a51(e){let t={};t.ZncsD="\\$&",t.hcHen=function(e,t){return e+t};let n=t;return e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,n.ZncsD).replace(/^(-?\d)/,n.hcHen("\\3"+e.charAt(0)," "))}class _0x18c2dc{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={DeeMB:function(e,t){return e(t)},BdEpC:function(e,t){return e(t)},XFYCg:"overlay",pwwdM:"content",Fgoxe:"show"},a="_"+i.DeeMB(_0x15d911,12);this.Root=i.DeeMB(_0x234641,"x54SkYRT0"),this.Overlay=i.BdEpC(_0x234641,i.XFYCg),this.Content=_0x234641(i.pwwdM),this.Root.setAttribute("data-state","open"),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role","dialog"),this.Root.setAttribute("aria-modal","true"),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=a;let s=_0x5e2a51(a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.Fgoxe),_0x18c2dc.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{27===e.keyCode&&_0x18c2dc.stack[_0x18c2dc.stack.length-1]===this&&this.close()};onClose(e){this.onCloseCallback=e}close(){let e={dkmNZ:function(e,t){return e instanceof t},vzABL:"inert",LVkOd:function(e,t){return e>t},jSOVt:function(e,t,n){return e(t,n)}};if(!this.Lock){let t=_0x18c2dc.stack.indexOf(this);e.LVkOd(t,-1)&&_0x18c2dc.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback(),this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(t=>{e.dkmNZ(t,HTMLElement)&&t.removeAttribute("inert")}):this._deactivated_elements.forEach(t=>{t.removeAttribute(e.vzABL)}),this.Root.setAttribute("data-state","closed"),e.jSOVt(setTimeout,()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){let e={};e.EnZfq="keydown",this.Overlay.onclick=null,document.removeEventListener(e.EnZfq,this._handleKeyDown)}}_0x18c2dc.stack=[];class _0x36f060 extends _0x18c2dc{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:i=!1,closeOnEsc:a=!0,showCloseButton:s=!1}={}){let o={};o.RIPrY="xv1VrMJb6",o.zBcHs=function(e,t){return e>t};let r=o,l={};l.closeOnOverlayClick=i,l.closeOnEsc=a,super(l);let d=this._createHeader(e,s),c=this._createBody(t);if(this.Content.style.padding="0px",this.Content.classList.add(r.RIPrY),this.Content.classList.add("xLDQZ1SSl"),this.Content.appendChild(d),this.Content.appendChild(c),r.zBcHs(n.length,0)){let $=this._createFooter(n);c.appendChild($)}}_createHeader(e,t){let n={dpDUx:"div",vWens:function(e,t){return e||t},vCmBe:function(e,t){return e(t)},oMYmz:"xvb5soWNa",JylZU:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>'},i=document.createElement("div");i.className="xrYn5ZY3v lf gn";let a=document.createElement(n.dpDUx);if(a.className="x6Y89FynP",a.textContent=n.vWens(e,"Alert"),i.appendChild(a),t){let s=n.vCmBe(_0x234641,n.oMYmz);s.focusable(!0),s.innerHTML=n.JylZU,s.bindWithCooldown(()=>{this.close()}),i.appendChild(s)}return i}_createBody(e){let t={};t.qQkUC="div",t.sBuBQ="Are you sure?";let n=t,i=document.createElement(n.qQkUC);i.className="xWDUelLWA";let a=document.createElement(n.qQkUC);return a.className="xujSSErs5",a.innerHTML=e||n.sBuBQ,i.appendChild(a),i}_createFooter(e){let t={hdazW:function(e){return e()},retjX:function(e,t){return e(t)},Vokjq:"div",JABTS:function(e,t){return e+t},KgOUS:"tabindex",iuaug:"xWh2LBcgj",mCBfC:"horizontal"},n=document.createElement("div");n.className=t.iuaug;let i=_0x42d67b([],t.mCBfC);return e.forEach(({text:e,classList:a=[],onClick:s})=>{let o=t.retjX(_0x234641,"xtSMPpB1C"),r=document.createElement(t.Vokjq);r.className=t.JABTS("xgw2tzk6r ",a.join(" ")),r.setAttribute(t.KgOUS,"0"),r.textContent=e,r.bindWithCooldown(()=>{s&&t.hdazW(s),this.close()}),o.appendChild(r),i.addItem(r),n.appendChild(o)}),n}}let _0x234641=e=>{let t={};t.lHOSq="div";let n=t,i=document.createElement(n.lHOSq);return i.classList.add(e),i},_0x59ba18=e=>document.querySelector(e);function _0x15d911(e){let t={};t.iuAPU=function(e,t){return e<t};let n=t,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a="";for(let s=0;n.iuAPU(s,e);s++)a+=i.charAt(Math.floor(Math.random()*i.length));return a}function _0x17706c(e,t,n={}){let i={LTNda:function(e,t){return e===t},fMxcv:function(e,t){return e(t)},poyUH:function(e,t,n){return e(t,n)},ZaXpI:"text/html"},{interval:a=24,fadeDuration:s=214,bezierControl:o=[.42,0,1,1]}=n,r=_0x14b61a(...o),l=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>",i.ZaXpI).body.firstChild.childNodes),d=[];function c(e){let t=performance.now();function n(i){let a=Math.min((i-t)/s,1),o=r(a);e.style.opacity=o,a<1&&requestAnimationFrame(n)}i.fMxcv(requestAnimationFrame,n)}l.forEach(t=>(function e(t,n){if(i.LTNda(t.nodeType,Node.TEXT_NODE)){let a=t.textContent.split("");for(let s of a){let o=document.createElement("span");o.classList.add("xSwoj5Cx2"),o.textContent=s,n.appendChild(o),d.push(o)}}else if(i.LTNda(t.nodeType,Node.ELEMENT_NODE)){let r=t.cloneNode(!1);n.appendChild(r),Array.from(t.childNodes).forEach(t=>e(t,r))}})(t,e)),function e(){if(d.length){let t=d.shift();i.fMxcv(c,t),i.poyUH(setTimeout,e,a)}}()}function _0x4c7b72(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0xb55fe9(){let e={};e.zxcaT="MacIntel",e.jviQu=function(e,t){return e>t},e.etsis="Tablet",e.llcgw="Mobile",e.wdAqe="Windows",e.iqLPK="Desktop",e.slLcr="macOS",e.VXHCM="Linux",e.gJCVB="Unknown";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,i=navigator.platform,a=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||i===t.zxcaT&&t.jviQu(a,1)){let s=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(s)return{os:"iOS",version:(s[1]||"0")+"."+(s[2]||"0")+"."+(s[3]||"0"),deviceType:/iPad/.test(n)?t.etsis:t.llcgw}}if(/Android/.test(n)){let o=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(o)return{os:"Android",version:(o[1]||"0")+"."+(o[2]||"0")+"."+(o[3]||"0"),deviceType:/Mobile/.test(n)?t.llcgw:t.etsis}}if(/Win/.test(i)){let r=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(r){let l=r[1]||"0",d=r[2]||"0",c={};return c.os=t.wdAqe,c.version=l+"."+d,c.deviceType=t.iqLPK,c}let $={};return $.os=t.wdAqe,$.version=null,$.deviceType="Desktop",$}if(/Mac/.test(i)){let x=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(x){let h=x[1]||"0",u=x[2]||"0",_=x[3]||"0",b={};return b.os=t.slLcr,b.version=h+"."+u+"."+_,b.deviceType="Desktop",b}let p={};return p.os=t.slLcr,p.version=null,p.deviceType="Desktop",p}if(/Linux/.test(i)){let f={};return f.os=t.VXHCM,f.version=null,f.deviceType="Desktop",f}let m={};return m.os="Unknown",m.version=null,m.deviceType=t.gJCVB,m}function _0x246db6(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x44358e={};_0x44358e.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x44358e.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x44358e.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x22abef=_0x44358e;class _0xefc679{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={WqsHy:function(e,t){return e(t)},xwVer:"drawer-root",oZQvw:"drawer-content",IItHs:"data-state",pFQTY:"open",nxsvA:"dialog",qaJyz:"aria-modal",mSOHc:function(e,t){return e(t)},nmyRV:"show",JNPPw:"click"},a="_"+i.WqsHy(_0x15d911,12);this.Root=_0x234641(i.xwVer),this.Overlay=_0x234641("drawer-overlay"),this.Content=_0x234641(i.oZQvw),this.Header=i.WqsHy(_0x234641,"drawer-header"),this.Handle=document.createElement("div"),this.Handle.className="drawer-drag-handle",this.Header.appendChild(this.Handle),this.Body=_0x234641("drawer-body"),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute(i.IItHs,i.pFQTY),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role",i.nxsvA),this.Root.setAttribute(i.qaJyz,"true"),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=a;let s=i.mSOHc(_0x5e2a51,a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.nmyRV),_0xefc679.stack.push(this),e&&this.Overlay.addEventListener(i.JNPPw,this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.vbjrb=function(e,t){return e===t},t.mKzkl=function(e,t){return e===t};let n=t;if(n.vbjrb(e.keyCode,27)){let i=_0xefc679.stack[_0xefc679.stack.length-1];n.mKzkl(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={RPGzI:function(e){return e()},Wbngx:function(e,t){return e>t},GPtrD:"none",XSxMQ:"x9GmoP75O",gbNWv:function(e,t,n){return e(t,n)},zpuyE:function(e){return e()}},t=_0xefc679.stack.indexOf(this);e.Wbngx(t,-1)&&_0xefc679.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback();let n=()=>{this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},i=window.getComputedStyle(this.Content).transform;i===e.GPtrD||i.includes("matrix")?(this.Content.classList.remove(e.XSxMQ),this.Content.style.transform="translateY(100%)",e.gbNWv(setTimeout,()=>{e.RPGzI(n),this.Root.remove()},300)):(e.zpuyE(n),this.Root.remove()),this._removeListeners()}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}_setupDrag(){let e={};e.QDOkI="1|0|2|4|3",e.ZoDCq=function(e,t){return e-t},e.ZgffD=function(e,t){return e/t},e.kiIbv=function(e,t){return e-t},e.CEoxs=function(e,t){return e-t},e.IrGSv=function(e,t){return e>t},e.fLSSe="translateY(0)",e.QFvOm="mousemove",e.Pzruu="mouseup",e.WmIeG="touchstart",e.svbRL="touchend";let t=e,n=0,i=0,a=0,s=!1,o=e=>{let i=t.QDOkI.split("|"),o=0;for(;;){switch(i[o++]){case"0":n=e.touches?e.touches[0].clientY:e.clientY;continue;case"1":if(0!==e.target.scrollTop||e.target.closest(".xBWmlKrN2 *"))return;continue;case"2":a=Date.now();continue;case"3":this.Content.classList.add("x9GmoP75O");continue;case"4":s=!0;continue}break}},r=e=>{if(!s)return;i=e.touches?e.touches[0].clientY:e.clientY;let a=t.ZoDCq(i,n),o=this.Content.offsetHeight;a>0&&(this.Content.style.transform="translateY("+a+"px)",this.Overlay.style.opacity=Math.max(t.ZoDCq(1,t.ZgffD(a,o)),0))},l=()=>{if(!s)return;let e=t.kiIbv(i,n),o=t.CEoxs(Date.now(),a)/1e3,r=this.Content.offsetHeight;this.Content.classList.remove("x9GmoP75O"),t.IrGSv(e,.5*r)||t.IrGSv(e/o,600)?this.close():(this.Content.style.transform=t.fLSSe,this.Overlay.style.opacity=1),s=!1},d={};d.passive=!0,this.Content.addEventListener(t.WmIeG,o,d);let c={};c.passive=!0,this.Content.addEventListener("touchmove",r,c),this.Content.addEventListener(t.svbRL,l),this.Content.addEventListener("mousedown",e=>{o(e);let n=e=>r(e),i=()=>{l(),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)};document.addEventListener(t.QFvOm,n),document.addEventListener(t.Pzruu,i)})}}_0xefc679.stack=[];class _0x149c1c{constructor(){let e={};e.CjpKL="gtx";let t=e;this.baseUrl="https://translate.googleapis.com/translate_a/single",this.client=t.CjpKL}async translate(e,t="en",n="auto"){let i={};i.client=this.client,i.sl=n,i.tl=t,i.dt="t",i.q=e;let a=new URLSearchParams(i);try{let s=await fetch(this.baseUrl+"?"+a);if(!s.ok)throw Error("翻譯失敗，狀態碼: "+s.status);let o=await s.json(),r="";o[0]&&o[0].forEach(e=>{e[0]&&(r+=e[0])});let l=o[2]||n,d={};d.text=e,d.language=l;let c={};c.text=r,c.language=t;let $={};return $.original=d,$.translated=c,$}catch(x){throw Error("翻譯錯誤: "+x.message)}}}let _0x439b5a=_0x4e5bea.get("lang"),_0x32e57a="zh";_0x439b5a?_0x32e57a=_0x439b5a:(_0x32e57a="zh",_0x4e5bea.set("lang","zh"));let _0x317139={};_0x317139.a1="搜尋…",_0x317139.a2="未知",_0x317139.a3="在這裡輸入訊息…",_0x317139.a4="更新了什麼",_0x317139.a5="私人",_0x317139.a6="說明",_0x317139.a7="公開",_0x317139.a8="展開全部",_0x317139.a9="顯示較少",_0x317139.a10="查看全部",_0x317139.a11="加入聊天室",_0x317139.a12="加入聊天室",_0x317139.a13="邀請碼",_0x317139.a14="送出",_0x317139.a15="查看個人資料",_0x317139.a16="登出",_0x317139.a17="無效的邀請碼，請重新嘗試",_0x317139.a18="$0 秒前",_0x317139.a19="$0 個月前",_0x317139.a20="$0 分鐘前",_0x317139.a21="$0 小時前",_0x317139.a22="$0 年前",_0x317139.a23="$0 天前",_0x317139.a24="無法預覽這個文件",_0x317139.a25="下載",_0x317139.a26="你",_0x317139.b1="描述",_0x317139.b2="最後上線",_0x317139.b3="描述",_0x317139.b4="暱稱",_0x317139.b5="編輯個人資料",_0x317139.b6="完成",_0x317139.b7="完成",_0x317139.b8="歡迎回來",_0x317139.b9="登入帳號後即可使用我們的服務",_0x317139.b10="等待中…",_0x317139.b11="使用 Google 繼續",_0x317139.b12="使用 電子郵件 登入",_0x317139.b13="返回上一頁",_0x317139.b14="密碼錯誤，請重新嘗試",_0x317139.b15="找不到這個帳號，請重新嘗試",_0x317139.b16="網路請求錯誤，請檢查網路連線",_0x317139.b17="發生未知的錯誤",_0x317139.b18="$0 則訊息",_0x317139.b19="沒有訊息",_0x317139.b20="所有成員",_0x317139.b21="查看所有成員",_0x317139.b22="查看行程安排",_0x317139.b23="退出",_0x317139.b24="電子郵件地址",_0x317139.b25="密碼",_0x317139.b26="送出",_0x317139.b27="電子郵件登入",_0x317139.b28="@未知",_0x317139.b29="未知",_0x317139.b30="已成功清除緩存，重新載入後即生效",_0x317139.b31="未知的指令，請重新嘗試",_0x317139.b32="載入中…",_0x317139.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0x317139.b34="退出",_0x317139.b35="取消",_0x317139.b36="確定",_0x317139.b37="行程安排",_0x317139.b38="標題",_0x317139.b39="開始",_0x317139.b40="結束",_0x317139.b41="編輯行程",_0x317139.c1="編輯模式",_0x317139.c2="預覽模式",_0x317139.c3="已更新介面語言為：$0",_0x317139.c4="英語",_0x317139.c5="中文",_0x317139.z0='<li class="xcKqXW8uF">修復了一些錯誤</li><li class="xcKqXW8uF">未來可能不會再更新了，看情況</li>',_0x317139.b42="上傳中",_0x317139.b43="正在上傳中，請耐心等待",_0x317139.b44="上傳遭中斷",_0x317139.b45="已取消上傳",_0x317139.b46="上傳完成",_0x317139.b47="這個文件已經成功上傳了",_0x317139.b48="上傳失敗",_0x317139.b49="這個文件有 $0 ，我們無法負擔",_0x317139.b50="動態",_0x317139.b51="暫無動態",_0x317139.b52="點擊查看",_0x317139.d0="附加文件",_0x317139.d1="發送",_0x317139.d2="加入貼圖",_0x317139.d3="標記為重要",_0x317139.d4="取消標記",_0x317139.d5="任何人都能加入這個聊天室",_0x317139.d6="只有受邀人能加入本聊天室",_0x317139.d7="重新載入後方可完整更新您的資料",_0x317139.d8="這裡還沒有訊息，現在就開始聊天吧",_0x317139.d9="未知",_0x317139.d10="暫時還沒有描述哦",_0x317139.d11="未知",_0x317139.d12="未知",_0x317139.d13="尚未加入任何聊天室",_0x317139.d14="還沒有任何行程，現在就創建一個吧",_0x317139.f1="暫時沒有人欸…\xa0等等你不是人?",_0x317139.f2="今天",_0x317139.f3="明天",_0x317139.f4="昨天",_0x317139.f5="$0 天前",_0x317139.f6="$0 天後",_0x317139.f7="已結束",_0x317139.f8="時間範圍無效",_0x317139.f11="清除快取",_0x317139.f12="隱藏動態",_0x317139.f13="最後上線時間將不會公開",_0x317139.f14="同步訊息更新",_0x317139.f15="訊息被修改、刪除都將即時同步",_0x317139.f16="攔截推銷與廣告內容",_0x317139.f17="自動識別並攔截此類內容，可能不準確",_0x317139.f18="過濾敏感詞彙",_0x317139.f19="自動識別並過濾此類內容，可能不準確",_0x317139.f20="設定",_0x317139.f21="已清除",_0x317139.f22="所有人",_0x317139.s1="當前版本：$0",_0x317139.s2="開發者：$0",_0x317139.s3="關於",_0x317139.s4="翻譯",_0x317139.s5="翻譯中",_0x317139.s6="已翻譯",_0x317139.s7="重試";let _0x259ba3={};_0x259ba3.a1="Search…",_0x259ba3.a2="Unknown",_0x259ba3.a3="Enter message here…",_0x259ba3.a4="What's new",_0x259ba3.a5="Private",_0x259ba3.a6="Illustrate",_0x259ba3.a7="Public",_0x259ba3.a8="Show more",_0x259ba3.a9="Show less",_0x259ba3.a10="Show all",_0x259ba3.a11="Join groups",_0x259ba3.a12="Join Groups",_0x259ba3.a13="Invitation code",_0x259ba3.a14="Submit",_0x259ba3.a15="View profile",_0x259ba3.a16="Logout",_0x259ba3.a17="Invalid invitation code, please try again",_0x259ba3.a18="$0 seconds ago",_0x259ba3.a19="$0 months ago",_0x259ba3.a20="$0 minutes ago",_0x259ba3.a21="$0 hours ago",_0x259ba3.a22="$0 years ago",_0x259ba3.a23="$0 days ago",_0x259ba3.a24="Unable to preview this file",_0x259ba3.a25="Download",_0x259ba3.a26="You",_0x259ba3.b1="Description",_0x259ba3.b2="Last online",_0x259ba3.b3="Description",_0x259ba3.b4="Nickname",_0x259ba3.b5="Edit Profile",_0x259ba3.b6="Save",_0x259ba3.b7="Save",_0x259ba3.b8="Welcome back",_0x259ba3.b9="Log in to your account to use our services",_0x259ba3.b10="Waiting…",_0x259ba3.b11="Continue with Google",_0x259ba3.b12="Continue with Email",_0x259ba3.b13="Return to previous page",_0x259ba3.b14="Wrong password, please try again",_0x259ba3.b15="The account could not be found. Please try again.",_0x259ba3.b16="Network request error, please check the network connection",_0x259ba3.b17="An unknown error occurred",_0x259ba3.b18="$0 messages",_0x259ba3.b19="No message",_0x259ba3.b20="All members",_0x259ba3.b21="View members",_0x259ba3.b22="View itinerary",_0x259ba3.b23="Leave",_0x259ba3.b24="Email Address",_0x259ba3.b25="Password",_0x259ba3.b26="Submit",_0x259ba3.b27="Login with Email",_0x259ba3.b28="@unknown",_0x259ba3.b29="unknown",_0x259ba3.b30="The cache has been successfully cleared and will take effect after reloading",_0x259ba3.b31="Unknown command, please try again",_0x259ba3.b32="Loading…",_0x259ba3.b33="Are you sure you want to leave this group? You can rejoin later.",_0x259ba3.b34="Leave",_0x259ba3.b35="Cancel",_0x259ba3.b36="Comfirm",_0x259ba3.b37="All itinerary",_0x259ba3.b38="Title",_0x259ba3.b39="Start",_0x259ba3.b40="End",_0x259ba3.b41="Edit itinerary",_0x259ba3.c1="編輯模式",_0x259ba3.c2="預覽模式",_0x259ba3.c3="Updated language: $0",_0x259ba3.c4="English",_0x259ba3.c5="Chinese",_0x259ba3.z0='<li class="xcKqXW8uF">Fixed some bugs.</li><li class="xcKqXW8uF">There may be no more updates in the future.</li>',_0x259ba3.b42="Uploading",_0x259ba3.b43="Uploading, please wait patiently",_0x259ba3.b44="Upload interrupted",_0x259ba3.b45="Upload canceled",_0x259ba3.b46="Upload completed",_0x259ba3.b47="The file has been uploaded successfully",_0x259ba3.b48="Upload failed",_0x259ba3.b49="This file is $0 and we can't afford it",_0x259ba3.b50="Dynamics",_0x259ba3.b51="No dynamic",_0x259ba3.b52="Click here to view",_0x259ba3.d0="Attach files",_0x259ba3.d1="Send",_0x259ba3.d2="Add stickers",_0x259ba3.d3="Mark as important",_0x259ba3.d4="Unmark",_0x259ba3.d5="Anyone can join this group",_0x259ba3.d6="Only invited people can join this group",_0x259ba3.d7="Reload to fully update your information",_0x259ba3.d8="There are no messages here yet. Start chatting now.",_0x259ba3.d9="Unknown",_0x259ba3.d10="There is no description yet",_0x259ba3.d11="Unknown",_0x259ba3.d12="Unknown",_0x259ba3.d13="Not joined any chat room yet",_0x259ba3.d14="No itinerary yet",_0x259ba3.f1="There's\xa0no\xa0one\xa0here\xa0at\xa0the\xa0moment...",_0x259ba3.f2="Today",_0x259ba3.f3="Tomorrow",_0x259ba3.f4="Yesterday",_0x259ba3.f5="$0 days ago",_0x259ba3.f6="$0 days later",_0x259ba3.f7="Ended",_0x259ba3.f8="Invalid\xa0time\xa0range",_0x259ba3.f11="Clear cache",_0x259ba3.f12="Hide activity",_0x259ba3.f13="The last online time will not be disclosed",_0x259ba3.f14="Sync message updates",_0x259ba3.f15="Messages that are modified or deleted will be synchronized immediately",_0x259ba3.f16="Block promotional and advertising content",_0x259ba3.f17="Automatically identify and block such content, which may not be accurate",_0x259ba3.f18="Filter sensitive words",_0x259ba3.f19="Automatically identify and filter this type of content, which may be inaccurate",_0x259ba3.f20="Settings",_0x259ba3.f21="Cleared",_0x259ba3.f22="everyone",_0x259ba3.s1="Current version: $0",_0x259ba3.s2="Developer: $0",_0x259ba3.s3="About",_0x259ba3.s4="Translate",_0x259ba3.s5="Translating",_0x259ba3.s6="Translated",_0x259ba3.s7="Try again";let _0x53c838={};_0x53c838.zh=_0x317139,_0x53c838.en=_0x259ba3;let _0x492afe=_0x53c838;function _0x2979ea(e){return _0x492afe[e]}let _0x3c246d={};_0x3c246d.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x3c246d.authDomain="smiling-theory-397204.firebaseapp.com",_0x3c246d.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x3c246d.projectId="smiling-theory-397204",_0x3c246d.storageBucket="smiling-theory-397204.appspot.com",_0x3c246d.messagingSenderId="360479398694",_0x3c246d.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x3c246d.measurementId="G-6BKTT1K7D1";let _0x4c8c77=e(_0x3c246d),_0x261bd1=_0x2979ea(_0x32e57a),_0x52f13c=$(_0x4c8c77),_0x5200b3=r(_0x4c8c77),_0x26eb4b=new i,_0x306616=t(),_0x41ec30=new _0x149c1c;x(_0x52f13c).then(()=>{console.log("離線緩存功能已啟用")}).catch(e=>{let t={};t.Uoezq="已開啟多個分頁，無法啟用離線緩存功能",t.XnIDD="unimplemented",t.CyfsN="當前瀏覽器不支持離線緩存";let n=t;"failed-precondition"===e.code?console.error(n.Uoezq):e.code===n.XnIDD&&console.error(n.CyfsN)});let _0x25a5de=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x17fa0a=[],_0x37db54={sidebar:_0x59ba18(".xFz8bwNFr"),main:_0x59ba18(".x8o58HttN"),messageInput:_0x59ba18(".xtsARDHTI"),searchInput:_0x59ba18(".xujXllYgW"),messageContainer:_0x59ba18(".xikyLwDf4"),sendButton:_0x59ba18(".xuwRtDpu4"),fileInput:_0x59ba18(".xVEJA40Qh"),attachButton:_0x59ba18(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x59ba18(".xpbRox0hO#xbXZpIWEa"),markButton:_0x59ba18(".xpbRox0hO#xsVrze5YA"),brushButton:_0x59ba18(".xpbRox0hO#xrfvUzMAG"),heading:_0x59ba18(".xehdiGgBv"),backButton:_0x59ba18(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x59ba18(".xemr1y6ie"),spinnerContainer:_0x59ba18(".xemr1y6ie .spinner"),spinnerLabel:_0x59ba18(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x59ba18(".xDADAUUv4"),roomNameLabel:_0x59ba18(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x59ba18(".xlKSJ67AP"),nameLabel:_0x59ba18(".xt4GQkVIo"),avatarLabel:_0x59ba18(".xbVHF6S6B"),avatarWrapper:_0x59ba18(".xaoteDJh4"),profileContainer:_0x59ba18(".xQ6gFUtqT"),layoutResizer:_0x59ba18(".xrFP6D2e1"),layoutResizer2:_0x59ba18(".xZddo7wlf"),activityBar:_0x59ba18(".pS2na74a"),sidebarOverlay:_0x59ba18(".xgUJeGeNl")},_0x472846='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0x261bd1.b32,_0xb968fe={};_0xb968fe.current="0.2.36",_0xb968fe.cacheId="x0n0HCjlj",_0xb968fe.directions='<ul class="xxmjDL5xB xbH7v2Hbn">'+_0x261bd1.z0+"</ul>";let _0x421a9c=_0xb968fe,_0x4129ea={};_0x4129ea.duration=3e4,_0x4129ea.limit=2,_0x4129ea.locking=!1;let _0x3d78db=_0x4129ea,_0x2bc372=[],_0x41c115={},_0x1accb4={},_0x34cbcf={},_0x2394d,_0x546715=!1,_0x236104="",_0x3d2518,_0x59d1f9=0,_0x1309c3,_0x22be3e=!1,_0x3c2464=!1,_0x3821c7=!1,_0x449dee=_0x37db54.messageContainer,_0x385e99={};_0x385e99.state=!1,_0x385e99._a=null,_0x385e99._b=null,_0x385e99._n="",_0x385e99._d="",_0x385e99._m=[];let _0xf39210=_0x385e99,_0x2b3588="",_0x4ba928=null;if(_0x25a5de)document.body.classList.add("mobile"),_0x37db54._mb_att_btn.bindWithCooldown(function(){_0x37db54.fileInput.click()});else{document.body.classList.add("desktop");let M={};M.parent=_0x37db54.attachButton,M.text=_0x261bd1.d0,M.placement="top",new _0x2bfb5a(M),_0x37db54.attachButton.bindWithCooldown(function(){_0x37db54.fileInput.click()});let E={};E.parent=_0x37db54.sendButton,E.text=_0x261bd1.d1,E.placement="top",new _0x2bfb5a(E);let I={};I.parent=_0x37db54.stickerButton,I.text=_0x261bd1.d2,I.placement="top",new _0x2bfb5a(I);let B={};B.parent=_0x37db54.markButton,B.text=_0x261bd1.d3,B.placement="top";let W=new _0x2bfb5a(B),H={};H.parent=_0x37db54.brushButton,H.text="潤色文本",H.placement="top",new _0x2bfb5a(H),_0x42d67b([_0x37db54.attachButton,_0x37db54.brushButton,_0x37db54.markButton,_0x37db54.stickerButton],"horizontal"),_0x37db54.brushButton.bindWithCooldown(function(){let e=_0x17483e("潤色文本",!0);e.content.classList.add("lg"),e.body.classList.add("xDLwiKdTE")}),_0x37db54.markButton.bindWithCooldown(function(){_0x3821c7?(_0x3821c7=!1,_0x37db54.markButton.classList.remove("x3zdxRXQ6"),W.setText(_0x261bd1.d3)):(_0x3821c7=!0,_0x37db54.markButton.classList.add("x3zdxRXQ6"),W.setText(_0x261bd1.d4))},0);let S=!1,A=0,D=0,R=e=>{let t={};t.BZFtr="xz7kq9zLe",t.RSEre="mouseup";let n=t;S=!0,document.body.classList.add(n.BZFtr);let i=e.target.getBoundingClientRect();D=e.clientX-i.left,document.addEventListener("mousemove",O),document.addEventListener(n.RSEre,Y)},O=e=>{let t={};t.Tmvqs=function(e,t){return e-t};let n=t;if(!S)return;let i=_0x37db54.sidebar.getBoundingClientRect().left,a=Math.max(n.Tmvqs(e.clientX,i)-D,0);A=a,_0x37db54.sidebar.style.width=a+"px"},Y=()=>{let e={};e.mocfA="3|0|2|4|1",e.xTGmz="mouseup",e.MURIF="xz7kq9zLe";let t=e,n=t.mocfA.split("|"),i=0;for(;;){switch(n[i++]){case"0":_0x4e5bea.set("xjS4MkN99",A);continue;case"1":document.removeEventListener(t.xTGmz,Y);continue;case"2":document.body.classList.remove(t.MURIF);continue;case"3":S=!1;continue;case"4":document.removeEventListener("mousemove",O);continue}break}};window.addEventListener("blur",()=>{document.body.classList.remove("resizing"),S=!1}),_0x37db54.layoutResizer.addEventListener("mousedown",e=>{({sCyZY:function(e,t){return e(t)}}).sCyZY(R,e)})}function _0x17483e(e,t=!1,...n){let i={cgsWu:"xrYn5ZY3v",yjqIF:function(e,t){return e(t)},ZSTND:"xvb5soWNa",cyJcN:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>'};console.log(n);let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x18c2dc(a),o=_0x234641(i.cgsWu);o.classList.add("lf"),s.Content.style.padding="0";let r=_0x234641("x6Y89FynP");o.appendChild(r),r.innerText=e,s.Content.appendChild(o);let l=i.yjqIF(_0x234641,"xWDUelLWA");s.Content.appendChild(l);let d;t&&((d=i.yjqIF(_0x234641,i.ZSTND)).focusable(!0),d.innerHTML=i.cyJcN,s.close=s.close.bind(s),d.bindWithCooldown(s.close),o.appendChild(d));let c=o.getBoundingClientRect();o.style.minHeight=c.height+"px";let $={};return $.root=s,$.body=l,$.content=s.Content,$.closebtn=d,$.Root=s.Root,$.Content=s.Content,$}async function _0x547bd7(e,t){let n={KWSim:"data-state",BSvtC:"xWuhDLG1C",mWPds:"x8o1OSu71",vcjpf:"xUSR4cuWD",YVTvV:"xFIqZCKV3",WPlzd:"xAQPbc7N3",KhykF:"xBWmlKrN2",RBLHk:"instant",tDbMF:function(e,t){return e===t},WnXow:"translated",oSaqp:"text",yDcED:function(e,t){return e===t},WrCch:"image",dVihI:"xGsec9lFd",pGZBs:"loading",LPDmJ:"9999px",alUAq:"cache-url",PbDXs:function(e,t){return e===t},LoOZz:"muted",yHyGP:"nodownload",tgYlj:function(e,t){return e===t},ToxRJ:"controls",PMnXw:"span",KVVwU:function(e,t){return e(t)},imvBE:"a10",jPFcw:"xDVzL7FIt",QbWfU:"x6EwJGLAa"};if(t.content.startsWith("<")){let i=t.content.match(/<\s*(\S+)\s+(\S+)(?:\s+(\S+))?/),a=i[1],s=i[2],o=i[3];if(n.yDcED(a,n.WrCch)){let r=document.createElement("img");r.focusable(!0),r.classList.add(n.dVihI),r.classList.add(n.vcjpf),r.setAttribute(n.KWSim,n.pGZBs),r.onerror=function(){r.setAttribute(n.KWSim,"failed"),r.classList.remove("xUSR4cuWD")},o&&(r.style.height=n.LPDmJ,r.style.aspectRatio=o+" / 1"),r.onload=function(){let t={mKgTi:function(e,t,n){return e(t,n)},DmNfQ:n.BSvtC,YHapP:function(e,t){return e(t)},YuhDn:n.mWPds,vzRFh:"xHZuqwWhI"};r.setAttribute(n.KWSim,"loaded"),r.classList.remove(n.vcjpf),e.classList.add(n.YVTvV),r.bindWithCooldown(function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let n=new _0x18c2dc(e);n.Content.classList.add("xPSnkbRat");let i=document.createElement("canvas");i.classList.add(t.DmNfQ),n.Content.appendChild(i);let a=new _0x9c4afc(i,{maxScale:2,onClickOutside(e,n){t.mKgTi(o,e,n)}});function o(){a.destroy(),n.close()}a.loadImage(s);let r=t.YHapP(_0x234641,t.YuhDn);r.focusable(!0),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',r.bindWithCooldown(o),n.Content.appendChild(r);let l=_0x234641(t.YuhDn);l.classList.add(t.vzRFh),l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',l.bindWithCooldown(function(){a.rotate()},0),n.Content.appendChild(l)},0)};let l={};l.action=n.alUAq,l.url=s,navigator.serviceWorker?.controller?.postMessage(l),r.src=s,e.appendChild(r)}else if(n.PbDXs(a,"video")){let d=document.createElement("video");d.setAttribute(n.LoOZz,""),d.focusable(!0),d.playsInline=!0,d.setAttribute("controls","true"),d.setAttribute("controlslist",n.yHyGP);let c={};c.action=n.alUAq,c.url=s,navigator.serviceWorker?.controller?.postMessage(c),d.src=s,d.classList.add(n.dVihI),e.appendChild(d)}else if(n.tgYlj(a,"audio")){let $=document.createElement("audio");$.focusable(!0),$.setAttribute(n.ToxRJ,"true");let x={};x.action=n.alUAq,x.url=s,navigator.serviceWorker?.controller?.postMessage(x),$.src=s,$.classList.add(n.dVihI),e.appendChild($)}else e.innerHTML='<div class="xUiYNFhtR">'+_0x261bd1.a24+' <a class="x0ciSQShX no-wrap" href="'+s+'" target="_blank" rel="noreferrer noopener">'+_0x261bd1.a25+"</a></div>"}else{let h=document.createElement(n.PMnXw),u=_0x234641("xYj7x2KZ4");h.classList.add("xVlceg4Ab"),_0xeb7706(h,t.content),e.appendChild(h),e.appendChild(u);let _=t.content;if(h.getBoundingClientRect().height>125){e.classList.add("xDVzL7FIt");let b=n.KVVwU(_0x234641,"x6EwJGLAa"),p={};p["0"]=_0x261bd1.a8,p["1"]=_0x261bd1.a9,p["2"]=_0x261bd1[n.imvBE];let f=p;b.innerHTML=f[_0x25a5de?2:0],b.focusable(!0);let m=0;b.bindWithCooldown(function(){if(_0x25a5de){let t={};t.closeOnEsc=!0,t.closeOnOverlayClick=!0;let i=new _0xefc679(t);i.Root.classList.add(n.WPlzd);let a=_0x234641(n.KhykF);i.Body.appendChild(a),_0xeb7706(a,_)}else{let s={};s.top=0,s.behavior=n.RBLHk,h.scrollTo(s),0===m?(m=1,e.classList.add("x2y08yFOH"),b.innerHTML=f[1]):(m=0,e.classList.remove("x2y08yFOH"),b.innerHTML=f[0])}},0),u.appendChild(b)}if(t.translatable){e.classList.add(n.jPFcw);let v=_0x234641(n.QbWfU);v.innerHTML=_0x261bd1.s4,v.focusable(!0),v.bindWithCooldown(async function(){v.innerHTML=_0x261bd1.s5;try{let e=await _0x41ec30.translate(t.content,n.tDbMF(_0x32e57a,"zh")?"zh-TW":"en");_=e[n.WnXow][n.oSaqp],_0xeb7706(h,e.translated[n.oSaqp]),v.innerHTML=_0x261bd1.s6,v.classList.add("disabled")}catch(i){v.innerHTML=_0x261bd1.s7}}),u.appendChild(v)}}}function _0xeb7706(e,t){let n={SBlVW:function(e,t,n){return e(t,n)},kQUEU:"mobile",RTeRk:"desktop",jcaWF:"b29",aqZnd:"b28",WeeXT:function(e,t,n){return e(t,n)},nStlY:"x0ciSQShX",JMxxe:function(e,t){return e(t)}},i=/@(\w+)/g,a=0,s;for(e.clear();null!==(s=i.exec(t));){let{index:o}=s,r=s[1];if(o>a){let l=t.slice(a,o);n.WeeXT(_0x11c1ca,e,l)}let d=document.createElement("a");d.classList.add(n.nStlY),d.focusable(!0),d.dataset.userId=r;let c={};c.userId=r,c.dom=d,_0xf39210._m.push(c),"everyone"===r?d.textContent="@"+_0x261bd1.f22:n.JMxxe(_0x1bc0ae,r).then(function(e){let t={sUVYp:function(e,t,i){return n.SBlVW(e,t,i)},lVPEs:n.kQUEU,eTpzJ:n.RTeRk};e?(d.textContent="@"+(e.name||_0x261bd1[n.jcaWF]),d.bindWithCooldown(function(){t.sUVYp(_0xd9965d,_0x4ba928,{data:e,type:_0x25a5de?t.lVPEs:t.eTpzJ})},0)):d.textContent=_0x261bd1[n.aqZnd]}).catch(function(e){d.textContent="@"+r,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(d),a=i.lastIndex}a<t.length&&n.SBlVW(_0x11c1ca,e,t.slice(a))}function _0x11c1ca(e,t){let n={IUZiz:function(e,t){return e(t)},DCXzs:"div",MeEuF:function(e,t){return e<t}},i=t.split("\n");i.forEach((t,a)=>{if(t){let s=n.IUZiz(_0x163625,t),o=document.createElement(n.DCXzs);o.innerHTML=s,Array.from(o.childNodes).forEach(t=>{e.appendChild(t)})}n.MeEuF(a,i.length-1)&&e.appendChild(document.createElement("br"))})}function _0x163625(e){let t={};t.jKItJ=function(e,t){return e+t},t.ddWXB=function(e,t){return e+t},t.uijPd=function(e,t){return e+t},t.qeRyk='" target="_blank" rel="noreferrer noopener">';let n=t;return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let t=e.replace(/^https?:\/\//,"");return n.jKItJ(n.ddWXB(n.uijPd('<span class="xCe4Btdzm"><a class="x0ciSQShX" translate="no" href="',e),n.qeRyk),decodeURIComponent(t))+"</a></span>"})}async function _0x2f1251(){let e={PbzJr:function(e,t){return e===t},Ueerw:function(e,t){return e===t},rXSiZ:"1241",cxKiy:function(e,t,n,i){return e(t,n,i)},ZTYMQ:function(e,t){return e(t)},xIVki:"lang",gzQBc:function(e,t){return e===t},XTPJk:"1242",TeKWZ:function(e,t){return e(t)},hqdGo:"b31",AIloQ:"&lt;",FHzIn:"&gt;",JZqJT:function(e,t,n,i,a){return e(t,n,i,a)},lfBdf:"chats"},t=_0x37db54.messageInput.innerText.trim();if(!t||!_0x236104||e.PbzJr(t,""))return;_0x37db54.sendButton.classList.add("disabled"),_0x37db54.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let i=n[1],a=n[2];if("task"===i){if(e.Ueerw(a,e.rXSiZ)){_0x37db54.messageInput.clear(),e.cxKiy(_0x1d5f52,{content:_0x261bd1.c3.replace("$0",_0x261bd1.c5),sender:_0x1309c3,tag:"2"},e.ZTYMQ(_0x15d911,20),"3"),_0x4e5bea.set(e.xIVki,"zh");return}if(e.gzQBc(a,e.XTPJk)){_0x37db54.messageInput.clear(),_0x1d5f52({content:_0x261bd1.c3.replace("$0",_0x261bd1.c4),sender:_0x1309c3,tag:"2"},e.TeKWZ(_0x15d911,20),"3"),_0x4e5bea.set("lang","en");return}{_0x37db54.messageInput.clear();let s={};s.tag="2",s.content=_0x261bd1[e.hqdGo],_0x1d5f52(s,_0x15d911(20),"3");return}}}t=t.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<",e.AIloQ).replaceAll(">",e.FHzIn).replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x37db54.messageInput.clear();let o=_0x3821c7?"1":null;_0x37db54.markButton.classList.remove("x3zdxRXQ6"),_0x3821c7=!1;let r=_(e.JZqJT(h,_0x52f13c,e.lfBdf,_0x236104,"messages"));_0x2bc372.push(r.id),await u(r,{sender:_0x1309c3,content:t,timestamp:Date.now(),tag:o}),_0x3d78db.locking=!0;let l={};l.content=t,l.tag=o,e.cxKiy(_0x1d5f52,l,r.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={};t.lXnLH="cache-size-result";let n=t;if(e.data.type===n.lXnLH){let i=document.getElementById("cacheSizeResult");if(e.data.error){i.innerHTML="錯誤: "+e.data.error;return}_0x1d5f52({content:_0x510f40(e.data.bytes)},_0x15d911(20),"3")}});let _0x4fedc4=0;function _0x1d5f52(e,t,n="1"){let i={flYWB:function(e,t){return e(t)},RkdLO:function(e,t){return e(t)},INxsh:"xu4Celbbq",lTXZl:"xRHoYYwoZ",GlaIi:"data-visible",lIpTd:"true",gsSDs:"xiOw4dg0O",ttDve:"a26",rUAUI:"xOmVIOA3e",zGuNp:function(e,t){return e===t},UvDiH:"xHJfZfjT1",CCVxy:function(e,t,n){return e(t,n)}},a=_0x234641("xVC8gtuyS"),s=_0x234641("xMyW2iRSH"),o=i.flYWB(_0x234641,"xKljxgVJA"),r=i.RkdLO(_0x234641,i.INxsh),l=i.RkdLO(_0x234641,"xc4iCj2Gy"),d=_0x234641(i.lTXZl);switch(a.setAttribute(i.GlaIi,i.lIpTd),a.setAttribute("data-message-id",t),a.classList.add(i.gsSDs),a.appendChild(o),o.appendChild(d),d.appendChild(r),r.appendChild(l),d.appendChild(s),l.innerText=_0x261bd1[i.ttDve],_0x2b3588.sender===e.sender&&a.classList.add(i.rUAUI),i.zGuNp(e.tag,"1")?s.classList.add("x4rKxFxLl"):"2"===e.tag&&s.classList.add(i.UvDiH),_0x2394d&&(_0x2394d.remove(),_0x2394d=null),n){case"1":_0x37db54.messageContainer.appendChild(a);break;case"2":_0x449dee.appendChild(a),_0x4fedc4+=a.offsetHeight;break;case"3":_0x37db54.messageContainer.appendChild(a),_0x22be3e=!0,_0x37db54.messageContainer.scrollTo({top:_0x37db54.messageContainer.scrollHeight,behavior:"smooth"})}i.CCVxy(_0x547bd7,s,e)}function _0x2e0149(e,t,n="1"){let i={iRsgt:"d11",JzlgB:function(e,t){return e(t)},Uxtpw:"xMyW2iRSH",gLJAw:function(e,t){return e(t)},iPNBl:"xSYcbYqTG",ivpLU:"xt8fROB2L",WirWA:"img",Centb:"data-message-id",mPCSy:function(e,t){return e===t},WbHQk:"xOmVIOA3e",arhLb:function(e,t){return e(t)}},a=i.JzlgB(_0x234641,"xVC8gtuyS"),s=_0x234641(i.Uxtpw),o=i.gLJAw(_0x234641,i.iPNBl),r=_0x234641("xKljxgVJA"),l=_0x234641("xu4Celbbq"),d=_0x234641("xc4iCj2Gy"),c=_0x234641(i.ivpLU),$=_0x234641("xRHoYYwoZ"),x=document.createElement(i.WirWA);switch(a.setAttribute("data-visible","true"),c.classList.add("xt8fROB2L"),x.loading="lazy",a.appendChild(o),a.appendChild(r),r.appendChild($),$.appendChild(l),l.appendChild(d),$.appendChild(s),l.appendChild(c),o.appendChild(x),a.setAttribute(i.Centb,t),i.mPCSy(e.tag,"1")&&s.classList.add("x4rKxFxLl"),c.innerText="0s",d.innerText=_0x261bd1.d9,x.draggable=!1,_0x2394d&&(_0x2394d.remove(),_0x2394d=null),_0x2b3588.sender===e.sender&&a.classList.add(i.WbHQk),n){case"1":_0x37db54.messageContainer.appendChild(a);break;case"2":_0x449dee.appendChild(a),_0x4fedc4+=a.offsetHeight;break;case"3":_0x37db54.messageContainer.appendChild(a),_0x22be3e=!0,_0x37db54.messageContainer.scrollTo({top:_0x37db54.messageContainer.scrollHeight,behavior:"smooth"})}_0x547bd7(s,e),i.arhLb(_0x1bc0ae,e.sender).then(t=>{let n={oBOKN:"xWzeTGC6P",HSvDT:function(e,t,n){return e(t,n)},GoQMe:"mobile"};function a(){n.HSvDT(_0xd9965d,_0x37db54.main,{data:t,type:_0x25a5de?n.GoQMe:"desktop"})}c.innerText=_0x385e82(e.timestamp),x.src=t.avatarUrl||"/assets/avatar.png",x.onload=function(){o.classList.add(n.oBOKN)},d.onclick=a,o.focusable(!0),o.bindWithCooldown(a),d.innerText=t.name||_0x261bd1[i.iRsgt]}).catch(e=>{console.error(e)})}function _0x4293a7(e,t,n){let i={};i.HOejQ="assets/avatar.png",i.nijsg="d11";let a=i;_0x37db54.signatureLabel.textContent=n||"unknown",_0x37db54.avatarWrapper.classList.remove("xJd2GT7MI"),_0x37db54.avatarLabel.src=e||a.HOejQ,_0x37db54.nameLabel.textContent=t||_0x261bd1[a.nijsg]}let _0x482536;async function _0x497629(){let e={WvkyY:function(e,t,n){return e(t,n)},aZjJZ:function(e,t){return e-t},NTsOE:"mouseup",OIQXo:"touchmove",ldqzI:"touchend",hkPfy:function(e,t){return e*t},yUZsH:function(e,t){return e/t},Zqgne:"xgu6pGjzk",rySQL:"mousemove",WKLSS:function(e,t){return e>t},VhHRu:"xp4HXkJGa",cpgiv:function(e,t){return e-t},NGWYt:"--xVizV2ybq",ByjIe:function(e,t){return e*t},rqDzr:function(e){return e()},CaxdV:function(e,t){return e!==t},HIJCM:"xYIbDcl9T",Wqqoe:"正在初始化應用程序",foQLw:"placeholder",AWNKa:"xmKH3ad5R",mrZET:function(e){return e()},kveDL:function(e,t){return e(t)},QZBZJ:"發生未知錯誤",XfESs:"resize",KiCyp:"設置布局時發生錯誤"};if(_0x546715)return;console.log(e.Wqqoe),_0x37db54.roomNameLabel.innerText=_0x261bd1.a2,_0x37db54.searchInput.placeholder=_0x261bd1.a1,_0x37db54.messageInput.setAttribute(e.foQLw,_0x261bd1.a3),_0x37db54.spinnerLabel.innerText=_0x261bd1.b32;let t=_0x4e5bea.get("xjS4MkN99");t&&!_0x25a5de&&(_0x37db54.sidebar.style.width=t+"px"),document.body.classList.add(e.AWNKa);let n=_0xb55fe9(),i=e.mrZET(_0x4c7b72);_0x232d93();try{e.kveDL(_0x1bc0ae,_0x1309c3).then(async t=>{(!t.deviceInfo||Date.now()-t.deviceInfo.lastUpdate>36e5)&&(await e.WvkyY(_0x5c055e,_0x1309c3,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:i.screenWidth+"x"+i.screenHeight+" @"+i.devicePixelRatio+"x"}}),console.log("已上傳裝置信息"))})}catch(a){console.error(e.QZBZJ,a)}let s=!1,o=0,r=0,l=0,d=t=>{s=!0,o=0,r=t.touches?t.touches[0].clientX:t.clientX;let n=t.target.getBoundingClientRect();l=e.aZjJZ(r,n.left),document.addEventListener("mousemove",c),document.addEventListener(e.NTsOE,$);let i={};i.passive=!0,document.addEventListener(e.OIQXo,c,i),document.addEventListener(e.ldqzI,$)},c=t=>{if(!s)return;let n=t.touches?t.touches[0].clientX:t.clientX,i=e.aZjJZ(n,l),a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o=i,_0x37db54.main.classList.add("xp4HXkJGa"),_0x37db54.sidebar.classList.add("xgu6pGjzk"),_0x37db54.main.style.transform="translate3d("+Math.max(Math.min(i,a),0)+"px, 0, 0)",_0x37db54.sidebarOverlay.style.opacity=Math.min(Math.max(e.aZjJZ(1,i/a),0),1),_0x37db54.sidebar.style.transform="translate3d("+Math.max(Math.min(e.hkPfy(-30,1-e.yUZsH(i,a)),0),-30)+"%, 0, 0)"},$=()=>{if(!s)return;s=!1;let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;_0x37db54.main.classList.remove("xp4HXkJGa"),_0x37db54.sidebar.classList.remove(e.Zqgne),document.removeEventListener(e.rySQL,c),document.removeEventListener("mouseup",$);let n={};n.passive=!0,document.removeEventListener("touchmove",c,n),document.removeEventListener(e.ldqzI,$),e.WKLSS(e.yUZsH(o,t),.5)?_0x34796a():_0x37db54.sidebarOverlay.style.opacity=1};window.addEventListener("blur",()=>{s=!1,_0x37db54.sidebarOverlay.style.opacity=1,_0x37db54.main.classList.remove(e.VhHRu),_0x37db54.sidebar.classList.remove("xgu6pGjzk"),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",$);let t={};t.passive=!0,document.removeEventListener("touchmove",c,t),document.removeEventListener(e.ldqzI,$)}),_0x37db54.layoutResizer2.addEventListener("mousedown",e=>{d(e)});let x={};x.passive=!0,_0x37db54.layoutResizer2.addEventListener("touchstart",d,x);try{function h(){let t=_0x37db54.messageContainer.getBoundingClientRect();_0x37db54.messageContainer.style.setProperty("--x9LFHiVqv",Number(e.cpgiv(.6*t.height,24).toFixed(2))+"px"),_0x37db54.messageContainer.style.setProperty(e.NGWYt,Number(e.ByjIe(t.height,.72).toFixed(2))-24+"px")}e.mrZET(h),window.addEventListener(e.XfESs,h)}catch(u){console.log(e.KiCyp)}if(_0x482536=e.WvkyY(setInterval,function(){e.rqDzr(_0x123933),document.body.classList.contains("xYIbDcl9T")&&e.CaxdV(document.activeElement,_0x37db54.messageInput)&&document.body.classList.remove(e.HIJCM)},1e3),_0x37db54.searchInput.removeAttribute("disabled"),_0x37db54.searchInput.focusable(!0),_0x37db54.profileContainer.classList.remove("disabled"),_0x37db54.profileContainer.focusable(!0),localStorage.getItem("cvs")!==_0x421a9c.current){if(_0x25a5de){let _={};_.closeOnEsc=!0,_.closeOnOverlayClick=!0;let b=new _0xefc679(_);b.Overlay.classList.add("x5RtiEC9k"),b.Body.innerHTML='<div class="xa6f2dQXX">'+_0x261bd1.a4+'</div><div class="x68JrA5Ak">'+_0x421a9c.directions+"</div>"}else _0x17483e(_0x261bd1.a4,!0).body.innerHTML='<div class="xeUKJgV96">'+_0x421a9c.directions+"</div>";localStorage.setItem("cvs",_0x421a9c.current)}_0x546715=!0}function _0x1ca588(e){let t={};t.yxDda="&amp;$1",t.WRnLa="&lt;",t.LLzWJ="&nbsp;",t.COhXZ="<br>";let n=t;return e.replace(/&([^;]+)/g,n.yxDda).replaceAll("<",n.WRnLa).replaceAll(">","&gt;").replaceAll(" ",n.LLzWJ).replaceAll("\n",n.COhXZ)}function _0x505534(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x1e52cb="Structure";function _0x219967(e){var t;let n={kLUGr:function(e,t){return e(t)},bjAjM:function(e,t){return e===t},oJyJh:function(e,t,n,i){return e(t,n,i)},pekQN:function(e,t){return e&&t},ElOoE:"true",nwueb:"disabled",vcQEp:function(e,t){return e(t)},SACIV:".x2fP9fkxS.active",hWlFP:"active",MBfsy:"x8VAGH6N2",MJSdy:function(e,t,n,i,a){return e(t,n,i,a)},Gouew:"chats",DrlZb:"desc",iHYBU:"instant",sgWSy:function(e,t){return e(t)},xVOAh:"xZHdsOFDz",ObQDn:"xxnnTDIPC",fqyIX:"assets/avatar.png",Bftec:function(e,t){return e(t)},iRfle:"xlKSJ67AP",jlydx:"xPAY7PmDq",xwYwF:"b20",EWSLr:"xU2hUavXh",VrWJN:"xb4MnocjO",BNvYr:function(e,t){return e==t},vwMSR:"xyS4vzBWG",TbCOV:function(e,t){return e(t)},XTYIQ:function(e,t,n,i){return e(t,n,i)},qKZfX:function(e,t){return e===t},QmfLk:"d12",mwPrU:function(e,t){return e(t)},PcnLm:"horizontal",sXkie:function(e,t,n,i,a){return e(t,n,i,a)},boRpp:function(e,t){return e(t)},uzYNS:function(e,t){return e(t)},JcBNf:"xY17x64dw",mSSkP:"xmiEvp5FV",IDZcg:"bottom-start",NKftx:"bottom-end",HrODN:"top-end",iNDCp:"xoV8hdbgt",EnJdE:"xrQdSHI2A",LnHqI:"xcoXgMpFW",hTYlE:"xUdcoAHYM",tTlbx:"b22",IoCVo:function(e){return e()},byGQT:"x2fP9fkxS",nRCLl:function(e,t){return e(t)},ZIReI:"xQ65c0Nkc",dGUjq:function(e,t){return e(t)},QPCjW:"xQkxrD9ZA",PkKDc:"b18",DhsKm:function(e,t){return e(t)}},i=n.mwPrU(_0x234641,n.byGQT),a=n.nRCLl(_0x234641,n.ZIReI),s=_0x234641("xybvM5cRF"),o=n.kLUGr(_0x234641,"xT3Ta8vKw"),r=n.dGUjq(_0x234641,"x6HyfOZS7"),l=_0x234641(n.QPCjW);async function d(){if(_0x236104!==e.id||n.pekQN(_0x25a5de,!contextOpeneds)){_0x37db54.messageInput.innerHTML="",_0x236104=e.id,_0xf39210._m.length=0,_0x4ba928=_0x37db54.main,_0x3c2464=!0,_0x25a5de&&_0x37db54.sidebar.setAttribute("inert",n.ElOoE),_0x2b3588="";let t=[];e.members.forEach(e=>{n.kLUGr(_0x1bc0ae,e).then(n=>{let i={};i.id=e,i.name=n.name,t.push(i)}).catch(e=>{console.error("取得用户名称时发生错误：",e)})}),_0x1e52cb=(e.name||_0x261bd1.d12)+" - Structure",document.title=_0x1e52cb,_0x37db54.roomNameLabel.innerText=e.name,_0x2bc372.length=0;let a=new URLSearchParams(window.location.search);a.set("r",e.id),window.history.replaceState({},"","?"+a.toString()),_0x37db54.messageContainer.classList.remove("xVjpzmyej"),_0x37db54.fileInput.removeAttribute(n.nwueb),_0x37db54.attachButton.classList.remove("disabled"),_0x37db54.attachButton.focusable(!0),_0x37db54.stickerButton.classList.remove("disabled"),_0x37db54.stickerButton.focusable(!0),_0x37db54.markButton.classList.remove("disabled"),_0x37db54.markButton.focusable(!0),_0x37db54.markButton.classList.remove("x3zdxRXQ6"),_0x3821c7=!1,_0x37db54.brushButton.classList.remove("disabled"),_0x37db54.brushButton.focusable(!0),_0x37db54.messageInput.setAttribute("contenteditable",n.ElOoE),_0x37db54.sidebarOverlay.style.opacity=1,_0x25a5de?(_0x37db54._mb_att_btn.classList.remove(n.nwueb),_0x37db54._mb_att_btn.focusable(!0),_0x37db54.backButton.classList.remove("disabled"),n.vcQEp(_0x59ba18,".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").focusable(!0),_0x37db54.main.classList.add(n.MBfsy)):(n.vcQEp(_0x59ba18,n.SACIV)&&n.kLUGr(_0x59ba18,".x2fP9fkxS.active").classList.remove(n.hWlFP),i.classList.add("active")),_0x37db54.messageInput.setAttribute("contenteditable","true"),_0x37db54.messageInput.focusable(!0),_0x37db54.messageContainer.clear(),(_0x2394d=_0x234641("xqBX9i6rZ")).classList.add("spinner"),_0x2394d.innerHTML=_0x472846,_0x37db54.messageContainer.appendChild(_0x2394d);let s=await m(C(n.MJSdy(h,_0x52f13c,n.Gouew,e.id,"messages"),w("timestamp",n.DrlZb),T(10)));_0x3d2518=s.docs[9];let o=[];s.forEach(e=>{o.push(e)}),0===o.length&&_0x2394d&&(_0x2394d.innerHTML=_0x261bd1.d8),o.reverse(),o.map(e=>{var t=e.data();n.bjAjM(_0x2bc372.indexOf(e.id),-1)&&(t.sender===_0x1309c3?(_0x2bc372.push(e.id),n.oJyJh(_0x1d5f52,t,e.id,"3")):(_0x2bc372.push(e.id),n.oJyJh(_0x2e0149,t,e.id,"3")),_0x2b3588=t)}),_0x22be3e=!0,_0x37db54.messageContainer.scrollTo({top:_0x37db54.messageContainer.scrollHeight,behavior:n.iHYBU}),_0x22be3e=!1,n.sgWSy(_0x21132b,e.id)}}i.bindWithCooldown(d);let c={};c.id=e.id,c.length=e.size,c.name=e.name||_0x261bd1.d9,c.launch=d,c.dom=i,_0x17fa0a.push(c),i.appendChild(a),i.appendChild(r),r.appendChild(l);let $=function(){let t={wIgkX:function(e,t){return n.TbCOV(e,t)},acAPe:"1|2|3|4|5|0",QFDau:function(e,t,i,a){return n.XTYIQ(e,t,i,a)},YSsuB:function(e,t){return n.qKZfX(e,t)},QBPWX:n.QmfLk,nqBFW:"Error while deleting item:",ihmjY:"A5o980bj",vqxvS:"b36",jmTYh:"hide",NzCXc:"xbrV3058R",QBeDY:"disabled",nXVqp:function(e,t){return n.mwPrU(e,t)},RCOPo:function(e,t){return e!==t},DMruL:"xPP6DGDrH",FPKrb:n.PcnLm,smeQl:function(e,t,i,a,s){return n.sXkie(e,t,i,a,s)},vXdiH:n.EWSLr,KGIfn:"xb4MnocjO",KHwFs:function(e,t){return e(t)},gRdRl:"xTOLrzGN6",whfvL:function(e,t){return n.sgWSy(e,t)},bMsTB:function(e,t){return e(t)},WDeAx:"x5FOXvrVK",aGsAR:function(e,t){return n.boRpp(e,t)},MMYUF:function(e,t){return n.uzYNS(e,t)},WsSEW:n.JcBNf,kZiQC:n.mSSkP,KxqwR:"chats",ZpysC:"todos"},a={};a.trigger=l,a.placement=[n.IDZcg,n.NKftx,"top-start",n.HrODN];let s=new _0x2eea8(a);s.Content.classList.add(n.iNDCp);let o=_0x234641(n.EnJdE),r=n.uzYNS(_0x234641,"xrQdSHI2A"),d=_0x234641(n.LnHqI),c=n.TbCOV(_0x234641,n.EnJdE);o.bindWithCooldown(function(){let i={MRxUr:function(e,t){return e(t)},QgzQL:n.xVOAh,frFmL:n.ObQDn,ULzfj:n.fqyIX,AgEGK:"cache-url",FagMn:function(e,t){return n.Bftec(e,t)},knfYY:function(e,t){return e(t)},yqHnB:n.iRfle};s.close();let a=_0x234641(n.jlydx),o;if(_0x25a5de){let r={};r.parent=_0x37db54.sidebar,r.title=_0x261bd1[n.xwYwF],(o=new _0x16e0d5(r)).Content.classList.add(n.EWSLr),o.Content.appendChild(a)}else(o=_0x17483e(_0x261bd1[n.xwYwF],!0)).content.classList.add("lg"),o.content.classList.add(n.VrWJN),o.body.appendChild(a);function l(e){t.wIgkX(_0x1bc0ae,e).then(e=>{let t={LDNse:function(e,t,n){return e(t,n)},ANCgf:"mobile"},n=i.MRxUr(_0x234641,"xScefCkPw"),s=_0x234641(i.QgzQL),r=document.createElement("img");r.classList.add(i.frFmL),r.src=e.avatarUrl||i.ULzfj,r.draggable=!1,r.loading="lazy";let l={};l.action=i.AgEGK,l.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(l),s.appendChild(r);let d=i.FagMn(_0x234641,"xs8tjkwHJ"),c=_0x234641("xt4GQkVIo"),$=i.knfYY(_0x234641,i.yqHnB);c.innerText=e.name,$.innerText=e.qid||e.id,n.focusable(!0),d.appendChild(c),d.appendChild($),n.appendChild(s),n.appendChild(d),n.bindWithCooldown(function(){if(_0x25a5de)t.LDNse(_0xd9965d,o.Root,{data:e,type:t.ANCgf});else{o.root.close();let n={};n.data=e,n.type="desktop",t.LDNse(_0xd9965d,_0x37db54.main,n)}}),a.appendChild(n)}).catch(e=>{console.error(e)})}let d=0;e.members.forEach(e=>{d++,i.FagMn(l,e)}),n.BNvYr(d,1)&&a.classList.add(n.vwMSR)}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0x261bd1.b21,o.classList.add(n.hTYlE),[o,r,c].forEach(e=>{e.focusable(!0)}),c.bindWithCooldown(function(){let n={TDhCk:t.acAPe,qkWXO:function(e,n,i,a){return t.QFDau(e,n,i,a)},LjmaB:"users",rAFnQ:function(e,t,n){return e(t,n)},RhMXr:function(e,t){return e(t)},YITTI:function(e,n){return t.YSsuB(e,n)},OKEdY:t.QBPWX,JgWvO:t.nqBFW};s.close(),new _0x36f060({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0x261bd1.b34,message:_0x261bd1.b33,buttons:[{text:_0x261bd1.b35,classList:[t.ihmjY]},{text:_0x261bd1[t.vqxvS],classList:["xTJA9U7y9"],onClick:async function(){let t=_0x17fa0a.findIndex(t=>t.id===e.id);if(-1!==t)try{let a=n.TDhCk.split("|"),s=0;for(;;){switch(a[s++]){case"0":0===_0x17fa0a.length&&(_0x37db54.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x261bd1.d13+"</div>");continue;case"1":await k(n.qkWXO(_,_0x52f13c,n.LjmaB,_0x1309c3),{joined:L(e.id)});continue;case"2":await n.rAFnQ(k,n.qkWXO(_,_0x52f13c,"chats",e.id),{members:n.RhMXr(L,_0x1309c3)});continue;case"3":_0x17fa0a.splice(t,1);continue;case"4":i.remove();continue;case"5":n.YITTI(_0x236104,e.id)&&(_0x236104=null,_0x37db54.roomNameLabel.innerText=_0x261bd1[n.OKEdY],_0x37db54.messageContainer.clear());continue}break}}catch(o){console.error(n.JgWvO,o)}}}]})}),s.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12 6m-7 0a7 3 0 1 0 14 0a7 3 0 1 0 -14 0" /><path d="M5 6v12c0 1.657 3.134 3 7 3s7 -1.343 7 -3v-12" /></svg>'+_0x261bd1[n.tTlbx],r.bindWithCooldown(async function(){let n={FErtU:t.QBeDY,haKmC:"chats",cRZCM:"todos",RJyxq:function(e,n){return t.nXVqp(e,n)},duXFA:function(e){return e()},iwdNw:function(e,n){return t.RCOPo(e,n)},KIlsa:function(e,n){return t.RCOPo(e,n)},VHDRg:"xGGKUZ7B3",rdMal:"input",fGZqC:"x40AApYkW",PNBZo:"xA9JMbz3o",ScuCf:function(e,n){return t.YSsuB(e,n)},TRSqu:"pink",bBubq:function(e,n){return t.nXVqp(e,n)},FzicQ:function(e,t,n){return e(t,n)},ipoTa:t.DMruL,ScYTA:"xxChbQgko",larHQ:function(e,t){return e(t)},iPOjD:t.FPKrb,NbFmb:function(e,n,i,a,s){return t.smeQl(e,n,i,a,s)}};s.close();let i,a=_0x234641("xtx2Cn8cK"),o=_0x234641("xNu1Upzh6");if(_0x25a5de){let r={};r.parent=_0x37db54.sidebar,r.title=_0x261bd1.b37,(i=new _0x16e0d5(r)).Content.classList.add("x6q2Zh2QF"),i.Content.classList.add(t.vXdiH),i.Content.appendChild(a)}else(i=_0x17483e(_0x261bd1.b37,!0)).content.classList.add(t.KGIfn),i.content.classList.add("lg"),i.body.appendChild(a);let l=t.KHwFs(_0x42d67b,[]);function d(t,a){let s={eMlUy:function(e,t){return e!==t},Qehun:function(e,t){return n.iwdNw(e,t)},UUymp:function(e,t){return e!==t},RKLLn:function(e,t){return n.KIlsa(e,t)},UZOBS:n.FErtU,nqFdr:n.haKmC,mNaGJ:"d10",ywNDd:"xOjXmYkxE",IsvkN:n.VHDRg,PTOyg:function(e,t){return e(t)},kTTAv:"label",jNMao:"xYvZ9WF6d",tpkOc:"textarea",tyFZU:function(e,t){return e(t)},MoAGF:"x9ZwavJjj",EKrOG:n.rdMal,uDkRq:"xF37V7xd0",LBsnV:"b40",hnNhw:"time",TdUhz:function(e,t){return e(t)},xJbBr:n.fGZqC},r=_0x234641("xTIlpY4Et"),d=_0x234641(n.PNBZo);r.appendChild(d),n.ScuCf(t.theme,n.TRSqu)&&d.classList.add("x0eVQzH93");let c=_0x234641("xHxVtIAsn");r.appendChild(c);let $=n.bBubq(_0x234641,"xt4GQkVIo");$.innerHTML=t.name||_0x261bd1.d9,c.appendChild($);let x=n.RJyxq(_0x234641,"xHQ4s8VGa");n.FzicQ(_0xeb7706,x,t.description||"忘記加上描述了"),c.appendChild(x);let h=_0x1508a9(t.startAt,t.endAt),u=_0x234641(n.ipoTa);u.innerText=h,r.appendChild(u);let p=_0x234641(n.ScYTA),f=n.larHQ(_0x234641,"xaTPzRSCY");f.innerHTML=_0x22abef.edit,f.focusable(!0);let m=n.larHQ(_0x234641,"xaTPzRSCY");m.innerHTML=_0x22abef.trash,m.focusable(!0),_0x42d67b([f,m],n.iPOjD),m.bindWithCooldown(async function(){r.classList.add(n.FErtU);try{m.focusable(!1),m.classList.add("disabled"),f.focusable(!1),f.classList.add("disabled"),await n.RJyxq(b,_(_0x52f13c,n.haKmC,e.id,n.cRZCM,a)),console.log("已成功刪除行程："+a),r.remove(),l.removeItem(r)}catch(t){m.focusable(!0),m.classList.remove(n.FErtU),f.focusable(!0),f.classList.remove("disabled"),console.error("刪除失敗：",t),r.classList.remove("disabled")}}),p.appendChild(f),p.appendChild(m),r.appendChild(p),r.focusable(!0),l.addItem(r),o.appendChild(r);let v={};v.name=t.name||"未知",v.startAt=t.startAt||17356608e5,v.endAt=t.endAt||17356608e5,v.description=t.description||"";let g=v;function C(){let n={mLsmz:s.UZOBS,bLfce:function(e,t,n,i,a,s){return e(t,n,i,a,s)},SQUOv:s.nqFdr,HgQBj:"todos",OedBx:s.mNaGJ},o=_0x17483e(_0x261bd1.b41,!0,i.Root);o.root.Overlay.classList.add(s.ywNDd);let r=_0x234641(s.IsvkN),l="_"+s.PTOyg(_0x15d911,12),d=document.createElement(s.kTTAv),c=document.createElement("input");d.classList.add("xF37V7xd0"),c.classList.add(s.jNMao),d.htmlFor=l,d.textContent=_0x261bd1.b38,c.id=l,c.type="text",c.value=g.name,c.maxLength=30,r.appendChild(d),r.appendChild(c);let h=_0x234641("xGGKUZ7B3"),u="_"+_0x15d911(12),b=document.createElement("label"),p=document.createElement(s.tpkOc);b.classList.add("xF37V7xd0"),p.classList.add("xGuwEx6qN"),b.htmlFor=u,b.textContent=_0x261bd1.b3,p.id=u,p.rows=3,p.value=g.description,p.maxLength=80,h.appendChild(b),h.appendChild(p);let f=_0x234641(s.IsvkN);f.classList.add("xFJWlqoGn");let m="_"+_0x15d911(12),v=document.createElement(s.kTTAv),C=s.tyFZU(_0x234641,s.MoAGF),w=document.createElement(s.EKrOG),y=document.createElement(s.EKrOG);v.classList.add(s.uDkRq),w.classList.add(s.jNMao),v.htmlFor=m,v.textContent=_0x261bd1.b39,w.type="date",w.id=m,y.classList.add("xYvZ9WF6d"),y.type="time";let L="_"+_0x15d911(12),T=_0x234641("x9ZwavJjj"),M=document.createElement(s.kTTAv),E=document.createElement("input"),I=document.createElement(s.EKrOG);M.classList.add(s.uDkRq),E.classList.add(s.jNMao),M.htmlFor=L,M.textContent=_0x261bd1[s.LBsnV],E.id=L,E.type="date",I.classList.add("xYvZ9WF6d"),I.type=s.hnNhw;let B=s.TdUhz(_0x234641,s.IsvkN),W=_0x234641(s.xJbBr);W.classList.add("xwtdXtpQT"),W.textContent=_0x261bd1.b6,W.classList.add(s.UZOBS);let H={};function S(){s.eMlUy(c.value.trim(),"")&&w.value&&y.value&&E.value&&I.value&&(s.Qehun(c.value,H._z)||w.value!==H._a||s.UUymp(y.value,H._b)||E.value!==H._c||s.RKLLn(I.value,H._d)||p.value!==H._y)?(W.focusable(!0),W.classList.remove(s.UZOBS)):(W.focusable(!1),W.classList.add("disabled"))}H._z=t.name,H._y=t.description;let A=[c,w,y,E,I,p];if(A.forEach(e=>{e.oninput=S}),W.bindWithCooldown(async function(){W.classList.add(n.mLsmz),W.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let t=new Date(w.value+"T"+y.value).getTime(),i=new Date(E.value+"T"+I.value).getTime(),s=c.value,r=p.value;A.forEach(e=>{e.setAttribute("disabled",!0)});let l=n.bLfce(_,_0x52f13c,n.SQUOv,e.id,n.HgQBj,a);try{let d={};d.endAt=i,d.startAt=t,d.name=s,d.description=r,await k(l,d),g.name=s,g.description=r,g.startAt=t,g.endAt=i,$.innerHTML=g.name,_0xeb7706(x,g.description||_0x261bd1[n.OedBx]),console.log("已成功更新行程："+a),o.root.close()}catch(h){console.error("更新失敗：",h),A.forEach(e=>{e.classList.remove("disabled")})}}),C.appendChild(v),C.appendChild(w),C.appendChild(y),T.appendChild(M),T.appendChild(E),T.appendChild(I),o.body.appendChild(r),o.body.appendChild(h),o.body.appendChild(f),o.body.appendChild(B),f.appendChild(C),f.appendChild(T),B.appendChild(W),g.startAt){let D=new Date(g.startAt),R=new Date(g.startAt).toISOString().split("T")[0];console.log(R);let O=D.toTimeString().split(":").slice(0,2).join(":");console.log(R),H._a=R,H._b=O,w.value=R,y.value=O}if(g.endAt){let Y=new Date(g.endAt),X=new Date(g.endAt).toISOString().split("T")[0],z=Y.toTimeString().split(":").slice(0,2).join(":");H._c=X,H._d=z,E.value=X,I.value=z}S(),c.focus()}f.bindWithCooldown(function(e){e.stopPropagation(),n.duXFA(C)})}a.appendChild(o);let c=_0x234641(t.gRdRl);a.appendChild(c);let $=_0x234641("xCgVOK4ur");c.appendChild($);let x=t.whfvL(_0x234641,"xtG9t2xuE"),p=t.bMsTB(_0x234641,t.WDeAx),f=t.aGsAR(_0x234641,t.WDeAx),v=_0x234641("x7ho7YfuM");x.appendChild(p),x.appendChild(f),x.appendChild(v);let g=!1;p.innerText=_0x261bd1.c1,f.innerText=_0x261bd1.c2,x.focusable(!0),$.appendChild(x);let w=t.MMYUF(_0x234641,t.WsSEW);w.classList.add(t.kZiQC),w.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',w.focusable(!0),x.bindWithCooldown(function(){g?(w.classList.remove(t.jmTYh),o.classList.remove(t.NzCXc),x.classList.remove("xHCo3rIZ7"),g=!1):(w.classList.add("hide"),o.classList.add(t.NzCXc),x.classList.add("xHCo3rIZ7"),g=!0)},0),w.bindWithCooldown(async function(){let t=n.larHQ(_,n.NbFmb(h,_0x52f13c,"chats",e.id,n.cRZCM)),i={name:"新的行程",description:"",startAt:Date.now(),endAt:Date.now()};await u(t,i),n.FzicQ(d,i,t.id)},1e3),$.appendChild(w),o.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x472846+"</div>";let y=await m(C(h(_0x52f13c,t.KxqwR,e.id,t.ZpysC)));o.innerHTML='<div class="xmBX2cWRZ">'+_0x261bd1.d14+"</div>",0!==y.docs.length&&y.forEach(e=>{d(e.data(),e.id)})}),s.Content.appendChild(r),s.Content.appendChild(d),c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0x261bd1.b23,c.classList.add("xGy5QqsmI"),s.Content.appendChild(c),_0x42d67b([o,r,c]),s._setPosition()};if(l.bindWithCooldown(function(e){e.stopPropagation(),n.IoCVo($)}),l.focusable(!0),i.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',a.appendChild(s),s.innerText=e.name||_0x261bd1.a2,t=e.description?e.description:0===e.size?_0x261bd1.b19:_0x261bd1[n.PkKDc].replace("$0",n.DhsKm(_0x505534,e.size)),o.innerText=t,a.appendChild(o),_0x37db54.primaryArea.appendChild(i),e.focus){d();let x={};x.behavior="smooth",x.block="center",x.inline="nearest",i.scrollIntoView(x)}}function _0x385e82(e){let t={};t.RaXjk=function(e,t){return e-t},t.TjweP="a18",t.BTYAt=function(e,t){return e/t},t.YXfJN=function(e,t){return e<t},t.ojOEM="a21",t.yQnNv="a23",t.GAxGw=function(e,t){return e/t},t.aHpDM="a22";let n=t,i=Math.max(Math.floor(n.RaXjk(Date.now(),e)/1e3),0);return i<60?_0x261bd1[n.TjweP].replace("$0",i):i<3600?_0x261bd1.a20.replace("$0",Math.floor(n.BTYAt(i,60))):n.YXfJN(i,86400)?_0x261bd1[n.ojOEM].replace("$0",Math.floor(n.BTYAt(i,3600))):n.YXfJN(i,2592e3)?_0x261bd1[n.yQnNv].replace("$0",Math.floor(i/86400)):n.YXfJN(i,31536e3)?_0x261bd1.a19.replace("$0",Math.floor(n.GAxGw(i,2592e3))):_0x261bd1[n.aHpDM].replace("$0",_0x505534(Math.floor(i/31536e3)))}function _0x510f40(e){let t={};t.QJAzb=function(e,t){return e>=t};let n=t,i=["B","KB","MB","GB","TB","PB"],a=e,s=0;for(;n.QJAzb(a,1024)&&s<i.length-1;)a/=1024,s++;return a.toFixed(2)+" "+i[s]}async function _0x5c055e(e,t){let n={azOlc:function(e,t,n,i){return e(t,n,i)},eFyRB:function(e,t,n){return e(t,n)},DMive:"Failed to update user profile:"};try{let i=n.azOlc(_,_0x52f13c,"users",e);if(t){await n.eFyRB(k,i,t),_0x1accb4[e]&&(_0x1accb4[e]={..._0x1accb4[e],...t});let a=sessionStorage.getItem("upf_"+e);if(a){let s={...JSON.parse(a),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(s))}}else delete _0x1accb4[e],sessionStorage.removeItem("upf_"+e);return!0}catch(o){return console.error(n.DMive,o),!1}}async function _0x1bc0ae(e){let t={};if(t.BDHzj="users",_0x1accb4[e])return _0x1accb4[e];let n=sessionStorage.getItem("upf_"+e);if(n){let i=JSON.parse(n);return _0x1accb4[e]=i,i}try{let a=await p(_(_0x52f13c,t.BDHzj,e));if(!a.exists())return null;{let s=a.data();return _0x1accb4[e]=s,sessionStorage.setItem("upf_"+e,JSON.stringify(s)),s}}catch(o){throw o}}async function _0x60a1ee(e){if(_0x34cbcf[e])return _0x34cbcf[e];let t=sessionStorage.getItem("rpf_"+e);if(t){let n=JSON.parse(t);return _0x34cbcf[e]=n,n}try{let i=await p(_(_0x52f13c,"chats",e));if(!i.exists())return null;{let a=i.data();return _0x1accb4[e]=a,sessionStorage.setItem("rpf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x375f92(e,t){let n={kxiPS:function(e,t){return e===t},rEnCk:function(e,t,n,i){return e(t,n,i)},hUerQ:function(e,t){return e!==t},YjqXu:function(e,t,n,i,a){return e(t,n,i,a)},niJny:"messages",baVIg:"timestamp",ixxkh:"desc",rTTXK:function(e,t){return e(t)},alPIf:function(e,t){return e===t},BRaqw:function(e,t){return e===t},QWxAX:function(e,t){return e(t)},vPaKg:function(e,t){return e/t}};if(n.hUerQ(_0x3d2518,void 0)){_0x22be3e=!0;let i=await m(n.YjqXu(C,h(_0x52f13c,"chats",e,n.niJny),w(n.baVIg,n.ixxkh),n.rTTXK(v,_0x3d2518),T(10)));if(console.log(i.docs.length+" messages left"),n.alPIf(i.docs.length,0))return;_0x3d2518=n.BRaqw(i.docs.length,10)?i.docs[9]:void 0;let a=[];i.forEach(e=>{a.push(e)}),a.reverse();let s=0;_0x449dee=n.QWxAX(_0x234641,"xWIHJooz8"),_0x2b3588="";let o=_0x37db54.messageContainer.firstChild;_0x37db54.messageContainer.insertBefore(_0x449dee,o);let r=_0x37db54.messageContainer.scrollHeight;a.map(e=>{s++;let t=e.data();-1===_0x2bc372.indexOf(e.id)&&(n.kxiPS(t.sender,_0x1309c3)?(_0x2bc372.push(e.id),_0x1d5f52(t,e.id,"2")):(_0x2bc372.push(e.id),n.rEnCk(_0x2e0149,t,e.id,"2")),_0x2b3588=t)}),_0x22be3e=!0,_0x4fedc4=_0x37db54.messageContainer.scrollHeight-r,console.log("觸發前："+_0x37db54.messageContainer.scrollTop+"\n觸發時間："+n.vPaKg(Date.now(),1e3)+"\n高度："+_0x4fedc4);let l={};l.top=_0x4fedc4,l.left=0,l.behavior="instant",_0x37db54.messageContainer.scrollTo(l),_0x4fedc4=0,setTimeout(function(){_0x22be3e=!1},1e3)}else _0x22be3e=!1}function _0x1508a9(e,t){let n={};n.kNzBA=function(e,t){return e<t},n.RyMcX=function(e,t){return e-t},n.JeTdX=function(e,t){return e*t};let i=n,a=new Date,s=new Date(e),o=new Date(t);if(i.kNzBA(o,s))return _0x261bd1.f8;if(a>o)return _0x261bd1.f7;let r=i.kNzBA(a,s)?s:o,l=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),d=l(r),c=l(a),$=Math.floor(i.RyMcX(d,c)/i.JeTdX(36e5,24)),x;switch($){case -1:x=_0x261bd1.f4;break;case 0:x=_0x261bd1.f2;break;case 1:x=_0x261bd1.f3;break;default:x=$>0?_0x261bd1.f6.replace("$0",$):_0x261bd1.f5.replace("$0",Math.abs($))}return x}let _0x2bf6e5='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x21132b(e){let t={RMucF:function(e,t){return e===t},oDRfr:function(e,t){return e(t)},sUBiQ:"An unknown error occurred",liRLV:function(e,t,n,i){return e(t,n,i)},lnKuC:function(e,t,n,i,a){return e(t,n,i,a)},ofptj:"messages"};if(_0x41c115[e]){console.log("Listener for "+e+" already exists.");return}let n=t.liRLV(g,t.lnKuC(h,_0x52f13c,"chats",e,t.ofptj),n=>{let i={oMsQq:function(e,n){return t.RMucF(e,n)},QxxuO:function(e,t,n,i){return e(t,n,i)},dKDEl:"removed",Gffkv:function(e,n){return t.oDRfr(e,n)},SOqxv:"{sid}",SsrLf:function(e,t,n){return e(t,n)},kPzWM:"找不到匹配的訊息容器",VIKJR:"修改訊息時發生未知錯誤"};n.docChanges().forEach(t=>{if(_0x236104!==e)return;let n=t.doc.data();switch(t.type){case"added":i.oMsQq(_0x2bc372.indexOf(t.doc.id),-1)&&!t.doc.metadata.fromCache&&("hidden"===document.visibilityState&&(_0x59d1f9++,document.title="("+_0x59d1f9+") "+_0x1e52cb),console.log(_0x2bc372.indexOf(t.doc.id)),_0x2bc372.push(t.doc.id),n.sender===_0x1309c3?i.QxxuO(_0x1d5f52,n,t.doc.id,"3"):_0x2e0149(n,t.doc.id,"3"));break;case i.dKDEl:let a=i.Gffkv(_0x59ba18,_0x2bf6e5.replace("{sid}",t.doc.id));try{a.classList.add("xl4gtQk5f"),setTimeout(function(){a.remove()},3e3)}catch(s){console.log(s)}break;case"modified":try{let o=i.Gffkv(_0x59ba18,_0x2bf6e5.replace(i.SOqxv,t.doc.id)).querySelector(".xMyW2iRSH");o?(o.clear(),i.SsrLf(_0x547bd7,o,n)):console.log(i.kPzWM)}catch(r){console.log(i.VIKJR,r)}}})},e=>{console.error(t.sUBiQ,e)});_0x41c115[e]=n}function _0x4c029e(){let e={fYiaH:"xA7y7OLtP",xdMqi:"b14",JFkNG:"auth/invalid-email",kasZF:"b15",LJOPD:"b17",OnHfG:"disabled",NbNvA:function(e,t){return e===t},ZsNVK:"2|3|0|1|4|5",BVqDd:"xrYn5ZY3v",DYFpY:"x4V8Jejrz",tKVMG:function(e,t){return e(t)},KUecw:"xRRuA0Z3S",CfXTm:"div",RwJdt:"x7BYgkdiJ",NBkts:"b11",tPpgq:"actionbtn xYIKBnbHS",xlYSQ:"b12",qGeUh:"xZyuwxZPZ",DUPlg:"x6Y89FynP",NXKyO:"b27",AQKjo:"b24",OtRvs:"input",jHisO:"off",GodET:"xGGKUZ7B3",GptUr:"10px",eXdxA:"5px",WxNcm:"xF37V7xd0",fmffD:"b25",ZbgsK:"xYvZ9WF6d",yBGos:"password",XPBHx:"xPT7rhLdL",JVhSa:"b13"},t=_0x234641(e.BVqDd);t.innerText=_0x261bd1.b8;let a=_0x234641(e.DYFpY);a.innerText=_0x261bd1.b9;let o=e.tKVMG(_0x234641,e.KUecw),r=document.createElement(e.CfXTm);r.id=e.RwJdt,r.focusable(!0);let l='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0x261bd1[e.NBkts],d='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0x261bd1.b10+"</span>\n						</div>";r.innerHTML=l;let c=document.createElement(e.CfXTm);c.focusable(!0),c.id="xBnuWNG6V",c.className=e.tPpgq,r.className=e.tPpgq,c.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0x261bd1[e.xlYSQ],o.appendChild(r),o.appendChild(c);let $=new _0x18c2dc;$.Content.classList.add("bt"),$.Root.classList.add("xCmJYJQtp"),$.Content.classList.add("xySmLVr4a"),$.Content.appendChild(t),$.Content.appendChild(a),$.Content.appendChild(o);let x=_0x234641("xrYn5ZY3v");x.classList.add("lf"),x.classList.add("gc");let h=_0x234641(e.qGeUh);h.focusable(!0),h.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',x.appendChild(h);let u=e.tKVMG(_0x234641,e.DUPlg);u.innerText=_0x261bd1[e.NXKyO],x.appendChild(u);let _=e.tKVMG(_0x234641,"xWDUelLWA");_.classList.add("xwxpzc3QF"),$.Content.appendChild(x),$.Content.appendChild(_);let b=document.createElement("div");_.appendChild(b),b.classList.add("xZdL9CF5M");let p=document.createElement("div");p.classList.add("xGGKUZ7B3"),b.appendChild(p);let f=document.createElement("label");f.classList.add("xF37V7xd0"),f.innerText=_0x261bd1[e.AQKjo],p.appendChild(f);let m=document.createElement(e.OtRvs);m.classList.add("xYvZ9WF6d"),m.autocomplete=e.jHisO,m.type="text",m.disabled=!0,m.spellcheck=!1,p.appendChild(m);let v=document.createElement(e.CfXTm);v.classList.add(e.GodET),v.style.marginTop=e.GptUr,v.style.marginBottom=e.eXdxA,b.appendChild(v);let g=document.createElement("label");g.classList.add(e.WxNcm),g.innerText=_0x261bd1[e.fmffD],v.appendChild(g);let C=document.createElement(e.OtRvs);C.classList.add(e.ZbgsK),C.type=e.yBGos,C.disabled=!0,C.autocomplete="off",v.appendChild(C);let w=document.createElement(e.CfXTm);w.classList.add("xw0IanPrC"),b.appendChild(w);let y=document.createElement(e.CfXTm);y.innerText=_0x261bd1.b26,y.classList.add("disabled"),y.classList.add("x40AApYkW"),b.appendChild(y);let L=_0x234641(e.XPBHx);L.focusable(!0),L.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M9 14l-4 -4l4 -4" /><path d="M5 10h11a4 4 0 1 1 0 8h-1" /></svg>'+_0x261bd1[e.JVhSa],L.bindWithCooldown(function(){$.Content.classList.remove(e.fYiaH),y.classList.add("disabled"),y.focusable(!1),m.disabled=!0,C.disabled=!0}),b.appendChild(L),h.bindWithCooldown(function(){$.Content.classList.remove(e.fYiaH),y.classList.add("disabled"),y.focusable(!1),m.disabled=!0,C.disabled=!0});let k=!0,T=function(){let t={};t.ncshX=e.xdMqi,t.WWmaa=e.JFkNG,t.aaAAM=e.kasZF,t.IxglN="b16",t.clmdL=e.LJOPD,t.xrnjv=e.OnHfG;let n=t;k&&(k=!1,h.classList.add("disabled"),h.focusable(!1),w.classList.remove("show"),y.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,C.disabled=!0,y.classList.add("disabled"),y.focusable(!1),y.blur(),L.classList.add(e.OnHfG),L.focusable(!1),s(_0x306616,m.value,C.value).then(e=>{try{$.close(),α.close()}catch(t){}let n=e.user;console.log("User is logged in: ",n)}).catch(e=>{setTimeout(function(){let t=e.code;switch(w.classList.add("show"),t){case"auth/invalid-login-credentials":w.innerText=_0x261bd1[n.ncshX];break;case n.WWmaa:w.innerText=_0x261bd1[n.aaAAM];break;case"auth/network-request-failed":w.innerText=_0x261bd1[n.IxglN];break;default:w.innerText=_0x261bd1[n.clmdL]}y.innerHTML=_0x261bd1.b26,y.classList.remove("disabled"),y.focusable(!0),L.classList.remove(n.xrnjv),L.focusable(!0),m.disabled=!1,C.disabled=!1,h.classList.remove(n.xrnjv),h.focusable(!0),k=!0},3e3)}))};C.onkeydown=function(e){13===e.keyCode&&T()},y.bindWithCooldown(T),r.bindWithCooldown(function(){r.classList.add(e.OnHfG),c.classList.add("disabled"),r.innerHTML=d,r.focusable(!1),c.focusable(!1),n(_0x306616,_0x26eb4b).then(e=>{let t={};t.EUlVQ="無法設置";let n=t;i.credentialFromResult(e).accessToken,_0x1bc0ae(_0x1309c3=e.user.uid).then(e=>{try{_0x4293a7(e.avatarUrl,e.name,e.qid||e.id)}catch(t){console.error(n.EUlVQ)}$.close()}).catch(e=>{console.error(e)})}).catch(t=>{e.NbNvA(t.code,"auth/popup-closed-by-user")&&(r.classList.remove(e.OnHfG),c.classList.remove("disabled"),r.focusable(!0),c.focusable(!0),r.innerHTML=l)})}),c.bindWithCooldown(function(){let t=e.ZsNVK.split("|"),n=0;for(;;){switch(t[n++]){case"0":C.disabled=!1;continue;case"1":y.focusable(!0);continue;case"2":$.Content.classList.add(e.fYiaH);continue;case"3":m.disabled=!1;continue;case"4":y.classList.remove(e.OnHfG);continue;case"5":m.focus();continue}break}})}function _0x4e3eaa(e="",t="",...n){let i={miXDY:function(e,t){return e!==t},xpKka:function(e,t){return e!==t},TJyyi:function(e,t){return e===t},sTsQr:"disabled",XoqxF:function(e,t,n,i){return e(t,n,i)},OojHD:"users",TlDDk:function(e,t,n){return e(t,n)},tkKhs:function(e,t){return e(t)},xbYis:"xrYn5ZY3v",jeekC:function(e,t){return e(t)},MmcXn:"hidden",FzrkT:"file",PLVMt:"xGGKUZ7B3",RMAcK:"label",YGtCy:"xF37V7xd0",ZagLZ:"text",AJsMI:"off",ZKOIx:function(e,t){return e(t)}},a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x18c2dc(a);s.Root.classList.add("xMCbxIsn5"),s.Content.style.padding="0";let o=i.tkKhs(_0x234641,i.xbYis);o.classList.add("lf");let r=_0x234641("x6Y89FynP");r.innerText=_0x261bd1.b5,o.appendChild(r);let l=i.jeekC(_0x234641,"xvb5soWNa");l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',s.close=s.close.bind(s),l.bindWithCooldown(s.close),o.appendChild(l),s.Content.appendChild(o);let d=_0x234641("xWDUelLWA");s.Content.appendChild(d);let c=document.createElement("input");c.setAttribute(i.MmcXn,"true"),c.id="_Jy2eOVG7",c.type=i.FzrkT;let $=_0x234641(i.PLVMt),x=document.createElement(i.RMAcK);x.innerText=_0x261bd1.b4,x.classList.add(i.YGtCy),x.htmlFor="_rJvAjH9O";let h=document.createElement("input");h.value=e,h.classList.add("xYvZ9WF6d"),h.id="_rJvAjH9O",h.type=i.ZagLZ,h.maxLength="20",h.autocomplete=i.AJsMI,h.spellcheck=!1,d.appendChild($),$.appendChild(x),$.appendChild(h);let b=_0x234641(i.PLVMt),f=document.createElement(i.RMAcK);f.innerText=_0x261bd1.b3,f.classList.add("xF37V7xd0"),f.htmlFor="_fM6Qcf9q";let m=document.createElement("textarea");m.maxLength="80",m.value=t,m.classList.add("xGuwEx6qN"),m.id="_fM6Qcf9q",m.rows="3",m.maxLength="50",m.autocomplete="off",m.spellcheck=!1,d.appendChild(b),b.appendChild(f),b.appendChild(m);let v=i.ZKOIx(_0x234641,"x40AApYkW");function g(){i.miXDY(m.value,t)||i.xpKka(h.value,e)?(v.classList.remove("disabled"),v.focusable(!0)):(v.classList.add("disabled"),v.focusable(!1))}async function C(){v.classList.add(i.sTsQr),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),h.disabled=!0,m.disabled=!0,c.disabled=!0;let e=h.value,t=m.value.trim();if((await p(i.XoqxF(_,_0x52f13c,i.OojHD,_0x1309c3))).exists()){let n={};n.name=e,n.signature=t,await i.TlDDk(_0x5c055e,_0x1309c3,n)}else await u(i.XoqxF(_,_0x52f13c,i.OojHD,_0x1309c3),{name:e,signature:t,id:_0x1309c3,joined:[],deviceInfo:""}),_0x37db54.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x261bd1.d7+"</div>";_0x37db54.nameLabel.innerText=e,_0xf39210.state&&(_0xf39210._n=e,_0xf39210._a.innerText=e,_0xf39210._b.innerHTML=_0x163625(_0x1ca588(t))||_0x261bd1.d10,_0xf39210._m.forEach(t=>{i.TJyyi(t.userId,_0x1309c3)&&(t.dom.textContent="@"+e)})),s.close()}v.innerText=_0x261bd1.b7,v.classList.add("disabled"),v.style.marginTop="0",d.appendChild(v),m.oninput=g,h.oninput=g,v.bindWithCooldown(C),h.focus()}async function _0x2c74fe(e,t){let n=await m(h(_0x52f13c,"chats",e.id,"messages"));if(!_0x17fa0a.some(t=>t.id===e.id)){let i={};i.name=e.name,i.id=e.id,i.type=e.type,i.tag=e.tag,i.description=e.description,i.size=n.size,i.members=e.members,i.focus=t,i.identity=e.identity,_0x219967(i)}}async function _0x232d93(){let e={xygcS:function(e,t){return e(t)},rwLAM:"Error fetching document for ID:",WEvSl:"xuGldtFot",xOwqz:function(e,t){return e(t)},pCOLC:function(e,t,n,i){return e(t,n,i)},alxmH:"users",LMXoH:"d13"};_0x37db54.primaryArea.classList.add(e.WEvSl);let t=(await e.xOwqz(p,e.pCOLC(_,_0x52f13c,e.alxmH,_0x1309c3))).data(),n=new URLSearchParams(window.location.search).get("r");(t.joined||[]).length>0?t.joined.map(async t=>{try{e.xygcS(_0x60a1ee,t).then(async e=>{let i={};i.id=t,i.name=e.name,i.type=e.type,i.tag=e.tag,i.plugins=e.plugins,i.members=e.members,i.description=e.description,i.identity=e.identity,_0x2c74fe(i,n===t)})}catch(i){console.error(e.rwLAM,t,i)}}):_0x37db54.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x261bd1[e.LMXoH]+"</div>"}a(_0x306616,e=>{let t={CIEow:function(e){return e()}};e?(_0x1bc0ae(_0x1309c3=e.uid).then(e=>{if(!e){t.CIEow(_0x4e3eaa);return}_0x4293a7(e.avatarUrl,e.name,e.qid||e.id)}).catch(e=>{console.error(e),t.CIEow(_0x4293a7)}),_0x497629()):(_0x1309c3="",t.CIEow(_0x4c029e))});let _0x1e126a={};_0x1e126a.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x1e126a.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x1e126a.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x1e126a.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x1e126a.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x40f7d6=_0x1e126a;function _0x123933(){let e={Bepsi:function(e,t){return e!==t},qAUdJ:function(e,t){return e<=t},OPVcQ:function(e,t){return e(t)}},t=_0x37db54.messageContainer.scrollTop;""!==_0x1309c3&&e.Bepsi(_0x236104,"")&&!_0x22be3e&&e.qAUdJ(t,0)&&e.OPVcQ(_0x375f92,_0x236104)}function _0x34796a(){let e={};e.ghuoS="inert",e.Jxxlx="disabled",e.fKEKD="x8VAGH6N2",e.YOAil="Structure",e.PzDxl="contenteditable";let t=e;_0x3c2464=!1,_0x37db54.sidebar.removeAttribute(t.ghuoS),_0x4ba928=_0x37db54.sidebar,_0x37db54.backButton.classList.add(t.Jxxlx),_0x37db54._mb_att_btn.classList.add("disabled");let n=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x37db54.main.classList.remove(t.fKEKD),_0x22be3e=!0,_0x37db54.messageContainer.clear(),_0x22be3e=!1,_0x236104="",_0x1e52cb=t.YOAil,document.title=_0x1e52cb,_0x37db54.messageInput.clear(),_0x37db54.messageInput.setAttribute(t.PzDxl,"true"),_0x37db54.messageInput.focusable(!1),_0x37db54.sendButton.classList.add(t.Jxxlx),_0x37db54.sendButton.focusable(!1)}_0x37db54.fileInput.onchange=async function(e){let t={wWSZM:function(e,t){return e/t},qMJGv:"b45",uBJGr:"{u}",ywppv:function(e,t){return e(t)},iXoCm:function(e,t,n,i,a){return e(t,n,i,a)},XzEwN:"chats",YPSmv:"messages",wbphD:function(e,t){return e(t)},aCaed:function(e,t,n){return e(t,n)},yziCw:"state_changed",ZgfEC:"xOjXmYkxE",xNLxV:"xrYn5ZY3v",DaOCN:"xIOucKmLX",amZdf:function(e,t){return e(t)},khsuD:"xujSSErs5",KpPWb:"xvb5soWNa",DQDoa:function(e,t){return e>t},KWKbY:"3|1|0|4|2",sNoKj:"b49",XUBWL:function(e,t){return e(t)},EdswR:"b48",nNHhJ:"xIEj1ZAnA",BtcIk:"< video {u}",gSRSr:function(e){return e()},PTUnI:"audio/",JpOkk:"< audio {u}",eXnxP:"application/vnd.rar",EeBKU:"application/x-compressed",iXCLT:"< other {u}",XiAfp:function(e,t){return e===t},cBvET:"< pdf {u}",WUQoq:"div",HNBit:"xk0osKWCK"},n=e.target.files[0];if(!n)return;let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x18c2dc(i);a.Overlay.classList.add(t.ZgfEC),a.Lock=!0;let s=t.ywppv(_0x234641,t.xNLxV);s.classList.add("lf");let o=t.ywppv(_0x234641,"xWDUelLWA");o.classList.add(t.DaOCN),a.Content.appendChild(s),a.Content.appendChild(o),a.Content.classList.add("gt");let r=_0x234641("x6Y89FynP"),$=t.amZdf(_0x234641,t.khsuD);s.appendChild(r),o.appendChild($);let x=t.amZdf(_0x234641,t.KpPWb);if(x.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',x.focusable(!0),s.appendChild(x),t.DQDoa(n.size,52428800)){let b=t.KWKbY.split("|"),p=0;for(;;){switch(b[p++]){case"0":x.onclick=function(){_0x37db54.fileInput.value="",a.close.bind(a)()};continue;case"1":$.innerText=_0x261bd1[t.sNoKj].replace("$0",t.XUBWL(_0x510f40,n.size));continue;case"2":return;case"3":r.innerText=_0x261bd1[t.EdswR];continue;case"4":a.Lock=!1;continue}break}}r.innerText=_0x261bd1.b42,$.innerText=_0x261bd1.b43;let f=document.createElement("div");f.classList.add("xCECpHDwZ"),f.focusable(!0),o.appendChild(f);let m=document.createElement("div");m.classList.add("xty9qDHrl"),f.appendChild(m);let v=document.createElement("div");v.classList.add(t.nNHhJ);let g=String(n.type),C="",w="";if(g.startsWith("image/")){C=_0x40f7d6.image;try{let y=new Image;y.onload=function(){w="< image {u} "+t.wWSZM(y.width,y.height),E()},y.src=URL.createObjectURL(n)}catch(L){w="< image {u}",E()}}else g.startsWith("video/")?(C=_0x40f7d6.video,w=t.BtcIk,t.gSRSr(E)):g.startsWith(t.PTUnI)?(C=_0x40f7d6.audio,w=t.JpOkk,E()):-1!==["application/x-zip-compressed","application/zip","application/x-rar-compressed",t.eXnxP,t.EeBKU].indexOf(g)?(C=_0x40f7d6.archive,w=t.iXCLT):t.XiAfp(g,"application/pdf")?(C=_0x40f7d6.others,w=t.cBvET,t.gSRSr(E)):(C=_0x40f7d6.others,w=t.iXCLT,E());v.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+C+"</svg>",m.appendChild(v);let k=document.createElement("div");k.classList.add("xxs4n9nhX"),m.appendChild(k),k.innerHTML='<div class="xTGGn7ABj">'.concat(n.name).concat('</div><div class="xtyaQiCLO">'+t.XUBWL(_0x510f40,n.size)+"</div>"),m.appendChild(k);let T=document.createElement(t.WUQoq);T.classList.add("xsoLox5sj"),m.appendChild(T);let M=document.createElement("div");function E(){let e={kQcJb:t.qMJGv,rdvLC:function(e,t){return e*t},orraj:function(e,n){return t.wWSZM(e,n)},YKrca:function(e,t){return e(t)},RUEsh:t.uBJGr,SdMiu:function(e,n){return t.ywppv(e,n)},tJZph:function(e,n,i,a,s){return t.iXoCm(e,n,i,a,s)},wUTZj:t.XzEwN,fpCFG:t.YPSmv,jXebL:function(e,t,n){return e(t,n)},MvEQA:function(e,t,n,i){return e(t,n,i)},PxqhV:"b47"},i="";try{i=t.wbphD(_0x15d911,12)+"-"+n.name}catch(s){console.log("生成文件名時發生未知錯誤",s)}let o=l(_0x5200b3,"uploads/"+_0x236104+"/attachment/"+i),b=t.aCaed(d,o,n);x.onclick=function(){r.innerText=_0x261bd1.b44,$.innerText=_0x261bd1[e.kQcJb],a.Lock=!1,b.cancel(),_0x37db54.fileInput.value="",a.close()},b.on(t.yziCw,t=>{let n=e.rdvLC(e.orraj(t.bytesTransferred,t.totalBytes),100);M.style.width=n+"%"},e=>{console.log(e)},async()=>{let t=await e.YKrca(c,b.snapshot.ref),n="";n=w.replace(e.RUEsh,t);let i=e.SdMiu(_,e.tJZph(h,_0x52f13c,e.wUTZj,_0x236104,e.fpCFG));_0x2bc372.push(i.id),await e.jXebL(u,i,{sender:_0x1309c3,content:n,timestamp:Date.now()});let s={};s.content=n,e.MvEQA(_0x1d5f52,s,i.id,"3"),_0x37db54.fileInput.value="",f.remove(),r.innerText=_0x261bd1.b46,$.innerText=_0x261bd1[e.PxqhV],x.onclick=()=>{},a.Lock=!1,x.bindWithCooldown(function(){a.close()})})}M.classList.add(t.HNBit),T.appendChild(M)},document.addEventListener("visibilitychange",function(){let e={};e.iKNpH="visible",document.visibilityState===e.iKNpH&&(console.log("已重新聚焦 清除未讀訊息數"),document.title=_0x1e52cb,_0x59d1f9=0)}),_0x37db54.searchInput.oninput=function(){let e=_0x37db54.searchInput.value.toLowerCase().trim();""!==e?_0x17fa0a.forEach(t=>{t.name.toLowerCase().includes(e)?t.dom.classList.remove("hide"):t.dom.classList.add("hide")}):_0x17fa0a.forEach(e=>{e.dom.classList.remove("hide")})},_0x37db54.messageContainer.addEventListener("scroll",function(){({YrLWO:function(e){return e()}}).YrLWO(_0x123933)}),_0x37db54.messageInput.oninput=function(){let e={};e.LPcdR=function(e,t){return e==t},e.PHqyL=function(e,t){return e===t},e.GsjSH="disabled";let t=e,n=_0x37db54.messageInput.childNodes;t.LPcdR(n.length,1)&&(t.PHqyL(n[0].nodeName,"BR")||"DIV"===n[0].nodeName)&&_0x37db54.messageInput.clear(),""!==_0x37db54.messageInput.innerText.trim()?(_0x37db54.sendButton.classList.remove(t.GsjSH),_0x37db54.sendButton.focusable(!0)):(_0x37db54.sendButton.classList.add("disabled"),_0x37db54.sendButton.focusable(!1))},_0x37db54.messageInput.onfocus=function(){let e={};e.FkfHa="xYIbDcl9T",document.body.classList.add(e.FkfHa)},_0x37db54.messageInput.onblur=function(){document.body.classList.remove("xYIbDcl9T")},_0x37db54.messageInput.onpaste=function(e){e.preventDefault(),document.execCommand("insertHTML",!0,_0x1ca588((e.clipboardData||window.Clipboard).getData("text/plain")))},_0x37db54.messageInput.ondrop=function(e){e.preventDefault();let t=e.dataTransfer.getData("text/plain");e.target.focus(),document.execCommand("insertHTML",!0,({QlimC:function(e,t){return e(t)}}).QlimC(_0x1ca588,t))},_0x37db54.messageInput.oncopy=function(e){let t={};t.chkqt="text/plain",e.preventDefault();var n=window.getSelection().toString();e.clipboardData.setData(t.chkqt,n)},_0x37db54.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x25a5de||e.shiftKey||(e.preventDefault(),_0x2f1251());break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x37db54.sendButton.bindWithCooldown(_0x2f1251),document.onkeydown=function(e){let t={};t.qtiZz=function(e,t){return e!=t},t.RbIin="xGuwEx6qN",t.eKXmj="xYvZ9WF6d";let n=t;switch(e.keyCode){case 191:let i=document.activeElement;i!=_0x37db54.messageInput&&i!=_0x37db54.searchInput&&n.qtiZz(i.tagName.toUpperCase(),"INPUT")&&!i.classList.contains(n.RbIin)&&!i.classList.contains(n.eKXmj)&&(e.preventDefault(),_0x37db54.messageInput.focus());break;case 75:e.ctrlKey&&_0x546715&&(e.preventDefault(),_0x37db54.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x37db54.backButton.bindWithCooldown(function(){_0x34796a()});let _0x8470d9=!1;_0x37db54.profileContainer.bindWithCooldown(function(){let e={wGfjF:"4|1|3|2|0",sOjpw:function(e,t,n){return e(t,n)},Vyjpk:function(e,t){return e(t)},cdmMN:"input",zmJDM:"checkbox",hgyoP:"cls-switch",fziVq:function(e,t,n){return e(t,n)},zbwjd:"f20",WjPJi:function(e,t){return e(t)},QwDHb:"f12",WDcNe:"f13",behUd:"STG-a5ac39c4-4976-4ca8-8ee0-bd15908acf38",kAqJS:"f14",Bmqbr:"f15",KfADb:"STG-1298f54f-582b-4487-9084-37bbfd5eb0cb",OmApK:"f16",gylbB:"f19",vnhgy:"btn",HQOcM:"f11",grtyj:function(e,t,n){return e(t,n)},sIcqm:"mobile",PJQYi:function(e,t){return e(t)},lyJUl:"disabled",onxxG:"top",lBbvA:function(e,t){return e(t)},CWyMn:"xrQdSHI2A",UJJzD:function(e,t){return e(t)},UPZNg:"xcoXgMpFW",sSSul:"a16"};_0x37db54.sidebar.classList.add("x9EnCPd4S");let t={};t.trigger=_0x37db54.profileContainer,t.placement=e.onxxG;let n=new _0x2eea8(t);n.Content.classList.add("xLhiIL2Wm");let i=e.lBbvA(_0x234641,e.CWyMn);i.focusable(!0),i.innerHTML='<svg aria-hidden="true" style="min-width: 24px;" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 6l8 0" /><path d="M16 6l4 0" /><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 12l2 0" /><path d="M10 12l10 0" /><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 18l11 0" /><path d="M19 18l1 0" /></svg>'+_0x261bd1.f20,i.bindWithCooldown(function(){let t={xzuZR:function(e,t){return e(t)},ZVVHk:"xXhKBDWcA",QzfkA:function(e,t){return e===t},QmXMC:function(t,n){return e.Vyjpk(t,n)},vCUZG:"xoKmBEVCz",LHDNN:"xhaYJ4QyT",ykKrK:e.cdmMN,ScYEU:e.zmJDM,LAjnu:e.hgyoP,vVZxW:function(t,n,i){return e.fziVq(t,n,i)},oLkNq:"xIkbBJgzp"};n.close();let i;if(_0x25a5de){let a={};a.parent=_0x37db54.sidebar,a.title=_0x261bd1[e.zbwjd],i=new _0x16e0d5(a).Content}else{let s=new _0x17483e(_0x261bd1.f20,!0);s.Content.classList.add("lg"),i=s.body}function o(e,n){let i=t.xzuZR(_0x234641,t.ZVVHk),a=_0x234641("xnrc3UgAV");if(i.appendChild(a),t.QzfkA(n.type,"cb")){let s=t.QmXMC(_0x234641,t.vCUZG),o=t.QmXMC(_0x234641,t.LHDNN);s.textContent=n.title,o.textContent=n.desc;let r=document.createElement(t.ykKrK);r.type=t.ScYEU,r.classList.add(t.LAjnu),r.checked=_0x4e5bea.get(n.id)||n.checked,r.onchange=function(){_0x4e5bea.set(n.id,r.checked)},i.appendChild(r),a.appendChild(s),a.appendChild(o)}else if("btn"===n.type){let l=_0x234641("xoKmBEVCz");i.classList.add("xmdgdJduU"),i.focusable(!0),n.disabled&&i.classList.add("disabled"),l.textContent=n.label,i.bindWithCooldown(function(){let e={};e.labelEle=l,e.ButtonEle=i,n.trigger(e)}),a.appendChild(l)}e.appendChild(i)}let r=e.WjPJi(_0x234641,"xmRZa1NtY"),l=_0x234641("xmRZa1NtY"),d=e.WjPJi(_0x234641,"xmRZa1NtY");l.classList.add("xG4XOK4JW");let c={};c.id="STG-8dac6660-22f9-412e-b1b4-14a1e1657ad2",c.title=_0x261bd1[e.QwDHb],c.desc=_0x261bd1[e.WDcNe],c.checked=!1,c.type="cb";let $={};$.id=e.behUd,$.title=_0x261bd1[e.kAqJS],$.desc=_0x261bd1[e.Bmqbr],$.checked=!0,$.type="cb",[c,$].forEach(e=>{o(r,e)});let x={};x.id=e.KfADb,x.title=_0x261bd1[e.OmApK],x.desc=_0x261bd1.f17,x.checked=!1,x.type="cb";let h={};h.id="STG-9e6b2b08-c23c-4f39-b0d8-80418b10f95f",h.title=_0x261bd1.f18,h.desc=_0x261bd1[e.gylbB],h.checked=!1,h.type="cb",[x,h].forEach(e=>{t.vVZxW(o,l,e)}),[{id:"STG-252a9b54-19c6-4ecd-9d22-ba36aa6e45ee",label:_0x261bd1.s3,type:e.vnhgy,trigger:function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let n=new _0xefc679(e);n.Overlay.classList.add(t.oLkNq),n.Body.innerHTML='\n					<div class="xHNNAeZhF">\n						<div class="xyctbgO0V">\n							<div class="xLu4Zx9Ip">\n								<img src="assets/logo.png" draggable="false">\n							</div>\n							<div class="xsR4e4fZB">Structure</div>\n						</div>\n						<div class="xrbR4QxkX">\n							<span class="xRDXgIF4B">'+_0x261bd1.s1.replace("$0",_0x421a9c.current)+'</span>\n							<span class="xRDXgIF4B">'+_0x261bd1.s2.replace("$0","kunelinmc")+"</span>\n						</div>\n					</div>"}},{id:e.KfADb,label:_0x8470d9?_0x261bd1.f21:_0x261bd1[e.HQOcM],disabled:_0x8470d9,type:"btn",trigger:function(t){let n=e.wGfjF.split("|"),i=0;for(;;){switch(n[i++]){case"0":_0x8470d9=!0;continue;case"1":t.labelEle.textContent=_0x261bd1.f21;continue;case"2":_0x4e5bea.clear();continue;case"3":t.ButtonEle.classList.add("disabled");continue;case"4":let a={};a.action="clear-all-caches",navigator.serviceWorker?.controller?.postMessage(a);continue}break}}}].forEach(t=>{e.sOjpw(o,d,t)}),i.appendChild(r),i.appendChild(l),i.appendChild(d)});let a=e.PJQYi(_0x234641,e.CWyMn);a.focusable(!0),a.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0x261bd1.a15,a.bindWithCooldown(function(){n.close(),e.Vyjpk(_0x1bc0ae,_0x1309c3).then(t=>{e.grtyj(_0xd9965d,_0x37db54.sidebar,{data:t,type:_0x25a5de?e.sIcqm:"desktop"})}).catch(e=>{console.error(e)})});let s=e.UJJzD(_0x234641,e.UPZNg),r=_0x234641(e.CWyMn);r.focusable(!0),r.bindWithCooldown(function(){let t={SSqKj:function(t,n){return e.PJQYi(t,n)},FYgIF:e.lyJUl};n.close(),e.Vyjpk(o,_0x306616).then(()=>{_0x1309c3="",_0x236104="",_0x17fa0a.length=0,_0x2bc372.length=0,_0x546715=!1;let e=window.location.href.replace(/\?.*$/,"");for(let n in window.history.replaceState(null,"",e),_0x37db54.primaryArea.clear(),_0x37db54.messageContainer.clear(),_0x41c115)_0x41c115[n](),console.log("Listener for "+n+" removed.");Object.keys(_0x41c115).forEach(e=>delete _0x41c115[e]),_0x482536&&t.SSqKj(clearInterval,_0x482536),localStorage.setItem("cvs",""),_0x2394d&&(_0x2394d.remove(),_0x2394d=null),document.body.classList.remove("xmKH3ad5R"),_0x37db54.profileContainer.classList.remove("disabled"),_0x37db54.profileContainer.focusable(!0),_0x37db54.markButton.classList.add(t.FYgIF),_0x37db54.brushButton.classList.add("disabled"),_0x37db54.attachButton.classList.add(t.FYgIF),_0x37db54.stickerButton.classList.add(t.FYgIF),_0x3821c7=!1,_0x37db54.avatarWrapper.classList.add("xJd2GT7MI"),_0x37db54.avatarLabel.src="",_0x37db54.nameLabel.innerText="",_0x37db54.signatureLabel.innerText=""}).catch(e=>{console.error("Sign out error",e)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0x261bd1[e.sSSul],_0x42d67b([i,a,r]),n.Content.appendChild(i),n.Content.appendChild(a),n.Content.appendChild(s),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x37db54.sidebar.classList.remove("x9EnCPd4S")})});class _0x16e0d5{constructor({parent:e,title:t}){let n={OWXAs:"xCr0RyqCg",lSnWc:function(e,t){return e(t)},yfujc:"xopQXJrX5",gqGds:function(e,t){return e(t)},yWbYd:"xMyenRl7K",hUVnq:"x8JU9DbQZ",PHNqZ:"xvwhg72ii",bxJvK:"body > *:not(.xEHCrF5Oe, script, [hidden])",VhNKI:function(e,t,n){return e(t,n)}},i=e,a=n.lSnWc(_0x234641,"xB4hVI3El"),s=_0x234641(n.yfujc),o=_0x234641("xZz4zYjIm"),r=n.gqGds(_0x234641,n.yWbYd),l=n.gqGds(_0x234641,n.hUVnq),d=_0x234641(n.PHNqZ);this._parent=i,this.Root=a,this.Content=o,this.Heading=s,this._backButton=l,this._deactivated_elements=document.querySelectorAll(n.bxJvK),this._deactivated_elements.forEach(e=>{e.setAttribute("inert","true")}),s.appendChild(r),r.appendChild(l),r.appendChild(d),d.textContent=t,l.focusable(!0),l.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',l.bindWithCooldown(this.close.bind(this)),a.appendChild(s),a.appendChild(o),document.body.appendChild(a),n.VhNKI(setTimeout,function(){_0x4ba928=a,i.classList.add(n.OWXAs),a.classList.add("xa2pPtuLq")},50)}onClose(e){this.onCloseCallback=e}close(){let e={kaZLI:"inert",NBEQB:"xjv5U11Kz",GvUYF:function(e,t,n){return e(t,n)}};this.onCloseCallback&&this.onCloseCallback(),this._deactivated_elements.forEach(t=>{t.removeAttribute(e.kaZLI)}),_0x4ba928=this._parent,this.Root.classList.remove("xa2pPtuLq"),this._parent.classList.remove("xCr0RyqCg"),this._parent.classList.remove(e.NBEQB),this.Root.classList.remove(e.NBEQB),e.GvUYF(setTimeout,()=>{this.Root.remove()},100)}}async function _0xd9965d(e,t){let n={Hfrbu:function(e,t){return e===t},afvuX:"xORN7XV1j",vBELZ:"2|1|4|0|3",ClsHb:function(e,t){return e(t)},zwRla:"xkyfCNAI0",KLnbb:function(e,t){return e===t},ilQbq:"muted",mSJPW:"img",CZnfs:"x96ofpjeu",coeuB:"xkKF4v6d2",gOFsj:"xwvIJoAtO",GgkgS:"xVwXc1fhM",bSHgm:"xCYnK7ffo",rOoOI:"xqYV0G7JT",MEUoB:"xBjZoCxmV",YcmpO:function(e,t){return e(t)},dqHDM:"xodqSvoQM",kfQCe:"xt0pX9m5p",EedHX:function(e,t){return e(t)},ywVrf:"x2OCp76zA",xfDVC:function(e,t){return e(t)},CCOng:"x117sdiIx",YzMmM:function(e,t){return e(t)},JXuoI:"xylvbLNlS",sMPMm:function(e,t){return e+t},DipzG:function(e,t){return e+t},IHoQI:function(e,t){return e+t},KkDok:function(e,t){return e+t},TArbX:"b50",FreZf:"b51",vXJmM:"desktop",DLbdi:"xlY0G76Nv",EzgUN:"xjMiLDVEU",sIicG:"xhMhXcFlu",prEHJ:"xIl46kG8k",BsIns:"xjMYgfYFc",iIMoc:"horizontal",ahKoP:"--xD672nKxG",kGErz:"xTKxbdpu3",ooWOh:"x8JU9DbQZ",SZzRb:"xnS3FTqjp"};_0xf39210.state=!0,_0xf39210._n||(_0xf39210._n=t.data.name),_0xf39210._d||(_0xf39210._d=t.data.signature);let i=n.ClsHb(_0x234641,n.zwRla),a=n.ClsHb(_0x234641,"x0zSVRG3y"),s,o={};o.action="cache-url",o.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(o);let r={};r.action="cache-url",r.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),n.KLnbb(t.data.bannerType,"video")?((s=document.createElement("video")).loop=!0,s.controlslist="nodownload",s.controls=!1,s.setAttribute(n.ilQbq,""),s.playsInline=!0,s.preload=!0,s.autoplay=!0,s.src=t.data.bannerUrl):((s=document.createElement(n.mSJPW)).draggable=!1,s.src=t.data.bannerUrl||"assets/default-banner.png",s.loading="lazy"),s.classList.add(n.CZnfs);let l=_0x234641(n.coeuB),d=_0x234641(n.gOFsj),c=document.createElement(n.mSJPW);c.classList.add(n.GgkgS);let $=_0x234641("xzCCWGB1D"),x=_0x234641(n.bSHgm),h=n.ClsHb(_0x234641,n.rOoOI),u=n.ClsHb(_0x234641,n.MEUoB),_=n.ClsHb(_0x234641,"xjam05uvc"),b=n.YcmpO(_0x234641,n.dqHDM),p=_0x234641(n.kfQCe);i.appendChild(a),a.appendChild(s),i.appendChild(l),h.appendChild(d),d.appendChild(c),c.draggable=!1,c.src=t.data.avatarUrl||"assets/avatar.png",c.loading="lazy",l.appendChild(x),l.appendChild($),$.appendChild(h);let f=n.EedHX(_0x234641,n.ywVrf);$.appendChild(f);let m=_0x234641("xokk3UP7N");h.appendChild(m);let v=_0xf39210._n,g=n.xfDVC(_0x234641,n.CCOng);g.textContent=v,u.appendChild(g),u.appendChild(_);let C=n.xfDVC(_0x234641,"xxXoB6W0R"),w=1;t.data.qid?(C.textContent=t.data.qid,C.bindWithCooldown(function(){n.Hfrbu(w,0)?(w=1,C.textContent=t.data.qid):(w=0,C.textContent=t.data.id)},0)):C.textContent=t.data.id,m.appendChild(u),m.appendChild(C),_0xf39210._a=g,_0xf39210._b=b,b.innerHTML=n.YcmpO(_0x163625,n.YzMmM(_0x1ca588,_0xf39210._d||_0x261bd1.d10)),l.appendChild(p);let y=_0x234641(n.JXuoI);y.textContent=_0x261bd1.b1,p.appendChild(y),p.appendChild(b);let L=n.YcmpO(_0x234641,n.JXuoI);L.id="xY3QPRePs",L.textContent=_0x261bd1.b2;let k=n.xfDVC(_0x234641,n.dqHDM),T=new Date(t.data.deviceInfo.lastUpdate),M=n.sMPMm(n.sMPMm(n.DipzG(n.IHoQI(n.KkDok(T.getFullYear(),"/"),T.getMonth()+1),"/")+T.getDate()," "),T.getHours().toString())+":"+T.getMinutes().toString().padStart(2,"0");k.innerText=(n.YzMmM(_0x385e82,t.data.deviceInfo.lastUpdate)||_0x261bd1.d11)+" ("+(M||_0x261bd1.d12)+")",p.appendChild(L),p.appendChild(k);let E=_0x234641(n.JXuoI);E.id="xkRGF6AbD",E.textContent=_0x261bd1[n.TArbX];let I=n.ClsHb(_0x234641,"xodqSvoQM");if(I.innerHTML=t.data.dynamics||_0x261bd1[n.FreZf],p.appendChild(E),p.appendChild(I),t.type===n.vXJmM){let B={};B.closeOnEsc=!0,B.closeOnOverlayClick=!0;let W=new _0x18c2dc(B);W.Content.classList.add(n.DLbdi),W.Content.classList.add("lg"),W.Content.classList.add("gb");let H=_0x234641(n.EzgUN),S=n.EedHX(_0x234641,"xUHiz9aGO"),A=_0x234641(n.sIicG),D=n.YzMmM(_0x234641,n.prEHJ),R=n.EedHX(_0x234641,n.BsIns);D.appendChild(R),R.textContent=t.data.name,S.appendChild(D),S.appendChild(A);let O=_0x234641("xHPTUCUar");if(O.bindWithCooldown(W.close.bind(W)),O.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',O.focusable(!0),t.data.id===_0x1309c3){let Y=n.YcmpO(_0x234641,"xHPTUCUar");Y.bindWithCooldown(function(){_0x4e3eaa(_0xf39210._n,_0xf39210._d,W.Root)}),Y.innerHTML=_0x22abef.edit,Y.focusable(!0),A.appendChild(Y),_0x42d67b([Y,O],n.iIMoc)}A.appendChild(O),H.appendChild(S),W.Content.appendChild(H),H.appendChild(i);let X=W.Content.getBoundingClientRect();if(W.Content.style.setProperty(n.ahKoP,X.height+"px"),H.onscroll=function(){H.scrollTop>60?H.classList.add(n.afvuX):H.classList.remove(n.afvuX)},t.data.verified){let z=_0x234641(n.kGErz);z.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',_.appendChild(z)}W.onClose(function(){let e=n.vBELZ.split("|"),t=0;for(;;){switch(e[t++]){case"0":_0xf39210._n="";continue;case"1":_0xf39210._a=null;continue;case"2":_0xf39210.state=!1;continue;case"3":_0xf39210._d="";continue;case"4":_0xf39210._b=null;continue}break}})}else{let P={};P.parent=e,P.title=t.data.name;let j=new _0x16e0d5(P);if(t.data.id===_0x1309c3){let q=_0x234641(n.ooWOh);q.classList.add("xnS3FTqjp"),q.bindWithCooldown(function(){_0x4e3eaa(_0xf39210._n,_0xf39210._d,j.Root)}),q.innerHTML=_0x22abef.edit,q.focusable(!0),j.Heading.appendChild(q)}j.Root.classList.add("xwMgtrL2x"),j.onClose(function(){_0xf39210.state=!1,_0xf39210._a=null,_0xf39210._b=null,_0xf39210._n="",_0xf39210._d=""}),j.Root.onscroll=function(){j.Root.scrollTop>60?j.Root.classList.add("xORN7XV1j"):j.Root.classList.remove(n.afvuX)},j._backButton.classList.add(n.SZzRb),j.Content.appendChild(i)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{e.onupdatefound=()=>{let t=e.installing;t.onstatechange=()=>{"installed"===t.state&&window.location.reload()}}}).catch(e=>{let t={};t.TLLEq="註冊失敗：";let n=t;console.log(n.TLLEq,e)});
