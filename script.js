/**release 0.1.5*/
let _0x285c10=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0xfb4efb=_0x285c10(this,function(){let e={};return e.VOnTM="(((.+)+)+)+$",_0xfb4efb.toString().search("(((.+)+)+)+$").toString().constructor(_0xfb4efb).search(e.VOnTM)});_0xfb4efb();let _0x51dc27=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x3bdb9a=_0x51dc27(this,function(){let e={GvoOE:function(e,t){return e(t)},eJixO:function(e,t){return e+t},JleBV:function(e){return e()},VxXZS:"warn",AFzSQ:"info",HVVjB:"error",OVRkv:"exception",iKylp:"table",XwsZp:"trace",lLBUe:function(e,t){return e<t}},t;try{let n=e.GvoOE(Function,e.eJixO('return (function() {}.constructor("return this")( )',");"));t=e.JleBV(n)}catch(i){t=window}let a=t.console=t.console||{},s=["log",e.VxXZS,e.AFzSQ,e.HVVjB,e.OVRkv,e.iKylp,e.XwsZp];for(let o=0;e.lLBUe(o,s.length);o++){let r=_0x51dc27.constructor.prototype.bind(_0x51dc27),l=s[o],d=a[l]||r;r.__proto__=_0x51dc27.bind(_0x51dc27),r.toString=d.toString.bind(d),a[l]=r}});_0x3bdb9a();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as i,onAuthStateChanged as a,signInWithEmailAndPassword as s,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as l,uploadBytesResumable as d,getDownloadURL as c}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as $,enableIndexedDbPersistence as h,collection as u,setDoc as x,doc as b,deleteDoc as p,getDoc as f,where as _,getDocs as m,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as y,arrayRemove as L,updateDoc as k,limit as M}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x12d667{constructor(e,t={}){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.logicalWidth=0,this.logicalHeight=0,this.devicePixelRatio=window.devicePixelRatio||1,this.updateCanvasSize();let n={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=n,this.customDrawer=null,this.lastTapTime=0,this.tapTimeout=null,this.scale=1,this.posX=0,this.posY=0,this.isDragging=!1,this.lastX=0,this.lastY=0,this.img=null,this.needsRedraw=!1,this.animationFrameId=null,this.isTouching=!1,this.initialDistance=0,this.initialScale=1,this.touchStartPosX=0,this.touchStartPosY=0,this.touchStartScale=1,this.initialCenterX=0,this.initialCenterY=0,this.rotation=0,this.velocityX=0,this.velocityY=0,this.lastTime=0,this.isInertialMoving=!1,this.decelerationRate=.85,this.minVelocityThreshold=.1,this.setupEventListeners(),this.requestRedraw()}updateCanvasSize(){let e={};e.hpypA=function(e,t){return e+t},e.thnfe=function(e,t){return e*t};let t=e,n=this.canvas.parentElement;this.logicalWidth=n.clientWidth,this.logicalHeight=n.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=t.hpypA(this.logicalWidth,"px"),this.canvas.style.height=this.logicalHeight+"px",this.canvas.width=Math.floor(t.thnfe(this.logicalWidth,this.devicePixelRatio)),this.canvas.height=Math.floor(this.logicalHeight*this.devicePixelRatio),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.KkXWs="touchend",e.iPuZm="mouseup",e.xcXEh="touchstart",e.Wtdue="touchmove";let t=e;this.handleCanvasClick=this.handleCanvasClick.bind(this),this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this),this.canvas.addEventListener("click",this.handleCanvasClick),this.canvas.addEventListener(t.KkXWs,this.handleCanvasTouchEnd),this.handleResize=this.handleResize.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleWheel=this.handleWheel.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.draw=this.draw.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),window.addEventListener("resize",this.handleResize),this.canvas.addEventListener("mousedown",this.handleMouseDown),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener(t.iPuZm,this.handleMouseUp),this.canvas.addEventListener("wheel",this.handleWheel),this.canvas.addEventListener("mouseleave",this.handleMouseLeave),this.canvas.addEventListener(t.xcXEh,this.handleTouchStart),this.canvas.addEventListener(t.Wtdue,this.handleTouchMove),this.canvas.addEventListener(t.KkXWs,this.handleTouchEnd)}getDisplayWidth(){let e={};return e.eZzVo=function(e,t){return e===t},e.eZzVo(this.rotation%180,90)?this.img.height:this.img.width}getDisplayHeight(){let e={};return e.dLkRZ=function(e,t){return e===t},e.dLkRZ(this.rotation%180,90)?this.img.width:this.img.height}calculateInitialScale(){let e={};if(e.apCAZ=function(e,t){return e/t},!this.img)return;let t=this.getDisplayWidth(),n=this.getDisplayHeight(),i=this.logicalWidth/t,a=e.apCAZ(this.logicalHeight,n);this.options.minScale=Math.min(i,a,1),this.scale=this.options.minScale}centerImage(){let e={};e.rpEDe=function(e,t){return e/t},e.qFQMt=function(e,t){return e-t},e.LFnPp=function(e,t){return e/t},e.xNcfH=function(e,t){return e-t};let t=e;if(!this.img)return;let n=this.getDisplayWidth()*this.scale,i=this.getDisplayHeight()*this.scale;this.posX=t.rpEDe(t.qFQMt(this.logicalWidth,n),2),this.posY=t.LFnPp(t.xNcfH(this.logicalHeight,i),2),this.enforceBounds()}setCustomDrawer(e){let t={};t.qdlcv=function(e,t){return e===t},t.NFKew="function";let n=t;n.qdlcv(typeof e,n.NFKew)?this.customDrawer=e:console.error("setCustomDrawer 期望接收一个函数")}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.ikMCl=function(e,t){return e*t},e.AMqlw=function(e,t){return e+t},e.eAJwU=function(e,t){return e+t},e.hsdHv=function(e,t){return e/t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=t.ikMCl(this.getDisplayWidth(),this.scale),i=t.ikMCl(this.getDisplayHeight(),this.scale);this.ctx.translate(t.AMqlw(this.posX,n/2),t.eAJwU(this.posY,i/2)),this.ctx.rotate(t.hsdHv(this.rotation*Math.PI,180)),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,t.hsdHv(-this.img.width,2),-this.img.height/2),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){this.rotation=(this.rotation+90)%360,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.UmFGh=function(e,t){return e*t},e.LxFXP=function(e,t){return e-t},e.Aqeeu=function(e,t){return e/t};let t=e;if(!this.img)return;let n=this.getDisplayWidth()*this.scale,i=t.UmFGh(this.getDisplayHeight(),this.scale);n>this.logicalWidth?this.posX=Math.min(Math.max(this.posX,t.LxFXP(this.logicalWidth,n)),0):this.posX=t.Aqeeu(this.logicalWidth-n,2),i>this.logicalHeight?this.posY=Math.min(Math.max(this.posY,t.LxFXP(this.logicalHeight,i)),0):this.posY=t.Aqeeu(this.logicalHeight-i,2)}isInImageArea(e,t){let n={};n.HEdjr=function(e,t){return e*t},n.fLmCo=function(e,t){return e+t},n.pyLOq=function(e,t){return e+t},n.TWUCo=function(e,t){return e>=t};let i=n;if(!this.img)return!1;let a=this.getDisplayWidth()*this.scale,s=i.HEdjr(this.getDisplayHeight(),this.scale),o=this.posX,r=i.fLmCo(o,a),l=this.posY,d=i.pyLOq(l,s),c=Math.min(r,this.logicalWidth),$=Math.min(d,this.logicalHeight);return i.TWUCo(e,Math.max(o,0))&&e<=c&&i.TWUCo(t,Math.max(l,0))&&t<=$}requestRedraw(){let e={PNOvl:"mousemove",cMQqp:function(e,t){return e(t)}};this.needsRedraw||(this.needsRedraw=!0,this.canvas.dispatchEvent(new MouseEvent(e.PNOvl)),this.animationFrameId&&e.cMQqp(cancelAnimationFrame,this.animationFrameId),this.animationFrameId=requestAnimationFrame(this.draw))}handleMouseDown(e){let t={};t.tCoQm=function(e,t){return e-t};let n=this.canvas.getBoundingClientRect(),i=t.tCoQm(e.clientX,n.left),a=e.clientY-n.top;this.isDraggable()&&this.isInImageArea(i,a)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor="grabbing")}handleMouseLeave(){this.canvas.style.cursor="default"}handleMouseMove(e){let t={};t.GyRvp="grab",t.FXqZV=function(e,t){return e-t},t.fpnML=function(e,t){return e-t},t.HhBDx=function(e,t){return e>t},t.MznGW=function(e,t){return e/t};let n=t,i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=e.clientY-i.top;if(this.isInImageArea(a,s)?this.canvas.style.cursor=this.isDragging?"grabbing":n.GyRvp:this.canvas.style.cursor="default",this.isDragging){let o=Date.now(),r=o-this.lastTime;this.lastTime=o;let l=n.FXqZV(e.clientX,this.lastX),d=n.fpnML(e.clientY,this.lastY);this.posX+=l,this.posY+=d,n.HhBDx(r,0)&&(this.velocityX=n.MznGW(l,r),this.velocityY=d/r),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.fhTiu=function(e,t){return e>t},t.kvOsZ="grab",t.Jskiq="default";let n=t;this.isDragging=!1,Math.abs(this.velocityX)>this.minVelocityThreshold||n.fhTiu(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0);let i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=e.clientY-i.top;this.isInImageArea(a,s)?this.canvas.style.cursor=n.kvOsZ:this.canvas.style.cursor=n.Jskiq}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={};e.ScMsW=function(e,t){return e-t},e.qzZiz=function(e,t){return e/t},e.lXeet=function(e,t){return e*t},e.FZtLB=function(e,t){return e<t};let t=e;if(!this.isInertialMoving)return;let n=Date.now(),i=t.ScMsW(n,this.lastTime);this.lastTime=n,this.velocityX*=Math.pow(this.decelerationRate,i/16),this.velocityY*=Math.pow(this.decelerationRate,t.qzZiz(i,16)),this.posX+=t.lXeet(this.velocityX,i),this.posY+=this.velocityY*i,this.enforceBounds(),this.requestRedraw(),Math.abs(this.velocityX)<this.minVelocityThreshold&&t.FZtLB(Math.abs(this.velocityY),this.minVelocityThreshold)?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):requestAnimationFrame(this.animateInertia.bind(this))}handleWheel(e){let t={};t.HiNfC=function(e,t){return e-t},t.sdDas=function(e,t){return e>t},t.DCceR=function(e,t){return e/t},t.uedhH=function(e,t){return e-t},t.FSgjO=function(e,t){return e*t};let n=t;e.preventDefault();let i=this.canvas.getBoundingClientRect(),a=n.HiNfC(e.clientX,i.left),s=n.HiNfC(e.clientY,i.top);if(!this.isInImageArea(a,s))return;let o=n.sdDas(e.deltaY,0)?.9:1.1,r=n.HiNfC(a,this.posX)/this.scale,l=n.DCceR(s-this.posY,this.scale),d=Math.min(Math.max(this.scale*o,this.options.minScale),this.options.maxScale);this.posX=n.uedhH(a,r*d),this.posY=n.HiNfC(s,n.FSgjO(l,d)),this.scale=d,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};if(t.LuEJf=function(e,t){return e>=t},0===e.touches.length)return;let n=Array.from(e.touches),i=this.getTouchCenter(n);this.initialCenterX=i.x,this.initialCenterY=i.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,t.LuEJf(e.touches.length,2)&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.EmGzg=function(e,t){return e===t},t.ffotE=function(e,t){return e/t},t.gvPtH=function(e,t){return e*t},t.Wibcc=function(e,t){return e-t},t.hLdYE=function(e,t){return e-t},t.AkDgY=function(e,t){return e-t},t.IpdIl=function(e,t){return e/t};let n=t;if(!this.isTouching)return;e.preventDefault();let i=Array.from(e.touches);if(n.EmGzg(i.length,0))return;let a=this.getTouchCenter(i),s=1;if(i.length>=2){let o=this.getTouchDistance(i[0],i[1]);this.initialDistance>0&&(s=n.ffotE(o,this.initialDistance))}let r=Math.min(Math.max(n.gvPtH(this.touchStartScale,s),this.options.minScale),this.options.maxScale),l=n.ffotE(n.Wibcc(this.initialCenterX,this.touchStartPosX),this.touchStartScale),d=n.Wibcc(this.initialCenterY,this.touchStartPosY)/this.touchStartScale;if(this.posX=a.x-n.gvPtH(l,r),this.posY=n.hLdYE(a.y,n.gvPtH(d,r)),this.scale=r,this.enforceBounds(),this.requestRedraw(),n.EmGzg(i.length,1)){let c=Date.now(),$=n.hLdYE(c,this.lastTime);this.lastTime=c;let h=this.canvas.getBoundingClientRect(),u=i[0],x=u.clientX-h.left,b=n.AkDgY(u.clientY,h.top);$>0&&(this.velocityX=n.IpdIl(n.AkDgY(x,this.lastX),$),this.velocityY=n.ffotE(b-this.lastY,$)),this.lastX=x,this.lastY=b}}handleTouchEnd(){let e={};e.dtPLf=function(e,t){return e>t},this.isTouching=!1,this.initialDistance=0,Math.abs(this.velocityX)>this.minVelocityThreshold||e.dtPLf(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.requestRedraw())}handleCanvasClick(e){let t={};t.VwVQc=function(e,t){return e-t};let n=t;if(!this.img)return;let i=this.canvas.getBoundingClientRect(),a=n.VwVQc(e.clientX,i.left),s=n.VwVQc(e.clientY,i.top);this.isInImageArea(a,s)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={};t.mFBJY=function(e,t){return e-t},t.WmEVL=function(e,t){return e<t};let n=t;if(!this.img||e.touches.length>0)return;let i=this.canvas.getBoundingClientRect(),a=e.changedTouches[0],s=n.mFBJY(a.clientX,i.left),o=n.mFBJY(a.clientY,i.top),r=new Date().getTime();if(n.WmEVL(r-this.lastTapTime,360)){clearTimeout(this.tapTimeout);return}this.tapTimeout=setTimeout(()=>{this.isInImageArea(s,o)||this.triggerClickOutside(e),this.lastTapTime=r},200)}getTouchDistance(e,t){let n={};n.BFthP=function(e,t){return e-t},n.LiCWi=function(e,t){return e*t};let i=n,a=i.BFthP(e.clientX,t.clientX),s=i.BFthP(e.clientY,t.clientY);return Math.sqrt(i.LiCWi(a,a)+s*s)}isDraggable(){let e={};return e.idiTJ=function(e,t){return e>t},this.img&&(e.idiTJ(this.img.width*this.scale,this.logicalWidth)||this.img.height*this.scale>this.logicalHeight)}triggerClickOutside(e){let t={};t.aKloU="function",t.RpIos=function(e,t){return e-t},t.RsTfo=function(e,t){return e/t};let n=t;if(typeof this.options.onClickOutside===n.aKloU){let i=this.canvas.getBoundingClientRect(),a={x:n.RpIos(e.clientX,i.left),y:e.clientY-i.top,canvasX:n.RpIos(e.clientX,i.left),canvasY:e.clientY-i.top,imageX:-1,imageY:-1};this.img&&(a.imageX=n.RsTfo(a.canvasX-this.posX,this.scale),a.imageY=n.RpIos(a.canvasY,this.posY)/this.scale),this.options.onClickOutside(a,e)}}getTouchCenter(e){let t={};t.PHyjM=function(e,t){return e-t},t.BBRkV=function(e,t){return e/t};let n=t,i=0,a=0,s=this.canvas.getBoundingClientRect();for(let o of e)i+=n.PHyjM(o.clientX,s.left),a+=o.clientY-s.top;return{x:i/e.length,y:n.BBRkV(a,e.length)}}destroy(){let e={gzIVF:"2|0|7|9|10|1|4|3|6|11|5|8",JqAXf:"wheel",MvAGd:"touchmove",NCclB:"mouseup",huIQX:function(e,t){return e(t)},kRDrL:"mouseleave",qfjGD:"click"},t=e.gzIVF.split("|"),n=0;for(;;){switch(t[n++]){case"0":document.removeEventListener("mousemove",this.handleMouseMove);continue;case"1":this.canvas.removeEventListener(e.JqAXf,this.handleWheel);continue;case"2":window.removeEventListener("resize",this.handleResize);continue;case"3":this.canvas.removeEventListener(e.MvAGd,this.handleTouchMove);continue;case"4":this.canvas.removeEventListener("touchstart",this.handleTouchStart);continue;case"5":this.canvas.removeEventListener("touchend",this.handleCanvasTouchEnd);continue;case"6":this.canvas.removeEventListener("touchend",this.handleTouchEnd);continue;case"7":document.removeEventListener(e.NCclB,this.handleMouseUp);continue;case"8":this.animationFrameId&&e.huIQX(cancelAnimationFrame,this.animationFrameId);continue;case"9":this.canvas.removeEventListener(e.kRDrL,this.handleMouseLeave);continue;case"10":this.canvas.removeEventListener("mousedown",this.handleMouseDown);continue;case"11":this.canvas.removeEventListener(e.qfjGD,this.handleCanvasClick);continue}break}}}function _0x21d248(e,t,n,i){let a={btLPg:function(e,t){return e*t},kmsqm:function(e,t){return e+t},urfxh:function(e,t){return e*t},zhIdw:function(e,t){return e*t},HtMPv:function(e,t){return e*t},EvgUy:function(e,t){return e*t},wCywP:function(e,t){return e<t},uelfF:function(e,t){return e(t)},qHFAJ:function(e,t){return e-t},eGocX:function(e,t){return e(t)},bJClG:function(e,t){return e<t},MhgGi:function(e,t){return e/t},lpfMR:function(e,t){return e-t},pEFwp:function(e,t){return e*t},GLEUW:function(e,t){return e+t},oZHhF:function(e,t){return e*t}},s=a.kmsqm(a.lpfMR(3*e,3*n),1),o=a.pEFwp(3,n)-a.urfxh(6,e),r=3*e,l=a.GLEUW(a.lpfMR(a.btLPg(3,t),3*i),1),d=a.oZHhF(3,i)-6*t,c=a.pEFwp(3,t);function $(e){return a.btLPg(a.kmsqm(s*e,o)*e+r,e)}function h(e){return a.HtMPv(a.EvgUy(3,s)*e+2*o,e)+r}return e=>{var t;return t=function e(t){let n=0,i=1,s=t;for(let o=0;a.wCywP(o,8);o++){let r=$(s)-t;if(1e-6>Math.abs(r))return s;let l=a.uelfF(h,s);if(1e-6>Math.abs(l))break;s-=r/l}for(;i>n;){let d=a.qHFAJ(a.eGocX($,s),t);if(a.bJClG(Math.abs(d),1e-6))break;d>0?i=s:n=s,s=a.MhgGi(a.kmsqm(i,n),2)}return s}(e),(a.urfxh(a.zhIdw(l,t)+d,t)+c)*t}}function _0x42659b(e,t="vertical"){let n={BaxXq:"keydown",BOPnu:"ArrowLeft",qJFRp:function(e,t){return e<=t},TOKnk:function(e){return e()}};function i(){let i={};i.FDkpi=n.BaxXq,i.TXRNe="vertical",i.gvJSm=function(e,t){return e+t},i.IXRfs=function(e,t){return e%t},i.xUfMb=function(e,t){return e===t},i.gJKFI=n.BOPnu;let a=i;if(n.qJFRp(e.length,1)){e.forEach(e=>{e._navHandler&&(e.removeEventListener(a.FDkpi,e._navHandler),delete e._navHandler)});return}e.forEach((n,i)=>{n._navHandler&&n.removeEventListener(a.FDkpi,n._navHandler),n._navHandler=n=>{let s=i;if(t===a.TXRNe){if("ArrowDown"===n.key)s=a.gvJSm(i,1)%e.length;else{if("ArrowUp"!==n.key)return;s=a.IXRfs(i-1+e.length,e.length)}}else{if(!a.xUfMb(t,"horizontal"))return;if(a.xUfMb(n.key,"ArrowRight"))s=a.gvJSm(i,1)%e.length;else{if(!a.xUfMb(n.key,a.gJKFI))return;s=a.IXRfs(i-1+e.length,e.length)}}e[s].focus()},n.addEventListener("keydown",n._navHandler)})}i();let a={};return a.removeItem=function t(a){e=e.filter(e=>e!==a),n.TOKnk(i)},a.addItem=function t(n){e.push(n),i()},a.updateEventListeners=i,a}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.KowTe="disabled",n.tItqz=function(e,t){return e===t},n.QHstY="click",n.hChte=function(e,t){return e===t},n.Wzugu=function(e,t){return e>=t},n.psBRe=function(e,t){return e-t},n.MQRNg="keydown";let i=n,a=this;a._bindWithCooldownHandler&&(a.removeEventListener(i.QHstY,a._bindWithCooldownHandler),a.removeEventListener(i.MQRNg,a._bindWithCooldownHandler));let s=0,o=function(n){let o=Date.now();!a.classList.contains("disabled")&&!a.hasAttribute(i.KowTe)&&(i.tItqz(n.type,i.QHstY)||i.hChte(n.keyCode,32)||i.hChte(n.keyCode,13))&&(i.Wzugu(i.psBRe(o,s),t)||0===t)&&(s=o,e.call(a,n))};a.addEventListener(i.QHstY,o),a.addEventListener("keydown",o),a._bindWithCooldownHandler=o};let _0x32a563={set(e,t){try{let n=JSON.stringify(t);localStorage.setItem(e,n)}catch(i){console.error("Error saving to localStorage",i)}},get(e,t=null){let n={};n.aTTMC=function(e,t){return e!==t},n.bbEJO="Error reading from localStorage";let i=n;try{let a=localStorage.getItem(e);return i.aTTMC(a,null)?JSON.parse(a):t}catch(s){return console.error(i.bbEJO,s),t}},remove(e){try{localStorage.removeItem(e)}catch(t){console.error("Error removing from localStorage",t)}},clear(){let e={};e.xDveW="Error clearing localStorage";try{localStorage.clear()}catch(t){console.error(e.xDveW,t)}},has(e){let t={};return t.eKOGj=function(e,t){return e!==t},t.eKOGj(localStorage.getItem(e),null)},keys:()=>Object.keys(localStorage)};class _0x119277{constructor({parent:e,text:t,placement:n="top",interactive:i=!0}){let a={};a.ZfPqw="2|3|1|5|0|4",a.svhLJ="focus";let s=a;if(this._parent=e,this._content=t,this._placement=n,this._tooltip=null,this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9),this._parent.setAttribute("aria-describedby",this._tooltipId),i){let o=s.ZfPqw.split("|"),r=0;for(;;){switch(o[r++]){case"0":this._parent.addEventListener("blur",this.hideTooltip);continue;case"1":this._parent.addEventListener("mouseenter",this.showTooltip);continue;case"2":this.showTooltip=this.showTooltip.bind(this);continue;case"3":this.hideTooltip=this.hideTooltip.bind(this);continue;case"4":this._parent.addEventListener("mouseleave",this.hideTooltip);continue;case"5":this._parent.addEventListener(s.svhLJ,this.showTooltip);continue}break}}}_createTooltipElement(){let e={afmvx:function(e,t){return e(t)},kWeYg:"xuocLuDI6",tCOJG:"placement"},t=e.afmvx(_0x5d2a62,e.kWeYg);return t.setAttribute(e.tCOJG,this._placement),t.setAttribute("id",this._tooltipId),t.innerText=this._content,t}updatePosition(){let e={};e.jwbzk="top",e.EnGXm=function(e,t){return e-t},e.elsjT=function(e,t){return e-t},e.NeHSL=function(e,t){return e+t},e.BlLZy=function(e,t){return e+t},e.ZkBqY=function(e,t){return e/t},e.SwKIH=function(e,t){return e+t},e.JkiIe=function(e,t){return e+t},e.ZpdUF="right",e.PXOWC=function(e,t){return e/t},e.bJxMg=function(e,t){return e+t};let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),i=this._tooltip.getBoundingClientRect(),a,s;switch(this._placement){case t.jwbzk:a=t.EnGXm(t.elsjT(t.NeHSL(window.scrollY,n.top),i.height),8),s=t.BlLZy(window.scrollX+n.left,n.width/2)-t.ZkBqY(i.width,2);break;case"bottom":a=t.SwKIH(t.JkiIe(window.scrollY,n.bottom),8),s=t.BlLZy(t.JkiIe(window.scrollX,n.left),n.width/2)-i.width/2;break;case"left":a=t.EnGXm(window.scrollY+n.top+n.height/2,i.height/2),s=window.scrollX+n.left-i.width-8;break;case t.ZpdUF:a=t.JkiIe(t.SwKIH(window.scrollY,n.top),t.PXOWC(n.height,2))-t.PXOWC(i.height,2),s=t.bJxMg(t.JkiIe(window.scrollX,n.right),8);break;default:throw Error("Invalid placement value")}this._tooltip.style.top=a+"px",this._tooltip.style.left=s+"px"}showTooltip(){let e={};e.AIxOS="delayed-open";let t=e,n="2|4|3|5|0|1".split("|"),i=0;for(;;){switch(n[i++]){case"0":this._tooltip.setAttribute("data-state",t.AIxOS);continue;case"1":this._tooltip.setAttribute("aria-expanded","true");continue;case"2":if(this._tooltip)return;continue;case"3":document.body.appendChild(this._tooltip);continue;case"4":this._tooltip=this._createTooltipElement();continue;case"5":this.updatePosition();continue}break}}hideTooltip(){let e={};e.gwgbw="aria-expanded",this._tooltip&&(this._tooltip.setAttribute("data-state","closed"),this._tooltip.setAttribute(e.gwgbw,"false"),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.SAcVt="aria-describedby",e.RSbyY="focus",e.FKGFZ="blur";let t=e,n="0|3|1|4|2".split("|"),i=0;for(;;){switch(n[i++]){case"0":this.hideTooltip();continue;case"1":this._tooltip=null;continue;case"2":this._content=null;continue;case"3":this._parent&&(this._parent.removeAttribute(t.SAcVt),this._parent.removeEventListener("mouseenter",this.showTooltip),this._parent.removeEventListener(t.RSbyY,this.showTooltip),this._parent.removeEventListener(t.FKGFZ,this.hideTooltip),this._parent.removeEventListener("mouseleave",this.hideTooltip));continue;case"4":this._parent=null;continue}break}}}class _0x19310d{constructor({trigger:e,placement:t="bottom"}){let n={UosGU:function(e,t){return e(t)},bjKFe:function(e,t){return e(t)},hLRrP:"data-state",CrpOg:"true",xqxJb:"contextmenu",LNBvm:"resize"},i="_"+_0x557464(12);this.trigger=e,this.placement=t,this.Root=n.UosGU(_0x5d2a62,"xEHCrF5Oe"),this.Overlay=n.bjKFe(_0x5d2a62,"overlay"),this.Content=_0x5d2a62("xC3Uih0ex"),this.Root.setAttribute(n.hLRrP,"open"),this.Root.setAttribute("role","popover"),this.Root.setAttribute("aria-modal",n.CrpOg),this.Root.id=i,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let a=n.bjKFe(_0x54c2e9,i);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+a+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert","true")}),this.Overlay.addEventListener("click",()=>this.close()),this.Overlay.addEventListener(n.xqxJb,()=>this.close()),document.addEventListener("keydown",this._handleKeyDown),this._setPosition(),window.addEventListener(n.LNBvm,this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e={};e.zZXFI="absolute";let t=this.trigger.getBoundingClientRect(),n=this.Content.getBoundingClientRect(),i;if(Array.isArray(this.placement)){for(let a of this.placement){let s=this._calculatePosition(a,t,n);if(this._isPositionWithinViewport(s,n)){i=a;break}}i||(i=this.placement[0])}else i=this.placement;let o=this._calculatePosition(i,t,n);this.Content.style.position=e.zZXFI,this.Content.style.top=o.top+"px",this.Content.style.left=o.left+"px"}_calculatePosition(e,t,n){let i={};i.VxUqK="bottom",i.hHVwM="left",i.pavqv="right",i.tMtbC="top",i.WLvfm=function(e,t){return e===t},i.XDqBZ=function(e,t){return e-t},i.vSZym=function(e,t){return e+t};let a=i,s=0,o=0,[r,l]=e.split("-");switch(r){case"top":s=t.top-n.height;break;case a.VxUqK:s=t.bottom;break;case a.hHVwM:o=t.left-n.width;break;case a.pavqv:o=t.right}switch(l){case"start":o=t.left;break;case"end":o=t.left+t.width-n.width;break;default:r===a.tMtbC||a.WLvfm(r,"bottom")?o=t.left+a.XDqBZ(t.width,n.width)/2:s=a.vSZym(t.top,(t.height-n.height)/2)}let d={};return d.top=s,d.left=o,d}_isPositionWithinViewport(e,t){let n={};n.YuUsr=function(e,t){return e>=t},n.gUotn=function(e,t){return e<=t},n.DCJSn=function(e,t){return e<=t},n.nyYuI=function(e,t){return e+t};let i=n,a=window.innerWidth,s=window.innerHeight,{top:o,left:r}=e;return o>=0&&i.YuUsr(r,0)&&i.gUotn(o+t.height,s)&&i.DCJSn(i.nyYuI(r,t.width),a)}_handleKeyDown=e=>{let t={};t.tCRCy=function(e,t){return e===t},t.tCRCy(e.keyCode,27)&&(this.close(),this.trigger.focus())};_removeListeners(){let e={};e.NzoNN="keydown",document.removeEventListener(e.NzoNN,this._handleKeyDown),window.removeEventListener("resize",this._handleResize)}onClose(e){this.onCloseCallback=e}close(){let e={};e.MkDBk="inert",e.qNeHi="closed";let t=e;this._removeListeners(),this._deactivated_elements.forEach(e=>{e.removeAttribute(t.MkDBk)}),this.Root.setAttribute("data-state",t.qNeHi),setTimeout(()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x54c2e9(e){let t={};return t.ElOML=function(e,t){return e+t},e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,"\\$&").replace(/^(-?\d)/,t.ElOML("\\3",e.charAt(0))+" ")}class _0x5cf3eb{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={kSwzb:function(e,t){return e(t)},kEdFV:"overlay",EYQBd:"content",fJEFe:"data-state",kEBUY:"open",jJGgo:"dialog",zLENP:"aria-modal",sCQla:"true",pPQcy:function(e,t){return e(t)}},a="_"+i.kSwzb(_0x557464,12);this.Root=_0x5d2a62("x54SkYRT0"),this.Overlay=_0x5d2a62(i.kEdFV),this.Content=_0x5d2a62(i.EYQBd),this.Root.setAttribute(i.fJEFe,i.kEBUY),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role",i.jJGgo),this.Root.setAttribute(i.zLENP,i.sCQla),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=a;let s=i.pPQcy(_0x54c2e9,a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add("show"),_0x5cf3eb.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.vhFAg=function(e,t){return e===t},t.nbjeW=function(e,t){return e-t};let n=t;n.vhFAg(e.keyCode,27)&&_0x5cf3eb.stack[n.nbjeW(_0x5cf3eb.stack.length,1)]===this&&this.close()};onClose(e){this.onCloseCallback=e}close(){let e={};e.aqZRT="inert",e.XQvek=function(e,t){return e>t};let t=e;if(!this.Lock){let n=_0x5cf3eb.stack.indexOf(this);t.XQvek(n,-1)&&_0x5cf3eb.stack.splice(n,1),this.onCloseCallback&&this.onCloseCallback(),this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>{e instanceof HTMLElement&&e.removeAttribute(t.aqZRT)}):this._deactivated_elements.forEach(e=>{e.removeAttribute(t.aqZRT)}),this.Root.setAttribute("data-state","closed"),setTimeout(()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}}_0x5cf3eb.stack=[];class _0x38f752 extends _0x5cf3eb{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:i=!1,closeOnEsc:a=!0,showCloseButton:s=!1}={}){let o={};o.closeOnOverlayClick=i,o.closeOnEsc=a,super(o);let r=this._createHeader(e,s),l=this._createBody(t);if(this.Content.style.padding="0px",this.Content.classList.add("xv1VrMJb6"),this.Content.classList.add("xLDQZ1SSl"),this.Content.appendChild(r),this.Content.appendChild(l),n.length>0){let d=this._createFooter(n);l.appendChild(d)}}_createHeader(e,t){let n={};n.nDhVY="div",n.zClBn="xrYn5ZY3v lf gn",n.dsDjM="Alert";let i=n,a=document.createElement(i.nDhVY);a.className=i.zClBn;let s=document.createElement("div");if(s.className="x6Y89FynP",s.textContent=e||i.dsDjM,a.appendChild(s),t){let o=_0x5d2a62("xvb5soWNa");o.focusable(!0),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',o.bindWithCooldown(()=>{this.close()}),a.appendChild(o)}return a}_createBody(e){let t={};t.EbTtt="div",t.DUzFL="Are you sure?";let n=t,i=document.createElement(n.EbTtt);i.className="xWDUelLWA";let a=document.createElement("div");return a.className="xujSSErs5",a.innerHTML=e||n.DUzFL,i.appendChild(a),i}_createFooter(e){let t={SwOKZ:"div",OKFeN:function(e,t,n){return e(t,n)}},n=document.createElement("div");n.className="xWh2LBcgj";let i=t.OKFeN(_0x42659b,[],"horizontal");return e.forEach(({text:e,classList:a=[],onClick:s})=>{let o=document.createElement(t.SwOKZ);o.className="xgw2tzk6r "+a.join(" "),o.setAttribute("tabindex","0"),o.textContent=e,o.bindWithCooldown(()=>{s&&s(),this.close()}),i.addItem(o),n.appendChild(o)}),n}}let _0x5d2a62=e=>{let t=document.createElement("div");return t.classList.add(e),t},_0x16be02=e=>document.querySelector(e);function _0x557464(e){let t={};t.SsQmS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.SmDOY=function(e,t){return e*t};let n=t,i=n.SsQmS,a="";for(let s=0;s<e;s++)a+=i.charAt(Math.floor(n.SmDOY(Math.random(),i.length)));return a}function _0x27cc8a(e,t,n={}){let i={OGbCG:"span",CQBup:"xSwoj5Cx2",zUllf:function(e,t){return e===t},AepKv:function(e,t){return e(t)},BVjur:function(e,t,n){return e(t,n)}},{interval:a=24,fadeDuration:s=214,bezierControl:o=[.42,0,1,1]}=n,r=_0x21d248(...o),l=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>","text/html").body.firstChild.childNodes),d=[];l.forEach(t=>(function e(t,n){if(t.nodeType===Node.TEXT_NODE){let a=t.textContent.split("");for(let s of a){let o=document.createElement(i.OGbCG);o.classList.add(i.CQBup),o.textContent=s,n.appendChild(o),d.push(o)}}else if(i.zUllf(t.nodeType,Node.ELEMENT_NODE)){let r=t.cloneNode(!1);n.appendChild(r),Array.from(t.childNodes).forEach(t=>e(t,r))}})(t,e)),function e(){d.length&&(function e(t){let n={rOPRB:function(e,t){return e-t},hUbFA:function(e,t){return i.AepKv(e,t)}},a=performance.now();function o(e){let i=Math.min(n.rOPRB(e,a)/s,1),l=n.hUbFA(r,i);t.style.opacity=l,i<1&&n.hUbFA(requestAnimationFrame,o)}i.AepKv(requestAnimationFrame,o)}(d.shift()),i.BVjur(setTimeout,e,a))}()}function _0x411a9b(e,t){let n={};n.IrQbU=function(e,t){return e<=t},n.RPyHf=function(e,t){return e<t},n.zTYmF=function(e,t){return e/t},n.NOgxf=function(e,t){return e-t};let i=n,a=new Date,s=new Date(e),o=new Date(t);if(a>=s&&i.IrQbU(a,o))return"現在";let r=i.RPyHf(a,s)?s:o,l=r.getHours(),d;d=l>=0&&i.RPyHf(l,6)?"清晨":l<12?"早上":l<18?"下午":"晚上";let c=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),$=c(r),h=c(a),u=Math.round(i.zTYmF(i.NOgxf($,h),864e5)),x;switch(u){case -2:x="前天";break;case -1:x="昨天";break;case 0:x="今天";break;case 1:x="明天";break;case 2:x="後天";break;default:x=r.getMonth()+1+"/"+r.getDate()}return x+" "+d}function _0x5c059a(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0x4e6499(){let e={};e.eVgIG="iOS",e.RpRZe="Tablet",e.KqziE="Mobile",e.vMbCe="Android",e.NffgX="Desktop",e.xmtcd="macOS",e.rzGIT="Unknown";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,i=navigator.platform,a=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||"MacIntel"===i&&a>1){let s=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(s){let o=s[1]||"0",r=s[2]||"0",l=s[3]||"0";return{os:t.eVgIG,version:o+"."+r+"."+l,deviceType:/iPad/.test(n)?t.RpRZe:t.KqziE}}}if(/Android/.test(n)){let d=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(d){let c=d[1]||"0",$=d[2]||"0",h=d[3]||"0";return{os:t.vMbCe,version:c+"."+$+"."+h,deviceType:/Mobile/.test(n)?"Mobile":t.RpRZe}}}if(/Win/.test(i)){let u=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(u){let x=u[1]||"0",b=u[2]||"0",p={};return p.os="Windows",p.version=x+"."+b,p.deviceType=t.NffgX,p}let f={};return f.os="Windows",f.version=null,f.deviceType="Desktop",f}if(/Mac/.test(i)){let _=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(_){let m=_[1]||"0",v=_[2]||"0",g=_[3]||"0",C={};return C.os=t.xmtcd,C.version=m+"."+v+"."+g,C.deviceType="Desktop",C}let w={};return w.os="macOS",w.version=null,w.deviceType="Desktop",w}if(/Linux/.test(i)){let y={};return y.os="Linux",y.version=null,y.deviceType="Desktop",y}let L={};return L.os="Unknown",L.version=null,L.deviceType=t.rzGIT,L}function _0x95c8c8(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x14c615={};_0x14c615.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x14c615.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x14c615.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x2a374f=_0x14c615;class _0x21b3fb{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={XPpwy:function(e,t){return e(t)},cskfo:function(e,t){return e(t)},NHVhq:"drawer-overlay",HLUkY:"div",gliOk:"drawer-drag-handle",NtQrM:"data-state",apfPi:"open",UOnJH:"dialog",lfAwc:function(e,t){return e(t)},Ufdfq:"show",ScUZy:"click",ZbupM:"keydown"},a="_"+_0x557464(12);this.Root=i.XPpwy(_0x5d2a62,"drawer-root"),this.Overlay=i.cskfo(_0x5d2a62,i.NHVhq),this.Content=_0x5d2a62("drawer-content"),this.Header=_0x5d2a62("drawer-header"),this.Handle=document.createElement(i.HLUkY),this.Handle.className=i.gliOk,this.Header.appendChild(this.Handle),this.Body=_0x5d2a62("drawer-body"),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute(i.NtQrM,i.apfPi),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role",i.UOnJH),this.Root.setAttribute("aria-modal","true"),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=a;let s=i.lfAwc(_0x54c2e9,a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.Ufdfq),_0x21b3fb.stack.push(this),e&&this.Overlay.addEventListener(i.ScUZy,this._handleOverlayClick),t&&document.addEventListener(i.ZbupM,this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.XhOag=function(e,t){return e===t},t.ZOcSX=function(e,t){return e-t};let n=t;if(n.XhOag(e.keyCode,27)){let i=_0x21b3fb.stack[n.ZOcSX(_0x21b3fb.stack.length,1)];n.XhOag(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={zjDVF:function(e){return e()},STfEQ:function(e,t){return e===t},kcilo:"matrix",KTiIN:"x9GmoP75O"},t=_0x21b3fb.stack.indexOf(this);t>-1&&_0x21b3fb.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback();let n=()=>{this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},i=window.getComputedStyle(this.Content).transform;e.STfEQ(i,"none")||i.includes(e.kcilo)?(this.Content.classList.remove(e.KTiIN),this.Content.style.transform="translateY(100%)",setTimeout(()=>{e.zjDVF(n),this.Root.remove()},300)):(n(),this.Root.remove()),this._removeListeners()}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}_setupDrag(){let e={ZUsfc:".xBWmlKrN2 *",MpbGV:function(e,t){return e-t},xRIjr:function(e,t){return e/t},iSkSj:function(e,t){return e/t},pytoR:function(e,t){return e>t},IklPJ:"translateY(0)",mGlBl:"mousemove",KTMZQ:function(e,t){return e(t)},cHgsK:"touchend",KXdBe:"mousedown"},t=0,n=0,i=0,a=!1,s=n=>{let s="4|1|3|0|2".split("|"),o=0;for(;;){switch(s[o++]){case"0":a=!0;continue;case"1":t=n.touches?n.touches[0].clientY:n.clientY;continue;case"2":this.Content.classList.add("x9GmoP75O");continue;case"3":i=Date.now();continue;case"4":if(0!==n.target.scrollTop||n.target.closest(e.ZUsfc))return;continue}break}},o=e=>{if(!a)return;let i=(n=e.touches?e.touches[0].clientY:e.clientY)-t;i>0&&(this.Content.style.transform="translateY("+i+"px)")},r=()=>{if(!a)return;let s=e.MpbGV(n,t),o=e.xRIjr(Date.now()-i,1e3),r=e.iSkSj(s,o),l=this.Content.offsetHeight;this.Content.classList.remove("x9GmoP75O"),e.pytoR(s,.5*l)||r>600?this.close():this.Content.style.transform=e.IklPJ,a=!1},l={};l.passive=!0,this.Content.addEventListener("touchstart",s,l);let d={};d.passive=!0,this.Content.addEventListener("touchmove",o,d),this.Content.addEventListener(e.cHgsK,r),this.Content.addEventListener(e.KXdBe,t=>{e.KTMZQ(s,t);let n=e=>o(e),i=()=>{r(),document.removeEventListener(e.mGlBl,n),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",i)})}}_0x21b3fb.stack=[];let _0x1f1e91=_0x32a563.get("lang"),_0xbbd0a8="zh";_0x1f1e91?_0xbbd0a8=_0x1f1e91:(_0xbbd0a8="zh",_0x32a563.set("lang","zh"));let _0x37e986={};_0x37e986.a1="搜尋…",_0x37e986.a2="未知",_0x37e986.a3="在這裡輸入訊息…",_0x37e986.a4="更新了什麼",_0x37e986.a5="私人",_0x37e986.a6="說明",_0x37e986.a7="公開",_0x37e986.a8="展開全部",_0x37e986.a9="顯示較少",_0x37e986.a10="查看全部",_0x37e986.a11="加入聊天室",_0x37e986.a12="加入聊天室",_0x37e986.a13="邀請碼",_0x37e986.a14="送出",_0x37e986.a15="查看個人資料",_0x37e986.a16="登出",_0x37e986.a17="無效的邀請碼，請重新嘗試",_0x37e986.a18="$0 秒前",_0x37e986.a19="$0 個月前",_0x37e986.a20="$0 分鐘前",_0x37e986.a21="$0 小時前",_0x37e986.a22="$0 年前",_0x37e986.a23="$0 天前",_0x37e986.a24="無法預覽這個文件",_0x37e986.a25="下載",_0x37e986.a26="你",_0x37e986.b1="描述",_0x37e986.b2="最後上線",_0x37e986.b3="描述",_0x37e986.b4="暱稱",_0x37e986.b5="編輯個人資料",_0x37e986.b6="完成",_0x37e986.b7="完成",_0x37e986.b8="歡迎回來",_0x37e986.b9="登入帳號後即可使用我們的服務",_0x37e986.b10="等待中…",_0x37e986.b11="使用 Google 繼續",_0x37e986.b12="使用 電子郵件 登入",_0x37e986.b13="返回上一頁",_0x37e986.b14="密碼錯誤，請重新嘗試",_0x37e986.b15="找不到這個帳號，請重新嘗試",_0x37e986.b16="網路請求錯誤，請檢查網路連線",_0x37e986.b17="發生未知的錯誤",_0x37e986.b18="$0 則訊息",_0x37e986.b19="沒有訊息",_0x37e986.b20="所有成員",_0x37e986.b21="查看所有成員",_0x37e986.b22="查看行程安排",_0x37e986.b23="退出",_0x37e986.b24="電子郵件地址",_0x37e986.b25="密碼",_0x37e986.b26="送出",_0x37e986.b27="電子郵件登入",_0x37e986.b28="@未知",_0x37e986.b29="未知",_0x37e986.b30="已成功清除緩存，重新載入後即生效",_0x37e986.b31="未知的指令，請重新嘗試",_0x37e986.b32="載入中…",_0x37e986.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0x37e986.b34="退出",_0x37e986.b35="取消",_0x37e986.b36="確定",_0x37e986.b37="行程安排",_0x37e986.b38="標題",_0x37e986.b39="開始",_0x37e986.b40="結束",_0x37e986.b41="編輯行程",_0x37e986.c1="編輯模式",_0x37e986.c2="預覽模式",_0x37e986.c3="已更新介面語言為：$0",_0x37e986.c4="英語",_0x37e986.c5="中文",_0x37e986.z0='<li class="xcKqXW8uF">修復了一些錯誤</li><li class="xcKqXW8uF">未來可能不會再更新了，看情況</li>',_0x37e986.b42="上傳中",_0x37e986.b43="正在上傳中，請耐心等待",_0x37e986.b44="上傳遭中斷",_0x37e986.b45="已取消上傳",_0x37e986.b46="上傳完成",_0x37e986.b47="這個文件已經成功上傳了",_0x37e986.b48="上傳失敗",_0x37e986.b49="這個文件有 $0 ，我們無法負擔",_0x37e986.d0="附加文件",_0x37e986.d1="發送",_0x37e986.d2="加入貼圖",_0x37e986.d3="標記為重要",_0x37e986.d4="取消標記",_0x37e986.d5="任何人都能加入這個聊天室",_0x37e986.d6="只有受邀人能加入本聊天室",_0x37e986.d7="重新載入後方可完整更新您的資料",_0x37e986.d8="這裡還沒有訊息，現在就開始聊天吧",_0x37e986.d9="未知",_0x37e986.d10="暫時還沒有描述哦",_0x37e986.d11="未知",_0x37e986.d12="未知",_0x37e986.d13="尚未加入任何聊天室",_0x37e986.d14="還沒有任何行程，現在就創建一個吧";let _0x4b595c={};_0x4b595c.a1="Search…",_0x4b595c.a2="Unknown",_0x4b595c.a3="Enter message here…",_0x4b595c.a4="What's new",_0x4b595c.a5="Private",_0x4b595c.a6="Illustrate",_0x4b595c.a7="Public",_0x4b595c.a8="Show more",_0x4b595c.a9="Show less",_0x4b595c.a10="Show all",_0x4b595c.a11="Join groups",_0x4b595c.a12="Join Groups",_0x4b595c.a13="Invitation code",_0x4b595c.a14="Submit",_0x4b595c.a15="View profile",_0x4b595c.a16="Logout",_0x4b595c.a17="Invalid invitation code, please try again",_0x4b595c.a18="$0 seconds ago",_0x4b595c.a19="$0 months ago",_0x4b595c.a20="$0 minutes ago",_0x4b595c.a21="$0 hours ago",_0x4b595c.a22="$0 years ago",_0x4b595c.a23="$0 days ago",_0x4b595c.a24="Unable to preview this file",_0x4b595c.a25="Download",_0x4b595c.a26="You",_0x4b595c.b1="Description",_0x4b595c.b2="Last online",_0x4b595c.b3="Description",_0x4b595c.b4="Nickname",_0x4b595c.b5="Edit Profile",_0x4b595c.b6="Save",_0x4b595c.b7="Save",_0x4b595c.b8="Welcome back",_0x4b595c.b9="Log in to your account to use our services",_0x4b595c.b10="Waiting…",_0x4b595c.b11="Continue with Google",_0x4b595c.b12="Continue with Email",_0x4b595c.b13="Return to previous page",_0x4b595c.b14="Wrong password, please try again",_0x4b595c.b15="The account could not be found. Please try again.",_0x4b595c.b16="Network request error, please check the network connection",_0x4b595c.b17="An unknown error occurred",_0x4b595c.b18="$0 messages",_0x4b595c.b19="No message",_0x4b595c.b20="All members",_0x4b595c.b21="View members",_0x4b595c.b22="View itinerary",_0x4b595c.b23="Leave",_0x4b595c.b24="Email Address",_0x4b595c.b25="Password",_0x4b595c.b26="Submit",_0x4b595c.b27="Login with Email",_0x4b595c.b28="@unknown",_0x4b595c.b29="unknown",_0x4b595c.b30="The cache has been successfully cleared and will take effect after reloading",_0x4b595c.b31="Unknown command, please try again",_0x4b595c.b32="Loading…",_0x4b595c.b33="Are you sure you want to leave this group? You can rejoin later.",_0x4b595c.b34="Leave",_0x4b595c.b35="Cancel",_0x4b595c.b36="Comfirm",_0x4b595c.b37="All itinerary",_0x4b595c.b38="Title",_0x4b595c.b39="Start",_0x4b595c.b40="End",_0x4b595c.b41="Edit itinerary",_0x4b595c.c1="編輯模式",_0x4b595c.c2="預覽模式",_0x4b595c.c3="Updated language: $0",_0x4b595c.c4="English",_0x4b595c.c5="Chinese",_0x4b595c.z0='<li class="xcKqXW8uF">Fixed some bugs.</li><li class="xcKqXW8uF">There may be no more updates in the future.</li>',_0x4b595c.b42="Uploading",_0x4b595c.b43="Uploading, please wait patiently",_0x4b595c.b44="Upload interrupted",_0x4b595c.b45="Upload canceled",_0x4b595c.b46="Upload completed",_0x4b595c.b47="The file has been uploaded successfully",_0x4b595c.b48="Upload failed",_0x4b595c.b49="This file is $0 and we can't afford it",_0x4b595c.d0="Attach files",_0x4b595c.d1="Send",_0x4b595c.d2="Add stickers",_0x4b595c.d3="Mark as important",_0x4b595c.d4="Unmark",_0x4b595c.d5="Anyone can join this group",_0x4b595c.d6="Only invited people can join this group",_0x4b595c.d7="Reload to fully update your information",_0x4b595c.d8="There are no messages here yet. Start chatting now.",_0x4b595c.d9="Unknown",_0x4b595c.d10="There is no description yet",_0x4b595c.d11="Unknown",_0x4b595c.d12="Unknown",_0x4b595c.d13="Not joined any chat room yet",_0x4b595c.d14="No itinerary yet";let _0x314e7a={};_0x314e7a.zh=_0x37e986,_0x314e7a.en=_0x4b595c;let _0x3ad4fb=_0x314e7a;function _0xb5fc84(e){return _0x3ad4fb[e]}let _0x277240={};_0x277240.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x277240.authDomain="smiling-theory-397204.firebaseapp.com",_0x277240.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x277240.projectId="smiling-theory-397204",_0x277240.storageBucket="smiling-theory-397204.appspot.com",_0x277240.messagingSenderId="360479398694",_0x277240.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x277240.measurementId="G-6BKTT1K7D1";let _0x1cd696=e(_0x277240),_0x5b9b05=_0xb5fc84(_0xbbd0a8),_0x4a31e6=$(_0x1cd696),_0x38e1c9=r(_0x1cd696),_0x1260e7=new i,_0xeaba86=t();h(_0x4a31e6).then(()=>{console.log("離線緩存功能已啟用")}).catch(e=>{let t={};t.FZNGs="failed-precondition",t.MoPxt="已開啟多個分頁，無法啟用離線緩存功能",t.ySvGU=function(e,t){return e===t},t.XzcMa="當前瀏覽器不支持離線緩存";let n=t;e.code===n.FZNGs?console.error(n.MoPxt):n.ySvGU(e.code,"unimplemented")&&console.error(n.XzcMa)});let _0x4cf1c5=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x13790e=[],_0x3b2e8d={sidebar:_0x16be02(".xFz8bwNFr"),main:_0x16be02(".x8o58HttN"),messageInput:_0x16be02(".xtsARDHTI"),searchInput:_0x16be02(".xujXllYgW"),messageContainer:_0x16be02(".xikyLwDf4"),sendButton:_0x16be02(".xuwRtDpu4"),fileInput:_0x16be02(".xVEJA40Qh"),attachButton:_0x16be02(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x16be02(".xpbRox0hO#xbXZpIWEa"),markButton:_0x16be02(".xpbRox0hO#xsVrze5YA"),brushButton:_0x16be02(".xpbRox0hO#xrfvUzMAG"),heading:_0x16be02(".xehdiGgBv"),backButton:_0x16be02(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x16be02(".xemr1y6ie"),spinnerContainer:_0x16be02(".xemr1y6ie .spinner"),spinnerLabel:_0x16be02(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x16be02(".xDADAUUv4"),roomNameLabel:_0x16be02(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x16be02(".xlKSJ67AP"),nameLabel:_0x16be02(".xt4GQkVIo"),avatarLabel:_0x16be02(".xbVHF6S6B"),avatarWrapper:_0x16be02(".xaoteDJh4"),profileContainer:_0x16be02(".xQ6gFUtqT"),layoutResizer:_0x16be02(".xrFP6D2e1"),statusLabel:_0x16be02(".xOJE48BLX"),activityBar:_0x16be02(".pS2na74a"),layoutResizer2:_0x16be02(".PLc7zlhg")},_0x40997c='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0x5b9b05.b32,_0x3cc857={};_0x3cc857.current="0.1.5",_0x3cc857.cacheId="x0n0HCjlj",_0x3cc857.directions='<ul class="xxmjDL5xB xbH7v2Hbn">'+_0x5b9b05.z0+"</ul>";let _0x543fbf=_0x3cc857,_0x184898=[],_0x3a14e1={},_0x33dc55={},_0x5e3830={},_0x1c8b7e,_0x38d672=!1,_0x1716b6="",_0x4060ca,_0x5940fb=0,_0x1acfc3,_0x403bf5=!1,_0x3a1a67=!1,_0x1172e6=_0x3b2e8d.messageContainer,_0x2f1f79={};_0x2f1f79.state=!1,_0x2f1f79._a=null,_0x2f1f79._b=null,_0x2f1f79._n="",_0x2f1f79._d="",_0x2f1f79._m=[];let _0x118f1d=_0x2f1f79,_0x28b72a="",_0x354bf5=null,_0x3f8949=!1;if(_0x4cf1c5)document.body.classList.add("mobile"),_0x3b2e8d._mb_att_btn.bindWithCooldown(function(){_0x3b2e8d.fileInput.click()});else{document.body.classList.add("desktop");let T={};T.parent=_0x3b2e8d.attachButton,T.text=_0x5b9b05.d0,T.placement="top",new _0x119277(T),_0x3b2e8d.attachButton.bindWithCooldown(function(){_0x3b2e8d.fileInput.click()});let E={};E.parent=_0x3b2e8d.sendButton,E.text=_0x5b9b05.d1,E.placement="top",E.interactive=!0,new _0x119277(E);let A={};A.parent=_0x3b2e8d.stickerButton,A.text=_0x5b9b05.d2,A.placement="top",A.interactive=!0,new _0x119277(A);let R={};R.parent=_0x3b2e8d.markButton,R.text=_0x5b9b05.d3,R.placement="top",R.interactive=!0;let B=new _0x119277(R),H={};H.parent=_0x3b2e8d.brushButton,H.text="潤色文本",H.placement="top",H.interactive=!0,new _0x119277(H),_0x42659b([_0x3b2e8d.attachButton,_0x3b2e8d.brushButton,_0x3b2e8d.markButton,_0x3b2e8d.stickerButton],"horizontal"),_0x3b2e8d.brushButton.bindWithCooldown(function(){let e={};e.gqbBD="潤色文本",e.JvjDu="xDLwiKdTE";let t=e,n=_0x5b7c3c(t.gqbBD,!0);n.content.classList.add("lg"),n.body.classList.add(t.JvjDu)}),_0x3b2e8d.markButton.bindWithCooldown(function(){let e={};e.MoPkg="x3zdxRXQ6",_0x3a1a67?(_0x3a1a67=!1,_0x3b2e8d.markButton.classList.remove(e.MoPkg),B.setText(_0x5b9b05.d3)):(_0x3a1a67=!0,_0x3b2e8d.markButton.classList.add("x3zdxRXQ6"),B.setText(_0x5b9b05.d4))},0);let S=!1,Y=0,I=0,W=e=>{let t={};t.QIYou="xz7kq9zLe",t.UTfdN="mousemove",t.zJQer="mouseup";let n=t;S=!0,document.body.classList.add(n.QIYou);let i=e.target.getBoundingClientRect();I=e.clientX-i.left,document.addEventListener(n.UTfdN,O),document.addEventListener(n.zJQer,F)},O=e=>{let t={};t.ULtNP=function(e,t){return e-t};let n=t;if(!S)return;let i=_0x3b2e8d.sidebar.getBoundingClientRect().left,a=n.ULtNP(n.ULtNP(e.clientX,i),I);Y=a,_0x3b2e8d.sidebar.style.width=a+"px"},F=()=>{let e={};e.DRJsH="xz7kq9zLe";let t=e,n="3|0|4|2|1".split("|"),i=0;for(;;){switch(n[i++]){case"0":_0x32a563.set("xjS4MkN99",Y);continue;case"1":document.removeEventListener("mouseup",F);continue;case"2":document.removeEventListener("mousemove",O);continue;case"3":S=!1;continue;case"4":document.body.classList.remove(t.DRJsH);continue}break}};window.addEventListener("blur",()=>{document.body.classList.remove("resizing"),S=!1}),_0x3b2e8d.layoutResizer.addEventListener("mousedown",e=>{W(e)})}function _0x5b7c3c(e,t=!1,...n){let i={MNuLR:"xrYn5ZY3v",LGfDT:function(e,t){return e(t)},YsRcH:function(e,t){return e(t)},bobxS:"xWDUelLWA",wFgSk:"4|1|3|5|2|0",HXSOv:function(e,t){return e+t}};console.log(n);let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x5cf3eb(a),o=_0x5d2a62(i.MNuLR);o.classList.add("lf"),s.Content.style.padding="0";let r=i.LGfDT(_0x5d2a62,"x6Y89FynP");o.appendChild(r),r.innerText=e,s.Content.appendChild(o);let l=i.YsRcH(_0x5d2a62,i.bobxS);s.Content.appendChild(l);let d;if(t){let c=i.wFgSk.split("|"),$=0;for(;;){switch(c[$++]){case"0":o.appendChild(d);continue;case"1":d.focusable(!0);continue;case"2":d.bindWithCooldown(s.close);continue;case"3":d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>';continue;case"4":d=_0x5d2a62("xvb5soWNa");continue;case"5":s.close=s.close.bind(s);continue}break}}let h=o.getBoundingClientRect();o.style.minHeight=i.HXSOv(h.height,"px");let u={};return u.root=s,u.body=l,u.content=s.Content,u.closebtn=d,u.Root=s.Root,u.Content=s.Content,u}async function _0x10e00c(e,t){let n={TEjPG:"failed",btSFs:"xUSR4cuWD",lrRoa:"x8o1OSu71",SCUYp:"xHZuqwWhI",WndkD:function(e,t){return e+t},WQChZ:"data-state",FQhqc:"loaded",AqGVy:"xFIqZCKV3",OGikB:"instant",VQSrR:"xAQPbc7N3",AFybe:function(e,t){return e(t)},HrNFT:function(e,t,n){return e(t,n)},TVydg:function(e,t){return e===t},UsENg:"x2y08yFOH",ZNMpi:"img",fXapB:"loading",WwXPc:"cache-url",dcmwC:function(e,t){return e===t},WsqeF:"video",ByaVK:"controls",MlLic:"true",eNMHo:"controlslist",IJjac:"xGsec9lFd",xdXfZ:"a24",Adglf:"a25",thcjM:"span",LJwgA:"xYj7x2KZ4",KLReB:"xVlceg4Ab",MsTQN:function(e,t,n){return e(t,n)},lXeaP:function(e,t){return e>t},RqNcY:function(e,t){return e(t)},llmFw:"x6EwJGLAa",eaGrF:"a10"};if(t.startsWith("<")){let i=t.match(/<\s*(\w+)\s+(\S+)/),a=i[1],s=i[2];if("image"===a){let o=document.createElement(n.ZNMpi);o.focusable(!0),o.classList.add("xGsec9lFd"),o.classList.add(n.btSFs),o.setAttribute(n.WQChZ,n.fXapB),_0x3f8949||_0x3b2e8d.messageContainer.scrollTo({top:_0x3b2e8d.messageContainer.scrollHeight,behavior:"instant"}),o.onerror=function(){o.setAttribute("data-state",n.TEjPG),o.classList.remove(n.btSFs)},o.onload=function(){let t={oMkhP:"xPSnkbRat",QpmbT:function(e,t){return e(t)},Xwdzc:n.lrRoa,TGKgM:n.SCUYp};_0x3f8949||_0x3b2e8d.messageContainer.scrollTo({top:_0x3b2e8d.messageContainer.scrollHeight,behavior:"instant"});let i=_0x5e3830["_"+s];if(i)o.style.width=n.WndkD(i.width,"px"),o.style.height=i.height+"px";else{let a=o.getBoundingClientRect(),r={};r.width=a.width,r.height=a.height,_0x5e3830["_"+s]=r}o.setAttribute(n.WQChZ,n.FQhqc),o.classList.remove(n.btSFs),e.classList.add(n.AqGVy),o.bindWithCooldown(function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let n=new _0x5cf3eb(e);n.Content.classList.add(t.oMkhP);let i=document.createElement("canvas");i.classList.add("xWuhDLG1C"),n.Content.appendChild(i);let a=new _0x12d667(i,{maxScale:2,onClickOutside(e,t){o(e,t)}});function o(){a.destroy(),n.close()}a.loadImage(s);let r=t.QpmbT(_0x5d2a62,"x8o1OSu71");r.focusable(!0),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',r.bindWithCooldown(o),n.Content.appendChild(r);let l=_0x5d2a62(t.Xwdzc);l.classList.add(t.TGKgM),l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',l.bindWithCooldown(function(){a.rotate()},0),n.Content.appendChild(l)},0)};let r={};r.action=n.WwXPc,r.url=s,navigator.serviceWorker?.controller?.postMessage(r),o.src=s,e.appendChild(o)}else if(n.dcmwC(a,n.WsqeF)){let l=document.createElement("video");l.setAttribute("muted",""),l.focusable(!0),l.playsInline=!0,l.setAttribute(n.ByaVK,n.MlLic),l.setAttribute(n.eNMHo,"nodownload"),l.onloadedmetadata=function(){_0x3b2e8d.messageContainer.scrollTo({top:_0x3b2e8d.messageContainer.scrollHeight,behavior:n.OGikB})};let d={};d.action="cache-url",d.url=s,navigator.serviceWorker?.controller?.postMessage(d),l.src=s,l.classList.add(n.IJjac),e.appendChild(l)}else if("audio"===a){let c=document.createElement("audio");c.focusable(!0),c.setAttribute(n.ByaVK,n.MlLic);let $={};$.action=n.WwXPc,$.url=s,navigator.serviceWorker?.controller?.postMessage($),c.src=s,c.classList.add(n.IJjac),e.appendChild(c)}else e.innerHTML='<div class="xUiYNFhtR">'+_0x5b9b05[n.xdXfZ]+' <a class="x0ciSQShX no-wrap" href="'+s+'" target="_blank" rel="noreferrer noopener">'+_0x5b9b05[n.Adglf]+"</a></div>"}else{let h=document.createElement(n.thcjM),u=_0x5d2a62(n.LJwgA);h.classList.add(n.KLReB),n.MsTQN(_0x101e23,h,t),e.appendChild(h),e.appendChild(u);let x=h.getBoundingClientRect().height;if(n.lXeaP(x,125)){e.classList.add("xDVzL7FIt");let b=n.RqNcY(_0x5d2a62,n.llmFw),p={};p["0"]='<span class="xNM56JYdv">'+_0x5b9b05.a8+"</span>",p["1"]='<span class="xNM56JYdv">'+_0x5b9b05.a9+"</span>",p["2"]='<span class="xNM56JYdv">'+_0x5b9b05[n.eaGrF]+"</span>";let f=p;b.innerHTML=f[_0x4cf1c5?2:0],b.focusable(!0);let _=0;b.bindWithCooldown(function(){if(_0x4cf1c5){let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x21b3fb(i);a.Root.classList.add(n.VQSrR);let s=n.AFybe(_0x5d2a62,"xBWmlKrN2");a.Body.appendChild(s),n.HrNFT(_0x101e23,s,t)}else{let o={};o.top=0,o.behavior=n.OGikB,h.scrollTo(o),n.TVydg(_,0)?(_=1,e.classList.add("x2y08yFOH"),b.innerHTML=f[1]):(_=0,e.classList.remove(n.UsENg),b.innerHTML=f[0])}},0),u.appendChild(b)}}}function _0x101e23(e,t){let n={};n.Vhqdq="desktop",n.EdOFG="b28";let i=n,a=/@(\w+)/g,s=0,o;for(e.clear();null!==(o=a.exec(t));){let{index:r}=o,l=o[1];r>s&&_0xf0bdff(e,t.slice(s,r));let d=document.createElement("a");d.classList.add("x0ciSQShX"),d.focusable(!0),d.dataset.userId=l;let c={};c.userId=l,c.dom=d,_0x118f1d._m.push(c),_0x42a5c4(l,!0).then(function(e){let t={};t.AIZxu=i.Vhqdq;let n=t;e?(d.textContent="@"+(e.name||_0x5b9b05.b29),d.bindWithCooldown(function(){let t={};t.data=e,t.type=_0x4cf1c5?"mobile":n.AIZxu,_0x3ec22e(_0x354bf5,t)},0)):d.textContent=_0x5b9b05[i.EdOFG]}).catch(function(e){d.textContent="@"+l,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(d),s=a.lastIndex}s<t.length&&_0xf0bdff(e,t.slice(s))}function _0xf0bdff(e,t){let n={};n.xXWdm=function(e,t){return e<t},n.tFcDw=function(e,t){return e-t};let i=n,a=t.split("\n");a.forEach((t,n)=>{if(t){let s=_0x573e28(t),o=document.createElement("div");o.innerHTML=s,Array.from(o.childNodes).forEach(t=>{e.appendChild(t)})}i.xXWdm(n,i.tFcDw(a.length,1))&&e.appendChild(document.createElement("br"))})}function _0x573e28(e){let t={};t.usvpq=function(e,t){return e+t},t.NPbFD=function(e,t){return e+t},t.SCnkT='" target="_blank" rel="noreferrer noopener">';let n=t;return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let t=e.replace(/^https?:\/\//,"");return n.usvpq(n.NPbFD('<span class="xCe4Btdzm"><a class="x0ciSQShX" translate="no" href="',e),n.SCnkT)+decodeURIComponent(t)+"</a></span>"})}async function _0x3ce21b(){let e={dayge:function(e,t){return e===t},LqJQQ:"1358",dXOtj:"clear-all-caches",fVKoH:function(e,t){return e(t)},UVEJW:function(e,t,n,i){return e(t,n,i)},BfFfw:"lang",glXgU:function(e,t,n,i){return e(t,n,i)},MBhXM:function(e,t){return e(t)},xRDcm:"&amp;$1",ZQTVS:"&lt;",lrBBz:"&gt;",SepMd:"chats",pBeed:function(e,t,n,i){return e(t,n,i)}},t=_0x3b2e8d.messageInput.innerText.trim();if(!t||!_0x1716b6||e.dayge(t,""))return;_0x3b2e8d.sendButton.classList.add("disabled"),_0x3b2e8d.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let i=n[1],a=n[2];if("task"===i){if(a===e.LqJQQ){_0x3b2e8d.messageInput.clear();let s={};s.action=e.dXOtj,navigator.serviceWorker?.controller?.postMessage(s);let o={};o.content=_0x5b9b05.b30,o.tag="2",_0x1c3d76(o,e.fVKoH(_0x557464,20),"3");return}if("1241"===a){_0x3b2e8d.messageInput.clear(),e.UVEJW(_0x1c3d76,{content:_0x5b9b05.c3.replace("$0",_0x5b9b05.c5),tag:"2"},e.fVKoH(_0x557464,20),"3"),_0x32a563.set(e.BfFfw,"zh");return}if(e.dayge(a,"1242")){_0x3b2e8d.messageInput.clear(),e.glXgU(_0x1c3d76,{content:_0x5b9b05.c3.replace("$0",_0x5b9b05.c4),tag:"2"},_0x557464(20),"3"),_0x32a563.set("lang","en");return}{_0x3b2e8d.messageInput.clear();let r={};r.tag="2",r.content=_0x5b9b05.b31,_0x1c3d76(r,e.MBhXM(_0x557464,20),"3");return}}}t=t.replace(/&([^;]+)/g,e.xRDcm).replaceAll("<",e.ZQTVS).replaceAll(">",e.lrBBz).replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x3b2e8d.messageInput.clear();let l=_0x3a1a67?"1":null;_0x3b2e8d.markButton.classList.remove("x3zdxRXQ6"),_0x3a1a67=!1;let d=e.fVKoH(b,u(_0x4a31e6,e.SepMd,_0x1716b6,"messages"));await x(d,{sender:_0x1acfc3,content:t,timestamp:Date.now(),tag:l});let c={};c.content=t,c.tag=l,e.pBeed(_0x1c3d76,c,d.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={lcbAg:function(e,t){return e===t},hPnEr:"cacheSizeResult",mNcLN:function(e,t){return e(t)}};if(t.lcbAg(e.data.type,"cache-size-result")){let n=document.getElementById(t.hPnEr);if(e.data.error){n.innerHTML="錯誤: "+e.data.error;return}_0x1c3d76({content:t.mNcLN(_0x10791f,e.data.bytes)},t.mNcLN(_0x557464,20),"3")}});let _0x435a57=0;function _0x1c3d76(e,t,n="1"){let i={paIwf:function(e,t){return e(t)},CzKzU:"xMyW2iRSH",HNVex:function(e,t){return e(t)},feyXh:"xc4iCj2Gy",zicHx:"xiOw4dg0O",eeKru:function(e,t){return e===t},BKgBF:"xHJfZfjT1"},a=_0x5d2a62("xVC8gtuyS"),s=i.paIwf(_0x5d2a62,i.CzKzU),o=i.HNVex(_0x5d2a62,"xKljxgVJA"),r=i.paIwf(_0x5d2a62,"xu4Celbbq"),l=_0x5d2a62(i.feyXh),d=_0x5d2a62("xRHoYYwoZ");switch(a.setAttribute("data-visible","true"),a.setAttribute("data-message-id",t),a.classList.add(i.zicHx),a.appendChild(o),o.appendChild(d),d.appendChild(r),r.appendChild(l),d.appendChild(s),l.innerText=_0x5b9b05.a26,_0x28b72a.sender===e.sender&&a.classList.add("xOmVIOA3e"),"1"===e.tag?s.classList.add("x4rKxFxLl"):i.eeKru(e.tag,"2")&&s.classList.add(i.BKgBF),_0x1c8b7e&&(_0x1c8b7e.remove(),_0x1c8b7e=null),n){case"1":_0x3b2e8d.messageContainer.appendChild(a);break;case"2":_0x1172e6.appendChild(a),_0x435a57+=a.offsetHeight;break;case"3":_0x3b2e8d.messageContainer.appendChild(a),_0x403bf5=!0,_0x3b2e8d.messageContainer.scrollTo({top:_0x3b2e8d.messageContainer.scrollHeight,behavior:"smooth"})}_0x10e00c(s,e.content)}function _0x1dd1f5(e,t,n="1"){let i={yTAZi:"xWzeTGC6P",wLtOj:function(e,t,n){return e(t,n)},laRfj:"/assets/avatar.png",Vovox:"d11",NsDcR:function(e,t){return e(t)},uVBlP:"xVC8gtuyS",jQWnu:"xMyW2iRSH",drvtM:function(e,t){return e(t)},QyQma:"xSYcbYqTG",ByQze:"xu4Celbbq",xLwcr:"xc4iCj2Gy",VFfqj:"xRHoYYwoZ",EldKw:"img",FQOcs:"data-visible",JYCqO:"xt8fROB2L",SOTLd:"lazy",KwQfF:"data-message-id",XeNsr:function(e,t){return e===t},xXaZv:"x4rKxFxLl",mLvkj:"smooth"},a=i.NsDcR(_0x5d2a62,i.uVBlP),s=_0x5d2a62(i.jQWnu),o=i.drvtM(_0x5d2a62,i.QyQma),r=_0x5d2a62("xKljxgVJA"),l=i.NsDcR(_0x5d2a62,i.ByQze),d=i.drvtM(_0x5d2a62,i.xLwcr),c=i.NsDcR(_0x5d2a62,"xt8fROB2L"),$=i.NsDcR(_0x5d2a62,i.VFfqj),h=document.createElement(i.EldKw);switch(a.setAttribute(i.FQOcs,"true"),c.classList.add(i.JYCqO),h.loading=i.SOTLd,a.appendChild(o),a.appendChild(r),r.appendChild($),$.appendChild(l),l.appendChild(d),$.appendChild(s),l.appendChild(c),o.appendChild(h),a.setAttribute(i.KwQfF,t),i.XeNsr(e.tag,"1")&&s.classList.add(i.xXaZv),c.innerText="0s",d.innerText=_0x5b9b05.d9,h.draggable=!1,_0x1c8b7e&&(_0x1c8b7e.remove(),_0x1c8b7e=null),_0x28b72a.sender===e.sender&&a.classList.add("xOmVIOA3e"),n){case"1":_0x3b2e8d.messageContainer.appendChild(a);break;case"2":_0x1172e6.appendChild(a),_0x435a57+=a.offsetHeight;break;case"3":_0x3b2e8d.messageContainer.appendChild(a),_0x403bf5=!0,_0x3b2e8d.messageContainer.scrollTo({top:_0x3b2e8d.messageContainer.scrollHeight,behavior:i.mLvkj}),_0x403bf5=!1}i.wLtOj(_0x10e00c,s,e.content),i.drvtM(_0x42a5c4,e.sender).then(t=>{let n={jRIzS:function(e,t,n){return i.wLtOj(e,t,n)},zQMGA:"mobile"};function a(){n.jRIzS(_0x3ec22e,_0x3b2e8d.main,{data:t,type:_0x4cf1c5?n.zQMGA:"desktop"})}c.innerText=_0x79698d(e.timestamp),h.src=t.avatarUrl||i.laRfj,h.onload=function(){o.classList.add(i.yTAZi)},d.onclick=a,o.focusable(!0),o.bindWithCooldown(a),d.innerText=t.name||_0x5b9b05[i.Vovox]}).catch(e=>{console.error(e)})}function _0x32555e(e,t,n){let i={};i.cJPLn=function(e,t){return e||t},i.exwRw="unknown",i.cshFy="assets/avatar.png";let a=i;_0x3b2e8d.signatureLabel.textContent=a.cJPLn(n,a.exwRw),_0x3b2e8d.avatarWrapper.classList.remove("xJd2GT7MI"),_0x3b2e8d.avatarLabel.src=e||a.cshFy,_0x3b2e8d.nameLabel.textContent=t||_0x5b9b05.d11}async function _0x705a4f(){let e={FQZZI:function(e,t){return e>t},DxVph:function(e,t){return e-t},WgSOK:function(e,t,n){return e(t,n)},Uqlvz:function(e,t){return e(t)},MWZpg:function(e,t){return e-t},ztYsO:"正在初始化應用程序",Hllav:"placeholder",mJNYs:"xjS4MkN99",JXMRm:function(e,t){return e+t},KTSPs:function(e){return e()},eyPCf:function(e,t){return e(t)},dPHkM:"resize",hjJnY:"設置布局時發生錯誤",SAziS:"disabled",zxtTN:function(e,t){return e!==t},GsJyk:"cvs",TWxQt:"x5RtiEC9k"};if(_0x38d672)return;console.log(e.ztYsO),_0x3b2e8d.roomNameLabel.innerText=_0x5b9b05.a2,_0x3b2e8d.searchInput.placeholder=_0x5b9b05.a1,_0x3b2e8d.messageInput.setAttribute(e.Hllav,_0x5b9b05.a3),_0x3b2e8d.spinnerLabel.innerText=_0x5b9b05.b32;let t=_0x32a563.get(e.mJNYs);t&&(_0x3b2e8d.sidebar.style.width=e.JXMRm(t,"px")),document.body.classList.add("xmKH3ad5R");let n=e.KTSPs(_0x4e6499),i=_0x5c059a();e.KTSPs(_0x35eba4);try{e.eyPCf(_0x42a5c4,_0x1acfc3).then(async t=>{(!t.deviceInfo||e.FQZZI(e.DxVph(Date.now(),t.deviceInfo.lastUpdate),36e5))&&(await e.WgSOK(_0x23dc64,_0x1acfc3,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:i.screenWidth+"x"+i.screenHeight+" @"+i.devicePixelRatio+"x"}}),console.log("已上傳裝置信息"))})}catch(a){console.error("發生未知錯誤",a)}try{function s(){let t=_0x3b2e8d.messageContainer.getBoundingClientRect();_0x3b2e8d.messageContainer.style.setProperty("--x9LFHiVqv",e.Uqlvz(Number,e.MWZpg(.6*t.height,24).toFixed(2))+"px"),_0x3b2e8d.messageContainer.style.setProperty("--xVizV2ybq",Number((.72*t.height).toFixed(2))-24+"px")}s(),window.addEventListener(e.dPHkM,s)}catch(o){console.log(e.hjJnY)}if(_0x3b2e8d.searchInput.removeAttribute("disabled"),_0x3b2e8d.searchInput.focusable(!0),_0x3b2e8d.profileContainer.classList.remove(e.SAziS),_0x3b2e8d.profileContainer.focusable(!0),e.zxtTN(localStorage.getItem(e.GsJyk),_0x543fbf.current)){if(_0x4cf1c5){let r={};r.closeOnEsc=!0,r.closeOnOverlayClick=!0;let l=new _0x21b3fb(r);l.Overlay.classList.add(e.TWxQt),l.Body.innerHTML='<div class="xa6f2dQXX">'+_0x5b9b05.a4+'</div><div class="x68JrA5Ak">'+_0x543fbf.directions+"</div>"}else _0x5b7c3c(_0x5b9b05.a4,!0).body.innerHTML='<div class="xeUKJgV96">'+_0x543fbf.directions+"</div>";localStorage.setItem(e.GsJyk,_0x543fbf.current)}_0x38d672=!0}function _0x105e4e(e){let t={};t.UWDBR="&amp;$1",t.gSiXf="&gt;";let n=t;return e.replace(/&([^;]+)/g,n.UWDBR).replaceAll("<","&lt;").replaceAll(">",n.gSiXf).replaceAll(" ","&nbsp;").replaceAll("\n","<br>")}function _0x2bc1fa(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x1dd6f4="Structure",_0x221c4e;function _0x5ac380(e){var t;let n={TngQO:function(e,t){return e===t},OyaMi:function(e,t,n,i){return e(t,n,i)},LHLYi:function(e,t){return e(t)},kHGSO:function(e,t){return e!==t},fLCxo:"d12",BLrbu:"privacy",JsznA:"xjrgLBAlF",uwrVV:"disabled",CLEAU:"active",izvZv:"0|3|4|2|1",VGSTk:"x8VAGH6N2",bqRAF:"true",Zazzq:"xqBX9i6rZ",gtMYq:function(e,t){return e(t)},EQXxB:"messages",VspSz:function(e,t,n){return e(t,n)},iHNie:"timestamp",hNSEa:"desc",GBkeO:function(e,t){return e===t},XzouQ:"instant",CRxST:"b20",LvXNG:"b34",kEZSf:"A5o980bj",CRWKH:"b36",PZGeA:"xTJA9U7y9",COgUm:"todos",QIvFe:"更新失敗：",XpxId:function(e){return e()},UioDK:"xTIlpY4Et",rqBLf:"xA9JMbz3o",GLMCO:function(e,t){return e(t)},FsDKz:"xxChbQgko",OJMXM:"xaTPzRSCY",ewbcd:function(e,t,n){return e(t,n)},sxlmV:"hide",RWJqL:"xNu1Upzh6",bxcwT:"b37",yEZSZ:"x6q2Zh2QF",UUcbI:"xb4MnocjO",dOWmV:function(e,t){return e(t)},lBMcU:"xCgVOK4ur",uzBdc:"xY17x64dw",yQJuV:function(e,t,n,i,a){return e(t,n,i,a)},AXICk:"chats",kfZTV:"xlKSJ67AP",FWulU:"新的行程",UklnN:function(e,t,n){return e(t,n)},utanw:"bottom-start",eRBHJ:"bottom-end",TRvHY:"top-start",IABWy:"top-end",ZDhYt:"xoV8hdbgt",WTtHj:function(e,t){return e(t)},ORfyg:"xrQdSHI2A",CyDZx:"xcoXgMpFW",yijtu:"xUdcoAHYM",pGCkH:"b22",GdgBe:"b23",OyyXZ:"xGy5QqsmI",JpPaY:function(e,t){return e(t)},WyMUo:function(e){return e()},vLVse:"x2fP9fkxS",aKJpd:function(e,t){return e(t)},ZhJZD:function(e,t){return e(t)},eKvlR:"b19",kIoji:"smooth",prlRl:"center",mRBXj:"nearest"},i=_0x5d2a62(n.vLVse),a=n.JpPaY(_0x5d2a62,"xQ65c0Nkc"),s=_0x5d2a62("xybvM5cRF"),o=_0x5d2a62("xT3Ta8vKw"),r=n.aKJpd(_0x5d2a62,"x6HyfOZS7"),l=n.ZhJZD(_0x5d2a62,"xQkxrD9ZA");async function d(){let t={QrlAX:"取得用户名称时发生错误：",pZcCz:function(e,t){return n.LHLYi(e,t)}};if(n.kHGSO(_0x1716b6,e.id)||_0x4cf1c5){_0x3b2e8d.messageInput.innerHTML="",_0x1716b6=e.id,_0x118f1d._m.length=0,_0x354bf5=_0x3b2e8d.main,_0x3f8949=!1;let a=[];e.members.forEach(e=>{let n={};n.BedXn=t.QrlAX;let i=n;t.pZcCz(_0x42a5c4,e).then(t=>{let n={};n.id=e,n.name=t.name,a.push(n)}).catch(e=>{console.error(i.BedXn,e)})}),_0x1dd6f4=(e.name||_0x5b9b05[n.fLCxo])+" - Structure",document.title=_0x1dd6f4,_0x3b2e8d.roomNameLabel.innerText=e.name,_0x184898.length=0,_0x221c4e&&_0x221c4e.remove(),n.TngQO(e.tag,"public")?((_0x221c4e=_0x5d2a62("xjrgLBAlF")).focusable(!0),_0x221c4e.classList.add("xYARRkCjq"),_0x221c4e.textContent=_0x5b9b05.a7,_0x221c4e.bindWithCooldown(function(){_0x5b7c3c(_0x5b9b05.a6,!0).body.innerHTML='<div class="xrrfDPLS2">'+_0x5b9b05.d5+"</div>"}),_0x3b2e8d.statusLabel.appendChild(_0x221c4e)):n.TngQO(e.tag,n.BLrbu)&&((_0x221c4e=_0x5d2a62(n.JsznA)).focusable(!0),_0x221c4e.classList.add("xxC3C39Oc"),_0x221c4e.textContent=_0x5b9b05.a5,_0x221c4e.bindWithCooldown(function(){_0x5b7c3c(_0x5b9b05.a6,!0).body.innerHTML='<div class="xrrfDPLS2">'+_0x5b9b05.d6+"</div>"}),_0x3b2e8d.statusLabel.appendChild(_0x221c4e));let s=new URLSearchParams(window.location.search);if(s.set("r",e.id),window.history.replaceState({},"","?"+s.toString()),_0x3b2e8d.messageContainer.classList.remove("xVjpzmyej"),_0x3b2e8d.fileInput.removeAttribute(n.uwrVV),_0x3b2e8d.attachButton.classList.remove("disabled"),_0x3b2e8d.attachButton.focusable(!0),_0x3b2e8d.stickerButton.classList.remove("disabled"),_0x3b2e8d.stickerButton.focusable(!0),_0x3b2e8d.markButton.classList.remove("disabled"),_0x3b2e8d.markButton.focusable(!0),_0x3b2e8d.markButton.classList.remove("x3zdxRXQ6"),_0x3a1a67=!1,_0x3b2e8d.brushButton.classList.remove("disabled"),_0x3b2e8d.brushButton.focusable(!0),_0x3b2e8d.messageInput.setAttribute("contenteditable","true"),_0x4cf1c5){let o=n.izvZv.split("|"),r=0;for(;;){switch(o[r++]){case"0":_0x3b2e8d._mb_att_btn.classList.remove("disabled");continue;case"1":_0x3b2e8d.main.classList.add(n.VGSTk);continue;case"2":n.LHLYi(_0x16be02,".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").focusable(!0);continue;case"3":_0x3b2e8d._mb_att_btn.focusable(!0);continue;case"4":_0x3b2e8d.backButton.classList.remove("disabled");continue}break}}else _0x16be02(".x2fP9fkxS.active")&&_0x16be02(".x2fP9fkxS.active").classList.remove(n.CLEAU),i.classList.add(n.CLEAU);_0x3b2e8d.messageInput.setAttribute("contenteditable",n.bqRAF),_0x3b2e8d.messageInput.focusable(!0),_0x3b2e8d.messageContainer.clear(),(_0x1c8b7e=_0x5d2a62(n.Zazzq)).classList.add("spinner"),_0x1c8b7e.innerHTML=_0x40997c,_0x3b2e8d.messageContainer.appendChild(_0x1c8b7e);let l=await n.gtMYq(m,C(u(_0x4a31e6,"chats",e.id,n.EQXxB),n.VspSz(w,n.iHNie,n.hNSEa),M(10)));_0x4060ca=l.docs[9];let d=[];l.forEach(e=>{d.push(e)}),n.GBkeO(d.length,0)&&_0x1c8b7e&&(_0x1c8b7e.innerHTML=_0x5b9b05.d8),d.reverse(),d.map(e=>{var t=e.data();n.TngQO(_0x184898.indexOf(e.id),-1)&&(n.TngQO(t.sender,_0x1acfc3)?(_0x184898.push(e.id),_0x1c3d76(t,e.id,"1")):(_0x184898.push(e.id),n.OyaMi(_0x1dd1f5,t,e.id,"1"))),_0x28b72a=t}),_0x403bf5=!0,_0x3b2e8d.messageContainer.scrollTo({top:_0x3b2e8d.messageContainer.scrollHeight,behavior:n.XzouQ}),_0x403bf5=!1}}_0x2ead17(e.id),i.bindWithCooldown(d);let c={};c.id=e.id,c.length=e.size,c.name=e.name||_0x5b9b05.d9,c.launch=d,c.dom=i,_0x13790e.push(c),i.appendChild(a),i.appendChild(r),r.appendChild(l);let $=function(){let t={EPlXH:function(e,t,n){return e(t,n)},EbluK:function(e,t){return e(t)},uthdC:function(e,t){return n.LHLYi(e,t)},bucJW:"xZHdsOFDz",ElnlT:n.kfZTV,rGwvA:function(e,t){return n.LHLYi(e,t)},mCYHa:function(e,t,i,a){return n.OyaMi(e,t,i,a)},TMenS:"chats",tuxXf:function(e,t){return e===t},AAabz:"d13",KMBsQ:function(e,t,n,i,a){return e(t,n,i,a)},wvOXC:n.FWulU,Roetb:function(e,t,i){return n.UklnN(e,t,i)}},a={};a.trigger=l,a.placement=[n.utanw,n.eRBHJ,n.TRvHY,n.IABWy];let s=new _0x19310d(a);s.Content.classList.add(n.ZDhYt);let o=n.WTtHj(_0x5d2a62,n.ORfyg),r=n.dOWmV(_0x5d2a62,n.ORfyg),d=_0x5d2a62(n.CyDZx),c=_0x5d2a62("xrQdSHI2A");o.bindWithCooldown(function(){s.close();let i=_0x5d2a62("xPAY7PmDq"),a;if(_0x4cf1c5){let o={};o.parent=_0x3b2e8d.sidebar,o.title=_0x5b9b05[n.CRxST],(a=new _0x5415c9(o)).Content.classList.add("xU2hUavXh"),a.Content.appendChild(i)}else(a=_0x5b7c3c(_0x5b9b05[n.CRxST],!0)).content.classList.add("lg"),a.content.classList.add("xb4MnocjO"),a.body.appendChild(i);function r(e){let n={fpQio:function(e,n,i){return t.EPlXH(e,n,i)},UltpE:function(e,n,i){return t.EPlXH(e,n,i)},vwLRv:function(e,n){return t.EbluK(e,n)},jMIgm:function(e,n){return t.uthdC(e,n)},ZbSQk:t.bucJW,fPqER:"lazy",nFkkN:t.ElnlT};_0x42a5c4(e).then(e=>{let t=n.vwLRv(_0x5d2a62,"xScefCkPw"),s=n.jMIgm(_0x5d2a62,n.ZbSQk),o=document.createElement("img");o.classList.add("xxnnTDIPC"),o.src=e.avatarUrl||"assets/avatar.png",o.draggable=!1,o.loading=n.fPqER;let r={};r.action="cache-url",r.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),s.appendChild(o);let l=_0x5d2a62("xs8tjkwHJ"),d=n.vwLRv(_0x5d2a62,"xt4GQkVIo"),c=n.vwLRv(_0x5d2a62,n.nFkkN);d.innerText=e.name,c.innerText=e.id,t.focusable(!0),l.appendChild(d),l.appendChild(c),t.appendChild(s),t.appendChild(l),t.bindWithCooldown(function(){if(_0x4cf1c5){let t={};t.data=e,t.type="mobile",n.fpQio(_0x3ec22e,a.Root,t)}else{a.root.close();let i={};i.data=e,i.type="desktop",n.UltpE(_0x3ec22e,_0x3b2e8d.main,i)}}),i.appendChild(t)}).catch(e=>{console.error(e)})}let l=0;e.members.forEach(e=>{l++,t.uthdC(r,e)}),1==l&&i.classList.add("xyS4vzBWG")}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0x5b9b05.b21,o.classList.add(n.yijtu),[o,r,c].forEach(e=>{e.focusable(!0)}),c.bindWithCooldown(function(){s.close(),new _0x38f752({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0x5b9b05[n.LvXNG],message:_0x5b9b05.b33,buttons:[{text:_0x5b9b05.b35,classList:[n.kEZSf]},{text:_0x5b9b05[n.CRWKH],classList:[n.PZGeA],onClick:async function(){let n=_0x13790e.findIndex(t=>t.id===e.id);if(-1!==n)try{await t.EPlXH(k,b(_0x4a31e6,"users",_0x1acfc3),{joined:t.rGwvA(L,e.id)}),await k(t.mCYHa(b,_0x4a31e6,t.TMenS,e.id),{members:L(_0x1acfc3)}),_0x13790e.splice(n,1),i.remove(),t.tuxXf(_0x1716b6,e.id)&&(_0x1716b6=null,_0x3b2e8d.statusLabel.innerHTML="",_0x3b2e8d.roomNameLabel.innerText=_0x5b9b05.d12,_0x3b2e8d.messageContainer.clear()),t.tuxXf(_0x13790e.length,0)&&(_0x3b2e8d.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x5b9b05[t.AAabz]+"</div>")}catch(a){console.error("Error while deleting item:",a)}}}]})}),s.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /></svg>'+_0x5b9b05[n.pGCkH],r.bindWithCooldown(async function(){let i={zetJl:"disabled",YYbkd:"chats",AMrdU:n.COgUm,gCuOY:function(e,t){return e(t)},qHsoK:"刪除失敗：",eBYdl:n.QIvFe,KjPCH:function(e,t){return e(t)},KkfEh:"textarea",WpkjC:function(e){return n.XpxId(e)},suVZi:n.UioDK,rntzo:n.rqBLf,ChdxX:"green",sGtha:"x9hGI5hex",CTtAW:"xHQ4s8VGa",TVWuq:function(e,t,i){return n.VspSz(e,t,i)},qujMX:function(e,t){return n.GLMCO(e,t)},nWspY:n.FsDKz,uKyaq:n.OJMXM,jOhVC:function(e,t,i){return n.ewbcd(e,t,i)},zdYro:n.sxlmV,SmABA:"xHCo3rIZ7"};s.close();let a,o=n.gtMYq(_0x5d2a62,"xtx2Cn8cK"),r=_0x5d2a62(n.RWJqL);if(_0x4cf1c5){let l={};l.parent=_0x3b2e8d.sidebar,l.title=_0x5b9b05[n.bxcwT],(a=new _0x5415c9(l)).Content.classList.add(n.yEZSZ),a.Content.classList.add("xU2hUavXh"),a.Content.appendChild(o)}else(a=n.VspSz(_0x5b7c3c,_0x5b9b05.b37,!0)).content.classList.add(n.UUcbI),a.content.classList.add("lg"),a.body.appendChild(o);let d=n.dOWmV(_0x42659b,[]);function c(t,n){let s={kWLzd:function(e,t){return e!==t},kumic:"disabled",zHFSi:function(e,t,n,i,a,s){return e(t,n,i,a,s)},Zmvfe:i.eBYdl,yBUca:function(e,t,n,i){return e(t,n,i)},MFwzt:"b41",OUKsh:"xOjXmYkxE",GCsee:"text",nBViC:function(e,t){return i.KjPCH(e,t)},oHIYq:function(e,t){return e(t)},GtoMD:"label",fMmBL:i.KkfEh,yPhXa:"xGGKUZ7B3",JAyEG:"x9ZwavJjj",zdZmr:"input",Lluhs:"xF37V7xd0",QQniY:"date",KBAzO:function(e,t){return e(t)},YagAC:"xwtdXtpQT",DTlpN:function(e){return i.WpkjC(e)}},o=i.KjPCH(_0x5d2a62,i.suVZi),l=_0x5d2a62(i.rntzo);o.appendChild(l),t.theme===i.ChdxX?l.classList.add(i.sGtha):"pink"===t.theme&&l.classList.add("x0eVQzH93");let c=i.gCuOY(_0x5d2a62,"xHxVtIAsn");o.appendChild(c);let $=i.gCuOY(_0x5d2a62,"xt4GQkVIo");$.innerHTML=t.name||_0x5b9b05.d9,c.appendChild($);let h=_0x5d2a62(i.CTtAW);_0x101e23(h,t.description||"忘記加上描述了"),c.appendChild(h);let u=i.TVWuq(_0x411a9b,t.startAt,t.endAt),x=i.qujMX(_0x5d2a62,"xPP6DGDrH");x.innerText=u,o.appendChild(x);let f=i.gCuOY(_0x5d2a62,i.nWspY),_=i.KjPCH(_0x5d2a62,"xaTPzRSCY");_.innerHTML=_0x2a374f.edit,_.focusable(!0);let m=i.KjPCH(_0x5d2a62,i.uKyaq);m.innerHTML=_0x2a374f.trash,m.focusable(!0),i.jOhVC(_0x42659b,[_,m],"horizontal"),m.bindWithCooldown(async function(){o.classList.add(i.zetJl);try{m.focusable(!1),m.classList.add("disabled"),_.focusable(!1),_.classList.add("disabled"),await i.gCuOY(p,b(_0x4a31e6,i.YYbkd,e.id,i.AMrdU,n)),console.log("已成功刪除行程："+n),o.remove(),d.removeItem(o)}catch(t){let a="3|2|4|1|0|5".split("|"),s=0;for(;;){switch(a[s++]){case"0":console.error(i.qHsoK,t);continue;case"1":_.classList.remove(i.zetJl);continue;case"2":m.classList.remove("disabled");continue;case"3":m.focusable(!0);continue;case"4":_.focusable(!0);continue;case"5":o.classList.remove("disabled");continue}break}}}),f.appendChild(_),f.appendChild(m),o.appendChild(f),o.focusable(!0),d.addItem(o),r.appendChild(o);let v={};v.name=t.name||"未知",v.startAt=t.startAt||17356608e5,v.endAt=t.endAt||17356608e5,v.description=t.description||"";let g=v;_.bindWithCooldown(function(i){i.stopPropagation(),function i(){let o={Myjoi:function(e,t){return e!==t},DFrMu:function(e,t){return s.kWLzd(e,t)},bGntJ:s.kumic,ViojT:function(e,t,n,i,a,o){return s.zHFSi(e,t,n,i,a,o)},nnEJi:s.Zmvfe},r=s.yBUca(_0x5b7c3c,_0x5b9b05[s.MFwzt],!0,a.Root);r.root.Overlay.classList.add(s.OUKsh);let l=_0x5d2a62("xGGKUZ7B3"),d="_"+_0x557464(12),c=document.createElement("label"),u=document.createElement("input");c.classList.add("xF37V7xd0"),u.classList.add("xYvZ9WF6d"),c.htmlFor=d,c.textContent=_0x5b9b05.b38,u.id=d,u.type=s.GCsee,u.value=g.name,u.maxLength=30,l.appendChild(c),l.appendChild(u);let x=s.nBViC(_0x5d2a62,"xGGKUZ7B3"),p="_"+s.oHIYq(_0x557464,12),f=document.createElement(s.GtoMD),_=document.createElement(s.fMmBL);f.classList.add("xF37V7xd0"),_.classList.add("xGuwEx6qN"),f.htmlFor=p,f.textContent=_0x5b9b05.b3,_.id=p,_.rows=3,_.value=g.description,_.maxLength=80,x.appendChild(f),x.appendChild(_);let m=_0x5d2a62(s.yPhXa);m.classList.add("xFJWlqoGn");let v="_"+s.nBViC(_0x557464,12),C=document.createElement(s.GtoMD),w=s.oHIYq(_0x5d2a62,s.JAyEG),y=document.createElement("input"),L=document.createElement(s.zdZmr);C.classList.add(s.Lluhs),y.classList.add("xYvZ9WF6d"),C.htmlFor=v,C.textContent=_0x5b9b05.b39,y.type=s.QQniY,y.id=v,L.classList.add("xYvZ9WF6d"),L.type="time";let M="_"+s.KBAzO(_0x557464,12),T=s.oHIYq(_0x5d2a62,s.JAyEG),E=document.createElement("label"),A=document.createElement(s.zdZmr),R=document.createElement(s.zdZmr);E.classList.add("xF37V7xd0"),A.classList.add("xYvZ9WF6d"),E.htmlFor=M,E.textContent=_0x5b9b05.b40,A.id=M,A.type="date",R.classList.add("xYvZ9WF6d"),R.type="time";let B=_0x5d2a62(s.yPhXa),H=_0x5d2a62("x40AApYkW");H.classList.add(s.YagAC),H.textContent=_0x5b9b05.b6,H.classList.add("disabled");let S={};function Y(){o.Myjoi(u.value.trim(),"")&&y.value&&L.value&&A.value&&R.value&&(u.value!==S._z||y.value!==S._a||o.Myjoi(L.value,S._b)||A.value!==S._c||o.DFrMu(R.value,S._d)||_.value!==S._y)?(H.focusable(!0),H.classList.remove("disabled")):(H.focusable(!1),H.classList.add("disabled"))}S._z=t.name,S._y=t.description;let I=[u,y,L,A,R,_];if(I.forEach(e=>{e.oninput=Y}),H.bindWithCooldown(async function(){H.classList.add(o.bGntJ),H.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let t=new Date(y.value+"T"+L.value).getTime(),i=new Date(A.value+"T"+R.value).getTime(),a=u.value,s=_.value;I.forEach(e=>{e.setAttribute(o.bGntJ,!0)});let l=o.ViojT(b,_0x4a31e6,"chats",e.id,"todos",n);try{let d="3|8|7|4|0|6|2|5|1".split("|"),c=0;for(;;){switch(d[c++]){case"0":g.endAt=i;continue;case"1":r.root.close();continue;case"2":_0x101e23(h,g.description||_0x5b9b05.d10);continue;case"3":let x={};x.endAt=i,x.startAt=t,x.name=a,x.description=s,await k(l,x);continue;case"4":g.startAt=t;continue;case"5":console.log("已成功更新行程："+n);continue;case"6":$.innerHTML=g.name;continue;case"7":g.description=s;continue;case"8":g.name=a;continue}break}}catch(p){console.error(o.nnEJi,p),I.forEach(e=>{e.classList.remove("disabled")})}}),w.appendChild(C),w.appendChild(y),w.appendChild(L),T.appendChild(E),T.appendChild(A),T.appendChild(R),r.body.appendChild(l),r.body.appendChild(x),r.body.appendChild(m),r.body.appendChild(B),m.appendChild(w),m.appendChild(T),B.appendChild(H),g.startAt){let W=new Date(g.startAt),O=new Date(g.startAt).toISOString().split("T")[0];console.log(O);let F=W.toTimeString().split(":").slice(0,2).join(":");console.log(O),S._a=O,S._b=F,y.value=O,L.value=F}if(g.endAt){let D=new Date(g.endAt),z=new Date(g.endAt).toISOString().split("T")[0],X=D.toTimeString().split(":").slice(0,2).join(":");S._c=z,S._d=X,A.value=z,R.value=X}s.DTlpN(Y),u.focus()}()})}o.appendChild(r);let $=n.gtMYq(_0x5d2a62,"xTOLrzGN6");o.appendChild($);let h=_0x5d2a62(n.lBMcU);$.appendChild(h);let f=_0x5d2a62("xtG9t2xuE"),_=_0x5d2a62("x5FOXvrVK"),v=_0x5d2a62("x5FOXvrVK"),g=n.dOWmV(_0x5d2a62,"x7ho7YfuM");f.appendChild(_),f.appendChild(v),f.appendChild(g);let w=!1;_.innerText=_0x5b9b05.c1,v.innerText=_0x5b9b05.c2,f.focusable(!0),h.appendChild(f);let y=_0x5d2a62(n.uzBdc);y.classList.add("xmiEvp5FV"),y.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',y.focusable(!0),f.bindWithCooldown(function(){w?(y.classList.remove(i.zdYro),r.classList.remove("xbrV3058R"),f.classList.remove(i.SmABA),w=!1):(y.classList.add(i.zdYro),r.classList.add("xbrV3058R"),f.classList.add("xHCo3rIZ7"),w=!0)},0),y.bindWithCooldown(async function(){let n=b(t.KMBsQ(u,_0x4a31e6,"chats",e.id,"todos")),i={name:t.wvOXC,description:"",startAt:Date.now(),endAt:Date.now()};await t.Roetb(x,n,i),c(i,n.id)},1e3),h.appendChild(y),r.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x40997c+"</div>";let L=await m(n.dOWmV(C,n.yQJuV(u,_0x4a31e6,n.AXICk,e.id,n.COgUm)));r.innerHTML='<div class="xmBX2cWRZ">'+_0x5b9b05.d14+"</div>",0!==L.docs.length&&L.forEach(e=>{c(e.data(),e.id)})}),s.Content.appendChild(r),s.Content.appendChild(d),c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-door-exit"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0x5b9b05[n.GdgBe],c.classList.add(n.OyyXZ),s.Content.appendChild(c),n.JpPaY(_0x42659b,[o,r,c]),s._setPosition()};if(l.bindWithCooldown(function(e){e.stopPropagation(),n.WyMUo($)}),l.focusable(!0),i.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',a.appendChild(s),s.innerText=e.name||_0x5b9b05.a2,t=e.description?e.description:0===e.size?_0x5b9b05[n.eKvlR]:_0x5b9b05.b18.replace("$0",n.LHLYi(_0x2bc1fa,e.size)),o.innerText=t,a.appendChild(o),_0x3b2e8d.primaryArea.appendChild(i),e.focus){d();let h={};h.behavior=n.kIoji,h.block=n.prlRl,h.inline=n.mRBXj,i.scrollIntoView(h)}}function _0x79698d(e){let t={};t.OQtkn=function(e,t){return e-t},t.vHWol=function(e,t){return e<t},t.lMRRB="a18",t.YDDwy="a20",t.zAxKh=function(e,t){return e/t},t.keskJ="a23",t.ODlbF="a19";let n=t,i=Math.max(Math.floor(n.OQtkn(Date.now(),e)/1e3),0);return n.vHWol(i,60)?_0x5b9b05[n.lMRRB].replace("$0",i):i<3600?_0x5b9b05[n.YDDwy].replace("$0",Math.floor(n.zAxKh(i,60))):n.vHWol(i,86400)?_0x5b9b05.a21.replace("$0",Math.floor(i/3600)):n.vHWol(i,2592e3)?_0x5b9b05[n.keskJ].replace("$0",Math.floor(n.zAxKh(i,86400))):n.vHWol(i,31536e3)?_0x5b9b05[n.ODlbF].replace("$0",Math.floor(i/2592e3)):_0x5b9b05.a22.replace("$0",_0x2bc1fa(Math.floor(i/31536e3)))}function _0x10791f(e){let t={};t.YMbND=function(e,t){return e>=t},t.KKEuV=function(e,t){return e<t};let n=t,i=["B","KB","MB","GB","TB","PB"],a=e,s=0;for(;n.YMbND(a,1024)&&n.KKEuV(s,i.length-1);)a/=1024,s++;return a.toFixed(2)+" "+i[s]}async function _0x23dc64(e,t){try{let n=b(_0x4a31e6,"users",e);if(t){await ({zCDSS:function(e,t,n){return e(t,n)}}).zCDSS(k,n,t),_0x3a14e1[e]&&(_0x3a14e1[e]={..._0x3a14e1[e],...t});let i=sessionStorage.getItem("upf_"+e);if(i){let a={...JSON.parse(i),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(a))}}else delete _0x3a14e1[e],sessionStorage.removeItem("upf_"+e);return!0}catch(s){return console.error("Failed to update user profile:",s),!1}}async function _0x42a5c4(e){if(_0x3a14e1[e])return _0x3a14e1[e];let t=sessionStorage.getItem("upf_"+e);if(t){let n=JSON.parse(t);return _0x3a14e1[e]=n,n}try{let i=await f(({nOeId:function(e,t,n,i){return e(t,n,i)}}).nOeId(b,_0x4a31e6,"users",e));if(!i.exists())return null;{let a=i.data();return _0x3a14e1[e]=a,sessionStorage.setItem("upf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x12156c(e){if(_0x33dc55[e])return _0x33dc55[e];let t=sessionStorage.getItem("rpf_"+e);if(t){let n=JSON.parse(t);return _0x33dc55[e]=n,n}try{let i=await f(({FNtIO:function(e,t,n,i){return e(t,n,i)}}).FNtIO(b,_0x4a31e6,"chats",e));if(!i.exists())return null;{let a=i.data();return _0x3a14e1[e]=a,sessionStorage.setItem("rpf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x31e07d(e,t){let n={sWVPZ:"嘗試加載更多訊息",srbMw:function(e,t){return e!==t},fSZyw:function(e,t){return e(t)},uhBSv:function(e,t,n,i,a){return e(t,n,i,a)},ofHje:"messages",weREI:function(e,t,n){return e(t,n)},ImmMJ:"timestamp",XVbXa:"desc",gfgph:function(e,t){return e===t},NWYdz:function(e,t){return e(t)}};if(console.log(n.sWVPZ),n.srbMw(_0x4060ca,void 0)){_0x403bf5=!0;let i=await n.fSZyw(m,n.uhBSv(C,u(_0x4a31e6,"chats",e,n.ofHje),n.weREI(w,n.ImmMJ,n.XVbXa),v(_0x4060ca),M(10)));if(console.log(i.docs.length+" messages left"),n.gfgph(i.docs.length,0))return;_0x4060ca=10===i.docs.length?i.docs[9]:void 0;let a=[];i.forEach(e=>{a.push(e)}),a.reverse();let s=0;_0x1172e6=n.NWYdz(_0x5d2a62,"xWIHJooz8"),_0x28b72a="";let o=_0x3b2e8d.messageContainer.firstChild;_0x3b2e8d.messageContainer.insertBefore(_0x1172e6,o);let r=_0x3b2e8d.messageContainer.scrollHeight;a.map(e=>{s++;let t=e.data();-1===_0x184898.indexOf(e.id)&&(t.sender===_0x1acfc3?(_0x184898.push(e.id),_0x1c3d76(t,e.id,"2")):(_0x184898.push(e.id),_0x1dd1f5(t,e.id,"2")),_0x28b72a=t)}),_0x403bf5=!0,_0x435a57=_0x3b2e8d.messageContainer.scrollHeight-r;let l={};l.top=_0x435a57,l.left=0,l.behavior="instant",_0x3b2e8d.messageContainer.scrollTo(l),_0x435a57=0,n.weREI(setTimeout,function(){_0x403bf5=!1},500)}else _0x403bf5=!1}let _0x823496='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x2ead17(e){let t={RAVCU:"added",FCNOB:function(e,t){return e!==t},iSviD:function(e,t){return e===t},aOlhO:function(e,t){return e===t},qfPGS:function(e,t,n,i){return e(t,n,i)},jkAwH:function(e,t){return e(t)},CDPNN:"{sid}",mxLnH:"修改訊息時發生未知錯誤",Qxpgx:function(e,t,n,i,a){return e(t,n,i,a)},ugBws:"messages"};g(t.Qxpgx(u,_0x4a31e6,"chats",e,t.ugBws),n=>{n.docChanges().forEach(n=>{if(_0x1716b6!==e)return;let i=n.doc.data();switch(n.type){case t.RAVCU:t.FCNOB(i.sender,_0x1acfc3)&&t.iSviD(_0x184898.indexOf(n.doc.id),-1)&&!n.doc.metadata.fromCache&&(t.aOlhO(document.visibilityState,"hidden")&&(_0x5940fb++,document.title="("+_0x5940fb+") "+_0x1dd6f4),_0x184898.push(n.doc.id),t.qfPGS(_0x1dd1f5,i,n.doc.id,"3"));break;case"removed":let a=t.jkAwH(_0x16be02,_0x823496.replace("{sid}",n.doc.id));try{a.classList.add("xl4gtQk5f"),setTimeout(function(){a.remove()},3e3)}catch(s){console.log(s)}break;case"modified":try{let o=t.jkAwH(_0x16be02,_0x823496.replace(t.CDPNN,n.doc.id)).querySelector(".xMyW2iRSH");o?(o.clear(),_0x10e00c(o,i.content)):console.log("找不到匹配的訊息容器")}catch(r){console.log(t.mxLnH,r)}}})},e=>{console.error("An unknown error occurred",e)})}function _0x3592ac(){let e={aSIEk:"disabled",RpSZY:function(e,t,n){return e(t,n)},gTTtl:"auth/invalid-login-credentials",VkMPI:"b15",fLRZx:"b16",qXqOF:"b17",CXUNo:"b26",IiIDk:function(e,t){return e===t},ZizbN:function(e){return e()},gacEx:function(e,t){return e(t)},stdsM:function(e,t){return e===t},LvUgz:function(e,t,n,i){return e(t,n,i)},dOEYk:"xA7y7OLtP",lnhiS:"b10",iAPwk:"actionbtn xYIKBnbHS",ZDMjN:"xCmJYJQtp",VkWrY:"xySmLVr4a",TBrEB:"xrYn5ZY3v",IiGOj:"xZyuwxZPZ",pxYmf:"b27",rRjMG:"xWDUelLWA",LgdQT:"xZdL9CF5M",nlhGT:"div",StdqZ:"label",zasbp:"xF37V7xd0",VBOoR:"b24",OOWZb:"input",Wqisf:"xYvZ9WF6d",IjlkR:"off",gzlvq:"text",imRZb:"5px",DLIPv:"b25",RnxMJ:"password",qoFlo:"xw0IanPrC",adipQ:"xPT7rhLdL"},t=_0x5d2a62("xrYn5ZY3v");t.innerText=_0x5b9b05.b8;let a=_0x5d2a62("x4V8Jejrz");a.innerText=_0x5b9b05.b9;let o=_0x5d2a62("xRRuA0Z3S"),r=document.createElement("div");r.id="x7BYgkdiJ",r.focusable(!0);let l='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0x5b9b05.b11,d='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0x5b9b05[e.lnhiS]+"</span>\n						</div>";r.innerHTML=l;let c=document.createElement("div");c.focusable(!0),c.id="xBnuWNG6V",c.className="actionbtn xYIKBnbHS",r.className=e.iAPwk,c.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0x5b9b05.b12,o.appendChild(r),o.appendChild(c);let $=new _0x5cf3eb;$.Content.classList.add("bt"),$.Root.classList.add(e.ZDMjN),$.Content.classList.add(e.VkWrY),$.Content.appendChild(t),$.Content.appendChild(a),$.Content.appendChild(o);let h=_0x5d2a62(e.TBrEB);h.classList.add("lf"),h.classList.add("gc");let u=_0x5d2a62(e.IiGOj);u.focusable(!0),u.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',h.appendChild(u);let x=_0x5d2a62("x6Y89FynP");x.innerText=_0x5b9b05[e.pxYmf],h.appendChild(x);let b=_0x5d2a62(e.rRjMG);b.classList.add("xwxpzc3QF"),$.Content.appendChild(h),$.Content.appendChild(b);let p=document.createElement("div");b.appendChild(p),p.classList.add(e.LgdQT);let f=document.createElement(e.nlhGT);f.classList.add("xGGKUZ7B3"),p.appendChild(f);let _=document.createElement(e.StdqZ);_.classList.add(e.zasbp),_.innerText=_0x5b9b05[e.VBOoR],f.appendChild(_);let m=document.createElement(e.OOWZb);m.classList.add(e.Wqisf),m.autocomplete=e.IjlkR,m.type=e.gzlvq,m.disabled=!0,m.spellcheck=!1,f.appendChild(m);let v=document.createElement(e.nlhGT);v.classList.add("xGGKUZ7B3"),v.style.marginTop="10px",v.style.marginBottom=e.imRZb,p.appendChild(v);let g=document.createElement(e.StdqZ);g.classList.add("xF37V7xd0"),g.innerText=_0x5b9b05[e.DLIPv],v.appendChild(g);let C=document.createElement("input");C.classList.add("xYvZ9WF6d"),C.type=e.RnxMJ,C.disabled=!0,C.autocomplete=e.IjlkR,v.appendChild(C);let w=document.createElement(e.nlhGT);w.classList.add(e.qoFlo),p.appendChild(w);let y=document.createElement(e.nlhGT);y.innerText=_0x5b9b05.b26,y.classList.add("disabled"),y.classList.add("x40AApYkW"),p.appendChild(y);let L=_0x5d2a62(e.adipQ);L.focusable(!0),L.innerHTML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12l14 0"></path><path d="M5 12l6 6"></path><path d="M5 12l6 -6"></path></svg>'+_0x5b9b05.b13,L.bindWithCooldown(function(){$.Content.classList.remove("xA7y7OLtP"),y.classList.add("disabled"),y.focusable(!1),m.disabled=!0,C.disabled=!0}),p.appendChild(L),u.bindWithCooldown(function(){$.Content.classList.remove("xA7y7OLtP"),y.classList.add(e.aSIEk),y.focusable(!1),m.disabled=!0,C.disabled=!0});let k=!0,M=function(){let t={};t.YqeNq="show",t.QpKLy=e.gTTtl,t.YrYGY="b14",t.toOyg=e.VkMPI,t.VutJc="auth/network-request-failed",t.yhfUW=e.fLRZx,t.gzwlE=e.qXqOF,t.BBoWV=e.CXUNo,t.eosXU="disabled";let n=t;k&&(k=!1,u.classList.add(e.aSIEk),u.focusable(!1),w.classList.remove("show"),y.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,C.disabled=!0,y.classList.add(e.aSIEk),y.focusable(!1),y.blur(),L.classList.add("disabled"),L.focusable(!1),s(_0xeaba86,m.value,C.value).then(e=>{try{$.close(),α.close()}catch(t){}let n=e.user;console.log("User is logged in: ",n)}).catch(t=>{e.RpSZY(setTimeout,function(){let e=t.code;switch(w.classList.add(n.YqeNq),e){case n.QpKLy:w.innerText=_0x5b9b05[n.YrYGY];break;case"auth/invalid-email":w.innerText=_0x5b9b05[n.toOyg];break;case n.VutJc:w.innerText=_0x5b9b05[n.yhfUW];break;default:w.innerText=_0x5b9b05[n.gzwlE]}y.innerHTML=_0x5b9b05[n.BBoWV],y.classList.remove(n.eosXU),y.focusable(!0),L.classList.remove(n.eosXU),L.focusable(!0),m.disabled=!1,C.disabled=!1,u.classList.remove(n.eosXU),u.focusable(!0),k=!0},3e3)}))};C.onkeydown=function(t){e.IiIDk(t.keyCode,13)&&e.ZizbN(M)},y.bindWithCooldown(M),r.bindWithCooldown(function(){let t={naZYW:function(t,n,i,a){return e.LvUgz(t,n,i,a)}};r.classList.add(e.aSIEk),c.classList.add("disabled"),r.innerHTML=d,r.focusable(!1),c.focusable(!1),n(_0xeaba86,_0x1260e7).then(n=>{i.credentialFromResult(n).accessToken,_0x1acfc3=n.user.uid,e.gacEx(_0x42a5c4,_0x1acfc3).then(e=>{try{t.naZYW(_0x32555e,e.avatarUrl,e.name,e.qid||e.id)}catch(n){console.error("無法設置")}$.close()}).catch(e=>{console.error(e)})}).catch(t=>{e.stdsM(t.code,"auth/popup-closed-by-user")&&(r.classList.remove("disabled"),c.classList.remove(e.aSIEk),r.focusable(!0),c.focusable(!0),r.innerHTML=l)})}),c.bindWithCooldown(function(){$.Content.classList.add(e.dOEYk),m.disabled=!1,C.disabled=!1,y.focusable(!0),y.classList.remove("disabled"),m.focus()})}function _0x5034e4(e="",t="",...n){let i={fIpOk:function(e,t){return e!==t},JQhUU:function(e,t){return e!==t},xbeai:"disabled",hRSZY:function(e,t){return e(t)},ZtMTY:function(e,t,n,i){return e(t,n,i)},rXNBg:function(e,t,n){return e(t,n)},nNNkk:function(e,t,n){return e(t,n)},yemKS:function(e,t){return e(t)},vfsCp:function(e,t){return e(t)},KvaOl:"d10",yxyRu:function(e,t){return e(t)},JoYoA:"xrYn5ZY3v",sPhJW:"xvb5soWNa",FpZcP:"xWDUelLWA",sYAIH:"hidden",oSSYg:"true",BmYrn:"file",yrhkE:"label",yCbGO:"xF37V7xd0",MGNYt:"_rJvAjH9O",YVMPH:"input",CCNAa:"text",PErmF:"_fM6Qcf9q",awwVY:"textarea",nzdsU:"xGuwEx6qN",xbRpZ:"x40AApYkW"},a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x5cf3eb(a);s.Root.classList.add("xMCbxIsn5"),s.Content.style.padding="0";let o=i.yxyRu(_0x5d2a62,i.JoYoA);o.classList.add("lf");let r=_0x5d2a62("x6Y89FynP");r.innerText=_0x5b9b05.b5,o.appendChild(r);let l=i.yxyRu(_0x5d2a62,i.sPhJW);l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',s.close=s.close.bind(s),l.bindWithCooldown(s.close),o.appendChild(l),s.Content.appendChild(o);let d=_0x5d2a62(i.FpZcP);s.Content.appendChild(d);let c=document.createElement("input");c.setAttribute(i.sYAIH,i.oSSYg),c.id="_Jy2eOVG7",c.type=i.BmYrn;let $=_0x5d2a62("xGGKUZ7B3"),h=document.createElement(i.yrhkE);h.innerText=_0x5b9b05.b4,h.classList.add(i.yCbGO),h.htmlFor=i.MGNYt;let u=document.createElement(i.YVMPH);u.value=e,u.classList.add("xYvZ9WF6d"),u.id=i.MGNYt,u.type=i.CCNAa,u.maxLength="20",u.autocomplete="off",u.spellcheck=!1,d.appendChild($),$.appendChild(h),$.appendChild(u);let p=_0x5d2a62("xGGKUZ7B3"),_=document.createElement(i.yrhkE);_.innerText=_0x5b9b05.b3,_.classList.add("xF37V7xd0"),_.htmlFor=i.PErmF;let m=document.createElement(i.awwVY);m.maxLength="80",m.value=t,m.classList.add(i.nzdsU),m.id="_fM6Qcf9q",m.rows="3",m.maxLength="50",m.autocomplete="off",m.spellcheck=!1,d.appendChild(p),p.appendChild(_),p.appendChild(m);let v=i.hRSZY(_0x5d2a62,i.xbRpZ);function g(){i.fIpOk(m.value,t)||i.JQhUU(u.value,e)?(v.classList.remove(i.xbeai),v.focusable(!0)):(v.classList.add("disabled"),v.focusable(!1))}async function C(){let e={};e.vRMYi=function(e,t){return e===t};let t=e;v.classList.add(i.xbeai),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),u.disabled=!0,m.disabled=!0,c.disabled=!0;let n=u.value,a=m.value.trim();if((await i.hRSZY(f,i.ZtMTY(b,_0x4a31e6,"users",_0x1acfc3))).exists()){let o={};o.name=n,o.signature=a,await i.rXNBg(_0x23dc64,_0x1acfc3,o)}else await i.nNNkk(x,b(_0x4a31e6,"users",_0x1acfc3),{name:n,signature:a,id:_0x1acfc3,joined:[],deviceInfo:""}),_0x3b2e8d.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x5b9b05.d7+"</div>";_0x3b2e8d.nameLabel.innerText=n,_0x118f1d.state&&(_0x118f1d._n=n,_0x118f1d._a.innerText=n,_0x118f1d._b.innerHTML=i.yemKS(_0x573e28,i.vfsCp(_0x105e4e,a))||_0x5b9b05[i.KvaOl],_0x118f1d._m.forEach(e=>{t.vRMYi(e.userId,_0x1acfc3)&&(e.dom.textContent="@"+n)})),s.close()}v.innerText=_0x5b9b05.b7,v.classList.add("disabled"),v.style.marginTop="0",d.appendChild(v),m.oninput=g,u.oninput=g,v.bindWithCooldown(C),u.focus()}async function _0x2f2d62(e,t){let n=await m(u(_0x4a31e6,"chats",e.id,"messages"));if(!_0x13790e.some(t=>t.id===e.id)){let i={};i.name=e.name,i.id=e.id,i.type=e.type,i.tag=e.tag,i.description=e.description,i.size=n.size,i.members=e.members,i.focus=t,i.identity=e.identity,_0x5ac380(i)}}async function _0x35eba4(){let e={NRoqM:function(e,t){return e(t)},SLaFy:"Error fetching document for ID:",NZlUs:"xuGldtFot",wbaSt:"users",DhowL:function(e,t){return e>t},TrSGT:"d13"};_0x3b2e8d.primaryArea.classList.add(e.NZlUs);let t=(await f(b(_0x4a31e6,e.wbaSt,_0x1acfc3))).data(),n=new URLSearchParams(window.location.search).get("r"),i=t.joined||[];e.DhowL(i.length,0)?t.joined.map(async t=>{try{e.NRoqM(_0x12156c,t).then(async e=>{let i={};i.id=t,i.name=e.name,i.type=e.type,i.tag=e.tag,i.plugins=e.plugins,i.members=e.members,i.description=e.description,i.identity=e.identity,_0x2f2d62(i,n===t)})}catch(i){console.error(e.SLaFy,t,i)}}):_0x3b2e8d.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x5b9b05[e.TrSGT]+"</div>"}a(_0xeaba86,e=>{let t={SVHbM:function(e){return e()},lnQXw:function(e,t,n,i){return e(t,n,i)},VXRFt:function(e,t){return e(t)}};e?(_0x1acfc3=e.uid,t.VXRFt(_0x42a5c4,_0x1acfc3).then(e=>{if(!e){t.SVHbM(_0x5034e4);return}t.lnQXw(_0x32555e,e.avatarUrl,e.name,e.id)}).catch(e=>{console.error(e),t.SVHbM(_0x32555e)}),t.SVHbM(_0x705a4f)):(_0x1acfc3="",_0x3592ac())});let _0x1542f6={};_0x1542f6.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x1542f6.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x1542f6.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x1542f6.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x1542f6.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x2991ae=_0x1542f6;_0x3b2e8d.fileInput.onchange=async function(e){let t={bLane:"0|1|2|5|3|4",ckkWf:"b44",NvURU:"b45",nRabn:function(e,t){return e/t},PrWSB:function(e,t){return e(t)},FQwMZ:"{u}",ZtSTj:"chats",FllQv:"messages",EHGux:"b47",MOmyv:"xOjXmYkxE",WFxxI:"xWDUelLWA",wYsLt:function(e,t){return e(t)},VEBgx:"x6Y89FynP",ZSzQD:"xujSSErs5",kEWdO:"xvb5soWNa",vJABq:function(e,t){return e>t},LbSeI:"b48",nRUpU:"b42",PHctc:"div",sbwCP:function(e,t){return e(t)},rcyKA:"image/",spuJJ:"< image {u}",jnRqd:"< video {u}",IvZjG:"audio/",DYwhf:function(e,t){return e!==t},WYHyQ:"application/zip",brZAF:"application/x-rar-compressed",xymIe:"application/vnd.rar",syzJC:"application/x-compressed",caNbk:function(e,t){return e===t},GIHTT:"application/pdf",OPBTv:"< pdf {u}",UuNNT:"< other {u}",NBBGS:'<div class="xTGGn7ABj">',HjHtQ:"xsoLox5sj",gJMWY:"xk0osKWCK",wNeWS:function(e,t,n){return e(t,n)},VXeWB:function(e,t,n){return e(t,n)},NFgbU:"state_changed"},n=e.target.files[0];if(!n)return;let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x5cf3eb(i);a.Overlay.classList.add(t.MOmyv),a.Lock=!0;let s=t.PrWSB(_0x5d2a62,"xrYn5ZY3v");s.classList.add("lf");let o=t.PrWSB(_0x5d2a62,t.WFxxI);o.classList.add("xIOucKmLX"),a.Content.appendChild(s),a.Content.appendChild(o),a.Content.classList.add("gt");let r=t.wYsLt(_0x5d2a62,t.VEBgx),$=_0x5d2a62(t.ZSzQD);s.appendChild(r),o.appendChild($);let h=_0x5d2a62(t.kEWdO);if(h.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',h.focusable(!0),s.appendChild(h),t.vJABq(n.size,52428800)){r.innerText=_0x5b9b05[t.LbSeI],$.innerText=_0x5b9b05.b49.replace("$0",_0x10791f(n.size)),h.onclick=function(){_0x3b2e8d.fileInput.value="",a.close.bind(a)()},a.Lock=!1;return}r.innerText=_0x5b9b05[t.nRUpU],$.innerText=_0x5b9b05.b43;let p=document.createElement(t.PHctc);p.classList.add("xCECpHDwZ"),p.focusable(!0),o.appendChild(p);let f=document.createElement("div");f.classList.add("xty9qDHrl"),p.appendChild(f);let _=document.createElement("div");_.classList.add("xIEj1ZAnA");let m=t.sbwCP(String,n.type),v="",g="";m.startsWith(t.rcyKA)?(v=_0x2991ae.image,g=t.spuJJ):m.startsWith("video/")?(v=_0x2991ae.video,g=t.jnRqd):m.startsWith(t.IvZjG)?(v=_0x2991ae.audio,g="< audio {u}"):t.DYwhf(["application/x-zip-compressed",t.WYHyQ,t.brZAF,t.xymIe,t.syzJC].indexOf(m),-1)?(v=_0x2991ae.archive,g="< other {u}"):t.caNbk(m,t.GIHTT)?(v=_0x2991ae.others,g=t.OPBTv):(v=_0x2991ae.others,g=t.UuNNT),_.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+v+"</svg>",f.appendChild(_);let C=document.createElement(t.PHctc);C.classList.add("xxs4n9nhX"),f.appendChild(C),C.innerHTML=t.NBBGS.concat(n.name).concat('</div><div class="xtyaQiCLO">'+_0x10791f(n.size)+"</div>"),f.appendChild(C);let w=document.createElement("div");w.classList.add(t.HjHtQ),f.appendChild(w);let y=document.createElement("div");y.classList.add(t.gJMWY),w.appendChild(y);let L="";try{L=t.sbwCP(_0x557464,12)+"-"+n.name}catch(k){console.log("生成文件名時發生未知錯誤",k)}let M=t.wNeWS(l,_0x38e1c9,"uploads/"+_0x1716b6+"/attachment/"+L),T=t.VXeWB(d,M,n);h.onclick=function(){let e=t.bLane.split("|"),n=0;for(;;){switch(e[n++]){case"0":r.innerText=_0x5b9b05[t.ckkWf];continue;case"1":$.innerText=_0x5b9b05[t.NvURU];continue;case"2":a.Lock=!1;continue;case"3":_0x3b2e8d.fileInput.value="";continue;case"4":a.close();continue;case"5":T.cancel();continue}break}},T.on(t.NFgbU,e=>{let n=100*t.nRabn(e.bytesTransferred,e.totalBytes);y.style.width=n+"%"},e=>{console.log(e)},async()=>{let e=await t.PrWSB(c,T.snapshot.ref),n="";n=g.replace(t.FQwMZ,e);let i=t.PrWSB(b,u(_0x4a31e6,t.ZtSTj,_0x1716b6,t.FllQv));await x(i,{sender:_0x1acfc3,content:n,timestamp:Date.now()});let s={};s.content=n,_0x1c3d76(s,i.id,"3"),_0x3b2e8d.fileInput.value="",p.remove(),r.innerText=_0x5b9b05.b46,$.innerText=_0x5b9b05[t.EHGux],h.onclick=()=>{},a.Lock=!1,h.bindWithCooldown(function(){a.close()})})},document.addEventListener("visibilitychange",function(){let e={};e.SRTkK="已重新聚焦 清除未讀訊息數","visible"===document.visibilityState&&(console.log(e.SRTkK),document.title=_0x1dd6f4,_0x5940fb=0)}),_0x3b2e8d.searchInput.oninput=function(){let e={};e.WTFFU="hide";let t=e,n=_0x3b2e8d.searchInput.value.toLowerCase().trim();""!==n?_0x13790e.forEach(e=>{e.name.toLowerCase().includes(n)?e.dom.classList.remove(t.WTFFU):e.dom.classList.add("hide")}):_0x13790e.forEach(e=>{e.dom.classList.remove("hide")})},_0x3b2e8d.messageContainer.addEventListener("scroll",function(){let e={qWLPZ:function(e,t){return e!==t},nMjaA:function(e,t){return e(t)}},t=_0x3b2e8d.messageContainer.scrollTop;""!==_0x1acfc3&&e.qWLPZ(_0x1716b6,"")&&t<120&&!_0x403bf5&&(_0x3f8949=!0,e.nMjaA(_0x31e07d,_0x1716b6))}),_0x3b2e8d.messageInput.oninput=function(){let e={};e.SrdBy=function(e,t){return e==t},e.mmrxA=function(e,t){return e===t},e.JrynC="DIV",e.KQLMf=function(e,t){return e!==t},e.fEGTi="disabled";let t=e,n=_0x3b2e8d.messageInput.childNodes;t.SrdBy(n.length,1)&&(t.mmrxA(n[0].nodeName,"BR")||n[0].nodeName===t.JrynC)&&_0x3b2e8d.messageInput.clear(),t.KQLMf(_0x3b2e8d.messageInput.innerText.trim(),"")?(_0x3b2e8d.sendButton.classList.remove("disabled"),_0x3b2e8d.sendButton.focusable(!0)):(_0x3b2e8d.sendButton.classList.add(t.fEGTi),_0x3b2e8d.sendButton.focusable(!1))},_0x3b2e8d.messageInput.onfocus=function(){document.body.classList.add("xYIbDcl9T")},_0x3b2e8d.messageInput.onblur=function(){let e={};e.NRrMe="xYIbDcl9T",document.body.classList.remove(e.NRrMe)},_0x3b2e8d.messageInput.onpaste=function(e){let t={RxrFn:"insertHTML",fGCfM:function(e,t){return e(t)}};e.preventDefault(),document.execCommand(t.RxrFn,!0,t.fGCfM(_0x105e4e,(e.clipboardData||window.Clipboard).getData("text/plain")))},_0x3b2e8d.messageInput.ondrop=function(e){let t={};t.peQAm="insertHTML",e.preventDefault();let n=e.dataTransfer.getData("text/plain");e.target.focus(),document.execCommand(t.peQAm,!0,_0x105e4e(n))},_0x3b2e8d.messageInput.oncopy=function(e){e.preventDefault();var t=window.getSelection().toString();e.clipboardData.setData("text/plain",t)},_0x3b2e8d.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x4cf1c5||e.shiftKey||(e.preventDefault(),({UmcJm:function(e){return e()}}).UmcJm(_0x3ce21b));break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x3b2e8d.sendButton.bindWithCooldown(_0x3ce21b),document.onkeydown=function(e){let t={};t.oyiYr=function(e,t){return e!=t},t.VYFNW="INPUT";let n=t;switch(e.keyCode){case 191:let i=document.activeElement;i!=_0x3b2e8d.messageInput&&n.oyiYr(i,_0x3b2e8d.searchInput)&&i.tagName.toUpperCase()!=n.VYFNW&&!i.classList.contains("xGuwEx6qN")&&!i.classList.contains("xYvZ9WF6d")&&(e.preventDefault(),_0x3b2e8d.messageInput.focus());break;case 75:e.ctrlKey&&_0x38d672&&(e.preventDefault(),_0x3b2e8d.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x3b2e8d.backButton.bindWithCooldown(function(){let e={};e.AHSOO="x8VAGH6N2",e.DPxwJ="Structure",e.mCXay="contenteditable",e.HkCbx="true",e.keaoX="disabled";let t=e;_0x354bf5=_0x3b2e8d.sidebar,_0x3b2e8d.backButton.classList.add("disabled"),_0x3b2e8d._mb_att_btn.classList.add("disabled");let n=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x3b2e8d.main.classList.remove(t.AHSOO),_0x403bf5=!0,_0x3b2e8d.messageContainer.clear(),_0x403bf5=!1,_0x1716b6="",_0x1dd6f4=t.DPxwJ,document.title=_0x1dd6f4,_0x3b2e8d.messageInput.clear(),_0x3b2e8d.messageInput.setAttribute(t.mCXay,t.HkCbx),_0x3b2e8d.messageInput.focusable(!1),_0x3b2e8d.sendButton.classList.add(t.keaoX),_0x3b2e8d.sendButton.focusable(!1)}),_0x3b2e8d.profileContainer.bindWithCooldown(function(){let e={qgEvE:function(e,t){return e===t},eGpZA:"normal",PKVaf:function(e){return e()},xmaMd:"disabled",OwCwK:"users",tOeQY:function(e,t,n){return e(t,n)},pjvbM:"成功加入",tYKnH:function(e,t){return e(t)},WakZY:"a11",zMeYd:function(e,t){return e(t)},JJqQb:function(e,t){return e(t)},tgMKx:"label",XUZKK:"input",xkYAh:"x4qSHIItt",GeVup:"off",tzJSv:function(e,t){return e(t)},jFwFN:"x40AApYkW",bjJkF:"a14",lbIFn:"cvs",eVfOf:"xJd2GT7MI",RCfkw:function(e,t){return e(t)},HldCm:"x9EnCPd4S",DgVeF:"xcoXgMpFW",cJCuA:"xrQdSHI2A",OAkeI:function(e,t){return e(t)}},t={};t.trigger=_0x3b2e8d.profileContainer,t.placement="top";let n=new _0x19310d(t);n.Content.classList.add("xLhiIL2Wm"),_0x3b2e8d.profileContainer.classList.add("x9EnCPd4S");let i=_0x5d2a62("xrQdSHI2A");i.focusable(!0),i.innerHTML='<svg style="min-width: 24px" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 9h8" /><path d="M8 13h6" /><path d="M12.01 18.594l-4.01 2.406v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v5.5" /><path d="M16 19h6" /><path d="M19 16v6" /></svg>'+_0x5b9b05[e.WakZY],i.bindWithCooldown(function(){let t={smeBi:e.xmaMd,NrimO:"show",EMEQV:"a14",wvxDn:e.OwCwK,xLsfk:function(t,n,i){return e.tOeQY(t,n,i)},yKTVL:function(e,t,n,i){return e(t,n,i)},Thhvl:function(e,t){return e(t)},dABjU:"center",IbCBd:"nearest",lgkxr:e.pjvbM,tgaRt:function(t,n){return e.tYKnH(t,n)},sXZPt:function(e,t){return e!==t},cGTlC:e.eGpZA};n.close();let i=_0x5b7c3c(_0x5b9b05[e.WakZY],!0);i.Root.classList.add("xUhQpBm2v");let a=e.zMeYd(_0x5d2a62,"xGGKUZ7B3");a.classList.add("xlEirFRi3");let s="_"+e.JJqQb(_0x557464,12),o=document.createElement(e.tgMKx);o.textContent=_0x5b9b05.a13,o.htmlFor=s,o.classList.add("xF37V7xd0");let r=document.createElement(e.XUZKK);r.classList.add(e.xkYAh),r.id=s,r.autocomplete="off",r.autocorrect=e.GeVup,r.maxLength="8",r.classList.add("xYvZ9WF6d"),r.classList.add("xYvZ9WF6d"),a.appendChild(o),a.appendChild(r);let l=e.JJqQb(_0x5d2a62,"xw0IanPrC"),d=e.tzJSv(_0x5d2a62,e.jFwFN);d.classList.add(e.xmaMd),d.textContent=_0x5b9b05[e.bjJkF];let c="disabled";async function $(){let e={UzPwm:function(e,t,n){return e(t,n)},VYnQX:t.lgkxr};i.root.Lock=!0,i.closebtn.classList.add("disabled"),i.closebtn.focusable(!1),l.classList.remove("show"),d.classList.add(t.smeBi),r.setAttribute(t.smeBi,!0),d.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let n=await t.tgaRt(m,t.xLsfk(C,t.xLsfk(u,_0x4a31e6,"chats"),_("jid","==",r.value.trim())));n.empty?setTimeout(function(){i.root.Lock=!1,i.closebtn.classList.remove(t.smeBi),i.closebtn.focusable(!0),l.classList.add(t.NrimO),l.innerText=_0x5b9b05.a17,r.removeAttribute(t.smeBi),d.classList.remove(t.smeBi),d.innerHTML=_0x5b9b05[t.EMEQV]},3e3):(i.root.Lock=!1,i.root.close());let a=[];n.forEach(e=>{let t={};t.id=e.id,a.push(t)}),a.forEach(async n=>{let i=_0x13790e.find(e=>e.id===n.id);if(i){if(1===a.length){let s={};s.behavior="smooth",s.block=t.dABjU,s.inline=t.IbCBd,i.dom.scrollIntoView(s),i.launch()}}else await k(b(_0x4a31e6,t.wvxDn,_0x1acfc3),{joined:y(n.id)}),await t.xLsfk(k,t.yKTVL(b,_0x4a31e6,"chats",n.id),{members:t.Thhvl(y,_0x1acfc3)}),sessionStorage.removeItem("rpf_"+n.id),_0x12156c(n.id).then(async t=>{let i={};i.id=n.id,i.name=t.name,i.type=t.type,i.tag=t.tag,i.plugins=t.plugins,i.members=t.members,i.description=t.description,i.identity=t.identity,e.UzPwm(_0x2f2d62,i,!0),console.log(e.VYnQX,n.id)})})}r.oninput=function(){let e;8===(e=r.value.trim()).length&&t.sXZPt(e,"")?(d.classList.remove("disabled"),d.focusable(!0),c="normal"):(d.classList.add("disabled"),d.focusable(!1),c=t.smeBi)},r.onkeydown=function(t){e.qgEvE(t.keyCode,13)&&c===e.eGpZA&&e.PKVaf($)},d.bindWithCooldown(async function(){t.sXZPt(c,t.cGTlC)||$()}),i.body.appendChild(a),i.body.appendChild(l),i.body.appendChild(d),r.focus()});let a=_0x5d2a62("xrQdSHI2A");a.focusable(!0),a.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0x5b9b05.a15,a.bindWithCooldown(function(){let t={nQVLY:function(e,t,n){return e(t,n)}};n.close(),e.JJqQb(_0x42a5c4,_0x1acfc3).then(e=>{let n={};n.data=e,n.type=_0x4cf1c5?"mobile":"desktop",t.nQVLY(_0x3ec22e,_0x3b2e8d.sidebar,n)}).catch(e=>{console.error(e)})});let s=_0x5d2a62(e.DgVeF),r=_0x5d2a62(e.cJCuA);r.focusable(!0),r.bindWithCooldown(function(){let t={};t.SRsBU=e.lbIFn,t.RltgJ="xmKH3ad5R",t.Eucbk=e.xmaMd,t.tiaKM=e.eVfOf,t.YtvlV="Sign out error";let i=t;n.close(),e.RCfkw(o,_0xeaba86).then(()=>{_0x1acfc3="",_0x1716b6="",_0x13790e.length=0,_0x184898.length=0,_0x38d672=!1;let e=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",e),_0x3b2e8d.primaryArea.clear(),_0x3b2e8d.messageContainer.clear(),localStorage.setItem(i.SRsBU,""),_0x1c8b7e&&(_0x1c8b7e.remove(),_0x1c8b7e=null),document.body.classList.remove(i.RltgJ),_0x3b2e8d.profileContainer.classList.remove("disabled"),_0x3b2e8d.profileContainer.focusable(!0),_0x3b2e8d.markButton.classList.add("disabled"),_0x3b2e8d.brushButton.classList.add(i.Eucbk),_0x3b2e8d.attachButton.classList.add("disabled"),_0x3b2e8d.stickerButton.classList.add(i.Eucbk),_0x3a1a67=!1,_0x3b2e8d.avatarWrapper.classList.add(i.tiaKM),_0x3b2e8d.avatarLabel.src="",_0x3b2e8d.nameLabel.innerText="",_0x3b2e8d.signatureLabel.innerText=""}).catch(e=>{console.error(i.YtvlV,e)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0x5b9b05.a16,e.OAkeI(_0x42659b,[i,a,r]),n.Content.appendChild(i),n.Content.appendChild(a),n.Content.appendChild(s),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x3b2e8d.profileContainer.classList.remove(e.HldCm)})});class _0x5415c9{constructor({parent:e,title:t}){let n={ibxvY:"inert",rkZIE:"true",DoYmU:"xCr0RyqCg",tZNbu:"xa2pPtuLq",shxvr:function(e,t){return e(t)},KjDjQ:function(e,t){return e(t)},DDvvT:"xMyenRl7K",OYaRq:"xvwhg72ii",RvZRl:"body > *:not(.xEHCrF5Oe, script, [hidden])"},i=e,a=n.shxvr(_0x5d2a62,"xB4hVI3El"),s=_0x5d2a62("xopQXJrX5"),o=_0x5d2a62("xZz4zYjIm"),r=n.KjDjQ(_0x5d2a62,n.DDvvT),l=n.shxvr(_0x5d2a62,"x8JU9DbQZ"),d=_0x5d2a62(n.OYaRq);this._parent=i,this.Root=a,this.Content=o,this.Heading=s,this._backButton=l,this._deactivated_elements=document.querySelectorAll(n.RvZRl),this._deactivated_elements.forEach(e=>{e.setAttribute(n.ibxvY,n.rkZIE)}),s.appendChild(r),r.appendChild(l),r.appendChild(d),d.textContent=t,l.focusable(!0),l.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',l.bindWithCooldown(this.close.bind(this)),a.appendChild(s),a.appendChild(o),document.body.appendChild(a),setTimeout(function(){_0x354bf5=a,i.classList.add(n.DoYmU),a.classList.add(n.tZNbu)},50)}onClose(e){this.onCloseCallback=e}close(){let e={UWOsD:"inert",FrScP:"xa2pPtuLq",fybEV:"xCr0RyqCg",yAYCa:"xjv5U11Kz",nUoft:function(e,t,n){return e(t,n)}};this.onCloseCallback&&this.onCloseCallback(),this._deactivated_elements.forEach(t=>{t.removeAttribute(e.UWOsD)}),_0x354bf5=this._parent,this.Root.classList.remove(e.FrScP),this._parent.classList.remove(e.fybEV),this._parent.classList.remove("xjv5U11Kz"),this.Root.classList.remove(e.yAYCa),e.nUoft(setTimeout,()=>{this.Root.remove()},100)}}async function _0x3ec22e(e,t){let n={FryuU:function(e,t,n,i){return e(t,n,i)},AeIeA:"xORN7XV1j",SDkEY:function(e,t){return e>t},AAgZz:function(e,t){return e(t)},TrdoH:"x0zSVRG3y",ALFAb:"cache-url",AjEJC:function(e,t){return e===t},zluiW:"video",cDWky:"8|3|2|0|1|4|5|6|7",locbp:"nodownload",SIlmC:"img",bLzoC:"assets/default-banner.png",mpRMr:"lazy",tzPZH:"xwvIJoAtO",KWbFK:function(e,t){return e(t)},UuAnh:"xqYV0G7JT",Mxfbx:function(e,t){return e(t)},MprTx:function(e,t){return e(t)},WpyMv:"xt0pX9m5p",sKyRB:"assets/avatar.png",CJwMB:"xokk3UP7N",wfYxs:"x117sdiIx",uholH:function(e,t){return e(t)},cyIHE:"xxXoB6W0R",siuiS:"xylvbLNlS",cwCsM:"xodqSvoQM",BncGU:function(e,t){return e+t},CcGiF:function(e,t){return e+t},Vvxqh:"d11",ywUOi:"desktop",ekDeI:"xlY0G76Nv",vAuWT:"xjMiLDVEU",QGEoe:"xhMhXcFlu",pVgyC:function(e,t){return e(t)},uaQcb:"xIl46kG8k",WkAnp:"xjMYgfYFc",AKJyS:"xHPTUCUar",lzTla:function(e,t,n){return e(t,n)},iGsXF:"x8JU9DbQZ",XYaZb:"xwMgtrL2x"};_0x118f1d.state=!0,_0x118f1d._n||(_0x118f1d._n=t.data.name),_0x118f1d._d||(_0x118f1d._d=t.data.signature);let i=n.AAgZz(_0x5d2a62,"xkyfCNAI0"),a=n.AAgZz(_0x5d2a62,n.TrdoH),s,o={};o.action=n.ALFAb,o.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(o);let r={};if(r.action=n.ALFAb,r.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),n.AjEJC(t.data.bannerType,n.zluiW)){let l=n.cDWky.split("|"),d=0;for(;;){switch(l[d++]){case"0":s.controls=!1;continue;case"1":s.setAttribute("muted","");continue;case"2":s.controlslist=n.locbp;continue;case"3":s.loop=!0;continue;case"4":s.playsInline=!0;continue;case"5":s.preload=!0;continue;case"6":s.autoplay=!0;continue;case"7":s.src=t.data.bannerUrl;continue;case"8":s=document.createElement("video");continue}break}}else(s=document.createElement(n.SIlmC)).draggable=!1,s.src=t.data.bannerUrl||n.bLzoC,s.loading=n.mpRMr;s.classList.add("x96ofpjeu");let c=n.AAgZz(_0x5d2a62,"xkKF4v6d2"),$=_0x5d2a62(n.tzPZH),h=document.createElement("img");h.classList.add("xVwXc1fhM");let u=n.KWbFK(_0x5d2a62,"xzCCWGB1D"),x=_0x5d2a62(n.UuAnh),b=n.Mxfbx(_0x5d2a62,"xBjZoCxmV"),p=n.MprTx(_0x5d2a62,"xodqSvoQM"),f=_0x5d2a62(n.WpyMv);i.appendChild(a),a.appendChild(s),i.appendChild(c),x.appendChild($),$.appendChild(h),h.draggable=!1,h.src=t.data.avatarUrl||n.sKyRB,h.loading="lazy",c.appendChild(u),u.appendChild(x);let _=n.KWbFK(_0x5d2a62,"x2OCp76zA");u.appendChild(_);let m=n.MprTx(_0x5d2a62,n.CJwMB);x.appendChild(m);let v=_0x118f1d._n,g=_0x5d2a62(n.wfYxs);g.textContent=v,b.appendChild(g);let C=n.uholH(_0x5d2a62,n.cyIHE);C.textContent=t.data.id,m.appendChild(b),m.appendChild(C),_0x118f1d._a=g,_0x118f1d._b=p,p.innerHTML=n.AAgZz(_0x573e28,n.uholH(_0x105e4e,_0x118f1d._d||_0x5b9b05.d10)),c.appendChild(f);let w=n.MprTx(_0x5d2a62,"xylvbLNlS");w.innerText=_0x5b9b05.b1,f.appendChild(w),f.appendChild(p);let y=n.AAgZz(_0x5d2a62,n.siuiS);y.id="xY3QPRePs",y.textContent=_0x5b9b05.b2;let L=_0x5d2a62(n.cwCsM),k=new Date(t.data.deviceInfo.lastUpdate),M=n.BncGU(n.BncGU(n.BncGU(k.getFullYear(),"/")+n.CcGiF(k.getMonth(),1)+"/"+k.getDate()," "),k.getHours().toString())+":"+k.getMinutes().toString().padStart(2,"0");if(L.innerText=(_0x79698d(t.data.deviceInfo.lastUpdate)||_0x5b9b05[n.Vvxqh])+" ("+(M||_0x5b9b05.d12)+")",f.appendChild(y),f.appendChild(L),t.type===n.ywUOi){let T={};T.closeOnEsc=!0,T.closeOnOverlayClick=!0;let E=new _0x5cf3eb(T);E.Content.classList.add(n.ekDeI),E.Content.classList.add("lg"),E.Content.classList.add("gb");let A=_0x5d2a62(n.vAuWT),R=_0x5d2a62("xUHiz9aGO"),B=_0x5d2a62(n.QGEoe),H=n.pVgyC(_0x5d2a62,n.uaQcb),S=_0x5d2a62(n.WkAnp);H.appendChild(S),S.textContent=t.data.name,R.appendChild(H),R.appendChild(B);let Y=n.uholH(_0x5d2a62,n.AKJyS);if(Y.bindWithCooldown(E.close.bind(E)),Y.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',Y.focusable(!0),n.AjEJC(t.data.id,_0x1acfc3)){let I=n.uholH(_0x5d2a62,"xHPTUCUar");I.bindWithCooldown(function(){n.FryuU(_0x5034e4,_0x118f1d._n,_0x118f1d._d,E.Root)}),I.innerHTML=_0x2a374f.edit,I.focusable(!0),B.appendChild(I),n.lzTla(_0x42659b,[I,Y],"horizontal")}B.appendChild(Y),A.appendChild(R),E.Content.appendChild(A),A.appendChild(i);let W=E.Content.getBoundingClientRect();if(E.Content.style.setProperty("--xD672nKxG",W.height+"px"),A.onscroll=function(){A.scrollTop>60?A.classList.add("xORN7XV1j"):A.classList.remove(n.AeIeA)},t.data.verified){let O=_0x5d2a62("xTKxbdpu3");O.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',b.appendChild(O)}E.onClose(function(){_0x118f1d.state=!1,_0x118f1d._a=null,_0x118f1d._b=null,_0x118f1d._n="",_0x118f1d._d=""})}else{let F={};F.parent=e,F.title=t.data.name;let D=new _0x5415c9(F);if(t.data.id===_0x1acfc3){let z=n.Mxfbx(_0x5d2a62,n.iGsXF);z.bindWithCooldown(function(){_0x5034e4(_0x118f1d._n,_0x118f1d._d,D.Root)}),z.innerHTML=_0x2a374f.edit,z.focusable(!0),D.Heading.appendChild(z)}D.Root.classList.add(n.XYaZb),D.onClose(function(){let e="1|0|2|4|3".split("|"),t=0;for(;;){switch(e[t++]){case"0":_0x118f1d._a=null;continue;case"1":_0x118f1d.state=!1;continue;case"2":_0x118f1d._b=null;continue;case"3":_0x118f1d._d="";continue;case"4":_0x118f1d._n="";continue}break}}),D.Root.onscroll=function(){n.SDkEY(D.Root.scrollTop,60)?D.Root.classList.add(n.AeIeA):D.Root.classList.remove("xORN7XV1j")},D._backButton.classList.add("xnS3FTqjp"),D.Content.appendChild(i)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{let t={};t.DLGEf=function(e,t){return e===t},t.HKeux="installed";let n=t;e.onupdatefound=()=>{let t=e.installing;t.onstatechange=()=>{n.DLGEf(t.state,n.HKeux)&&window.location.reload()}}}).catch(e=>{console.log("註冊失敗：",e)});
