/**release 0.2.2*/
let _0x56132b=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x4f21a5=_0x56132b(this,function(){let e={};return e.FnnPA="(((.+)+)+)+$",_0x4f21a5.toString().search(e.FnnPA).toString().constructor(_0x4f21a5).search("(((.+)+)+)+$")});_0x4f21a5();let _0x174bb6=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x566600=_0x174bb6(this,function(){let e={Fscnr:function(e,t){return e+t},EIdXy:function(e){return e()},VvDxx:"log",DZHQn:"error",eMzwo:"table",Ggjek:"trace"},t=function(){let t;try{t=Function(e.Fscnr("return (function() ",'{}.constructor("return this")( )')+");")()}catch(n){t=window}return t},n=e.EIdXy(t),i=n.console=n.console||{},a=[e.VvDxx,"warn","info",e.DZHQn,"exception",e.eMzwo,e.Ggjek];for(let s=0;s<a.length;s++){let o=_0x174bb6.constructor.prototype.bind(_0x174bb6),r=a[s],c=i[r]||o;o.__proto__=_0x174bb6.bind(_0x174bb6),o.toString=c.toString.bind(c),i[r]=o}});_0x566600();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as i,onAuthStateChanged as a,signInWithEmailAndPassword as s,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as c,uploadBytesResumable as l,getDownloadURL as d}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as $,enableIndexedDbPersistence as h,collection as u,setDoc as x,doc as f,deleteDoc as p,getDoc as _,where as b,getDocs as m,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as y,arrayRemove as L,updateDoc as k,limit as T}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x3d792d{constructor(e,t={}){let n={};n.rkzuq="16|26|6|33|14|11|13|30|35|20|28|21|5|27|2|23|4|18|29|25|9|1|10|7|34|32|31|22|8|15|3|24|0|12|17|19";let i=n.rkzuq.split("|"),a=0;for(;;){switch(i[a++]){case"0":this.decelerationRate=.85;continue;case"1":this.initialScale=1;continue;case"2":this.lastX=0;continue;case"3":this.lastTime=0;continue;case"4":this.img=null;continue;case"5":this.posY=0;continue;case"6":this.logicalWidth=0;continue;case"7":this.touchStartPosY=0;continue;case"8":this.velocityX=0;continue;case"9":this.initialDistance=0;continue;case"10":this.touchStartPosX=0;continue;case"11":this.updateCanvasSize();continue;case"12":this.minVelocityThreshold=.1;continue;case"13":let s={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=s;continue;case"14":this.devicePixelRatio=window.devicePixelRatio||1;continue;case"15":this.velocityY=0;continue;case"16":this.canvas=e;continue;case"17":this.setupEventListeners();continue;case"18":this.needsRedraw=!1;continue;case"19":this.requestRedraw();continue;case"20":this.tapTimeout=null;continue;case"21":this.posX=0;continue;case"22":this.rotation=0;continue;case"23":this.lastY=0;continue;case"24":this.isInertialMoving=!1;continue;case"25":this.isTouching=!1;continue;case"26":this.ctx=this.canvas.getContext("2d");continue;case"27":this.isDragging=!1;continue;case"28":this.scale=1;continue;case"29":this.animationFrameId=null;continue;case"30":this.customDrawer=null;continue;case"31":this.initialCenterY=0;continue;case"32":this.initialCenterX=0;continue;case"33":this.logicalHeight=0;continue;case"34":this.touchStartScale=1;continue;case"35":this.lastTapTime=0;continue}break}}updateCanvasSize(){let e={};e.khIaT=function(e,t){return e+t},e.ZAYOb=function(e,t){return e*t},e.ryRys=function(e,t){return e*t};let t=e,n=this.canvas.parentElement;this.logicalWidth=n.clientWidth,this.logicalHeight=n.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=this.logicalWidth+"px",this.canvas.style.height=t.khIaT(this.logicalHeight,"px"),this.canvas.width=Math.floor(t.ZAYOb(this.logicalWidth,this.devicePixelRatio)),this.canvas.height=Math.floor(t.ryRys(this.logicalHeight,this.devicePixelRatio)),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.LZIWv="mousemove",e.LNqVi="wheel",e.rKOOO="touchend",e.uIarT="mousedown",e.nsHqj="click";let t=e,n="10|0|21|11|1|16|17|9|18|3|14|7|6|22|15|20|2|12|4|8|5|13|19".split("|"),i=0;for(;;){switch(n[i++]){case"0":this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this);continue;case"1":this.handleResize=this.handleResize.bind(this);continue;case"2":document.addEventListener(t.LZIWv,this.handleMouseMove);continue;case"3":this.handleTouchStart=this.handleTouchStart.bind(this);continue;case"4":this.canvas.addEventListener(t.LNqVi,this.handleWheel);continue;case"5":this.canvas.addEventListener("touchstart",this.handleTouchStart);continue;case"6":this.draw=this.draw.bind(this);continue;case"7":this.handleTouchEnd=this.handleTouchEnd.bind(this);continue;case"8":this.canvas.addEventListener("mouseleave",this.handleMouseLeave);continue;case"9":this.handleMouseUp=this.handleMouseUp.bind(this);continue;case"10":this.handleCanvasClick=this.handleCanvasClick.bind(this);continue;case"11":this.canvas.addEventListener("touchend",this.handleCanvasTouchEnd);continue;case"12":document.addEventListener("mouseup",this.handleMouseUp);continue;case"13":this.canvas.addEventListener("touchmove",this.handleTouchMove);continue;case"14":this.handleTouchMove=this.handleTouchMove.bind(this);continue;case"15":window.addEventListener("resize",this.handleResize);continue;case"16":this.handleMouseDown=this.handleMouseDown.bind(this);continue;case"17":this.handleMouseMove=this.handleMouseMove.bind(this);continue;case"18":this.handleWheel=this.handleWheel.bind(this);continue;case"19":this.canvas.addEventListener(t.rKOOO,this.handleTouchEnd);continue;case"20":this.canvas.addEventListener(t.uIarT,this.handleMouseDown);continue;case"21":this.canvas.addEventListener(t.nsHqj,this.handleCanvasClick);continue;case"22":this.handleMouseLeave=this.handleMouseLeave.bind(this);continue}break}}getDisplayWidth(){let e={};return e.BAday=function(e,t){return e===t},e.BAday(this.rotation%180,90)?this.img.height:this.img.width}getDisplayHeight(){let e={};return e.mnOml=function(e,t){return e%t},90===e.mnOml(this.rotation,180)?this.img.width:this.img.height}calculateInitialScale(){let e={};if(e.Lysgb=function(e,t){return e/t},!this.img)return;let t=this.getDisplayWidth(),n=this.getDisplayHeight(),i=this.logicalWidth/t,a=e.Lysgb(this.logicalHeight,n);this.options.minScale=Math.min(i,a,1),this.scale=this.options.minScale}centerImage(){let e={};e.lymlq=function(e,t){return e/t},e.FxgBW=function(e,t){return e-t};let t=e;if(!this.img)return;let n=this.getDisplayWidth()*this.scale,i=this.getDisplayHeight()*this.scale;this.posX=t.lymlq(t.FxgBW(this.logicalWidth,n),2),this.posY=t.lymlq(t.FxgBW(this.logicalHeight,i),2),this.enforceBounds()}setCustomDrawer(e){let t={};t.ZSYjq=function(e,t){return e===t},t.ZSYjq(typeof e,"function")?this.customDrawer=e:console.error("setCustomDrawer 期望接收一个函数")}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.XCAee=function(e,t){return e*t},e.UdWOF=function(e,t){return e+t},e.hBAgF=function(e,t){return e/t},e.KjlWm=function(e,t){return e*t},e.tbFop=function(e,t){return e/t},e.UwYsQ=function(e,t){return e/t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=this.getDisplayWidth()*this.scale,i=t.XCAee(this.getDisplayHeight(),this.scale);this.ctx.translate(this.posX+n/2,t.UdWOF(this.posY,t.hBAgF(i,2))),this.ctx.rotate(t.KjlWm(this.rotation,Math.PI)/180),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,t.tbFop(-this.img.width,2),t.UwYsQ(-this.img.height,2)),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){let e={};e.jeGKp=function(e,t){return e+t},this.rotation=e.jeGKp(this.rotation,90)%360,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.VGvsl=function(e,t){return e*t},e.izFDQ=function(e,t){return e>t},e.LWGwY=function(e,t){return e-t},e.SMhuI=function(e,t){return e/t};let t=e;if(!this.img)return;let n=this.getDisplayWidth()*this.scale,i=t.VGvsl(this.getDisplayHeight(),this.scale);t.izFDQ(n,this.logicalWidth)?this.posX=Math.min(Math.max(this.posX,t.LWGwY(this.logicalWidth,n)),0):this.posX=t.SMhuI(this.logicalWidth-n,2),t.izFDQ(i,this.logicalHeight)?this.posY=Math.min(Math.max(this.posY,this.logicalHeight-i),0):this.posY=t.LWGwY(this.logicalHeight,i)/2}isInImageArea(e,t){let n={};n.MlRgL=function(e,t){return e*t},n.ZJGEu=function(e,t){return e+t},n.CLffb=function(e,t){return e+t},n.OOmbI=function(e,t){return e>=t};let i=n;if(!this.img)return!1;let a=this.getDisplayWidth()*this.scale,s=i.MlRgL(this.getDisplayHeight(),this.scale),o=this.posX,r=i.ZJGEu(o,a),c=this.posY,l=i.CLffb(c,s),d=Math.min(r,this.logicalWidth),$=Math.min(l,this.logicalHeight);return e>=Math.max(o,0)&&e<=d&&i.OOmbI(t,Math.max(c,0))&&t<=$}requestRedraw(){let e={zYrhY:"mousemove",SglmT:function(e,t){return e(t)}},t="3|1|0|2|4".split("|"),n=0;for(;;){switch(t[n++]){case"0":this.canvas.dispatchEvent(new MouseEvent(e.zYrhY));continue;case"1":this.needsRedraw=!0;continue;case"2":this.animationFrameId&&cancelAnimationFrame(this.animationFrameId);continue;case"3":if(this.needsRedraw)return;continue;case"4":this.animationFrameId=e.SglmT(requestAnimationFrame,this.draw);continue}break}}handleMouseDown(e){let t={};t.KxEVE=function(e,t){return e-t};let n=this.canvas.getBoundingClientRect(),i=e.clientX-n.left,a=t.KxEVE(e.clientY,n.top);this.isDraggable()&&this.isInImageArea(i,a)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor="grabbing")}handleMouseLeave(){let e={};e.TtnVF="default",this.canvas.style.cursor=e.TtnVF}handleMouseMove(e){let t={};t.knfyI="grabbing",t.AlCvx="grab",t.jcVFE="default",t.LrhaL=function(e,t){return e>t},t.yLtgP=function(e,t){return e/t};let n=t,i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=e.clientY-i.top;if(this.isInImageArea(a,s)?this.canvas.style.cursor=this.isDragging?n.knfyI:n.AlCvx:this.canvas.style.cursor=n.jcVFE,this.isDragging){let o=Date.now(),r=o-this.lastTime;this.lastTime=o;let c=e.clientX-this.lastX,l=e.clientY-this.lastY;this.posX+=c,this.posY+=l,n.LrhaL(r,0)&&(this.velocityX=n.yLtgP(c,r),this.velocityY=l/r),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.wzHdI="default",this.isDragging=!1,Math.abs(this.velocityX)>this.minVelocityThreshold||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0);let n=this.canvas.getBoundingClientRect(),i=e.clientX-n.left,a=e.clientY-n.top;this.isInImageArea(i,a)?this.canvas.style.cursor="grab":this.canvas.style.cursor=t.wzHdI}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={TqvAT:function(e,t){return e-t},vfSqR:function(e,t){return e/t},FvghH:function(e,t){return e*t},kwiFN:function(e,t){return e<t},hZpgc:function(e,t){return e(t)}};if(!this.isInertialMoving)return;let t=Date.now(),n=e.TqvAT(t,this.lastTime);this.lastTime=t,this.velocityX*=Math.pow(this.decelerationRate,e.vfSqR(n,16)),this.velocityY*=Math.pow(this.decelerationRate,n/16),this.posX+=e.FvghH(this.velocityX,n),this.posY+=this.velocityY*n,this.enforceBounds(),this.requestRedraw(),e.kwiFN(Math.abs(this.velocityX),this.minVelocityThreshold)&&Math.abs(this.velocityY)<this.minVelocityThreshold?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):e.hZpgc(requestAnimationFrame,this.animateInertia.bind(this))}handleWheel(e){let t={};t.wQYSi=function(e,t){return e-t},t.HPjhr=function(e,t){return e/t},t.kYFgz=function(e,t){return e*t};let n=t;e.preventDefault();let i=this.canvas.getBoundingClientRect(),a=n.wQYSi(e.clientX,i.left),s=e.clientY-i.top;if(!this.isInImageArea(a,s))return;let o=e.deltaY>0?.9:1.1,r=(a-this.posX)/this.scale,c=n.HPjhr(n.wQYSi(s,this.posY),this.scale),l=Math.min(Math.max(this.scale*o,this.options.minScale),this.options.maxScale);this.posX=a-n.kYFgz(r,l),this.posY=s-c*l,this.scale=l,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};if(t.HmNfx=function(e,t){return e===t},t.HmNfx(e.touches.length,0))return;let n=Array.from(e.touches),i=this.getTouchCenter(n);this.initialCenterX=i.x,this.initialCenterY=i.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,e.touches.length>=2&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.azepv=function(e,t){return e===t},t.NReGj=function(e,t){return e>=t},t.YKQSA=function(e,t){return e/t},t.Hifdj=function(e,t){return e-t},t.cVuOE=function(e,t){return e-t},t.xNqvB=function(e,t){return e*t},t.ocLcP=function(e,t){return e===t},t.gxVvZ=function(e,t){return e-t};let n=t;if(!this.isTouching)return;e.preventDefault();let i=Array.from(e.touches);if(n.azepv(i.length,0))return;let a=this.getTouchCenter(i),s=1;if(n.NReGj(i.length,2)){let o=this.getTouchDistance(i[0],i[1]);this.initialDistance>0&&(s=n.YKQSA(o,this.initialDistance))}let r=Math.min(Math.max(this.touchStartScale*s,this.options.minScale),this.options.maxScale),c=n.YKQSA(n.Hifdj(this.initialCenterX,this.touchStartPosX),this.touchStartScale),l=n.Hifdj(this.initialCenterY,this.touchStartPosY)/this.touchStartScale;if(this.posX=a.x-c*r,this.posY=n.cVuOE(a.y,n.xNqvB(l,r)),this.scale=r,this.enforceBounds(),this.requestRedraw(),n.ocLcP(i.length,1)){let d=Date.now(),$=d-this.lastTime;this.lastTime=d;let h=this.canvas.getBoundingClientRect(),u=i[0],x=n.cVuOE(u.clientX,h.left),f=u.clientY-h.top;$>0&&(this.velocityX=n.gxVvZ(x,this.lastX)/$,this.velocityY=n.YKQSA(f-this.lastY,$)),this.lastX=x,this.lastY=f}}handleTouchEnd(){let e={};e.zDwKE=function(e,t){return e>t},this.isTouching=!1,this.initialDistance=0,e.zDwKE(Math.abs(this.velocityX),this.minVelocityThreshold)||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){let e={};e.FuBlz="mousemove",this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent(e.FuBlz)),this.requestRedraw())}handleCanvasClick(e){let t={};if(t.AYpxt=function(e,t){return e-t},!this.img)return;let n=this.canvas.getBoundingClientRect(),i=t.AYpxt(e.clientX,n.left),a=e.clientY-n.top;this.isInImageArea(i,a)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={NviFD:function(e,t){return e>t},jzniF:function(e,t){return e-t},YIXbS:function(e,t){return e-t},HGDBz:function(e,t){return e(t)}};if(!this.img||t.NviFD(e.touches.length,0))return;let n=this.canvas.getBoundingClientRect(),i=e.changedTouches[0],a=t.jzniF(i.clientX,n.left),s=t.YIXbS(i.clientY,n.top),o=new Date().getTime();if(o-this.lastTapTime<360){t.HGDBz(clearTimeout,this.tapTimeout);return}this.tapTimeout=setTimeout(()=>{this.isInImageArea(a,s)||this.triggerClickOutside(e),this.lastTapTime=o},200)}getTouchDistance(e,t){let n={};n.CWPyY=function(e,t){return e-t},n.jyOzy=function(e,t){return e+t},n.yUxwl=function(e,t){return e*t};let i=n,a=e.clientX-t.clientX,s=i.CWPyY(e.clientY,t.clientY);return Math.sqrt(i.jyOzy(i.yUxwl(a,a),s*s))}isDraggable(){let e={};return e.DvIlT=function(e,t){return e*t},this.img&&(e.DvIlT(this.img.width,this.scale)>this.logicalWidth||this.img.height*this.scale>this.logicalHeight)}triggerClickOutside(e){let t={};t.CsWQW=function(e,t){return e===t},t.vqQjY="function",t.rROkz=function(e,t){return e-t},t.CXllS=function(e,t){return e-t},t.CIauM=function(e,t){return e/t},t.XvOxI=function(e,t){return e-t};let n=t;if(n.CsWQW(typeof this.options.onClickOutside,n.vqQjY)){let i=this.canvas.getBoundingClientRect(),a={x:n.rROkz(e.clientX,i.left),y:n.CXllS(e.clientY,i.top),canvasX:e.clientX-i.left,canvasY:n.CXllS(e.clientY,i.top),imageX:-1,imageY:-1};this.img&&(a.imageX=(a.canvasX-this.posX)/this.scale,a.imageY=n.CIauM(n.XvOxI(a.canvasY,this.posY),this.scale)),this.options.onClickOutside(a,e)}}getTouchCenter(e){let t={};t.uSCIK=function(e,t){return e-t},t.ulptR=function(e,t){return e/t};let n=t,i=0,a=0,s=this.canvas.getBoundingClientRect();for(let o of e)i+=n.uSCIK(o.clientX,s.left),a+=o.clientY-s.top;return{x:i/e.length,y:n.ulptR(a,e.length)}}destroy(){let e={PrEBU:"touchstart",YUYpz:"wheel",uYJxZ:"touchend",ZzyDF:"mousemove",ghGio:function(e,t){return e(t)}},t="9|5|10|7|6|2|1|8|3|0|4|11".split("|"),n=0;for(;;){switch(t[n++]){case"0":this.canvas.removeEventListener("click",this.handleCanvasClick);continue;case"1":this.canvas.removeEventListener(e.PrEBU,this.handleTouchStart);continue;case"2":this.canvas.removeEventListener(e.YUYpz,this.handleWheel);continue;case"3":this.canvas.removeEventListener(e.uYJxZ,this.handleTouchEnd);continue;case"4":this.canvas.removeEventListener("touchend",this.handleCanvasTouchEnd);continue;case"5":document.removeEventListener(e.ZzyDF,this.handleMouseMove);continue;case"6":this.canvas.removeEventListener("mousedown",this.handleMouseDown);continue;case"7":this.canvas.removeEventListener("mouseleave",this.handleMouseLeave);continue;case"8":this.canvas.removeEventListener("touchmove",this.handleTouchMove);continue;case"9":window.removeEventListener("resize",this.handleResize);continue;case"10":document.removeEventListener("mouseup",this.handleMouseUp);continue;case"11":this.animationFrameId&&e.ghGio(cancelAnimationFrame,this.animationFrameId);continue}break}}}function _0x2dbb2f(e,t,n,i){let a={hIkca:function(e,t){return e*t},Ltsyk:function(e,t){return e*t},OTJzV:function(e,t){return e+t},ttWJk:function(e,t){return e*t},Vfbsa:function(e,t){return e+t},fonIx:function(e,t){return e+t},lKSUk:function(e,t){return e<t},kEvJs:function(e,t){return e(t)},BCMUh:function(e,t){return e<t},HATcx:function(e,t){return e/t},eOgPq:function(e,t){return e-t},hjbGv:function(e,t){return e-t},fKNTY:function(e,t){return e*t},vxWIG:function(e,t){return e*t},rlWYI:function(e,t){return e*t},gqQYN:function(e,t){return e*t}},s=a.OTJzV(a.hjbGv(a.ttWJk(3,e),3*n),1),o=a.hjbGv(a.fKNTY(3,n),6*e),r=a.vxWIG(3,e),c=a.rlWYI(3,t)-a.ttWJk(3,i)+1,l=a.gqQYN(3,i)-a.gqQYN(6,t),d=a.gqQYN(3,t);function $(e){return a.hIkca(a.Ltsyk(a.OTJzV(s*e,o),e)+r,e)}function h(e){return(a.Ltsyk(a.hIkca(3,s),e)+a.hIkca(2,o))*e+r}return e=>{var t;return t=function e(t){let n=0,i=1,s=t;for(let o=0;a.lKSUk(o,8);o++){let r=a.kEvJs($,s)-t;if(a.BCMUh(Math.abs(r),1e-6))return s;let c=h(s);if(1e-6>Math.abs(c))break;s-=a.HATcx(r,c)}for(;i>n;){let l=a.eOgPq(a.kEvJs($,s),t);if(1e-6>Math.abs(l))break;l>0?i=s:n=s,s=(i+n)/2}return s}(e),a.ttWJk(a.Vfbsa(a.Ltsyk(a.fonIx(c*t,l),t),d),t)}}function _0x307c78(e,t="vertical"){let n={pORWr:"keydown",FmcLA:function(e,t){return e+t},bvZJh:function(e,t){return e===t},dpQLm:function(e,t){return e%t},favuu:"ArrowLeft",KEccF:function(e,t){return e<=t},HfFIk:function(e){return e()}};function i(){let i={ufXDI:function(e,t){return e===t},tPPdn:"vertical",nRnhi:function(e,t){return n.FmcLA(e,t)},ZPVqY:function(e,t){return e-t},VfFEp:function(e,t){return n.bvZJh(e,t)},uFhrm:function(e,t){return n.dpQLm(e,t)},QCalV:function(e,t){return n.FmcLA(e,t)},OIPIu:n.favuu,RzcEH:function(e,t){return e%t}};if(n.KEccF(e.length,1)){e.forEach(e=>{e._navHandler&&(e.removeEventListener("keydown",e._navHandler),delete e._navHandler)});return}e.forEach((a,s)=>{a._navHandler&&a.removeEventListener(n.pORWr,a._navHandler),a._navHandler=n=>{let a=s;if(i.ufXDI(t,i.tPPdn)){if("ArrowDown"===n.key)a=(s+1)%e.length;else{if("ArrowUp"!==n.key)return;a=i.nRnhi(i.ZPVqY(s,1),e.length)%e.length}}else{if(!i.VfFEp(t,"horizontal"))return;if("ArrowRight"===n.key)a=i.uFhrm(i.QCalV(s,1),e.length);else{if(!i.VfFEp(n.key,i.OIPIu))return;a=i.RzcEH(i.nRnhi(s-1,e.length),e.length)}}e[a].focus()},a.addEventListener("keydown",a._navHandler)})}i();let a={};return a.removeItem=function t(a){e=e.filter(e=>e!==a),n.HfFIk(i)},a.addItem=function t(n){e.push(n),i()},a.updateEventListeners=i,a}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.XRiil="click",n.sirvc=function(e,t){return e===t};let i=n,a=this;a._bindWithCooldownHandler&&(a.removeEventListener(i.XRiil,a._bindWithCooldownHandler),a.removeEventListener("keydown",a._bindWithCooldownHandler));let s=0,o=function(n){let o=Date.now();!a.classList.contains("disabled")&&!a.hasAttribute("disabled")&&(n.type===i.XRiil||i.sirvc(n.keyCode,32)||13===n.keyCode)&&(o-s>=t||i.sirvc(t,0))&&(s=o,e.call(a,n))};a.addEventListener(i.XRiil,o),a.addEventListener("keydown",o),a._bindWithCooldownHandler=o};let _0x568834={set(e,t){let n={};n.qkspS="Error saving to localStorage";try{let i=JSON.stringify(t);localStorage.setItem(e,i)}catch(a){console.error(n.qkspS,a)}},get(e,t=null){let n={};n.xhxYq="Error reading from localStorage";try{let i=localStorage.getItem(e);return null!==i?JSON.parse(i):t}catch(a){return console.error(n.xhxYq,a),t}},remove(e){try{localStorage.removeItem(e)}catch(t){console.error("Error removing from localStorage",t)}},clear(){try{localStorage.clear()}catch(e){console.error("Error clearing localStorage",e)}},has(e){let t={};return t.zTbVZ=function(e,t){return e!==t},t.zTbVZ(localStorage.getItem(e),null)},keys:()=>Object.keys(localStorage)};class _0x323d02{constructor({parent:e,text:t,placement:n="top"}){let i={};i.wadlD="mouseleave";let a=i;this._parent=e,this._content=t,this._placement=n,this._tooltip=null,this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9),this._parent.setAttribute("aria-describedby",this._tooltipId),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this._parent.addEventListener("mouseenter",this.showTooltip),this._parent.addEventListener("focus",this.showTooltip),this._parent.addEventListener("blur",this.hideTooltip),this._parent.addEventListener(a.wadlD,this.hideTooltip)}_createTooltipElement(){let e=({vxzWI:function(e,t){return e(t)}}).vxzWI(_0x40fcc9,"xuocLuDI6");return e.setAttribute("placement",this._placement),e.setAttribute("id",this._tooltipId),e.innerText=this._content,e}updatePosition(){let e={};e.kdghT=function(e,t){return e-t},e.OMwhY=function(e,t){return e+t},e.tTWYv=function(e,t){return e/t},e.bmylc=function(e,t){return e+t},e.DlSxZ=function(e,t){return e/t},e.SPgha=function(e,t){return e/t},e.MlaDc="left",e.KWWnk=function(e,t){return e+t},e.RBFld="right",e.NcIVs=function(e,t){return e+t};let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),i=this._tooltip.getBoundingClientRect(),a,s;switch(this._placement){case"top":a=t.kdghT(t.OMwhY(window.scrollY,n.top)-i.height,8),s=t.OMwhY(t.OMwhY(window.scrollX,n.left),t.tTWYv(n.width,2))-t.tTWYv(i.width,2);break;case"bottom":a=t.bmylc(window.scrollY,n.bottom)+8,s=t.kdghT(t.OMwhY(t.OMwhY(window.scrollX,n.left),t.DlSxZ(n.width,2)),t.SPgha(i.width,2));break;case t.MlaDc:a=t.KWWnk(window.scrollY,n.top)+n.height/2-i.height/2,s=t.kdghT(t.OMwhY(window.scrollX,n.left)-i.width,8);break;case t.RBFld:a=t.kdghT(window.scrollY+n.top+n.height/2,t.SPgha(i.height,2)),s=t.NcIVs(window.scrollX+n.right,8);break;default:throw Error("Invalid placement value")}this._tooltip.style.top=a+"px",this._tooltip.style.left=s+"px"}showTooltip(){let e={};e.BRHdq="data-state",e.wiAhW="delayed-open",e.QvFYF="aria-expanded";let t=e;this._tooltip||(this._tooltip=this._createTooltipElement(),document.body.appendChild(this._tooltip),this.updatePosition(),this._tooltip.setAttribute(t.BRHdq,t.wiAhW),this._tooltip.setAttribute(t.QvFYF,"true"))}hideTooltip(){let e={};e.aTcWA="closed",this._tooltip&&(this._tooltip.setAttribute("data-state",e.aTcWA),this._tooltip.setAttribute("aria-expanded","false"),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.AdcYV="mouseenter",e.lCyAF="focus",e.UGYCk="mouseleave";let t=e;this.hideTooltip(),this._parent&&(this._parent.removeAttribute("aria-describedby"),this._parent.removeEventListener(t.AdcYV,this.showTooltip),this._parent.removeEventListener(t.lCyAF,this.showTooltip),this._parent.removeEventListener("blur",this.hideTooltip),this._parent.removeEventListener(t.UGYCk,this.hideTooltip)),this._tooltip=null,this._parent=null,this._content=null}}class _0x10c742{constructor({trigger:e,placement:t="bottom"}){let n={FqKqY:function(e,t){return e(t)},nAnaI:function(e,t){return e(t)},QLeWL:"data-state",eWnOy:"open",cHMZQ:"aria-modal",MlLaS:"true",leBes:"contextmenu",mUkRo:"resize"},i="_"+n.FqKqY(_0x862588,12);this.trigger=e,this.placement=t,this.Root=n.FqKqY(_0x40fcc9,"xEHCrF5Oe"),this.Overlay=n.nAnaI(_0x40fcc9,"overlay"),this.Content=n.FqKqY(_0x40fcc9,"xC3Uih0ex"),this.Root.setAttribute(n.QLeWL,n.eWnOy),this.Root.setAttribute("role","popover"),this.Root.setAttribute(n.cHMZQ,n.MlLaS),this.Root.id=i,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let a=n.FqKqY(_0x18f8e2,i);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+a+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert","true")}),this.Overlay.addEventListener("click",()=>this.close()),this.Overlay.addEventListener(n.leBes,()=>this.close()),document.addEventListener("keydown",this._handleKeyDown),this._setPosition(),window.addEventListener(n.mUkRo,this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e=this.trigger.getBoundingClientRect(),t=this.Content.getBoundingClientRect(),n;if(Array.isArray(this.placement)){for(let i of this.placement){let a=this._calculatePosition(i,e,t);if(this._isPositionWithinViewport(a,t)){n=i;break}}n||(n=this.placement[0])}else n=this.placement;let s=this._calculatePosition(n,e,t);this.Content.style.position="absolute",this.Content.style.top=s.top+"px",this.Content.style.left=s.left+"px"}_calculatePosition(e,t,n){let i={};i.kTJwn="top",i.kJiwL="bottom",i.GaAkb="left",i.lDwnF=function(e,t){return e-t},i.GJWoR="start",i.NpOOi=function(e,t){return e-t},i.lAfuc=function(e,t){return e+t},i.cSIMz=function(e,t){return e===t},i.chMZz=function(e,t){return e/t};let a=i,s=0,o=0,[r,c]=e.split("-");switch(r){case a.kTJwn:s=t.top-n.height;break;case a.kJiwL:s=t.bottom;break;case a.GaAkb:o=a.lDwnF(t.left,n.width);break;case"right":o=t.right}switch(c){case a.GJWoR:o=t.left;break;case"end":o=a.NpOOi(a.lAfuc(t.left,t.width),n.width);break;default:a.cSIMz(r,a.kTJwn)||r===a.kJiwL?o=a.lAfuc(t.left,(t.width-n.width)/2):s=t.top+a.chMZz(a.lDwnF(t.height,n.height),2)}let l={};return l.top=s,l.left=o,l}_isPositionWithinViewport(e,t){let n={};n.Fkhkz=function(e,t){return e>=t},n.eOlnP=function(e,t){return e<=t},n.bVbfJ=function(e,t){return e+t};let i=n,a=window.innerWidth,s=window.innerHeight,{top:o,left:r}=e;return o>=0&&i.Fkhkz(r,0)&&i.eOlnP(o+t.height,s)&&i.bVbfJ(r,t.width)<=a}_handleKeyDown=e=>{let t={};t.hfETc=function(e,t){return e===t},t.hfETc(e.keyCode,27)&&(this.close(),this.trigger.focus())};_removeListeners(){let e={};e.cDQBS="keydown",e.crajl="resize";let t=e;document.removeEventListener(t.cDQBS,this._handleKeyDown),window.removeEventListener(t.crajl,this._handleResize)}onClose(e){this.onCloseCallback=e}close(){let e={};e.agYuw="inert";let t=e;this._removeListeners(),this._deactivated_elements.forEach(e=>{e.removeAttribute(t.agYuw)}),this.Root.setAttribute("data-state","closed"),setTimeout(()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x18f8e2(e){let t={};return t.ciAQU="\\$&",e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,t.ciAQU).replace(/^(-?\d)/,"\\3"+e.charAt(0)+" ")}class _0x4e1326{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={curpq:function(e,t){return e(t)},sHFaW:"overlay",sTkrU:"data-state",cVmml:"open",oGDqM:"role",SwLmh:"true",oIQaV:"show",XJOqg:"keydown"},a="_"+_0x862588(12);this.Root=i.curpq(_0x40fcc9,"x54SkYRT0"),this.Overlay=_0x40fcc9(i.sHFaW),this.Content=i.curpq(_0x40fcc9,"content"),this.Root.setAttribute(i.sTkrU,i.cVmml),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(i.oGDqM,"dialog"),this.Root.setAttribute("aria-modal",i.SwLmh),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=a;let s=_0x18f8e2(a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.oIQaV),_0x4e1326.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener(i.XJOqg,this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.xzUNc=function(e,t){return e===t},t.xzUNc(e.keyCode,27)&&_0x4e1326.stack[_0x4e1326.stack.length-1]===this&&this.close()};onClose(e){this.onCloseCallback=e}close(){let e={};e.pFKSL="inert";let t=e;if(!this.Lock){let n=_0x4e1326.stack.indexOf(this);n>-1&&_0x4e1326.stack.splice(n,1),this.onCloseCallback&&this.onCloseCallback(),this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>{e instanceof HTMLElement&&e.removeAttribute("inert")}):this._deactivated_elements.forEach(e=>{e.removeAttribute(t.pFKSL)}),this.Root.setAttribute("data-state","closed"),setTimeout(()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}}_0x4e1326.stack=[];class _0x868bfc extends _0x4e1326{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:i=!1,closeOnEsc:a=!0,showCloseButton:s=!1}={}){let o={};o.wDVmk="0px",o.gamgw="xv1VrMJb6";let r=o,c={};c.closeOnOverlayClick=i,c.closeOnEsc=a,super(c);let l=this._createHeader(e,s),d=this._createBody(t);if(this.Content.style.padding=r.wDVmk,this.Content.classList.add(r.gamgw),this.Content.classList.add("xLDQZ1SSl"),this.Content.appendChild(l),this.Content.appendChild(d),n.length>0){let $=this._createFooter(n);d.appendChild($)}}_createHeader(e,t){let n={};n.RMxnn="div",n.topPG="xrYn5ZY3v lf gn",n.PUyIk="Alert",n.WVIHM='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>';let i=n,a=document.createElement(i.RMxnn);a.className=i.topPG;let s=document.createElement(i.RMxnn);if(s.className="x6Y89FynP",s.textContent=e||i.PUyIk,a.appendChild(s),t){let o=_0x40fcc9("xvb5soWNa");o.focusable(!0),o.innerHTML=i.WVIHM,o.bindWithCooldown(()=>{this.close()}),a.appendChild(o)}return a}_createBody(e){let t={};t.wPyzK="div",t.nNVcN="xujSSErs5";let n=t,i=document.createElement(n.wPyzK);i.className="xWDUelLWA";let a=document.createElement(n.wPyzK);return a.className=n.nNVcN,a.innerHTML=e||"Are you sure?",i.appendChild(a),i}_createFooter(e){let t={bQsHx:function(e,t){return e(t)},eUtnn:"div",DgmvB:function(e,t){return e+t},uCiJo:"xgw2tzk6r ",ePZDk:"tabindex",TBFLM:"xWh2LBcgj",pHOXf:function(e,t,n){return e(t,n)}},n=document.createElement("div");n.className=t.TBFLM;let i=t.pHOXf(_0x307c78,[],"horizontal");return e.forEach(({text:e,classList:a=[],onClick:s})=>{let o=t.bQsHx(_0x40fcc9,"xtSMPpB1C"),r=document.createElement(t.eUtnn);r.className=t.DgmvB(t.uCiJo,a.join(" ")),r.setAttribute(t.ePZDk,"0"),r.textContent=e,r.bindWithCooldown(()=>{s&&s(),this.close()}),o.appendChild(r),i.addItem(r),n.appendChild(o)}),n}}let _0x40fcc9=e=>{let t={};t.tgXWd="div";let n=t,i=document.createElement(n.tgXWd);return i.classList.add(e),i},_0x2d52ca=e=>document.querySelector(e);function _0x862588(e){let t={};t.ReGQd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.xvEZl=function(e,t){return e<t};let n=t,i=n.ReGQd,a="";for(let s=0;n.xvEZl(s,e);s++)a+=i.charAt(Math.floor(Math.random()*i.length));return a}function _0x5f1d4c(e,t,n={}){let i={ZjnVb:function(e,t){return e===t},qAKRp:"span",LskUk:function(e,t){return e/t},qjFec:function(e,t){return e-t},nMhSI:function(e,t){return e(t)},KVBft:function(e){return e()}},{interval:a=24,fadeDuration:s=214,bezierControl:o=[.42,0,1,1]}=n,r=i.nMhSI(_0x2dbb2f,...o),c=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>","text/html").body.firstChild.childNodes),l=[];function d(){l.length&&(function e(t){let n=performance.now();function a(e){let o=Math.min(i.LskUk(i.qjFec(e,n),s),1),c=i.nMhSI(r,o);t.style.opacity=c,o<1&&i.nMhSI(requestAnimationFrame,a)}requestAnimationFrame(a)}(l.shift()),setTimeout(d,a))}c.forEach(t=>(function e(t,n){if(i.ZjnVb(t.nodeType,Node.TEXT_NODE)){let a=t.textContent.split("");for(let s of a){let o=document.createElement(i.qAKRp);o.classList.add("xSwoj5Cx2"),o.textContent=s,n.appendChild(o),l.push(o)}}else if(t.nodeType===Node.ELEMENT_NODE){let r=t.cloneNode(!1);n.appendChild(r),Array.from(t.childNodes).forEach(t=>e(t,r))}})(t,e)),i.KVBft(d)}function _0x4e60de(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0x321990(){let e={};e.zqxEX=function(e,t){return e===t},e.PaIem="MacIntel",e.UHeHP=function(e,t){return e>t},e.cXydy="iOS",e.gOttA="Mobile",e.QsFhb="Windows",e.gsLfs="Desktop",e.ifDaA="macOS",e.UjXIb="Linux";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,i=navigator.platform,a=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||t.zqxEX(i,t.PaIem)&&t.UHeHP(a,1)){let s=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(s){let o=s[1]||"0",r=s[2]||"0",c=s[3]||"0";return{os:t.cXydy,version:o+"."+r+"."+c,deviceType:/iPad/.test(n)?"Tablet":t.gOttA}}}if(/Android/.test(n)){let l=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(l)return{os:"Android",version:(l[1]||"0")+"."+(l[2]||"0")+"."+(l[3]||"0"),deviceType:/Mobile/.test(n)?"Mobile":"Tablet"}}if(/Win/.test(i)){let d=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(d){let $=d[1]||"0",h=d[2]||"0",u={};return u.os="Windows",u.version=$+"."+h,u.deviceType="Desktop",u}let x={};return x.os=t.QsFhb,x.version=null,x.deviceType=t.gsLfs,x}if(/Mac/.test(i)){let f=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(f){let p=f[1]||"0",_=f[2]||"0",b=f[3]||"0",m={};return m.os=t.ifDaA,m.version=p+"."+_+"."+b,m.deviceType="Desktop",m}let v={};return v.os="macOS",v.version=null,v.deviceType=t.gsLfs,v}if(/Linux/.test(i)){let g={};return g.os=t.UjXIb,g.version=null,g.deviceType=t.gsLfs,g}let C={};return C.os="Unknown",C.version=null,C.deviceType="Unknown",C}function _0x2a2cf3(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x569ab3={};_0x569ab3.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x569ab3.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x569ab3.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x1c3469=_0x569ab3;class _0x385c18{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={zBfvy:function(e,t){return e(t)},bYwjZ:"drawer-overlay",reZxK:function(e,t){return e(t)},sRiCe:"div",eVEcr:"data-state",kZbHI:"role",CyQyb:"aria-modal",FBrRX:"keydown"},a="_"+i.zBfvy(_0x862588,12);this.Root=i.zBfvy(_0x40fcc9,"drawer-root"),this.Overlay=_0x40fcc9(i.bYwjZ),this.Content=_0x40fcc9("drawer-content"),this.Header=i.reZxK(_0x40fcc9,"drawer-header"),this.Handle=document.createElement(i.sRiCe),this.Handle.className="drawer-drag-handle",this.Header.appendChild(this.Handle),this.Body=i.zBfvy(_0x40fcc9,"drawer-body"),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute(i.eVEcr,"open"),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(i.kZbHI,"dialog"),this.Root.setAttribute(i.CyQyb,"true"),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=a;let s=_0x18f8e2(a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add("show"),_0x385c18.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener(i.FBrRX,this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.RGrRe=function(e,t){return e-t};let n=t;27===e.keyCode&&_0x385c18.stack[n.RGrRe(_0x385c18.stack.length,1)]===this&&this.close()};onClose(e){this.onCloseCallback=e}close(){let e={IOanc:function(e){return e()},guuFN:function(e,t){return e>t},tlLqe:function(e,t){return e===t},ShARc:"none",zrYOx:"matrix"},t=_0x385c18.stack.indexOf(this);e.guuFN(t,-1)&&_0x385c18.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback();let n=()=>{this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},i=window.getComputedStyle(this.Content).transform;e.tlLqe(i,e.ShARc)||i.includes(e.zrYOx)?(this.Content.classList.remove("x9GmoP75O"),this.Content.style.transform="translateY(100%)",setTimeout(()=>{e.IOanc(n),this.Root.remove()},300)):(e.IOanc(n),this.Root.remove()),this._removeListeners()}_removeListeners(){let e={};e.TDKOK="keydown",this.Overlay.onclick=null,document.removeEventListener(e.TDKOK,this._handleKeyDown)}_setupDrag(){let e={xseOb:function(e,t){return e!==t},XsIVw:".xBWmlKrN2 *",VWdZh:"x9GmoP75O",kWcLK:function(e,t){return e-t},NRAZb:function(e,t){return e-t},HFyWB:function(e,t){return e/t},qYUVD:function(e,t){return e/t},sADAR:function(e,t){return e/t},MpRyN:function(e,t){return e(t)},FLtHy:"mousemove",ckSdQ:"mouseup",ZoDqc:"touchstart"},t=0,n=0,i=0,a=!1,s=n=>{e.xseOb(n.target.scrollTop,0)||n.target.closest(e.XsIVw)||(t=n.touches?n.touches[0].clientY:n.clientY,i=Date.now(),a=!0,this.Content.classList.add(e.VWdZh))},o=i=>{if(!a)return;n=i.touches?i.touches[0].clientY:i.clientY;let s=e.kWcLK(n,t),o=this.Content.offsetHeight;s>0&&(this.Content.style.transform="translateY("+s+"px)",this.Overlay.style.opacity=e.NRAZb(1,e.HFyWB(s,o)))},r=()=>{if(!a)return;let s=n-t,o=e.qYUVD(e.NRAZb(Date.now(),i),1e3),r=e.sADAR(s,o),c=this.Content.offsetHeight;this.Content.classList.remove("x9GmoP75O"),s>.5*c||r>600?this.close():this.Content.style.transform="translateY(0)",a=!1},c={};c.passive=!0,this.Content.addEventListener(e.ZoDqc,s,c);let l={};l.passive=!0,this.Content.addEventListener("touchmove",o,l),this.Content.addEventListener("touchend",r),this.Content.addEventListener("mousedown",t=>{e.MpRyN(s,t);let n=e=>o(e),i=()=>{r(),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)};document.addEventListener(e.FLtHy,n),document.addEventListener(e.ckSdQ,i)})}}_0x385c18.stack=[];let _0xd07f39=_0x568834.get("lang"),_0x1bb9d8="zh";_0xd07f39?_0x1bb9d8=_0xd07f39:(_0x1bb9d8="zh",_0x568834.set("lang","zh"));let _0x1d613d={};_0x1d613d.a1="搜尋…",_0x1d613d.a2="未知",_0x1d613d.a3="在這裡輸入訊息…",_0x1d613d.a4="更新了什麼",_0x1d613d.a5="私人",_0x1d613d.a6="說明",_0x1d613d.a7="公開",_0x1d613d.a8="展開全部",_0x1d613d.a9="顯示較少",_0x1d613d.a10="查看全部",_0x1d613d.a11="加入聊天室",_0x1d613d.a12="加入聊天室",_0x1d613d.a13="邀請碼",_0x1d613d.a14="送出",_0x1d613d.a15="查看個人資料",_0x1d613d.a16="登出",_0x1d613d.a17="無效的邀請碼，請重新嘗試",_0x1d613d.a18="$0 秒前",_0x1d613d.a19="$0 個月前",_0x1d613d.a20="$0 分鐘前",_0x1d613d.a21="$0 小時前",_0x1d613d.a22="$0 年前",_0x1d613d.a23="$0 天前",_0x1d613d.a24="無法預覽這個文件",_0x1d613d.a25="下載",_0x1d613d.a26="你",_0x1d613d.b1="描述",_0x1d613d.b2="最後上線",_0x1d613d.b3="描述",_0x1d613d.b4="暱稱",_0x1d613d.b5="編輯個人資料",_0x1d613d.b6="完成",_0x1d613d.b7="完成",_0x1d613d.b8="歡迎回來",_0x1d613d.b9="登入帳號後即可使用我們的服務",_0x1d613d.b10="等待中…",_0x1d613d.b11="使用 Google 繼續",_0x1d613d.b12="使用 電子郵件 登入",_0x1d613d.b13="返回上一頁",_0x1d613d.b14="密碼錯誤，請重新嘗試",_0x1d613d.b15="找不到這個帳號，請重新嘗試",_0x1d613d.b16="網路請求錯誤，請檢查網路連線",_0x1d613d.b17="發生未知的錯誤",_0x1d613d.b18="$0 則訊息",_0x1d613d.b19="沒有訊息",_0x1d613d.b20="所有成員",_0x1d613d.b21="查看所有成員",_0x1d613d.b22="查看行程安排",_0x1d613d.b23="退出",_0x1d613d.b24="電子郵件地址",_0x1d613d.b25="密碼",_0x1d613d.b26="送出",_0x1d613d.b27="電子郵件登入",_0x1d613d.b28="@未知",_0x1d613d.b29="未知",_0x1d613d.b30="已成功清除緩存，重新載入後即生效",_0x1d613d.b31="未知的指令，請重新嘗試",_0x1d613d.b32="載入中…",_0x1d613d.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0x1d613d.b34="退出",_0x1d613d.b35="取消",_0x1d613d.b36="確定",_0x1d613d.b37="行程安排",_0x1d613d.b38="標題",_0x1d613d.b39="開始",_0x1d613d.b40="結束",_0x1d613d.b41="編輯行程",_0x1d613d.c1="編輯模式",_0x1d613d.c2="預覽模式",_0x1d613d.c3="已更新介面語言為：$0",_0x1d613d.c4="英語",_0x1d613d.c5="中文",_0x1d613d.z0='<li class="xcKqXW8uF">修復了一些錯誤</li><li class="xcKqXW8uF">未來可能不會再更新了，看情況</li>',_0x1d613d.b42="上傳中",_0x1d613d.b43="正在上傳中，請耐心等待",_0x1d613d.b44="上傳遭中斷",_0x1d613d.b45="已取消上傳",_0x1d613d.b46="上傳完成",_0x1d613d.b47="這個文件已經成功上傳了",_0x1d613d.b48="上傳失敗",_0x1d613d.b49="這個文件有 $0 ，我們無法負擔",_0x1d613d.b50="動態",_0x1d613d.b51="暫無動態",_0x1d613d.b52="點擊查看",_0x1d613d.d0="附加文件",_0x1d613d.d1="發送",_0x1d613d.d2="加入貼圖",_0x1d613d.d3="標記為重要",_0x1d613d.d4="取消標記",_0x1d613d.d5="任何人都能加入這個聊天室",_0x1d613d.d6="只有受邀人能加入本聊天室",_0x1d613d.d7="重新載入後方可完整更新您的資料",_0x1d613d.d8="這裡還沒有訊息，現在就開始聊天吧",_0x1d613d.d9="未知",_0x1d613d.d10="暫時還沒有描述哦",_0x1d613d.d11="未知",_0x1d613d.d12="未知",_0x1d613d.d13="尚未加入任何聊天室",_0x1d613d.d14="還沒有任何行程，現在就創建一個吧",_0x1d613d.f1="暫時沒有人欸…\xa0等等你不是人?",_0x1d613d.f2="今天",_0x1d613d.f3="明天",_0x1d613d.f4="昨天",_0x1d613d.f5="$0 天前",_0x1d613d.f6="$0 天後",_0x1d613d.f7="已結束",_0x1d613d.f8="時間範圍無效";let _0x5f08b3={};_0x5f08b3.a1="Search…",_0x5f08b3.a2="Unknown",_0x5f08b3.a3="Enter message here…",_0x5f08b3.a4="What's new",_0x5f08b3.a5="Private",_0x5f08b3.a6="Illustrate",_0x5f08b3.a7="Public",_0x5f08b3.a8="Show more",_0x5f08b3.a9="Show less",_0x5f08b3.a10="Show all",_0x5f08b3.a11="Join groups",_0x5f08b3.a12="Join Groups",_0x5f08b3.a13="Invitation code",_0x5f08b3.a14="Submit",_0x5f08b3.a15="View profile",_0x5f08b3.a16="Logout",_0x5f08b3.a17="Invalid invitation code, please try again",_0x5f08b3.a18="$0 seconds ago",_0x5f08b3.a19="$0 months ago",_0x5f08b3.a20="$0 minutes ago",_0x5f08b3.a21="$0 hours ago",_0x5f08b3.a22="$0 years ago",_0x5f08b3.a23="$0 days ago",_0x5f08b3.a24="Unable to preview this file",_0x5f08b3.a25="Download",_0x5f08b3.a26="You",_0x5f08b3.b1="Description",_0x5f08b3.b2="Last online",_0x5f08b3.b3="Description",_0x5f08b3.b4="Nickname",_0x5f08b3.b5="Edit Profile",_0x5f08b3.b6="Save",_0x5f08b3.b7="Save",_0x5f08b3.b8="Welcome back",_0x5f08b3.b9="Log in to your account to use our services",_0x5f08b3.b10="Waiting…",_0x5f08b3.b11="Continue with Google",_0x5f08b3.b12="Continue with Email",_0x5f08b3.b13="Return to previous page",_0x5f08b3.b14="Wrong password, please try again",_0x5f08b3.b15="The account could not be found. Please try again.",_0x5f08b3.b16="Network request error, please check the network connection",_0x5f08b3.b17="An unknown error occurred",_0x5f08b3.b18="$0 messages",_0x5f08b3.b19="No message",_0x5f08b3.b20="All members",_0x5f08b3.b21="View members",_0x5f08b3.b22="View itinerary",_0x5f08b3.b23="Leave",_0x5f08b3.b24="Email Address",_0x5f08b3.b25="Password",_0x5f08b3.b26="Submit",_0x5f08b3.b27="Login with Email",_0x5f08b3.b28="@unknown",_0x5f08b3.b29="unknown",_0x5f08b3.b30="The cache has been successfully cleared and will take effect after reloading",_0x5f08b3.b31="Unknown command, please try again",_0x5f08b3.b32="Loading…",_0x5f08b3.b33="Are you sure you want to leave this group? You can rejoin later.",_0x5f08b3.b34="Leave",_0x5f08b3.b35="Cancel",_0x5f08b3.b36="Comfirm",_0x5f08b3.b37="All itinerary",_0x5f08b3.b38="Title",_0x5f08b3.b39="Start",_0x5f08b3.b40="End",_0x5f08b3.b41="Edit itinerary",_0x5f08b3.c1="編輯模式",_0x5f08b3.c2="預覽模式",_0x5f08b3.c3="Updated language: $0",_0x5f08b3.c4="English",_0x5f08b3.c5="Chinese",_0x5f08b3.z0='<li class="xcKqXW8uF">Fixed some bugs.</li><li class="xcKqXW8uF">There may be no more updates in the future.</li>',_0x5f08b3.b42="Uploading",_0x5f08b3.b43="Uploading, please wait patiently",_0x5f08b3.b44="Upload interrupted",_0x5f08b3.b45="Upload canceled",_0x5f08b3.b46="Upload completed",_0x5f08b3.b47="The file has been uploaded successfully",_0x5f08b3.b48="Upload failed",_0x5f08b3.b49="This file is $0 and we can't afford it",_0x5f08b3.b50="Dynamics",_0x5f08b3.b51="No dynamic",_0x5f08b3.b52="Click here to view",_0x5f08b3.d0="Attach files",_0x5f08b3.d1="Send",_0x5f08b3.d2="Add stickers",_0x5f08b3.d3="Mark as important",_0x5f08b3.d4="Unmark",_0x5f08b3.d5="Anyone can join this group",_0x5f08b3.d6="Only invited people can join this group",_0x5f08b3.d7="Reload to fully update your information",_0x5f08b3.d8="There are no messages here yet. Start chatting now.",_0x5f08b3.d9="Unknown",_0x5f08b3.d10="There is no description yet",_0x5f08b3.d11="Unknown",_0x5f08b3.d12="Unknown",_0x5f08b3.d13="Not joined any chat room yet",_0x5f08b3.d14="No itinerary yet",_0x5f08b3.f1="There's\xa0no\xa0one\xa0here\xa0at\xa0the\xa0moment...",_0x5f08b3.f2="Today",_0x5f08b3.f3="Tomorrow",_0x5f08b3.f4="Yesterday",_0x5f08b3.f5="$0 days ago",_0x5f08b3.f6="$0 days later",_0x5f08b3.f7="Ended",_0x5f08b3.f8="Invalid\xa0time\xa0range";let _0x37af6a={};_0x37af6a.zh=_0x1d613d,_0x37af6a.en=_0x5f08b3;let _0x556628=_0x37af6a;function _0x1d3aa1(e){return _0x556628[e]}let _0x19d44d={};_0x19d44d.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x19d44d.authDomain="smiling-theory-397204.firebaseapp.com",_0x19d44d.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x19d44d.projectId="smiling-theory-397204",_0x19d44d.storageBucket="smiling-theory-397204.appspot.com",_0x19d44d.messagingSenderId="360479398694",_0x19d44d.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x19d44d.measurementId="G-6BKTT1K7D1";let _0x3d28c3=e(_0x19d44d),_0x34afe1=_0x1d3aa1(_0x1bb9d8),_0x59cc43=$(_0x3d28c3),_0x53bf9a=r(_0x3d28c3),_0x3d3320=new i,_0x2d33ce=t();h(_0x59cc43).then(()=>{let e={};e.HbCQv="離線緩存功能已啟用";let t=e;console.log(t.HbCQv)}).catch(e=>{let t={};t.nJuOo=function(e,t){return e===t},t.nUHdZ="failed-precondition",t.WBLmN="已開啟多個分頁，無法啟用離線緩存功能",t.CsKRI="unimplemented",t.DqJZW="當前瀏覽器不支持離線緩存";let n=t;n.nJuOo(e.code,n.nUHdZ)?console.error(n.WBLmN):e.code===n.CsKRI&&console.error(n.DqJZW)});let _0xd828df=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x11bdb8=[],_0x39518a={sidebar:_0x2d52ca(".xFz8bwNFr"),main:_0x2d52ca(".x8o58HttN"),messageInput:_0x2d52ca(".xtsARDHTI"),searchInput:_0x2d52ca(".xujXllYgW"),messageContainer:_0x2d52ca(".xikyLwDf4"),sendButton:_0x2d52ca(".xuwRtDpu4"),fileInput:_0x2d52ca(".xVEJA40Qh"),attachButton:_0x2d52ca(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x2d52ca(".xpbRox0hO#xbXZpIWEa"),markButton:_0x2d52ca(".xpbRox0hO#xsVrze5YA"),brushButton:_0x2d52ca(".xpbRox0hO#xrfvUzMAG"),heading:_0x2d52ca(".xehdiGgBv"),backButton:_0x2d52ca(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x2d52ca(".xemr1y6ie"),spinnerContainer:_0x2d52ca(".xemr1y6ie .spinner"),spinnerLabel:_0x2d52ca(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x2d52ca(".xDADAUUv4"),roomNameLabel:_0x2d52ca(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x2d52ca(".xlKSJ67AP"),nameLabel:_0x2d52ca(".xt4GQkVIo"),avatarLabel:_0x2d52ca(".xbVHF6S6B"),avatarWrapper:_0x2d52ca(".xaoteDJh4"),profileContainer:_0x2d52ca(".xQ6gFUtqT"),layoutResizer:_0x2d52ca(".xrFP6D2e1"),layoutResizer2:_0x2d52ca(".xZddo7wlf"),statusLabel:_0x2d52ca(".xOJE48BLX"),activityBar:_0x2d52ca(".pS2na74a"),sidebarOverlay:_0x2d52ca(".xgUJeGeNl")},_0x518cd2='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0x34afe1.b32,_0x4ac6b2={};_0x4ac6b2.current="0.2.2",_0x4ac6b2.cacheId="x0n0HCjlj",_0x4ac6b2.directions='<ul class="xxmjDL5xB xbH7v2Hbn">'+_0x34afe1.z0+"</ul>";let _0x145437=_0x4ac6b2,_0x40559b={};_0x40559b.duration=3e4,_0x40559b.limit=2,_0x40559b.locking=!1;let _0x1faf6d=_0x40559b,_0x4d38a2=[],_0x3561c0={},_0x4c3451={},_0x553e65={},_0x54153f={},_0x19f949,_0x40533e=!1,_0x46cc7c="",_0x2b9045,_0x3ebe10=0,_0x4f8a0c,_0xfe5b9e=!1,_0x3d1419=!1,_0x1709da=!1,_0x58d9ad=_0x39518a.messageContainer,_0x27c7c1={};_0x27c7c1.state=!1,_0x27c7c1._a=null,_0x27c7c1._b=null,_0x27c7c1._n="",_0x27c7c1._d="",_0x27c7c1._m=[];let _0x2567c6=_0x27c7c1,_0xf25778="",_0x22552d=null;if(_0xd828df)document.body.classList.add("mobile"),_0x39518a._mb_att_btn.bindWithCooldown(function(){_0x39518a.fileInput.click()});else{document.body.classList.add("desktop");let E={};E.parent=_0x39518a.attachButton,E.text=_0x34afe1.d0,E.placement="top",new _0x323d02(E),_0x39518a.attachButton.bindWithCooldown(function(){_0x39518a.fileInput.click()});let R={};R.parent=_0x39518a.sendButton,R.text=_0x34afe1.d1,R.placement="top",new _0x323d02(R);let W={};W.parent=_0x39518a.stickerButton,W.text=_0x34afe1.d2,W.placement="top",new _0x323d02(W);let M={};M.parent=_0x39518a.markButton,M.text=_0x34afe1.d3,M.placement="top";let I=new _0x323d02(M),A={};A.parent=_0x39518a.brushButton,A.text="潤色文本",A.placement="top",new _0x323d02(A),_0x307c78([_0x39518a.attachButton,_0x39518a.brushButton,_0x39518a.markButton,_0x39518a.stickerButton],"horizontal"),_0x39518a.brushButton.bindWithCooldown(function(){let e=_0x168675("潤色文本",!0);e.content.classList.add("lg"),e.body.classList.add("xDLwiKdTE")}),_0x39518a.markButton.bindWithCooldown(function(){let e={};e.RKSnH="x3zdxRXQ6";let t=e;_0x1709da?(_0x1709da=!1,_0x39518a.markButton.classList.remove(t.RKSnH),I.setText(_0x34afe1.d3)):(_0x1709da=!0,_0x39518a.markButton.classList.add(t.RKSnH),I.setText(_0x34afe1.d4))},0);let Y=!1,B=0,H=0,S=e=>{let t={};t.DGhWv="xz7kq9zLe",t.QdFgv="mousemove",t.JqhMe="mouseup";let n=t;Y=!0,document.body.classList.add(n.DGhWv);let i=e.target.getBoundingClientRect();H=e.clientX-i.left,document.addEventListener(n.QdFgv,O),document.addEventListener(n.JqhMe,D)},O=e=>{let t={};t.GeoDZ=function(e,t){return e-t},t.iScVY=function(e,t){return e+t};let n=t;if(!Y)return;let i=_0x39518a.sidebar.getBoundingClientRect().left,a=n.GeoDZ(e.clientX-i,H);B=a,_0x39518a.sidebar.style.width=n.iScVY(a,"px")},D=()=>{let e={};e.fEhMk="xjS4MkN99",e.EgutJ="mouseup";let t=e;Y=!1,_0x568834.set(t.fEhMk,B),document.body.classList.remove("xz7kq9zLe"),document.removeEventListener("mousemove",O),document.removeEventListener(t.EgutJ,D)};window.addEventListener("blur",()=>{let e={};e.tlpup="resizing";let t=e;document.body.classList.remove(t.tlpup),Y=!1}),_0x39518a.layoutResizer.addEventListener("mousedown",e=>{S(e)})}function _0x168675(e,t=!1,...n){let i={KliVa:"xrYn5ZY3v",TZBrl:"x6Y89FynP",ARZxp:function(e,t){return e(t)},Fuppk:"xvb5soWNa",ECzmc:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>'};console.log(n);let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x4e1326(a),o=_0x40fcc9(i.KliVa);o.classList.add("lf"),s.Content.style.padding="0";let r=_0x40fcc9(i.TZBrl);o.appendChild(r),r.innerText=e,s.Content.appendChild(o);let c=_0x40fcc9("xWDUelLWA");s.Content.appendChild(c);let l;if(t){let d="1|3|4|0|5|2".split("|"),$=0;for(;;){switch(d[$++]){case"0":s.close=s.close.bind(s);continue;case"1":l=i.ARZxp(_0x40fcc9,i.Fuppk);continue;case"2":o.appendChild(l);continue;case"3":l.focusable(!0);continue;case"4":l.innerHTML=i.ECzmc;continue;case"5":l.bindWithCooldown(s.close);continue}break}}let h=o.getBoundingClientRect();o.style.minHeight=h.height+"px";let u={};return u.root=s,u.body=c,u.content=s.Content,u.closebtn=l,u.Root=s.Root,u.Content=s.Content,u}async function _0x434cb2(e,t){let n={ISTiu:"data-state",gQUNS:"failed",qqamI:"xUSR4cuWD",GIYAC:function(e,t){return e(t)},GXuta:"x8o1OSu71",opjFW:"xHZuqwWhI",nASZE:"xFIqZCKV3",dwEZR:"xBWmlKrN2",yxabT:"instant",jMpwV:"x2y08yFOH",rfevs:function(e,t){return e===t},veatx:"image",KvEtc:"img",SplJV:"cache-url",Nytii:function(e,t){return e===t},ejlRP:"video",QIXzl:"controls",IlZIt:"nodownload",VuncL:"xGsec9lFd",WqTqV:"audio",dBucY:"true",CoFiS:"a25",nfJEz:"xYj7x2KZ4",VuBwe:"a10"};if(t.startsWith("<")){let i=t.match(/<\s*(\w+)\s+(\S+)/),a=i[1],s=i[2];if(n.rfevs(a,n.veatx)){let o=document.createElement(n.KvEtc);o.focusable(!0),o.classList.add("xGsec9lFd"),o.classList.add("xUSR4cuWD"),o.setAttribute(n.ISTiu,"loading"),o.onerror=function(){o.setAttribute(n.ISTiu,n.gQUNS),o.classList.remove(n.qqamI)},o.onload=function(){let t=_0x54153f["_"+s];if(t)o.style.width=t.width+"px",o.style.height=t.height+"px";else{let i=o.getBoundingClientRect(),a={};a.width=i.width,a.height=i.height,_0x54153f["_"+s]=a}o.setAttribute("data-state","loaded"),o.classList.remove(n.qqamI),e.classList.add(n.nASZE),o.bindWithCooldown(function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let t=new _0x4e1326(e);t.Content.classList.add("xPSnkbRat");let i=document.createElement("canvas");i.classList.add("xWuhDLG1C"),t.Content.appendChild(i);let a=new _0x3d792d(i,{maxScale:2,onClickOutside(e,t){o(e,t)}});function o(){a.destroy(),t.close()}a.loadImage(s);let r=n.GIYAC(_0x40fcc9,n.GXuta);r.focusable(!0),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',r.bindWithCooldown(o),t.Content.appendChild(r);let c=_0x40fcc9(n.GXuta);c.classList.add(n.opjFW),c.focusable(!0),c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',c.bindWithCooldown(function(){a.rotate()},0),t.Content.appendChild(c)},0)};let r={};r.action=n.SplJV,r.url=s,navigator.serviceWorker?.controller?.postMessage(r),o.src=s,e.appendChild(o)}else if(n.Nytii(a,n.ejlRP)){let c=document.createElement(n.ejlRP);c.setAttribute("muted",""),c.focusable(!0),c.playsInline=!0,c.setAttribute(n.QIXzl,"true"),c.setAttribute("controlslist",n.IlZIt);let l={};l.action="cache-url",l.url=s,navigator.serviceWorker?.controller?.postMessage(l),c.src=s,c.classList.add(n.VuncL),e.appendChild(c)}else if(a===n.WqTqV){let d=document.createElement("audio");d.focusable(!0),d.setAttribute(n.QIXzl,n.dBucY);let $={};$.action="cache-url",$.url=s,navigator.serviceWorker?.controller?.postMessage($),d.src=s,d.classList.add("xGsec9lFd"),e.appendChild(d)}else e.innerHTML='<div class="xUiYNFhtR">'+_0x34afe1.a24+' <a class="x0ciSQShX no-wrap" href="'+s+'" target="_blank" rel="noreferrer noopener">'+_0x34afe1[n.CoFiS]+"</a></div>"}else{let h=document.createElement("span"),u=_0x40fcc9(n.nfJEz);if(h.classList.add("xVlceg4Ab"),_0x3b4e46(h,t),e.appendChild(h),e.appendChild(u),h.getBoundingClientRect().height>125){e.classList.add("xDVzL7FIt");let x=n.GIYAC(_0x40fcc9,"x6EwJGLAa"),f={};f["0"]='<span class="xNM56JYdv">'+_0x34afe1.a8+"</span>",f["1"]='<span class="xNM56JYdv">'+_0x34afe1.a9+"</span>",f["2"]='<span class="xNM56JYdv">'+_0x34afe1[n.VuBwe]+"</span>";let p=f;x.innerHTML=p[_0xd828df?2:0],x.focusable(!0);let _=0;x.bindWithCooldown(function(){if(_0xd828df){let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x385c18(i);a.Root.classList.add("xAQPbc7N3");let s=n.GIYAC(_0x40fcc9,n.dwEZR);a.Body.appendChild(s),_0x3b4e46(s,t)}else{let o={};o.top=0,o.behavior=n.yxabT,h.scrollTo(o),0===_?(_=1,e.classList.add("x2y08yFOH"),x.innerHTML=p[1]):(_=0,e.classList.remove(n.jMpwV),x.innerHTML=p[0])}},0),u.appendChild(x)}}}function _0x3b4e46(e,t){let n={};n.lcKHn="mobile",n.ADEpi="b28",n.AedBt=function(e,t){return e>t},n.kSOYC="x0ciSQShX",n.biSVP=function(e,t){return e<t};let i=n,a=/@(\w+)/g,s=0,o;for(e.clear();null!==(o=a.exec(t));){let{index:r}=o,c=o[1];i.AedBt(r,s)&&_0x464faa(e,t.slice(s,r));let l=document.createElement("a");l.classList.add(i.kSOYC),l.focusable(!0),l.dataset.userId=c;let d={};d.userId=c,d.dom=l,_0x2567c6._m.push(d),"everyone"===c?l.textContent="@everyone":_0x572d86(c).then(function(e){let t={};t.reWYm=i.lcKHn;let n=t;e?(l.textContent="@"+(e.name||_0x34afe1.b29),l.bindWithCooldown(function(){let t={};t.data=e,t.type=_0xd828df?n.reWYm:"desktop",_0x64dee9(_0x22552d,t)},0)):l.textContent=_0x34afe1[i.ADEpi]}).catch(function(e){l.textContent="@"+c,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(l),s=a.lastIndex}i.biSVP(s,t.length)&&_0x464faa(e,t.slice(s))}function _0x464faa(e,t){let n={};n.hpNAc="div",n.bBUqo=function(e,t){return e<t},n.zHgvz=function(e,t){return e-t};let i=n,a=t.split("\n");a.forEach((t,n)=>{if(t){let s=_0x2b09cc(t),o=document.createElement(i.hpNAc);o.innerHTML=s,Array.from(o.childNodes).forEach(t=>{e.appendChild(t)})}i.bBUqo(n,i.zHgvz(a.length,1))&&e.appendChild(document.createElement("br"))})}function _0x2b09cc(e){let t={};t.qYJfv=function(e,t){return e+t},t.DNUoF='<span class="xCe4Btdzm"><a class="x0ciSQShX" translate="no" href="';let n=t;return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let t=e.replace(/^https?:\/\//,"");return n.qYJfv(n.DNUoF+e+'" target="_blank" rel="noreferrer noopener">',decodeURIComponent(t))+"</a></span>"})}async function _0x1eddf1(){let e={TEvrd:function(e,t){return e===t},lQzrM:function(e,t){return e===t},OhGeG:"1358",Uswxv:"clear-all-caches",vqcTS:function(e,t){return e(t)},wreFl:function(e,t,n,i){return e(t,n,i)},vhxPJ:function(e,t){return e(t)},mjHFD:function(e,t,n,i){return e(t,n,i)},fvFBS:function(e,t){return e(t)},VmRhf:"lang",szXKj:function(e,t){return e(t)},aKWDS:"&gt;",dUWhA:"x3zdxRXQ6",XDNXc:function(e,t){return e(t)},SnTPi:"messages"},t=_0x39518a.messageInput.innerText.trim();if(!t||!_0x46cc7c||e.TEvrd(t,""))return;_0x39518a.sendButton.classList.add("disabled"),_0x39518a.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let i=n[1],a=n[2];if(e.lQzrM(i,"task")){if(e.lQzrM(a,e.OhGeG)){_0x39518a.messageInput.clear();let s={};s.action=e.Uswxv,navigator.serviceWorker?.controller?.postMessage(s);let o={};o.content=_0x34afe1.b30,o.sender=_0x4f8a0c,o.tag="2",_0x39f1d3(o,e.vqcTS(_0x862588,20),"3");return}if(e.lQzrM(a,"1241")){_0x39518a.messageInput.clear(),e.wreFl(_0x39f1d3,{content:_0x34afe1.c3.replace("$0",_0x34afe1.c5),sender:_0x4f8a0c,tag:"2"},e.vhxPJ(_0x862588,20),"3"),_0x568834.set("lang","zh");return}if("1242"===a){_0x39518a.messageInput.clear(),e.mjHFD(_0x39f1d3,{content:_0x34afe1.c3.replace("$0",_0x34afe1.c4),sender:_0x4f8a0c,tag:"2"},e.fvFBS(_0x862588,20),"3"),_0x568834.set(e.VmRhf,"en");return}{_0x39518a.messageInput.clear();let r={};r.tag="2",r.content=_0x34afe1.b31,_0x39f1d3(r,e.szXKj(_0x862588,20),"3");return}}}t=t.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<","&lt;").replaceAll(">",e.aKWDS).replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x39518a.messageInput.clear();let c=_0x1709da?"1":null;_0x39518a.markButton.classList.remove(e.dUWhA),_0x1709da=!1;let l=e.XDNXc(f,u(_0x59cc43,"chats",_0x46cc7c,e.SnTPi));_0x4d38a2.push(l.id),await x(l,{sender:_0x4f8a0c,content:t,timestamp:Date.now(),tag:c}),_0x1faf6d.locking=!0;let d={};d.content=t,d.tag=c,_0x39f1d3(d,l.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={kmsVd:function(e,t){return e===t},dsCkB:"cache-size-result",OCafK:"cacheSizeResult",wKyzW:function(e,t,n,i){return e(t,n,i)},dBJuz:function(e,t){return e(t)}};if(t.kmsVd(e.data.type,t.dsCkB)){let n=document.getElementById(t.OCafK);if(e.data.error){n.innerHTML="錯誤: "+e.data.error;return}t.wKyzW(_0x39f1d3,{content:t.dBJuz(_0xdd7f61,e.data.bytes)},_0x862588(20),"3")}});let _0x5c3eca=0;function _0x39f1d3(e,t,n="1"){let i={tptKx:function(e,t){return e(t)},cULLC:"xMyW2iRSH",qLCkB:"xKljxgVJA",ggvFJ:function(e,t){return e(t)},SCSmH:"xc4iCj2Gy",gbjNc:"true",VDhOs:"a26",TFRFq:function(e,t){return e===t},ORtbv:"xOmVIOA3e",CrMER:"xHJfZfjT1"},a=i.tptKx(_0x40fcc9,"xVC8gtuyS"),s=_0x40fcc9(i.cULLC),o=_0x40fcc9(i.qLCkB),r=i.ggvFJ(_0x40fcc9,"xu4Celbbq"),c=_0x40fcc9(i.SCSmH),l=_0x40fcc9("xRHoYYwoZ");switch(a.setAttribute("data-visible",i.gbjNc),a.setAttribute("data-message-id",t),a.classList.add("xiOw4dg0O"),a.appendChild(o),o.appendChild(l),l.appendChild(r),r.appendChild(c),l.appendChild(s),c.innerText=_0x34afe1[i.VDhOs],i.TFRFq(_0xf25778.sender,e.sender)&&a.classList.add(i.ORtbv),"1"===e.tag?s.classList.add("x4rKxFxLl"):"2"===e.tag&&s.classList.add(i.CrMER),_0x19f949&&(_0x19f949.remove(),_0x19f949=null),n){case"1":_0x39518a.messageContainer.appendChild(a);break;case"2":_0x58d9ad.appendChild(a),_0x5c3eca+=a.offsetHeight;break;case"3":_0x39518a.messageContainer.appendChild(a),_0xfe5b9e=!0,_0x39518a.messageContainer.scrollTo({top:_0x39518a.messageContainer.scrollHeight,behavior:"smooth"})}_0x434cb2(s,e.content)}function _0x3b1fe9(e,t,n="1"){let i={emfAw:"xWzeTGC6P",uiRsu:function(e,t){return e(t)},ehJTL:"/assets/avatar.png",lEoHb:"d11",xKbGR:"xMyW2iRSH",PpBFa:"xKljxgVJA",LkGoW:"xu4Celbbq",grraN:function(e,t){return e(t)},EPJgO:"xt8fROB2L",OjFwN:function(e,t){return e(t)},WLcxs:"xRHoYYwoZ",SsYGW:"data-visible",qLRKh:"lazy",OcefR:"data-message-id",uQkqU:function(e,t){return e===t},oWsOD:"xOmVIOA3e",qlPiD:function(e,t,n){return e(t,n)}},a=i.uiRsu(_0x40fcc9,"xVC8gtuyS"),s=i.uiRsu(_0x40fcc9,i.xKbGR),o=_0x40fcc9("xSYcbYqTG"),r=_0x40fcc9(i.PpBFa),c=_0x40fcc9(i.LkGoW),l=_0x40fcc9("xc4iCj2Gy"),d=i.grraN(_0x40fcc9,i.EPJgO),$=i.OjFwN(_0x40fcc9,i.WLcxs),h=document.createElement("img");switch(a.setAttribute(i.SsYGW,"true"),d.classList.add("xt8fROB2L"),h.loading=i.qLRKh,a.appendChild(o),a.appendChild(r),r.appendChild($),$.appendChild(c),c.appendChild(l),$.appendChild(s),c.appendChild(d),o.appendChild(h),a.setAttribute(i.OcefR,t),i.uQkqU(e.tag,"1")&&s.classList.add("x4rKxFxLl"),d.innerText="0s",l.innerText=_0x34afe1.d9,h.draggable=!1,_0x19f949&&(_0x19f949.remove(),_0x19f949=null),_0xf25778.sender===e.sender&&a.classList.add(i.oWsOD),n){case"1":_0x39518a.messageContainer.appendChild(a);break;case"2":_0x58d9ad.appendChild(a),_0x5c3eca+=a.offsetHeight;break;case"3":_0x39518a.messageContainer.appendChild(a),_0xfe5b9e=!0,_0x39518a.messageContainer.scrollTo({top:_0x39518a.messageContainer.scrollHeight,behavior:"smooth"}),_0xfe5b9e=!1}i.qlPiD(_0x434cb2,s,e.content),_0x572d86(e.sender).then(t=>{let n={};n.GmKuH="mobile";let a=n;function s(){let e={};e.data=t,e.type=_0xd828df?a.GmKuH:"desktop",_0x64dee9(_0x39518a.main,e)}d.innerText=i.uiRsu(_0x5e9e2b,e.timestamp),h.src=t.avatarUrl||i.ehJTL,h.onload=function(){o.classList.add(i.emfAw)},l.onclick=s,o.focusable(!0),o.bindWithCooldown(s),l.innerText=t.name||_0x34afe1[i.lEoHb]}).catch(e=>{console.error(e)})}function _0x143c6d(e,t,n){let i={};i.NRURL="unknown",i.pADPZ=function(e,t){return e||t},i.bVcKJ="assets/avatar.png";let a=i;_0x39518a.signatureLabel.textContent=n||a.NRURL,_0x39518a.avatarWrapper.classList.remove("xJd2GT7MI"),_0x39518a.avatarLabel.src=a.pADPZ(e,a.bVcKJ),_0x39518a.nameLabel.textContent=t||_0x34afe1.d11}let _0x2dbdef;async function _0x576d05(){let e={BGhBp:function(e,t){return e-t},uyAbR:"已上傳裝置信息",aJnuD:"touchend",xduos:function(e,t){return e-t},slbiL:function(e,t){return e/t},flUEB:"mousemove",JayAJ:"mouseup",vBvHd:function(e,t){return e/t},EyZWt:"xgu6pGjzk",npDtx:"--x9LFHiVqv",MoCTl:function(e,t){return e(t)},uIJHe:function(e,t){return e(t)},TaudR:"xYIbDcl9T",rsalj:function(e,t){return e!==t},JhSYh:"正在初始化應用程序",IgawS:"xjS4MkN99",DfbXa:function(e,t){return e+t},hEqTn:function(e,t){return e(t)},NVbyv:"blur",UdQjX:"touchstart",IjHRf:function(e){return e()},BGSwU:"resize",BXJWq:function(e,t,n){return e(t,n)},RyIjL:"cvs"};if(_0x40533e)return;console.log(e.JhSYh),_0x39518a.roomNameLabel.innerText=_0x34afe1.a2,_0x39518a.searchInput.placeholder=_0x34afe1.a1,_0x39518a.messageInput.setAttribute("placeholder",_0x34afe1.a3),_0x39518a.spinnerLabel.innerText=_0x34afe1.b32;let t=_0x568834.get(e.IgawS);t&&!_0xd828df&&(_0x39518a.sidebar.style.width=e.DfbXa(t,"px")),document.body.classList.add("xmKH3ad5R");let n=_0x321990(),i=_0x4e60de();_0x56295d();try{e.hEqTn(_0x572d86,_0x4f8a0c).then(async t=>{(!t.deviceInfo||e.BGhBp(Date.now(),t.deviceInfo.lastUpdate)>36e5)&&(await _0x2463e0(_0x4f8a0c,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:i.screenWidth+"x"+i.screenHeight+" @"+i.devicePixelRatio+"x"}}),console.log(e.uyAbR))})}catch(a){console.error("發生未知錯誤",a)}let s=!1,o=0,r=0,c=0,l=t=>{s=!0,o=0,c=(r=t.touches?t.touches[0].clientX:t.clientX)-t.target.getBoundingClientRect().left,document.addEventListener("mousemove",d),document.addEventListener("mouseup",$);let n={};n.passive=!0,document.addEventListener("touchmove",d,n),document.addEventListener(e.aJnuD,$)},d=t=>{if(!s)return;let n=(t.touches?t.touches[0].clientX:t.clientX)-c,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o=n,_0x39518a.main.classList.add("xp4HXkJGa"),_0x39518a.sidebar.classList.add("xgu6pGjzk"),_0x39518a.main.style.transform="translate3d("+n+"px, 0, 0)",_0x39518a.sidebarOverlay.style.opacity=e.xduos(1,n/i),_0x39518a.sidebar.style.transform="translate3d("+Math.min(-30*(1-e.slbiL(n,i)),0)+"%, 0, 0)"},$=()=>{if(!s)return;s=!1;let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;_0x39518a.main.classList.remove("xp4HXkJGa"),_0x39518a.sidebar.classList.remove("xgu6pGjzk"),document.removeEventListener(e.flUEB,d),document.removeEventListener(e.JayAJ,$);let n={};n.passive=!0,document.removeEventListener("touchmove",d,n),document.removeEventListener(e.aJnuD,$),e.vBvHd(o,t)>.5?_0x3fd337():_0x39518a.sidebarOverlay.style.opacity=1};window.addEventListener(e.NVbyv,()=>{s=!1,_0x39518a.sidebarOverlay.style.opacity=1,_0x39518a.main.classList.remove("xp4HXkJGa"),_0x39518a.sidebar.classList.remove(e.EyZWt),document.removeEventListener("mousemove",d),document.removeEventListener(e.JayAJ,$);let t={};t.passive=!0,document.removeEventListener("touchmove",d,t),document.removeEventListener("touchend",$)}),_0x39518a.layoutResizer2.addEventListener("mousedown",e=>{l(e)});let h={};h.passive=!0,_0x39518a.layoutResizer2.addEventListener(e.UdQjX,l,h);try{function u(){let t=_0x39518a.messageContainer.getBoundingClientRect();_0x39518a.messageContainer.style.setProperty(e.npDtx,e.MoCTl(Number,e.BGhBp(.6*t.height,24).toFixed(2))+"px"),_0x39518a.messageContainer.style.setProperty("--xVizV2ybq",e.uIJHe(Number,(.72*t.height).toFixed(2))-24+"px")}e.IjHRf(u),window.addEventListener(e.BGSwU,u)}catch(x){console.log("設置布局時發生錯誤")}if(_0x2dbdef=e.BXJWq(setInterval,function(){_0x33ef0e(),document.body.classList.contains(e.TaudR)&&e.rsalj(document.activeElement,_0x39518a.messageInput)&&document.body.classList.remove(e.TaudR)},1e3),_0x39518a.searchInput.removeAttribute("disabled"),_0x39518a.searchInput.focusable(!0),_0x39518a.profileContainer.classList.remove("disabled"),_0x39518a.profileContainer.focusable(!0),localStorage.getItem("cvs")!==_0x145437.current){if(_0xd828df){let f={};f.closeOnEsc=!0,f.closeOnOverlayClick=!0;let p=new _0x385c18(f);p.Overlay.classList.add("x5RtiEC9k"),p.Body.innerHTML='<div class="xa6f2dQXX">'+_0x34afe1.a4+'</div><div class="x68JrA5Ak">'+_0x145437.directions+"</div>"}else _0x168675(_0x34afe1.a4,!0).body.innerHTML='<div class="xeUKJgV96">'+_0x145437.directions+"</div>";localStorage.setItem(e.RyIjL,_0x145437.current)}_0x40533e=!0}function _0x20de9(e){let t={};t.GdYZP="&amp;$1",t.ADmoF="&gt;",t.kCkfP="<br>";let n=t;return e.replace(/&([^;]+)/g,n.GdYZP).replaceAll("<","&lt;").replaceAll(">",n.ADmoF).replaceAll(" ","&nbsp;").replaceAll("\n",n.kCkfP)}function _0x51bce2(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x1180d5="Structure";function _0x178046(e){var t;let n={yJQlW:function(e,t){return e===t},pzLcN:function(e,t,n,i){return e(t,n,i)},SajOE:function(e,t){return e!==t},mcDRx:function(e,t){return e&&t},wuwup:"inert",YUIiU:"d12",wsfZI:"xVjpzmyej",aTTbR:"disabled",vLDuB:"x3zdxRXQ6",gDXeg:"contenteditable",fxvuC:function(e,t){return e(t)},cbqnr:".x2fP9fkxS.active",hXpEH:"active",pmQPY:".xehdiGgBv .xMyenRl7K .x8JU9DbQZ",Oixkd:"true",EUSSw:"xqBX9i6rZ",ryOen:"chats",QBrOd:function(e,t,n){return e(t,n)},HTtMn:"timestamp",YMjej:"desc",TTtXn:"instant",jqNCO:function(e,t){return e(t)},YmmDU:"xU2hUavXh",zbNXW:function(e,t){return e==t},ivjLC:"xyS4vzBWG",qTxmI:"A5o980bj",jiKpJ:"xTJA9U7y9",XVRxs:"xtx2Cn8cK",oCyQK:function(e,t){return e(t)},kRXHG:"x6q2Zh2QF",PRgvM:"b37",NoUUg:"xTOLrzGN6",GzPtU:"xCgVOK4ur",FlKKO:"xtG9t2xuE",POWVB:function(e,t){return e(t)},MjAUG:function(e,t){return e(t)},xXfdg:"x7ho7YfuM",KzUZH:"xmiEvp5FV",VheMV:"todos",xAXYB:function(e,t){return e!==t},paMWX:function(e,t,n){return e(t,n)},zlyYB:"mobile",nzuMf:"desktop",UNibw:"xt4GQkVIo",gYCUk:"users",Hnhln:"d13",WRImL:"Error while deleting item:",DaCVR:function(e,t,n,i,a,s){return e(t,n,i,a,s)},YOIHP:"label",kgpNK:"date",bIRUv:"xTIlpY4Et",AIFrr:"pink",LblgA:"xaTPzRSCY",ViREP:"hide",dSwVN:"bottom-end",rbSww:"xoV8hdbgt",WVOIp:"xrQdSHI2A",Ppetd:function(e,t){return e(t)},pTsxN:"xUdcoAHYM",PBtxP:"xGy5QqsmI",TdIHF:function(e){return e()},rNHrk:"xQ65c0Nkc",eGwES:"xT3Ta8vKw",ZankC:function(e,t){return e(t)},IqGMn:"x6HyfOZS7",VsKdX:function(e,t){return e(t)}},i=n.POWVB(_0x40fcc9,"x2fP9fkxS"),a=_0x40fcc9(n.rNHrk),s=n.jqNCO(_0x40fcc9,"xybvM5cRF"),o=n.oCyQK(_0x40fcc9,n.eGwES),r=n.ZankC(_0x40fcc9,n.IqGMn),c=_0x40fcc9("xQkxrD9ZA");async function l(){if(n.SajOE(_0x46cc7c,e.id)||n.mcDRx(_0xd828df,!contextOpeneds)){_0x39518a.messageInput.innerHTML="",_0x46cc7c=e.id,_0x2567c6._m.length=0,_0x22552d=_0x39518a.main,_0x3d1419=!0,_0xd828df&&_0x39518a.sidebar.setAttribute(n.wuwup,"true"),_0xf25778="";let t=[];e.members.forEach(e=>{let n={};n.yEAey="取得用户名称时发生错误：";let i=n;_0x572d86(e).then(n=>{let i={};i.id=e,i.name=n.name,t.push(i)}).catch(e=>{console.error(i.yEAey,e)})}),_0x1180d5=(e.name||_0x34afe1[n.YUIiU])+" - Structure",document.title=_0x1180d5,_0x39518a.roomNameLabel.innerText=e.name,_0x4d38a2.length=0;let a=new URLSearchParams(window.location.search);a.set("r",e.id),window.history.replaceState({},"","?"+a.toString()),_0x39518a.messageContainer.classList.remove(n.wsfZI),_0x39518a.fileInput.removeAttribute(n.aTTbR),_0x39518a.attachButton.classList.remove(n.aTTbR),_0x39518a.attachButton.focusable(!0),_0x39518a.stickerButton.classList.remove(n.aTTbR),_0x39518a.stickerButton.focusable(!0),_0x39518a.markButton.classList.remove(n.aTTbR),_0x39518a.markButton.focusable(!0),_0x39518a.markButton.classList.remove(n.vLDuB),_0x1709da=!1,_0x39518a.brushButton.classList.remove("disabled"),_0x39518a.brushButton.focusable(!0),_0x39518a.messageInput.setAttribute(n.gDXeg,"true"),_0x39518a.sidebarOverlay.style.opacity=1,_0xd828df?(_0x39518a._mb_att_btn.classList.remove("disabled"),_0x39518a._mb_att_btn.focusable(!0),_0x39518a.backButton.classList.remove("disabled"),_0x2d52ca(n.pmQPY).focusable(!0),_0x39518a.main.classList.add("x8VAGH6N2")):(_0x2d52ca(".x2fP9fkxS.active")&&n.fxvuC(_0x2d52ca,n.cbqnr).classList.remove(n.hXpEH),i.classList.add("active")),_0x39518a.messageInput.setAttribute("contenteditable",n.Oixkd),_0x39518a.messageInput.focusable(!0),_0x39518a.messageContainer.clear(),(_0x19f949=n.fxvuC(_0x40fcc9,n.EUSSw)).classList.add("spinner"),_0x19f949.innerHTML=_0x518cd2,_0x39518a.messageContainer.appendChild(_0x19f949);let s=await m(n.pzLcN(C,u(_0x59cc43,n.ryOen,e.id,"messages"),n.QBrOd(w,n.HTtMn,n.YMjej),T(10)));_0x2b9045=s.docs[9];let o=[];s.forEach(e=>{o.push(e)}),0===o.length&&_0x19f949&&(_0x19f949.innerHTML=_0x34afe1.d8),o.reverse(),o.map(e=>{var t=e.data();n.yJQlW(_0x4d38a2.indexOf(e.id),-1)&&(n.yJQlW(t.sender,_0x4f8a0c)?(_0x4d38a2.push(e.id),n.pzLcN(_0x39f1d3,t,e.id,"1")):(_0x4d38a2.push(e.id),n.pzLcN(_0x3b1fe9,t,e.id,"1")),_0xf25778=t)}),_0xfe5b9e=!0,_0x39518a.messageContainer.scrollTo({top:_0x39518a.messageContainer.scrollHeight,behavior:n.TTtXn}),_0xfe5b9e=!1,_0x31ef3a(e.id)}}i.bindWithCooldown(l);let d={};d.id=e.id,d.length=e.size,d.name=e.name||_0x34afe1.d9,d.launch=l,d.dom=i,_0x11bdb8.push(d),i.appendChild(a),i.appendChild(r),r.appendChild(c);let $=function(){let t={GrmgB:function(e,t,i){return n.paMWX(e,t,i)},zaIlB:n.zlyYB,bXVhy:n.nzuMf,YUWOe:function(e,t){return e(t)},lGXXS:"assets/avatar.png",wznAk:"lazy",xFBWc:n.UNibw,lUPfY:function(e,t){return e!==t},QmrZJ:n.gYCUk,oiKLQ:function(e,t,i,a){return n.pzLcN(e,t,i,a)},BiEqn:"chats",jhplf:function(e,t){return e===t},OmJWM:"d12",zIllq:n.Hnhln,RWAAO:n.WRImL,LhYYL:"disabled",HJJoH:n.VheMV,zzAkj:"刪除失敗：",VWMtz:function(e,t,i,a,s,o){return n.DaCVR(e,t,i,a,s,o)},KvqiP:function(e,t,i){return n.paMWX(e,t,i)},MKHSg:"d10",ikjBC:function(e,t){return e(t)},xKbyI:n.YOIHP,rylJs:"text",dMXeU:"textarea",cXeFR:"xFJWlqoGn",vXBPL:n.kgpNK,kCHEc:"x40AApYkW",LTERS:n.bIRUv,OQJyQ:function(e,t){return e===t},EAnKj:n.AIFrr,OhyWx:"x0eVQzH93",MmqlF:function(e,t){return e(t)},mEFIp:"xHQ4s8VGa",zoDHw:function(e,t){return n.jqNCO(e,t)},mpLGA:n.LblgA,LDAlG:"horizontal",diUlz:n.ViREP,jMqCZ:"xHCo3rIZ7",vCFgd:function(e,t){return e(t)},EFXzh:"新的行程"},a={};a.trigger=c,a.placement=["bottom-start",n.dSwVN,"top-start","top-end"];let s=new _0x10c742(a);s.Content.classList.add(n.rbSww);let o=_0x40fcc9(n.WVOIp),r=n.POWVB(_0x40fcc9,"xrQdSHI2A"),l=_0x40fcc9("xcoXgMpFW"),d=n.Ppetd(_0x40fcc9,"xrQdSHI2A");o.bindWithCooldown(function(){s.close();let i=n.jqNCO(_0x40fcc9,"xPAY7PmDq"),a;if(_0xd828df){let o={};o.parent=_0x39518a.sidebar,o.title=_0x34afe1.b20,(a=new _0x3529b3(o)).Content.classList.add(n.YmmDU),a.Content.appendChild(i)}else(a=n.QBrOd(_0x168675,_0x34afe1.b20,!0)).content.classList.add("lg"),a.content.classList.add("xb4MnocjO"),a.body.appendChild(i);let r=0;e.members.forEach(e=>{r++,function e(n){let s={zPSWj:function(e,n,i){return t.GrmgB(e,n,i)},dNdxU:t.zaIlB,MOCFY:t.bXVhy,OfuRt:function(e,n){return t.YUWOe(e,n)},CpRgs:"xZHdsOFDz",RLDxg:"img",iSRqE:t.lGXXS,ClEGS:t.wznAk,WndhY:t.xFBWc,qgZnh:"xlKSJ67AP"};t.YUWOe(_0x572d86,n).then(e=>{let t=s.OfuRt(_0x40fcc9,"xScefCkPw"),n=s.OfuRt(_0x40fcc9,s.CpRgs),o=document.createElement(s.RLDxg);o.classList.add("xxnnTDIPC"),o.src=e.avatarUrl||s.iSRqE,o.draggable=!1,o.loading=s.ClEGS;let r={};r.action="cache-url",r.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),n.appendChild(o);let c=_0x40fcc9("xs8tjkwHJ"),l=_0x40fcc9(s.WndhY),d=s.OfuRt(_0x40fcc9,s.qgZnh);l.innerText=e.name,d.innerText=e.qid||e.id,t.focusable(!0),c.appendChild(l),c.appendChild(d),t.appendChild(n),t.appendChild(c),t.bindWithCooldown(function(){if(_0xd828df)s.zPSWj(_0x64dee9,a.Root,{data:e,type:s.dNdxU});else{a.root.close();let t={};t.data=e,t.type=s.MOCFY,_0x64dee9(_0x39518a.main,t)}}),i.appendChild(t)}).catch(e=>{console.error(e)})}(e)}),n.zbNXW(r,1)&&i.classList.add(n.ivjLC)}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0x34afe1.b21,o.classList.add(n.pTsxN),[o,r,d].forEach(e=>{e.focusable(!0)}),d.bindWithCooldown(function(){s.close(),new _0x868bfc({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0x34afe1.b34,message:_0x34afe1.b33,buttons:[{text:_0x34afe1.b35,classList:[n.qTxmI]},{text:_0x34afe1.b36,classList:[n.jiKpJ],onClick:async function(){let n=_0x11bdb8.findIndex(t=>t.id===e.id);if(t.lUPfY(n,-1))try{await k(f(_0x59cc43,t.QmrZJ,_0x4f8a0c),{joined:t.YUWOe(L,e.id)}),await k(t.oiKLQ(f,_0x59cc43,t.BiEqn,e.id),{members:t.YUWOe(L,_0x4f8a0c)}),_0x11bdb8.splice(n,1),i.remove(),t.jhplf(_0x46cc7c,e.id)&&(_0x46cc7c=null,_0x39518a.statusLabel.innerHTML="",_0x39518a.roomNameLabel.innerText=_0x34afe1[t.OmJWM],_0x39518a.messageContainer.clear()),0===_0x11bdb8.length&&(_0x39518a.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x34afe1[t.zIllq]+"</div>")}catch(a){console.error(t.RWAAO,a)}}}]})}),s.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12 6m-7 0a7 3 0 1 0 14 0a7 3 0 1 0 -14 0" /><path d="M5 6v12c0 1.657 3.134 3 7 3s7 -1.343 7 -3v-12" /></svg>'+_0x34afe1.b22,r.bindWithCooldown(async function(){s.close();let i,a=n.jqNCO(_0x40fcc9,n.XVRxs),o=n.oCyQK(_0x40fcc9,"xNu1Upzh6");if(_0xd828df){let r={};r.parent=_0x39518a.sidebar,r.title=_0x34afe1.b37,(i=new _0x3529b3(r)).Content.classList.add(n.kRXHG),i.Content.classList.add(n.YmmDU),i.Content.appendChild(a)}else(i=_0x168675(_0x34afe1[n.PRgvM],!0)).content.classList.add("xb4MnocjO"),i.content.classList.add("lg"),i.body.appendChild(a);let c=_0x307c78([]);function l(n,a){let s={rHEhC:t.LhYYL,CjYkH:t.HJJoH,nraPT:t.zzAkj,DABLk:function(e,n){return t.lUPfY(e,n)},IwXMf:function(e,n,i,a,s,o){return t.VWMtz(e,n,i,a,s,o)},QWNhn:function(e,n,i){return t.KvqiP(e,n,i)},GEeIU:t.MKHSg,QSNPy:"b41",jIypc:function(e,n){return t.ikjBC(e,n)},lePau:t.xKbyI,fTcqq:"input",dXyLV:"xYvZ9WF6d",TRwHS:"b38",RDABM:t.rylJs,FzRXf:t.dMXeU,dIhRv:t.cXeFR,CMgZz:"x9ZwavJjj",cBJxP:"xF37V7xd0",QGwMT:t.vXBPL,DJKOo:function(e,n){return t.ikjBC(e,n)},uBeeZ:"xGGKUZ7B3",RYeZV:t.kCHEc,ncuLX:"xwtdXtpQT"},r=_0x40fcc9(t.LTERS),l=_0x40fcc9("xA9JMbz3o");r.appendChild(l),t.OQJyQ(n.theme,t.EAnKj)&&l.classList.add(t.OhyWx);let d=t.YUWOe(_0x40fcc9,"xHxVtIAsn");r.appendChild(d);let $=t.MmqlF(_0x40fcc9,t.xFBWc);$.innerHTML=n.name||_0x34afe1.d9,d.appendChild($);let h=t.ikjBC(_0x40fcc9,t.mEFIp);_0x3b4e46(h,n.description||"忘記加上描述了"),d.appendChild(h);let u=_0x12fc53(n.startAt,n.endAt),x=_0x40fcc9("xPP6DGDrH");x.innerText=u,r.appendChild(x);let _=t.zoDHw(_0x40fcc9,"xxChbQgko"),b=_0x40fcc9(t.mpLGA);b.innerHTML=_0x1c3469.edit,b.focusable(!0);let m=_0x40fcc9("xaTPzRSCY");m.innerHTML=_0x1c3469.trash,m.focusable(!0),_0x307c78([b,m],t.LDAlG),m.bindWithCooldown(async function(){r.classList.add("disabled");try{m.focusable(!1),m.classList.add(s.rHEhC),b.focusable(!1),b.classList.add(s.rHEhC),await p(f(_0x59cc43,"chats",e.id,s.CjYkH,a)),console.log("已成功刪除行程："+a),r.remove(),c.removeItem(r)}catch(t){let n="0|2|1|5|3|4".split("|"),i=0;for(;;){switch(n[i++]){case"0":m.focusable(!0);continue;case"1":b.focusable(!0);continue;case"2":m.classList.remove(s.rHEhC);continue;case"3":console.error(s.nraPT,t);continue;case"4":r.classList.remove(s.rHEhC);continue;case"5":b.classList.remove(s.rHEhC);continue}break}}}),_.appendChild(b),_.appendChild(m),r.appendChild(_),r.focusable(!0),c.addItem(r),o.appendChild(r);let v={};v.name=n.name||"未知",v.startAt=n.startAt||17356608e5,v.endAt=n.endAt||17356608e5,v.description=n.description||"";let g=v;b.bindWithCooldown(function(t){t.stopPropagation(),function t(){let o={eitbX:function(e,t){return s.DABLk(e,t)},oJrcs:"disabled",ElDNF:function(e,t,n,i,a,o){return s.IwXMf(e,t,n,i,a,o)},GUjyW:"chats",YUXgi:function(e,t,n){return s.QWNhn(e,t,n)},kKOsT:s.GEeIU,SnoIe:"更新失敗："},r=_0x168675(_0x34afe1[s.QSNPy],!0,i.Root);r.root.Overlay.classList.add("xOjXmYkxE");let c=s.jIypc(_0x40fcc9,"xGGKUZ7B3"),l="_"+_0x862588(12),d=document.createElement(s.lePau),u=document.createElement(s.fTcqq);d.classList.add("xF37V7xd0"),u.classList.add(s.dXyLV),d.htmlFor=l,d.textContent=_0x34afe1[s.TRwHS],u.id=l,u.type=s.RDABM,u.value=g.name,u.maxLength=30,c.appendChild(d),c.appendChild(u);let x=_0x40fcc9("xGGKUZ7B3"),p="_"+_0x862588(12),_=document.createElement(s.lePau),b=document.createElement(s.FzRXf);_.classList.add("xF37V7xd0"),b.classList.add("xGuwEx6qN"),_.htmlFor=p,_.textContent=_0x34afe1.b3,b.id=p,b.rows=3,b.value=g.description,b.maxLength=80,x.appendChild(_),x.appendChild(b);let m=s.jIypc(_0x40fcc9,"xGGKUZ7B3");m.classList.add(s.dIhRv);let v="_"+_0x862588(12),C=document.createElement("label"),w=_0x40fcc9(s.CMgZz),y=document.createElement(s.fTcqq),L=document.createElement("input");C.classList.add(s.cBJxP),y.classList.add("xYvZ9WF6d"),C.htmlFor=v,C.textContent=_0x34afe1.b39,y.type=s.QGwMT,y.id=v,L.classList.add(s.dXyLV),L.type="time";let T="_"+s.jIypc(_0x862588,12),E=s.jIypc(_0x40fcc9,s.CMgZz),R=document.createElement("label"),W=document.createElement("input"),M=document.createElement(s.fTcqq);R.classList.add(s.cBJxP),W.classList.add("xYvZ9WF6d"),R.htmlFor=T,R.textContent=_0x34afe1.b40,W.id=T,W.type="date",M.classList.add("xYvZ9WF6d"),M.type="time";let I=s.DJKOo(_0x40fcc9,s.uBeeZ),A=s.jIypc(_0x40fcc9,s.RYeZV);A.classList.add(s.ncuLX),A.textContent=_0x34afe1.b6,A.classList.add(s.rHEhC);let Y={};function B(){o.eitbX(u.value.trim(),"")&&y.value&&L.value&&W.value&&M.value&&(u.value!==Y._z||y.value!==Y._a||L.value!==Y._b||o.eitbX(W.value,Y._c)||M.value!==Y._d||b.value!==Y._y)?(A.focusable(!0),A.classList.remove(o.oJrcs)):(A.focusable(!1),A.classList.add("disabled"))}Y._z=n.name,Y._y=n.description;let H=[u,y,L,W,M,b];if(H.forEach(e=>{e.oninput=B}),A.bindWithCooldown(async function(){A.classList.add(o.oJrcs),A.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let t=new Date(y.value+"T"+L.value).getTime(),n=new Date(W.value+"T"+M.value).getTime(),i=u.value,s=b.value;H.forEach(e=>{e.setAttribute("disabled",!0)});let c=o.ElDNF(f,_0x59cc43,o.GUjyW,e.id,"todos",a);try{let l={};l.endAt=n,l.startAt=t,l.name=i,l.description=s,await o.YUXgi(k,c,l),g.name=i,g.description=s,g.startAt=t,g.endAt=n,$.innerHTML=g.name,o.YUXgi(_0x3b4e46,h,g.description||_0x34afe1[o.kKOsT]),console.log("已成功更新行程："+a),r.root.close()}catch(d){console.error(o.SnoIe,d),H.forEach(e=>{e.classList.remove(o.oJrcs)})}}),w.appendChild(C),w.appendChild(y),w.appendChild(L),E.appendChild(R),E.appendChild(W),E.appendChild(M),r.body.appendChild(c),r.body.appendChild(x),r.body.appendChild(m),r.body.appendChild(I),m.appendChild(w),m.appendChild(E),I.appendChild(A),g.startAt){let S=new Date(g.startAt),O=new Date(g.startAt).toISOString().split("T")[0];console.log(O);let D=S.toTimeString().split(":").slice(0,2).join(":");console.log(O),Y._a=O,Y._b=D,y.value=O,L.value=D}if(g.endAt){let X=new Date(g.endAt),F=new Date(g.endAt).toISOString().split("T")[0],z=X.toTimeString().split(":").slice(0,2).join(":");Y._c=F,Y._d=z,W.value=F,M.value=z}B(),u.focus()}()})}a.appendChild(o);let d=n.oCyQK(_0x40fcc9,n.NoUUg);a.appendChild(d);let $=_0x40fcc9(n.GzPtU);d.appendChild($);let h=_0x40fcc9(n.FlKKO),_=n.POWVB(_0x40fcc9,"x5FOXvrVK"),b=n.MjAUG(_0x40fcc9,"x5FOXvrVK"),v=n.MjAUG(_0x40fcc9,n.xXfdg);h.appendChild(_),h.appendChild(b),h.appendChild(v);let g=!1;_.innerText=_0x34afe1.c1,b.innerText=_0x34afe1.c2,h.focusable(!0),$.appendChild(h);let w=n.oCyQK(_0x40fcc9,"xY17x64dw");w.classList.add(n.KzUZH),w.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',w.focusable(!0),h.bindWithCooldown(function(){g?(w.classList.remove(t.diUlz),o.classList.remove("xbrV3058R"),h.classList.remove(t.jMqCZ),g=!1):(w.classList.add(t.diUlz),o.classList.add("xbrV3058R"),h.classList.add("xHCo3rIZ7"),g=!0)},0),w.bindWithCooldown(async function(){let n=t.vCFgd(f,u(_0x59cc43,t.BiEqn,e.id,"todos")),i={name:t.EFXzh,description:"",startAt:Date.now(),endAt:Date.now()};await t.KvqiP(x,n,i),t.KvqiP(l,i,n.id)},1e3),$.appendChild(w),o.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x518cd2+"</div>";let y=await n.jqNCO(m,C(u(_0x59cc43,"chats",e.id,n.VheMV)));o.innerHTML='<div class="xmBX2cWRZ">'+_0x34afe1.d14+"</div>",n.xAXYB(y.docs.length,0)&&y.forEach(e=>{let n=e.data();t.GrmgB(l,n,e.id)})}),s.Content.appendChild(r),s.Content.appendChild(l),d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0x34afe1.b23,d.classList.add(n.PBtxP),s.Content.appendChild(d),_0x307c78([o,r,d]),s._setPosition()};if(c.bindWithCooldown(function(e){e.stopPropagation(),n.TdIHF($)}),c.focusable(!0),i.focusable(!0),c.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',a.appendChild(s),s.innerText=e.name||_0x34afe1.a2,t=e.description?e.description:n.yJQlW(e.size,0)?_0x34afe1.b19:_0x34afe1.b18.replace("$0",n.VsKdX(_0x51bce2,e.size)),o.innerText=t,a.appendChild(o),_0x39518a.primaryArea.appendChild(i),e.focus){n.TdIHF(l);let h={};h.behavior="smooth",h.block="center",h.inline="nearest",i.scrollIntoView(h)}}function _0x5e9e2b(e){let t={};t.cXNUX=function(e,t){return e<t},t.PORLC="a18",t.HRcdm="a20",t.rUlnY=function(e,t){return e/t},t.gBpFy=function(e,t){return e<t},t.cdTfz="a19",t.bSsdo=function(e,t){return e/t},t.xAMgi=function(e,t){return e/t};let n=t,i=Math.max(Math.floor((Date.now()-e)/1e3),0);return n.cXNUX(i,60)?_0x34afe1[n.PORLC].replace("$0",i):n.cXNUX(i,3600)?_0x34afe1[n.HRcdm].replace("$0",Math.floor(n.rUlnY(i,60))):i<86400?_0x34afe1.a21.replace("$0",Math.floor(i/3600)):n.gBpFy(i,2592e3)?_0x34afe1.a23.replace("$0",Math.floor(n.rUlnY(i,86400))):i<31536e3?_0x34afe1[n.cdTfz].replace("$0",Math.floor(n.bSsdo(i,2592e3))):_0x34afe1.a22.replace("$0",_0x51bce2(Math.floor(n.xAMgi(i,31536e3))))}function _0xdd7f61(e){let t={};t.ggswo=function(e,t){return e>=t};let n=t,i=["B","KB","MB","GB","TB","PB"],a=e,s=0;for(;n.ggswo(a,1024)&&s<i.length-1;)a/=1024,s++;return a.toFixed(2)+" "+i[s]}async function _0x2463e0(e,t){let n={nRUDn:"users",tITZA:function(e,t,n){return e(t,n)},OWBOw:"Failed to update user profile:"};try{let i=f(_0x59cc43,n.nRUDn,e);if(t){await n.tITZA(k,i,t),_0x4c3451[e]&&(_0x4c3451[e]={..._0x4c3451[e],...t});let a=sessionStorage.getItem("upf_"+e);if(a){let s={...JSON.parse(a),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(s))}}else delete _0x4c3451[e],sessionStorage.removeItem("upf_"+e);return!0}catch(o){return console.error(n.OWBOw,o),!1}}async function _0x572d86(e){let t={oSZWP:function(e,t,n,i){return e(t,n,i)},sVmRR:"users"};if(_0x4c3451[e])return _0x4c3451[e];let n=sessionStorage.getItem("upf_"+e);if(n){let i=JSON.parse(n);return _0x4c3451[e]=i,i}try{let a=await _(t.oSZWP(f,_0x59cc43,t.sVmRR,e));if(!a.exists())return null;{let s=a.data();return _0x4c3451[e]=s,sessionStorage.setItem("upf_"+e,JSON.stringify(s)),s}}catch(o){throw o}}async function _0x1fb8aa(e){if(_0x553e65[e])return _0x553e65[e];let t=sessionStorage.getItem("rpf_"+e);if(t){let n=JSON.parse(t);return _0x553e65[e]=n,n}try{let i=await ({tmJsN:function(e,t){return e(t)}}).tmJsN(_,f(_0x59cc43,"chats",e));if(!i.exists())return null;{let a=i.data();return _0x4c3451[e]=a,sessionStorage.setItem("rpf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x3eef7c(e,t){let n={aCUSl:function(e,t){return e===t},QIfjI:function(e,t,n,i){return e(t,n,i)},tkOLo:"messages",ywLxE:"timestamp",VhTjQ:"desc",fLveM:function(e,t){return e(t)},OKRLa:"xWIHJooz8",wwRKD:function(e,t){return e-t}};if(void 0!==_0x2b9045){_0xfe5b9e=!0;let i=await m(C(u(_0x59cc43,"chats",e,n.tkOLo),w(n.ywLxE,n.VhTjQ),n.fLveM(v,_0x2b9045),T(10)));if(console.log(i.docs.length+" messages left"),0===i.docs.length)return;_0x2b9045=10===i.docs.length?i.docs[9]:void 0;let a=[];i.forEach(e=>{a.push(e)}),a.reverse();let s=0;_0x58d9ad=n.fLveM(_0x40fcc9,n.OKRLa),_0xf25778="";let o=_0x39518a.messageContainer.firstChild;_0x39518a.messageContainer.insertBefore(_0x58d9ad,o);let r=_0x39518a.messageContainer.scrollHeight;a.map(e=>{s++;let t=e.data();n.aCUSl(_0x4d38a2.indexOf(e.id),-1)&&(n.aCUSl(t.sender,_0x4f8a0c)?(_0x4d38a2.push(e.id),n.QIfjI(_0x39f1d3,t,e.id,"2")):(_0x4d38a2.push(e.id),_0x3b1fe9(t,e.id,"2")),_0xf25778=t)});let c=_0x39518a.messageContainer.scrollHeight;_0xfe5b9e=!0,_0x5c3eca=n.wwRKD(c,r),console.log("觸發前："+_0x39518a.messageContainer.scrollTop+"\n觸發時間："+Date.now()/1e3+"\n高度："+_0x5c3eca);let l={};l.top=_0x5c3eca,l.left=0,l.behavior="instant",_0x39518a.messageContainer.scrollTo(l),_0x5c3eca=0,_0xfe5b9e=!1}else _0xfe5b9e=!1}function _0x12fc53(e,t){let n={yhqgQ:function(e,t){return e>t},rXxDi:function(e,t){return e<t},HpHfk:function(e,t){return e(t)},QJYfQ:function(e,t){return e/t},iYVdF:function(e,t){return e*t},VtVaU:function(e,t){return e*t},UMWgU:function(e,t){return e>t}},i=new Date,a=new Date(e),s=new Date(t);if(s<a)return _0x34afe1.f8;if(n.yhqgQ(i,s))return _0x34afe1.f7;let o=n.rXxDi(i,a)?a:s,r=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),c=n.HpHfk(r,o),l=n.HpHfk(r,i),d=Math.floor(n.QJYfQ(c-l,24*n.iYVdF(n.VtVaU(1e3,60),60))),$;switch(d){case -1:$=_0x34afe1.f4;break;case 0:$=_0x34afe1.f2;break;case 1:$=_0x34afe1.f3;break;default:$=n.UMWgU(d,0)?_0x34afe1.f6.replace("$0",d):_0x34afe1.f5.replace("$0",Math.abs(d))}return $}let _0x457d5b='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x31ef3a(e){let t={usmKZ:function(e,t){return e!==t},hnBcq:"added",Wtaoz:function(e,t){return e===t},feclc:function(e,t,n,i){return e(t,n,i)},EkxJL:"removed",Ncbke:"{sid}",tffne:"xl4gtQk5f",OBKQR:function(e,t){return e(t)},gmywq:".xMyW2iRSH"};if(_0x3561c0[e]){console.log("Listener for "+e+" already exists.");return}let n=t.feclc(g,u(_0x59cc43,"chats",e,"messages"),n=>{n.docChanges().forEach(n=>{if(t.usmKZ(_0x46cc7c,e))return;let i=n.doc.data();switch(n.type){case t.hnBcq:-1!==_0x4d38a2.indexOf(n.doc.id)||n.doc.metadata.fromCache||("hidden"===document.visibilityState&&(_0x3ebe10++,document.title="("+_0x3ebe10+") "+_0x1180d5),console.log(_0x4d38a2.indexOf(n.doc.id)),_0x4d38a2.push(n.doc.id),t.Wtaoz(i.sender,_0x4f8a0c)?_0x39f1d3(i,n.doc.id,"3"):t.feclc(_0x3b1fe9,i,n.doc.id,"3"));break;case t.EkxJL:let a=_0x2d52ca(_0x457d5b.replace(t.Ncbke,n.doc.id));try{a.classList.add(t.tffne),setTimeout(function(){a.remove()},3e3)}catch(s){console.log(s)}break;case"modified":try{let o=t.OBKQR(_0x2d52ca,_0x457d5b.replace("{sid}",n.doc.id)).querySelector(t.gmywq);o?(o.clear(),_0x434cb2(o,i.content)):console.log("找不到匹配的訊息容器")}catch(r){console.log("修改訊息時發生未知錯誤",r)}}})},e=>{console.error("An unknown error occurred",e)});_0x3561c0[e]=n}function _0x4c6ade(){let e={ruMeg:"disabled",LxBiw:"xA7y7OLtP",oQixq:"show",oWurE:function(e){return e()},bNXhx:function(e,t){return e(t)},SaSGE:"auth/popup-closed-by-user",kzNCQ:"0|1|2|3|4",XQxNy:function(e,t,n){return e(t,n)},BPJWG:"1|0|5|3|4|2",JaQaF:"xrYn5ZY3v",RehAG:"x4V8Jejrz",sHXlk:function(e,t){return e(t)},aKQdq:"xRRuA0Z3S",XVvjY:"div",sHqkV:"b10",YyrBE:"xBnuWNG6V",NXUPc:"xCmJYJQtp",lcPNV:"xZyuwxZPZ",bKRAM:"b27",Dcpkf:"xZdL9CF5M",bAjly:"label",prakA:"xF37V7xd0",LYjJs:"xYvZ9WF6d",VbHVd:"off",yVcRM:"10px",rPjPn:"5px",xkZOX:"b25",RLcRZ:"input",qYFbF:"xw0IanPrC",ZjvBZ:"x40AApYkW",Pbfue:"xPT7rhLdL",pBoNU:"b13"},t=e.bNXhx(_0x40fcc9,e.JaQaF);t.innerText=_0x34afe1.b8;let a=_0x40fcc9(e.RehAG);a.innerText=_0x34afe1.b9;let o=e.sHXlk(_0x40fcc9,e.aKQdq),r=document.createElement(e.XVvjY);r.id="x7BYgkdiJ",r.focusable(!0);let c='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0x34afe1.b11,l='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0x34afe1[e.sHqkV]+"</span>\n						</div>";r.innerHTML=c;let d=document.createElement(e.XVvjY);d.focusable(!0),d.id=e.YyrBE,d.className="actionbtn xYIKBnbHS",r.className="actionbtn xYIKBnbHS",d.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0x34afe1.b12,o.appendChild(r),o.appendChild(d);let $=new _0x4e1326;$.Content.classList.add("bt"),$.Root.classList.add(e.NXUPc),$.Content.classList.add("xySmLVr4a"),$.Content.appendChild(t),$.Content.appendChild(a),$.Content.appendChild(o);let h=_0x40fcc9(e.JaQaF);h.classList.add("lf"),h.classList.add("gc");let u=_0x40fcc9(e.lcPNV);u.focusable(!0),u.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',h.appendChild(u);let x=_0x40fcc9("x6Y89FynP");x.innerText=_0x34afe1[e.bKRAM],h.appendChild(x);let f=_0x40fcc9("xWDUelLWA");f.classList.add("xwxpzc3QF"),$.Content.appendChild(h),$.Content.appendChild(f);let p=document.createElement(e.XVvjY);f.appendChild(p),p.classList.add(e.Dcpkf);let _=document.createElement("div");_.classList.add("xGGKUZ7B3"),p.appendChild(_);let b=document.createElement(e.bAjly);b.classList.add(e.prakA),b.innerText=_0x34afe1.b24,_.appendChild(b);let m=document.createElement("input");m.classList.add(e.LYjJs),m.autocomplete=e.VbHVd,m.type="text",m.disabled=!0,m.spellcheck=!1,_.appendChild(m);let v=document.createElement(e.XVvjY);v.classList.add("xGGKUZ7B3"),v.style.marginTop=e.yVcRM,v.style.marginBottom=e.rPjPn,p.appendChild(v);let g=document.createElement(e.bAjly);g.classList.add("xF37V7xd0"),g.innerText=_0x34afe1[e.xkZOX],v.appendChild(g);let C=document.createElement(e.RLcRZ);C.classList.add("xYvZ9WF6d"),C.type="password",C.disabled=!0,C.autocomplete="off",v.appendChild(C);let w=document.createElement(e.XVvjY);w.classList.add(e.qYFbF),p.appendChild(w);let y=document.createElement("div");y.innerText=_0x34afe1.b26,y.classList.add("disabled"),y.classList.add(e.ZjvBZ),p.appendChild(y);let L=_0x40fcc9(e.Pbfue);L.focusable(!0),L.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M9 14l-4 -4l4 -4" /><path d="M5 10h11a4 4 0 1 1 0 8h-1" /></svg>'+_0x34afe1[e.pBoNU],L.bindWithCooldown(function(){$.Content.classList.remove("xA7y7OLtP"),y.classList.add(e.ruMeg),y.focusable(!1),m.disabled=!0,C.disabled=!0}),p.appendChild(L),u.bindWithCooldown(function(){let t="3|1|0|4|2".split("|"),n=0;for(;;){switch(t[n++]){case"0":y.focusable(!1);continue;case"1":y.classList.add("disabled");continue;case"2":C.disabled=!0;continue;case"3":$.Content.classList.remove(e.LxBiw);continue;case"4":m.disabled=!0;continue}break}});let k=!0,T=function(){let t={};t.YrBRB=e.oQixq,t.PXVOl="auth/invalid-login-credentials",t.lAldH="b14",t.nAXZu="b16",t.aeREu=e.ruMeg;let n=t;k&&(k=!1,u.classList.add("disabled"),u.focusable(!1),w.classList.remove(e.oQixq),y.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,C.disabled=!0,y.classList.add("disabled"),y.focusable(!1),y.blur(),L.classList.add(e.ruMeg),L.focusable(!1),s(_0x2d33ce,m.value,C.value).then(e=>{try{$.close(),α.close()}catch(t){}let n=e.user;console.log("User is logged in: ",n)}).catch(e=>{setTimeout(function(){let t=e.code;switch(w.classList.add(n.YrBRB),t){case n.PXVOl:w.innerText=_0x34afe1[n.lAldH];break;case"auth/invalid-email":w.innerText=_0x34afe1.b15;break;case"auth/network-request-failed":w.innerText=_0x34afe1[n.nAXZu];break;default:w.innerText=_0x34afe1.b17}y.innerHTML=_0x34afe1.b26,y.classList.remove(n.aeREu),y.focusable(!0),L.classList.remove(n.aeREu),L.focusable(!0),m.disabled=!1,C.disabled=!1,u.classList.remove("disabled"),u.focusable(!0),k=!0},3e3)}))};C.onkeydown=function(t){13===t.keyCode&&e.oWurE(T)},y.bindWithCooldown(T),r.bindWithCooldown(function(){r.classList.add(e.ruMeg),d.classList.add(e.ruMeg),r.innerHTML=l,r.focusable(!1),d.focusable(!1),e.XQxNy(n,_0x2d33ce,_0x3d3320).then(t=>{let n={GcWdp:function(e,t,n,i){return e(t,n,i)}};i.credentialFromResult(t).accessToken,_0x4f8a0c=t.user.uid,e.bNXhx(_0x572d86,_0x4f8a0c).then(e=>{try{n.GcWdp(_0x143c6d,e.avatarUrl,e.name,e.qid||e.id)}catch(t){console.error("無法設置")}$.close()}).catch(e=>{console.error(e)})}).catch(t=>{if(t.code===e.SaSGE){let n=e.kzNCQ.split("|"),i=0;for(;;){switch(n[i++]){case"0":r.classList.remove("disabled");continue;case"1":d.classList.remove("disabled");continue;case"2":r.focusable(!0);continue;case"3":d.focusable(!0);continue;case"4":r.innerHTML=c;continue}break}}})}),d.bindWithCooldown(function(){let t=e.BPJWG.split("|"),n=0;for(;;){switch(t[n++]){case"0":m.disabled=!1;continue;case"1":$.Content.classList.add(e.LxBiw);continue;case"2":m.focus();continue;case"3":y.focusable(!0);continue;case"4":y.classList.remove(e.ruMeg);continue;case"5":C.disabled=!1;continue}break}})}function _0x332670(e="",t="",...n){let i={HLDkX:"disabled",kjiRg:function(e,t){return e===t},JMPha:function(e,t,n){return e(t,n)},DrWgj:"users",vnCDr:"xrYn5ZY3v",zUgZa:function(e,t){return e(t)},TXThH:function(e,t){return e(t)},JHdTh:"xvb5soWNa",rtxkn:"xWDUelLWA",fiGRU:"input",cxiaj:"hidden",wXpJg:"xYvZ9WF6d",UNXhx:"text",yjozb:"xGGKUZ7B3",OktMf:"_fM6Qcf9q",ivyHr:"xGuwEx6qN",LEMaV:"x40AApYkW"},a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x4e1326(a);s.Root.classList.add("xMCbxIsn5"),s.Content.style.padding="0";let o=_0x40fcc9(i.vnCDr);o.classList.add("lf");let r=i.zUgZa(_0x40fcc9,"x6Y89FynP");r.innerText=_0x34afe1.b5,o.appendChild(r);let c=i.TXThH(_0x40fcc9,i.JHdTh);c.focusable(!0),c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',s.close=s.close.bind(s),c.bindWithCooldown(s.close),o.appendChild(c),s.Content.appendChild(o);let l=_0x40fcc9(i.rtxkn);s.Content.appendChild(l);let d=document.createElement(i.fiGRU);d.setAttribute(i.cxiaj,"true"),d.id="_Jy2eOVG7",d.type="file";let $=_0x40fcc9("xGGKUZ7B3"),h=document.createElement("label");h.innerText=_0x34afe1.b4,h.classList.add("xF37V7xd0"),h.htmlFor="_rJvAjH9O";let u=document.createElement(i.fiGRU);u.value=e,u.classList.add(i.wXpJg),u.id="_rJvAjH9O",u.type=i.UNXhx,u.maxLength="20",u.autocomplete="off",u.spellcheck=!1,l.appendChild($),$.appendChild(h),$.appendChild(u);let p=_0x40fcc9(i.yjozb),b=document.createElement("label");b.innerText=_0x34afe1.b3,b.classList.add("xF37V7xd0"),b.htmlFor=i.OktMf;let m=document.createElement("textarea");m.maxLength="80",m.value=t,m.classList.add(i.ivyHr),m.id="_fM6Qcf9q",m.rows="3",m.maxLength="50",m.autocomplete="off",m.spellcheck=!1,l.appendChild(p),p.appendChild(b),p.appendChild(m);let v=_0x40fcc9(i.LEMaV);function g(){m.value!==t||u.value!==e?(v.classList.remove("disabled"),v.focusable(!0)):(v.classList.add(i.HLDkX),v.focusable(!1))}async function C(){let e={cclhF:function(e,t){return i.kjiRg(e,t)}};v.classList.add(i.HLDkX),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),u.disabled=!0,m.disabled=!0,d.disabled=!0;let t=u.value,n=m.value.trim();if((await _(f(_0x59cc43,"users",_0x4f8a0c))).exists()){let a={};a.name=t,a.signature=n,await _0x2463e0(_0x4f8a0c,a)}else await i.JMPha(x,f(_0x59cc43,i.DrWgj,_0x4f8a0c),{name:t,signature:n,id:_0x4f8a0c,joined:[],deviceInfo:""}),_0x39518a.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x34afe1.d7+"</div>";_0x39518a.nameLabel.innerText=t,_0x2567c6.state&&(_0x2567c6._n=t,_0x2567c6._a.innerText=t,_0x2567c6._b.innerHTML=_0x2b09cc(_0x20de9(n))||_0x34afe1.d10,_0x2567c6._m.forEach(n=>{e.cclhF(n.userId,_0x4f8a0c)&&(n.dom.textContent="@"+t)})),s.close()}v.innerText=_0x34afe1.b7,v.classList.add(i.HLDkX),v.style.marginTop="0",l.appendChild(v),m.oninput=g,u.oninput=g,v.bindWithCooldown(C),u.focus()}async function _0x32dbc7(e,t){let n={FgWSf:function(e,t){return e(t)},UFugy:"chats",Bwdvn:"messages"},i=await n.FgWSf(m,u(_0x59cc43,n.UFugy,e.id,n.Bwdvn));if(!_0x11bdb8.some(t=>t.id===e.id)){let a={};a.name=e.name,a.id=e.id,a.type=e.type,a.tag=e.tag,a.description=e.description,a.size=i.size,a.members=e.members,a.focus=t,a.identity=e.identity,n.FgWSf(_0x178046,a)}}async function _0x56295d(){let e={zjpzv:function(e,t){return e(t)},TaeKr:function(e,t,n,i){return e(t,n,i)},xpPdO:"users"};_0x39518a.primaryArea.classList.add("xuGldtFot");let t=(await e.zjpzv(_,e.TaeKr(f,_0x59cc43,e.xpPdO,_0x4f8a0c))).data(),n=new URLSearchParams(window.location.search).get("r");(t.joined||[]).length>0?t.joined.map(async e=>{try{_0x1fb8aa(e).then(async t=>{let i={};i.id=e,i.name=t.name,i.type=t.type,i.tag=t.tag,i.plugins=t.plugins,i.members=t.members,i.description=t.description,i.identity=t.identity,_0x32dbc7(i,n===e)})}catch(t){console.error("Error fetching document for ID:",e,t)}}):_0x39518a.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x34afe1.d13+"</div>"}a(_0x2d33ce,e=>{let t={ePPwm:function(e){return e()},wpNkR:function(e,t){return e(t)}};e?(_0x4f8a0c=e.uid,t.wpNkR(_0x572d86,_0x4f8a0c).then(e=>{if(!e){_0x332670();return}_0x143c6d(e.avatarUrl,e.name,e.qid||e.id)}).catch(e=>{console.error(e),t.ePPwm(_0x143c6d)}),t.ePPwm(_0x576d05)):(_0x4f8a0c="",_0x4c6ade())});let _0x180e3c={};_0x180e3c.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x180e3c.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x180e3c.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x180e3c.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x180e3c.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x162742=_0x180e3c;function _0x33ef0e(){let e={dWCof:function(e,t){return e===t},MJiox:function(e,t){return e(t)}},t=_0x39518a.messageContainer.scrollTop;""!==_0x4f8a0c&&""!==_0x46cc7c&&!_0xfe5b9e&&e.dWCof(t,0)&&e.MJiox(_0x3eef7c,_0x46cc7c)}function _0x3fd337(){let e={};e.PNduo="disabled",e.Nfmyv="Structure";let t=e;_0x3d1419=!1,_0x39518a.sidebar.removeAttribute("inert"),_0x22552d=_0x39518a.sidebar,_0x39518a.backButton.classList.add(t.PNduo),_0x39518a._mb_att_btn.classList.add("disabled");let n=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x39518a.main.classList.remove("x8VAGH6N2"),_0xfe5b9e=!0,_0x39518a.messageContainer.clear(),_0xfe5b9e=!1,_0x46cc7c="",_0x1180d5=t.Nfmyv,document.title=_0x1180d5,_0x39518a.messageInput.clear(),_0x39518a.messageInput.setAttribute("contenteditable","true"),_0x39518a.messageInput.focusable(!1),_0x39518a.sendButton.classList.add("disabled"),_0x39518a.sendButton.focusable(!1)}_0x39518a.fileInput.onchange=async function(e){let t={AaGZG:"b44",SHtXK:"b45",LDAkR:function(e,t){return e(t)},TjSfe:"{u}",fVhES:function(e,t){return e(t)},dVMta:"messages",nIVcW:function(e,t,n){return e(t,n)},RJOoL:function(e,t,n,i){return e(t,n,i)},qIYOO:"b46",oYrdc:"b47",TZkMt:function(e,t){return e(t)},yRdnK:"x6Y89FynP",QVqCy:"xujSSErs5",XFKmH:"b48",vuSkC:"b49",AUgDo:"xCECpHDwZ",PxCBE:"xty9qDHrl",EUYTq:"xIEj1ZAnA",YjbIU:function(e,t){return e(t)},ANSxB:"image/",ScmCy:"< image {u}",SiTMb:"< video {u}",vwctf:"< audio {u}",hhTZk:function(e,t){return e!==t},PJyWn:"application/zip",JogVB:"application/x-rar-compressed",WHsyd:"application/vnd.rar",wKeYd:"< other {u}",asoSx:function(e,t){return e===t},wdHKp:"< pdf {u}",fzCvp:'<div class="xTGGn7ABj">',GwHJU:"div",XSPCu:"xk0osKWCK",Kihmm:"生成文件名時發生未知錯誤",qiriu:function(e,t,n){return e(t,n)},NEeLR:"state_changed"},n=e.target.files[0];if(!n)return;let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x4e1326(i);a.Overlay.classList.add("xOjXmYkxE"),a.Lock=!0;let s=_0x40fcc9("xrYn5ZY3v");s.classList.add("lf");let o=_0x40fcc9("xWDUelLWA");o.classList.add("xIOucKmLX"),a.Content.appendChild(s),a.Content.appendChild(o),a.Content.classList.add("gt");let r=t.TZkMt(_0x40fcc9,t.yRdnK),$=t.TZkMt(_0x40fcc9,t.QVqCy);s.appendChild(r),o.appendChild($);let h=_0x40fcc9("xvb5soWNa");if(h.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',h.focusable(!0),s.appendChild(h),n.size>52428800){r.innerText=_0x34afe1[t.XFKmH],$.innerText=_0x34afe1[t.vuSkC].replace("$0",_0xdd7f61(n.size)),h.onclick=function(){_0x39518a.fileInput.value="",a.close.bind(a)()},a.Lock=!1;return}r.innerText=_0x34afe1.b42,$.innerText=_0x34afe1.b43;let p=document.createElement("div");p.classList.add(t.AUgDo),p.focusable(!0),o.appendChild(p);let _=document.createElement("div");_.classList.add(t.PxCBE),p.appendChild(_);let b=document.createElement("div");b.classList.add(t.EUYTq);let m=t.YjbIU(String,n.type),v="",g="";m.startsWith(t.ANSxB)?(v=_0x162742.image,g=t.ScmCy):m.startsWith("video/")?(v=_0x162742.video,g=t.SiTMb):m.startsWith("audio/")?(v=_0x162742.audio,g=t.vwctf):t.hhTZk(["application/x-zip-compressed",t.PJyWn,t.JogVB,t.WHsyd,"application/x-compressed"].indexOf(m),-1)?(v=_0x162742.archive,g=t.wKeYd):t.asoSx(m,"application/pdf")?(v=_0x162742.others,g=t.wdHKp):(v=_0x162742.others,g=t.wKeYd),b.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+v+"</svg>",_.appendChild(b);let C=document.createElement("div");C.classList.add("xxs4n9nhX"),_.appendChild(C),C.innerHTML=t.fzCvp.concat(n.name).concat('</div><div class="xtyaQiCLO">'+_0xdd7f61(n.size)+"</div>"),_.appendChild(C);let w=document.createElement("div");w.classList.add("xsoLox5sj"),_.appendChild(w);let y=document.createElement(t.GwHJU);y.classList.add(t.XSPCu),w.appendChild(y);let L="";try{L=_0x862588(12)+"-"+n.name}catch(k){console.log(t.Kihmm,k)}let T=t.qiriu(c,_0x53bf9a,"uploads/"+_0x46cc7c+"/attachment/"+L),E=t.qiriu(l,T,n);h.onclick=function(){r.innerText=_0x34afe1[t.AaGZG],$.innerText=_0x34afe1[t.SHtXK],a.Lock=!1,E.cancel(),_0x39518a.fileInput.value="",a.close()},E.on(t.NEeLR,e=>{let t=e.bytesTransferred/e.totalBytes*100;y.style.width=t+"%"},e=>{console.log(e)},async()=>{let e=await t.LDAkR(d,E.snapshot.ref),n="";n=g.replace(t.TjSfe,e);let i=t.fVhES(f,u(_0x59cc43,"chats",_0x46cc7c,t.dVMta));_0x4d38a2.push(i.id),await t.nIVcW(x,i,{sender:_0x4f8a0c,content:n,timestamp:Date.now()});let s={};s.content=n,t.RJOoL(_0x39f1d3,s,i.id,"3"),_0x39518a.fileInput.value="",p.remove(),r.innerText=_0x34afe1[t.qIYOO],$.innerText=_0x34afe1[t.oYrdc],h.onclick=()=>{},a.Lock=!1,h.bindWithCooldown(function(){a.close()})})},document.addEventListener("visibilitychange",function(){let e={};e.kGuEc=function(e,t){return e===t},e.xfvOF="visible";let t=e;t.kGuEc(document.visibilityState,t.xfvOF)&&(console.log("已重新聚焦 清除未讀訊息數"),document.title=_0x1180d5,_0x3ebe10=0)}),_0x39518a.searchInput.oninput=function(){let e={};e.AVvoh="hide";let t=e,n=_0x39518a.searchInput.value.toLowerCase().trim();""!==n?_0x11bdb8.forEach(e=>{e.name.toLowerCase().includes(n)?e.dom.classList.remove("hide"):e.dom.classList.add(t.AVvoh)}):_0x11bdb8.forEach(e=>{e.dom.classList.remove("hide")})},_0x39518a.messageContainer.addEventListener("scroll",function(){_0x33ef0e()}),_0x39518a.messageInput.oninput=function(){let e={};e.bZbVA=function(e,t){return e===t},e.phYlJ=function(e,t){return e===t},e.xRmkX=function(e,t){return e!==t},e.gggep="disabled";let t=e,n=_0x39518a.messageInput.childNodes;1==n.length&&(t.bZbVA(n[0].nodeName,"BR")||t.phYlJ(n[0].nodeName,"DIV"))&&_0x39518a.messageInput.clear(),t.xRmkX(_0x39518a.messageInput.innerText.trim(),"")?(_0x39518a.sendButton.classList.remove(t.gggep),_0x39518a.sendButton.focusable(!0)):(_0x39518a.sendButton.classList.add("disabled"),_0x39518a.sendButton.focusable(!1))},_0x39518a.messageInput.onfocus=function(){let e={};e.ftAqd="xYIbDcl9T",document.body.classList.add(e.ftAqd)},_0x39518a.messageInput.onblur=function(){let e={};e.Bvctz="xYIbDcl9T",document.body.classList.remove(e.Bvctz)},_0x39518a.messageInput.onpaste=function(e){e.preventDefault(),document.execCommand("insertHTML",!0,({IzItf:function(e,t){return e(t)}}).IzItf(_0x20de9,(e.clipboardData||window.Clipboard).getData("text/plain")))},_0x39518a.messageInput.ondrop=function(e){e.preventDefault();let t=e.dataTransfer.getData("text/plain");e.target.focus(),document.execCommand("insertHTML",!0,({NYNCR:function(e,t){return e(t)}}).NYNCR(_0x20de9,t))},_0x39518a.messageInput.oncopy=function(e){let t={};t.SbXBZ="text/plain",e.preventDefault();var n=window.getSelection().toString();e.clipboardData.setData(t.SbXBZ,n)},_0x39518a.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0xd828df||e.shiftKey||(e.preventDefault(),({JGZAh:function(e){return e()}}).JGZAh(_0x1eddf1));break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x39518a.sendButton.bindWithCooldown(_0x1eddf1),document.onkeydown=function(e){let t={};t.IQiYn=function(e,t){return e!=t},t.WlmWy=function(e,t){return e!=t},t.NcSDP="xGuwEx6qN",t.SxHhf="xYvZ9WF6d";let n=t;switch(e.keyCode){case 191:let i=document.activeElement;n.IQiYn(i,_0x39518a.messageInput)&&n.IQiYn(i,_0x39518a.searchInput)&&n.WlmWy(i.tagName.toUpperCase(),"INPUT")&&!i.classList.contains(n.NcSDP)&&!i.classList.contains(n.SxHhf)&&(e.preventDefault(),_0x39518a.messageInput.focus());break;case 75:e.ctrlKey&&_0x40533e&&(e.preventDefault(),_0x39518a.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x39518a.backButton.bindWithCooldown(function(){({KNudY:function(e){return e()}}).KNudY(_0x3fd337)}),_0x39518a.profileContainer.bindWithCooldown(function(){let e={TNxXU:"disabled",aazoh:"show",SSztv:function(e,t,n){return e(t,n)},uVrzY:function(e,t,n,i){return e(t,n,i)},oWTOm:"jid",SEyWp:function(e,t){return e===t},Krjqn:function(e,t,n,i){return e(t,n,i)},AUaga:"users",SoXpN:function(e,t,n){return e(t,n)},KwiRW:function(e,t){return e(t)},gZLTF:function(e){return e()},DiuzG:function(e){return e()},tmWCt:function(e){return e()},Updcc:"a11",oHkzJ:"xUhQpBm2v",NoemD:"label",CQquY:"xF37V7xd0",ziVrb:"input",uLbYi:"x4qSHIItt",yZtKT:"off",kWACZ:"xYvZ9WF6d",joZnL:"a14",tmcQn:"cvs",VRSeZ:"xmKH3ad5R",sGZBk:"x9EnCPd4S",hiPdC:"xLhiIL2Wm",gcULg:function(e,t){return e(t)},LQWmh:function(e,t){return e(t)},ivAGb:function(e,t){return e(t)},VgrgP:"xrQdSHI2A"};_0x39518a.sidebar.classList.add(e.sGZBk);let t={};t.trigger=_0x39518a.profileContainer,t.placement="top";let n=new _0x10c742(t);n.Content.classList.add(e.hiPdC);let i=e.KwiRW(_0x40fcc9,"xrQdSHI2A");i.focusable(!0),i.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M16 19h6" /><path d="M19 16v6" /><path d="M6 21v-2a4 4 0 0 1 4 -4h4" /></svg>'+_0x34afe1[e.Updcc],i.bindWithCooldown(function(){let t={SsxkC:e.aazoh,kfkDf:e.TNxXU,ULdYg:function(e,t,n){return e(t,n)},tEwZA:function(t,n,i,a){return e.Krjqn(t,n,i,a)},sXzNy:e.AUaga,LzBVL:function(t,n,i){return e.SoXpN(t,n,i)},mmYpo:"chats",wpGrI:function(t,n){return e.KwiRW(t,n)},rTWeQ:"nearest",GupkX:function(t){return e.gZLTF(t)},zXoKl:function(t,n){return e.SEyWp(t,n)},QVcBh:"normal",ZLeoq:function(t){return e.DiuzG(t)},IoFxu:function(e,t){return e!==t},zlRzj:function(t){return e.tmWCt(t)}};n.close();let i=_0x168675(_0x34afe1[e.Updcc],!0);i.Root.classList.add(e.oHkzJ);let a=_0x40fcc9("xGGKUZ7B3");a.classList.add("xlEirFRi3");let s="_"+e.KwiRW(_0x862588,12),o=document.createElement(e.NoemD);o.textContent=_0x34afe1.a13,o.htmlFor=s,o.classList.add(e.CQquY);let r=document.createElement(e.ziVrb);r.classList.add(e.uLbYi),r.id=s,r.autocomplete=e.yZtKT,r.autocorrect=e.yZtKT,r.maxLength="8",r.classList.add(e.kWACZ),r.classList.add(e.kWACZ),a.appendChild(o),a.appendChild(r);let c=_0x40fcc9("xw0IanPrC"),l=_0x40fcc9("x40AApYkW");l.classList.add("disabled"),l.textContent=_0x34afe1[e.joZnL];let d=e.TNxXU;async function $(){i.root.Lock=!0,i.closebtn.classList.add(e.TNxXU),i.closebtn.focusable(!1),c.classList.remove(e.aazoh),l.classList.add(e.TNxXU),r.setAttribute("disabled",!0),l.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let n=await m(e.SSztv(C,u(_0x59cc43,"chats"),e.uVrzY(b,e.oWTOm,"==",r.value.trim())));n.empty?setTimeout(function(){i.root.Lock=!1,i.closebtn.classList.remove("disabled"),i.closebtn.focusable(!0),c.classList.add(t.SsxkC),c.innerText=_0x34afe1.a17,r.removeAttribute("disabled"),l.classList.remove(t.kfkDf),l.innerHTML=_0x34afe1.a14},3e3):(i.root.Lock=!1,i.root.close());let a=[];n.forEach(e=>{let t={};t.id=e.id,a.push(t)}),a.forEach(async e=>{let n=_0x11bdb8.find(t=>t.id===e.id);if(n){if(1===a.length){let i={};i.behavior="smooth",i.block="center",i.inline=t.rTWeQ,n.dom.scrollIntoView(i),n.launch()}}else await t.ULdYg(k,t.tEwZA(f,_0x59cc43,t.sXzNy,_0x4f8a0c),{joined:y(e.id)}),await t.LzBVL(k,f(_0x59cc43,t.mmYpo,e.id),{members:y(_0x4f8a0c)}),sessionStorage.removeItem("rpf_"+e.id),t.wpGrI(_0x1fb8aa,e.id).then(async t=>{let n={};n.id=e.id,n.name=t.name,n.type=t.type,n.tag=t.tag,n.plugins=t.plugins,n.members=t.members,n.description=t.description,n.identity=t.identity,_0x32dbc7(n,!0),console.log("		",e.id)})})}function h(){let t=r.value.trim();e.SEyWp(t.length,8)&&""!==t?(l.classList.remove("disabled"),l.focusable(!0),d="normal"):(l.classList.add(e.TNxXU),l.focusable(!1),d="disabled")}r.oninput=function(){t.GupkX(h)},r.onkeydown=function(e){13===e.keyCode&&t.zXoKl(d,t.QVcBh)&&t.ZLeoq($)},l.bindWithCooldown(async function(){t.IoFxu(d,t.QVcBh)||t.zlRzj($)}),i.body.appendChild(a),i.body.appendChild(c),i.body.appendChild(l),r.focus()});let a=e.gcULg(_0x40fcc9,"xrQdSHI2A");a.focusable(!0),a.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0x34afe1.a15,a.bindWithCooldown(function(){n.close(),e.KwiRW(_0x572d86,_0x4f8a0c).then(e=>{let t={};t.data=e,t.type=_0xd828df?"mobile":"desktop",_0x64dee9(_0x39518a.sidebar,t)}).catch(e=>{console.error(e)})});let s=e.LQWmh(_0x40fcc9,"xcoXgMpFW"),r=e.ivAGb(_0x40fcc9,e.VgrgP);r.focusable(!0),r.bindWithCooldown(function(){n.close(),o(_0x2d33ce).then(()=>{_0x4f8a0c="",_0x46cc7c="",_0x11bdb8.length=0,_0x4d38a2.length=0,_0x40533e=!1;let t=window.location.href.replace(/\?.*$/,"");for(let n in window.history.replaceState(null,"",t),_0x39518a.primaryArea.clear(),_0x39518a.messageContainer.clear(),_0x3561c0)_0x3561c0[n](),console.log("Listener for "+n+" removed.");Object.keys(_0x3561c0).forEach(e=>delete _0x3561c0[e]),_0x2dbdef&&clearInterval(_0x2dbdef),localStorage.setItem(e.tmcQn,""),_0x19f949&&(_0x19f949.remove(),_0x19f949=null),document.body.classList.remove(e.VRSeZ),_0x39518a.profileContainer.classList.remove(e.TNxXU),_0x39518a.profileContainer.focusable(!0),_0x39518a.markButton.classList.add("disabled"),_0x39518a.brushButton.classList.add(e.TNxXU),_0x39518a.attachButton.classList.add(e.TNxXU),_0x39518a.stickerButton.classList.add("disabled"),_0x1709da=!1,_0x39518a.avatarWrapper.classList.add("xJd2GT7MI"),_0x39518a.avatarLabel.src="",_0x39518a.nameLabel.innerText="",_0x39518a.signatureLabel.innerText=""}).catch(e=>{console.error("Sign out error",e)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0x34afe1.a16,_0x307c78([i,a,r]),n.Content.appendChild(i),n.Content.appendChild(a),n.Content.appendChild(s),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x39518a.sidebar.classList.remove(e.sGZBk)})});class _0x3529b3{constructor({parent:e,title:t}){let n={VQLAz:"inert",YdeYJ:"xa2pPtuLq",wZgFT:function(e,t){return e(t)},PMgYT:"xB4hVI3El",TTAup:"xopQXJrX5",SdTDN:"xZz4zYjIm",XGeib:"xMyenRl7K",GoGTE:function(e,t){return e(t)},aCrso:"body > *:not(.xEHCrF5Oe, script, [hidden])",rQtmS:function(e,t,n){return e(t,n)}},i=e,a=n.wZgFT(_0x40fcc9,n.PMgYT),s=_0x40fcc9(n.TTAup),o=_0x40fcc9(n.SdTDN),r=n.wZgFT(_0x40fcc9,n.XGeib),c=_0x40fcc9("x8JU9DbQZ"),l=n.GoGTE(_0x40fcc9,"xvwhg72ii");this._parent=i,this.Root=a,this.Content=o,this.Heading=s,this._backButton=c,this._deactivated_elements=document.querySelectorAll(n.aCrso),this._deactivated_elements.forEach(e=>{e.setAttribute(n.VQLAz,"true")}),s.appendChild(r),r.appendChild(c),r.appendChild(l),l.textContent=t,c.focusable(!0),c.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',c.bindWithCooldown(this.close.bind(this)),a.appendChild(s),a.appendChild(o),document.body.appendChild(a),n.rQtmS(setTimeout,function(){_0x22552d=a,i.classList.add("xCr0RyqCg"),a.classList.add(n.YdeYJ)},50)}onClose(e){this.onCloseCallback=e}close(){let e={UQlli:"1|4|3|2|6|0|7|5",dMYyF:"xjv5U11Kz",TQMka:function(e,t,n){return e(t,n)}},t=e.UQlli.split("|"),n=0;for(;;){switch(t[n++]){case"0":this._parent.classList.remove(e.dMYyF);continue;case"1":this.onCloseCallback&&this.onCloseCallback();continue;case"2":this.Root.classList.remove("xa2pPtuLq");continue;case"3":_0x22552d=this._parent;continue;case"4":this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")});continue;case"5":e.TQMka(setTimeout,()=>{this.Root.remove()},100);continue;case"6":this._parent.classList.remove("xCr0RyqCg");continue;case"7":this.Root.classList.remove(e.dMYyF);continue}break}}}async function _0x64dee9(e,t){let n={irxve:function(e,t,n,i){return e(t,n,i)},qDIpp:"xORN7XV1j",wfPsc:"4|2|0|3|1",HCayb:function(e,t){return e>t},BUuJs:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',pUhjo:"x0zSVRG3y",VqtDF:"video",EmNcO:"img",YCtgG:"assets/default-banner.png",qEsoq:"lazy",rFwWY:"x96ofpjeu",IWHiV:"xkKF4v6d2",xqDtL:function(e,t){return e(t)},yjhij:"xCYnK7ffo",Btrnc:"xqYV0G7JT",HJYWi:"xBjZoCxmV",CbZlF:function(e,t){return e(t)},cWrhx:"x117sdiIx",WWZee:function(e,t){return e+t},liZXw:"d12",vuMad:function(e,t){return e(t)},gFMRP:"xylvbLNlS",EBmkE:"xodqSvoQM",TnlQD:function(e,t){return e===t},hWlQH:"xjMiLDVEU",dmSoZ:"xUHiz9aGO",GonXf:function(e,t){return e(t)},qPKVG:"--xD672nKxG",DBFrd:"xnS3FTqjp"};_0x2567c6.state=!0,_0x2567c6._n||(_0x2567c6._n=t.data.name),_0x2567c6._d||(_0x2567c6._d=t.data.signature);let i=n.BUuJs,a=_0x40fcc9("xkyfCNAI0"),s=_0x40fcc9(n.pUhjo),o,r={};r.action="cache-url",r.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(r);let c={};c.action="cache-url",c.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(c),t.data.bannerType===n.VqtDF?((o=document.createElement(n.VqtDF)).loop=!0,o.controlslist="nodownload",o.controls=!1,o.setAttribute("muted",""),o.playsInline=!0,o.preload=!0,o.autoplay=!0,o.src=t.data.bannerUrl):((o=document.createElement(n.EmNcO)).draggable=!1,o.src=t.data.bannerUrl||n.YCtgG,o.loading=n.qEsoq),o.classList.add(n.rFwWY);let l=_0x40fcc9(n.IWHiV),d=n.xqDtL(_0x40fcc9,"xwvIJoAtO"),$=document.createElement(n.EmNcO);$.classList.add("xVwXc1fhM");let h=_0x40fcc9("xzCCWGB1D"),u=_0x40fcc9(n.yjhij),x=n.xqDtL(_0x40fcc9,n.Btrnc),f=n.xqDtL(_0x40fcc9,n.HJYWi),p=_0x40fcc9("xjam05uvc"),_=n.xqDtL(_0x40fcc9,"xodqSvoQM"),b=n.xqDtL(_0x40fcc9,"xt0pX9m5p");a.appendChild(s),s.appendChild(o),a.appendChild(l),x.appendChild(d),d.appendChild($),$.draggable=!1,$.src=t.data.avatarUrl||"assets/avatar.png",$.loading="lazy",l.appendChild(u),l.appendChild(h),h.appendChild(x);let m=_0x40fcc9("x2OCp76zA");h.appendChild(m);let v=n.CbZlF(_0x40fcc9,"xokk3UP7N");x.appendChild(v);let g=_0x2567c6._n,C=n.CbZlF(_0x40fcc9,n.cWrhx);C.textContent=g,f.appendChild(C),f.appendChild(p);let w=_0x40fcc9("xxXoB6W0R"),y=1;t.data.qid?(w.textContent=t.data.qid,w.bindWithCooldown(function(){0===y?(y=1,w.textContent=t.data.qid):(y=0,w.textContent=t.data.id)},0)):w.textContent=t.data.id,v.appendChild(f),v.appendChild(w),_0x2567c6._a=C,_0x2567c6._b=_,_.innerHTML=_0x2b09cc(n.CbZlF(_0x20de9,_0x2567c6._d||_0x34afe1.d10)),l.appendChild(b);let L=n.xqDtL(_0x40fcc9,"xylvbLNlS");L.textContent=_0x34afe1.b1,b.appendChild(L),b.appendChild(_);let k=_0x40fcc9("xylvbLNlS");k.id="xY3QPRePs",k.textContent=_0x34afe1.b2;let T=n.CbZlF(_0x40fcc9,"xodqSvoQM"),E=new Date(t.data.deviceInfo.lastUpdate),R=n.WWZee(n.WWZee(n.WWZee(E.getFullYear()+"/"+(E.getMonth()+1),"/"),E.getDate())+" "+E.getHours().toString()+":",E.getMinutes().toString().padStart(2,"0"));T.innerText=(_0x5e9e2b(t.data.deviceInfo.lastUpdate)||_0x34afe1.d11)+" ("+(R||_0x34afe1[n.liZXw])+")",b.appendChild(k),b.appendChild(T);let W=n.vuMad(_0x40fcc9,n.gFMRP);W.id="xkRGF6AbD",W.textContent=_0x34afe1.b50;let M=_0x40fcc9(n.EBmkE);if(M.innerHTML=t.data.dynamics||_0x34afe1.b51,b.appendChild(W),b.appendChild(M),n.TnlQD(t.type,"desktop")){let I={};I.closeOnEsc=!0,I.closeOnOverlayClick=!0;let A=new _0x4e1326(I);A.Content.classList.add("xlY0G76Nv"),A.Content.classList.add("lg"),A.Content.classList.add("gb");let Y=_0x40fcc9(n.hWlQH),B=_0x40fcc9(n.dmSoZ),H=_0x40fcc9("xhMhXcFlu"),S=_0x40fcc9("xIl46kG8k"),O=n.vuMad(_0x40fcc9,"xjMYgfYFc");S.appendChild(O),O.textContent=t.data.name,B.appendChild(S),B.appendChild(H);let D=_0x40fcc9("xHPTUCUar");if(D.bindWithCooldown(A.close.bind(A)),D.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',D.focusable(!0),n.TnlQD(t.data.id,_0x4f8a0c)){let X=n.GonXf(_0x40fcc9,"xHPTUCUar");X.bindWithCooldown(function(){n.irxve(_0x332670,_0x2567c6._n,_0x2567c6._d,A.Root)}),X.innerHTML=_0x1c3469.edit,X.focusable(!0),H.appendChild(X),_0x307c78([X,D],"horizontal")}H.appendChild(D),Y.appendChild(B),A.Content.appendChild(Y),Y.appendChild(a);let F=A.Content.getBoundingClientRect();if(A.Content.style.setProperty(n.qPKVG,F.height+"px"),Y.onscroll=function(){Y.scrollTop>60?Y.classList.add(n.qDIpp):Y.classList.remove("xORN7XV1j")},t.data.verified){let z=n.GonXf(_0x40fcc9,"xTKxbdpu3");z.innerHTML=i,p.appendChild(z)}A.onClose(function(){let e=n.wfPsc.split("|"),t=0;for(;;){switch(e[t++]){case"0":_0x2567c6._b=null;continue;case"1":_0x2567c6._d="";continue;case"2":_0x2567c6._a=null;continue;case"3":_0x2567c6._n="";continue;case"4":_0x2567c6.state=!1;continue}break}})}else{let V={};V.parent=e,V.title=t.data.name;let U=new _0x3529b3(V);if(t.data.id===_0x4f8a0c){let j=n.CbZlF(_0x40fcc9,"x8JU9DbQZ");j.classList.add(n.DBFrd),j.bindWithCooldown(function(){_0x332670(_0x2567c6._n,_0x2567c6._d,U.Root)}),j.innerHTML=_0x1c3469.edit,j.focusable(!0),U.Heading.appendChild(j)}U.Root.classList.add("xwMgtrL2x"),U.onClose(function(){_0x2567c6.state=!1,_0x2567c6._a=null,_0x2567c6._b=null,_0x2567c6._n="",_0x2567c6._d=""}),U.Root.onscroll=function(){n.HCayb(U.Root.scrollTop,60)?U.Root.classList.add(n.qDIpp):U.Root.classList.remove("xORN7XV1j")},U._backButton.classList.add("xnS3FTqjp"),U.Content.appendChild(a)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{let t={};t.LeuHd=function(e,t){return e===t},t.chiDh="installed";let n=t;e.onupdatefound=()=>{let t=e.installing;t.onstatechange=()=>{n.LeuHd(t.state,n.chiDh)&&window.location.reload()}}}).catch(e=>{console.log("註冊失敗：",e)});
