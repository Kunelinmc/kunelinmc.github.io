/**release 0.1.0*/
let _0x816da8=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x15e0f8=_0x816da8(this,function(){let e={};return e.kfRzY="(((.+)+)+)+$",_0x15e0f8.toString().search(e.kfRzY).toString().constructor(_0x15e0f8).search("(((.+)+)+)+$")});_0x15e0f8();let _0x44edd2=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x4130a0=_0x44edd2(this,function(){let e={wBWZw:function(e,t){return e(t)},nEWNY:function(e,t){return e+t},eZDop:"return (function() ",yyTID:function(e){return e()},KGhoe:"warn",CpOvF:"error",OIbBY:"trace",rJbRF:function(e,t){return e<t}},t;try{let n=e.wBWZw(Function,e.nEWNY(e.eZDop,'{}.constructor("return this")( )')+");");t=e.yyTID(n)}catch(i){t=window}let s=t.console=t.console||{},a=["log",e.KGhoe,"info",e.CpOvF,"exception","table",e.OIbBY];for(let o=0;e.rJbRF(o,a.length);o++){let r=_0x44edd2.constructor.prototype.bind(_0x44edd2),l=a[o],c=s[l]||r;r.__proto__=_0x44edd2.bind(_0x44edd2),r.toString=c.toString.bind(c),s[l]=r}});_0x4130a0();class _0x81f87{constructor(e,t={}){let n="30|5|4|34|21|31|11|10|18|24|19|1|22|2|29|6|15|8|25|3|32|26|14|20|9|27|16|13|0|12|35|28|7|33|23|17".split("|"),i=0;for(;;){switch(n[i++]){case"0":this.velocityX=0;continue;case"1":this.posX=0;continue;case"2":this.isDragging=!1;continue;case"3":this.isTouching=!1;continue;case"4":this.logicalWidth=0;continue;case"5":this.ctx=this.canvas.getContext("2d");continue;case"6":this.lastY=0;continue;case"7":this.decelerationRate=.85;continue;case"8":this.needsRedraw=!1;continue;case"9":this.touchStartScale=1;continue;case"10":this.customDrawer=null;continue;case"11":let s={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=s;continue;case"12":this.velocityY=0;continue;case"13":this.rotation=0;continue;case"14":this.touchStartPosX=0;continue;case"15":this.img=null;continue;case"16":this.initialCenterY=0;continue;case"17":this.requestRedraw();continue;case"18":this.lastTapTime=0;continue;case"19":this.scale=1;continue;case"20":this.touchStartPosY=0;continue;case"21":this.devicePixelRatio=window.devicePixelRatio||1;continue;case"22":this.posY=0;continue;case"23":this.setupEventListeners();continue;case"24":this.tapTimeout=null;continue;case"25":this.animationFrameId=null;continue;case"26":this.initialScale=1;continue;case"27":this.initialCenterX=0;continue;case"28":this.isInertialMoving=!1;continue;case"29":this.lastX=0;continue;case"30":this.canvas=e;continue;case"31":this.updateCanvasSize();continue;case"32":this.initialDistance=0;continue;case"33":this.minVelocityThreshold=.1;continue;case"34":this.logicalHeight=0;continue;case"35":this.lastTime=0;continue}break}}updateCanvasSize(){let e={};e.ntfeW=function(e,t){return e+t},e.XFNAT=function(e,t){return e*t},e.WsYvX=function(e,t){return e*t};let t=e,n=this.canvas.parentElement;this.logicalWidth=n.clientWidth,this.logicalHeight=n.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=t.ntfeW(this.logicalWidth,"px"),this.canvas.style.height=this.logicalHeight+"px",this.canvas.width=Math.floor(t.XFNAT(this.logicalWidth,this.devicePixelRatio)),this.canvas.height=Math.floor(t.WsYvX(this.logicalHeight,this.devicePixelRatio)),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.VFLwc="13|11|4|21|5|1|22|16|14|3|18|0|8|10|7|12|20|2|19|9|17|15|6",e.JJYqE="mouseup",e.GlDcl="resize",e.GgfZi="mousedown",e.pTMTB="touchmove",e.PYeio="wheel";let t=e,n=t.VFLwc.split("|"),i=0;for(;;){switch(n[i++]){case"0":this.handleTouchEnd=this.handleTouchEnd.bind(this);continue;case"1":this.handleMouseDown=this.handleMouseDown.bind(this);continue;case"2":document.addEventListener(t.JJYqE,this.handleMouseUp);continue;case"3":this.handleTouchStart=this.handleTouchStart.bind(this);continue;case"4":this.canvas.addEventListener("click",this.handleCanvasClick);continue;case"5":this.handleResize=this.handleResize.bind(this);continue;case"6":this.canvas.addEventListener("touchend",this.handleTouchEnd);continue;case"7":window.addEventListener(t.GlDcl,this.handleResize);continue;case"8":this.draw=this.draw.bind(this);continue;case"9":this.canvas.addEventListener("mouseleave",this.handleMouseLeave);continue;case"10":this.handleMouseLeave=this.handleMouseLeave.bind(this);continue;case"11":this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this);continue;case"12":this.canvas.addEventListener(t.GgfZi,this.handleMouseDown);continue;case"13":this.handleCanvasClick=this.handleCanvasClick.bind(this);continue;case"14":this.handleWheel=this.handleWheel.bind(this);continue;case"15":this.canvas.addEventListener(t.pTMTB,this.handleTouchMove);continue;case"16":this.handleMouseUp=this.handleMouseUp.bind(this);continue;case"17":this.canvas.addEventListener("touchstart",this.handleTouchStart);continue;case"18":this.handleTouchMove=this.handleTouchMove.bind(this);continue;case"19":this.canvas.addEventListener(t.PYeio,this.handleWheel);continue;case"20":document.addEventListener("mousemove",this.handleMouseMove);continue;case"21":this.canvas.addEventListener("touchend",this.handleCanvasTouchEnd);continue;case"22":this.handleMouseMove=this.handleMouseMove.bind(this);continue}break}}getDisplayWidth(){return this.rotation%180==90?this.img.height:this.img.width}getDisplayHeight(){let e={};e.HGGOf=function(e,t){return e===t},e.YyQMM=function(e,t){return e%t};let t=e;return t.HGGOf(t.YyQMM(this.rotation,180),90)?this.img.width:this.img.height}calculateInitialScale(){let e={};if(e.EVhoH=function(e,t){return e/t},!this.img)return;let t=this.getDisplayWidth(),n=this.getDisplayHeight(),i=this.logicalWidth/t,s=e.EVhoH(this.logicalHeight,n);this.options.minScale=Math.min(i,s,1),this.scale=this.options.minScale}centerImage(){let e={};e.nYWXe=function(e,t){return e*t},e.iyzKt=function(e,t){return e/t};let t=e;if(!this.img)return;let n=this.getDisplayWidth()*this.scale,i=t.nYWXe(this.getDisplayHeight(),this.scale);this.posX=(this.logicalWidth-n)/2,this.posY=t.iyzKt(this.logicalHeight-i,2),this.enforceBounds()}setCustomDrawer(e){let t={};t.CNGqu=function(e,t){return e===t},t.PECJk="function",t.JyeJd="setCustomDrawer 期望接收一个函数";let n=t;n.CNGqu(typeof e,n.PECJk)?this.customDrawer=e:console.error(n.JyeJd)}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.qWRGZ=function(e,t){return e*t},e.sqLzs=function(e,t){return e/t},e.FvUDj=function(e,t){return e/t},e.pwZbZ=function(e,t){return e*t},e.hgYfJ=function(e,t){return e/t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=this.getDisplayWidth()*this.scale,i=t.qWRGZ(this.getDisplayHeight(),this.scale);this.ctx.translate(this.posX+t.sqLzs(n,2),this.posY+t.FvUDj(i,2)),this.ctx.rotate(t.pwZbZ(this.rotation,Math.PI)/180),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,t.hgYfJ(-this.img.width,2),t.FvUDj(-this.img.height,2)),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){let e={};e.CKBEv=function(e,t){return e%t},e.URedM=function(e,t){return e+t};let t=e;this.rotation=t.CKBEv(t.URedM(this.rotation,90),360),this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.yfQuX=function(e,t){return e*t},e.QSCES=function(e,t){return e*t},e.vxcjx=function(e,t){return e-t};let t=e;if(!this.img)return;let n=t.yfQuX(this.getDisplayWidth(),this.scale),i=t.QSCES(this.getDisplayHeight(),this.scale);n>this.logicalWidth?this.posX=Math.min(Math.max(this.posX,this.logicalWidth-n),0):this.posX=(this.logicalWidth-n)/2,i>this.logicalHeight?this.posY=Math.min(Math.max(this.posY,this.logicalHeight-i),0):this.posY=t.vxcjx(this.logicalHeight,i)/2}isInImageArea(e,t){let n={};n.TaLin=function(e,t){return e+t},n.nKqNM=function(e,t){return e<=t};let i=n;if(!this.img)return!1;let s=this.getDisplayWidth()*this.scale,a=this.getDisplayHeight()*this.scale,o=this.posX,r=this.posY,l=i.TaLin(r,a),c=Math.min(o+s,this.logicalWidth),d=Math.min(l,this.logicalHeight);return e>=Math.max(o,0)&&i.nKqNM(e,c)&&t>=Math.max(r,0)&&t<=d}requestRedraw(){let e={};e.WVoAq="4|2|0|3|1",e.ZCALP="mousemove";let t=e,n=t.WVoAq.split("|"),i=0;for(;;){switch(n[i++]){case"0":this.canvas.dispatchEvent(new MouseEvent(t.ZCALP));continue;case"1":this.animationFrameId=requestAnimationFrame(this.draw);continue;case"2":this.needsRedraw=!0;continue;case"3":this.animationFrameId&&cancelAnimationFrame(this.animationFrameId);continue;case"4":if(this.needsRedraw)return;continue}break}}handleMouseDown(e){let t={};t.guaHL=function(e,t){return e-t},t.gzpFG="grabbing";let n=t,i=this.canvas.getBoundingClientRect(),s=n.guaHL(e.clientX,i.left),a=e.clientY-i.top;this.isDraggable()&&this.isInImageArea(s,a)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor=n.gzpFG)}handleMouseLeave(){this.canvas.style.cursor="default"}handleMouseMove(e){let t={};t.uaRbV=function(e,t){return e-t},t.pMgpj=function(e,t){return e-t},t.FcLsp=function(e,t){return e/t};let n=t,i=this.canvas.getBoundingClientRect(),s=e.clientX-i.left,a=n.uaRbV(e.clientY,i.top);if(this.isInImageArea(s,a)?this.canvas.style.cursor=this.isDragging?"grabbing":"grab":this.canvas.style.cursor="default",this.isDragging){let o=Date.now(),r=o-this.lastTime;this.lastTime=o;let l=n.pMgpj(e.clientX,this.lastX),c=n.pMgpj(e.clientY,this.lastY);this.posX+=l,this.posY+=c,r>0&&(this.velocityX=n.FcLsp(l,r),this.velocityY=n.FcLsp(c,r)),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.WrxbH=function(e,t){return e>t},t.cvNxW=function(e,t){return e>t},t.ufwPY=function(e,t){return e-t},t.kbDGX="default";let n=t;this.isDragging=!1,n.WrxbH(Math.abs(this.velocityX),this.minVelocityThreshold)||n.cvNxW(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0);let i=this.canvas.getBoundingClientRect(),s=e.clientX-i.left,a=n.ufwPY(e.clientY,i.top);this.isInImageArea(s,a)?this.canvas.style.cursor="grab":this.canvas.style.cursor=n.kbDGX}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={ZMBDK:function(e,t){return e-t},XGdHH:function(e,t){return e/t},IpfSA:function(e,t){return e*t},zLMqa:function(e,t){return e*t},Glzrz:function(e,t){return e<t},GGsyv:function(e,t){return e(t)}};if(!this.isInertialMoving)return;let t=Date.now(),n=e.ZMBDK(t,this.lastTime);this.lastTime=t,this.velocityX*=Math.pow(this.decelerationRate,e.XGdHH(n,16)),this.velocityY*=Math.pow(this.decelerationRate,n/16),this.posX+=e.IpfSA(this.velocityX,n),this.posY+=e.zLMqa(this.velocityY,n),this.enforceBounds(),this.requestRedraw(),e.Glzrz(Math.abs(this.velocityX),this.minVelocityThreshold)&&Math.abs(this.velocityY)<this.minVelocityThreshold?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):e.GGsyv(requestAnimationFrame,this.animateInertia.bind(this))}handleWheel(e){let t={};t.oKnmM=function(e,t){return e-t},t.pFOIY=function(e,t){return e/t},t.pTYkl=function(e,t){return e*t},t.YjVGQ=function(e,t){return e*t};let n=t;e.preventDefault();let i=this.canvas.getBoundingClientRect(),s=n.oKnmM(e.clientX,i.left),a=e.clientY-i.top;if(!this.isInImageArea(s,a))return;let o=e.deltaY>0?.9:1.1,r=n.pFOIY(n.oKnmM(s,this.posX),this.scale),l=n.pFOIY(a-this.posY,this.scale),c=Math.min(Math.max(n.pTYkl(this.scale,o),this.options.minScale),this.options.maxScale);this.posX=s-n.YjVGQ(r,c),this.posY=a-l*c,this.scale=c,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};if(t.LNshE=function(e,t){return e>=t},0===e.touches.length)return;let n=Array.from(e.touches),i=this.getTouchCenter(n);this.initialCenterX=i.x,this.initialCenterY=i.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,t.LNshE(e.touches.length,2)&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.wnbZd=function(e,t){return e*t},t.urrII=function(e,t){return e/t},t.iNpkz=function(e,t){return e-t},t.cQMsP=function(e,t){return e*t},t.xCHyZ=function(e,t){return e>t},t.iUMJd=function(e,t){return e-t},t.QdBUe=function(e,t){return e/t};let n=t;if(!this.isTouching)return;e.preventDefault();let i=Array.from(e.touches);if(0===i.length)return;let s=this.getTouchCenter(i),a=1;if(i.length>=2){let o=this.getTouchDistance(i[0],i[1]);this.initialDistance>0&&(a=o/this.initialDistance)}let r=Math.min(Math.max(n.wnbZd(this.touchStartScale,a),this.options.minScale),this.options.maxScale),l=n.urrII(n.iNpkz(this.initialCenterX,this.touchStartPosX),this.touchStartScale),c=(this.initialCenterY-this.touchStartPosY)/this.touchStartScale;if(this.posX=n.iNpkz(s.x,n.cQMsP(l,r)),this.posY=n.iNpkz(s.y,c*r),this.scale=r,this.enforceBounds(),this.requestRedraw(),1===i.length){let d=Date.now(),u=n.iNpkz(d,this.lastTime);this.lastTime=d;let h=this.canvas.getBoundingClientRect(),$=i[0],x=n.iNpkz($.clientX,h.left),p=$.clientY-h.top;n.xCHyZ(u,0)&&(this.velocityX=n.urrII(n.iUMJd(x,this.lastX),u),this.velocityY=n.QdBUe(p-this.lastY,u)),this.lastX=x,this.lastY=p}}handleTouchEnd(){let e={};e.dBBev=function(e,t){return e>t};let t=e;this.isTouching=!1,this.initialDistance=0,t.dBBev(Math.abs(this.velocityX),this.minVelocityThreshold)||t.dBBev(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){let e={};e.utCTl="mousemove",this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent(e.utCTl)),this.requestRedraw())}handleCanvasClick(e){let t={};if(t.NXQGK=function(e,t){return e-t},!this.img)return;let n=this.canvas.getBoundingClientRect(),i=t.NXQGK(e.clientX,n.left),s=e.clientY-n.top;this.isInImageArea(i,s)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={JVCGc:function(e,t){return e-t},nqnpR:function(e,t){return e<t},TmUIH:function(e,t){return e(t)},dnveF:function(e,t,n){return e(t,n)}};if(!this.img||e.touches.length>0)return;let n=this.canvas.getBoundingClientRect(),i=e.changedTouches[0],s=t.JVCGc(i.clientX,n.left),a=i.clientY-n.top,o=new Date().getTime();if(t.nqnpR(o-this.lastTapTime,360)){t.TmUIH(clearTimeout,this.tapTimeout);return}this.tapTimeout=t.dnveF(setTimeout,()=>{this.isInImageArea(s,a)||this.triggerClickOutside(e),this.lastTapTime=o},200)}getTouchDistance(e,t){let n={};n.ehvwQ=function(e,t){return e-t};let i=n,s=i.ehvwQ(e.clientX,t.clientX),a=i.ehvwQ(e.clientY,t.clientY);return Math.sqrt(s*s+a*a)}isDraggable(){let e={};return e.vBXiR=function(e,t){return e*t},this.img&&(this.img.width*this.scale>this.logicalWidth||e.vBXiR(this.img.height,this.scale)>this.logicalHeight)}triggerClickOutside(e){let t={};t.aOhGJ=function(e,t){return e===t},t.LHyoL="function",t.xGwoA=function(e,t){return e-t},t.Ndjsw=function(e,t){return e/t};let n=t;if(n.aOhGJ(typeof this.options.onClickOutside,n.LHyoL)){let i=this.canvas.getBoundingClientRect(),s={x:n.xGwoA(e.clientX,i.left),y:e.clientY-i.top,canvasX:n.xGwoA(e.clientX,i.left),canvasY:n.xGwoA(e.clientY,i.top),imageX:-1,imageY:-1};this.img&&(s.imageX=n.Ndjsw(s.canvasX-this.posX,this.scale),s.imageY=(s.canvasY-this.posY)/this.scale),this.options.onClickOutside(s,e)}}getTouchCenter(e){let t={};t.cKjyc=function(e,t){return e-t},t.VDFuy=function(e,t){return e/t};let n=t,i=0,s=0,a=this.canvas.getBoundingClientRect();for(let o of e)i+=o.clientX-a.left,s+=n.cKjyc(o.clientY,a.top);return{x:i/e.length,y:n.VDFuy(s,e.length)}}destroy(){let e={YBvjo:"mouseup",qVqSt:"mousedown",QcZjx:"touchmove",zvflF:"click",NEgoX:function(e,t){return e(t)}};window.removeEventListener("resize",this.handleResize),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener(e.YBvjo,this.handleMouseUp),this.canvas.removeEventListener("mouseleave",this.handleMouseLeave),this.canvas.removeEventListener(e.qVqSt,this.handleMouseDown),this.canvas.removeEventListener("wheel",this.handleWheel),this.canvas.removeEventListener("touchstart",this.handleTouchStart),this.canvas.removeEventListener(e.QcZjx,this.handleTouchMove),this.canvas.removeEventListener("touchend",this.handleTouchEnd),this.canvas.removeEventListener(e.zvflF,this.handleCanvasClick),this.canvas.removeEventListener("touchend",this.handleCanvasTouchEnd),this.animationFrameId&&e.NEgoX(cancelAnimationFrame,this.animationFrameId)}}function _0x33e3e6(e,t,n,i){let s={LFkYb:function(e,t){return e*t},eMgGT:function(e,t){return e+t},NiZxH:function(e,t){return e*t},FhwkL:function(e,t){return e+t},qJBYg:function(e,t){return e*t},lczAS:function(e,t){return e*t},fPxGQ:function(e,t){return e(t)},RfDqN:function(e,t){return e/t},GNkrO:function(e,t){return e-t},GKOja:function(e,t){return e(t)},lKnxo:function(e,t){return e<t},AJepq:function(e,t){return e>t},JysMk:function(e,t){return e+t},NZmJJ:function(e,t){return e*t},eDszj:function(e,t){return e-t},zedTr:function(e,t){return e*t}},a=s.JysMk(s.GNkrO(3*e,s.NZmJJ(3,n)),1),o=3*n-s.qJBYg(6,e),r=3*e,l=s.JysMk(s.eDszj(3*t,3*i),1),c=s.eDszj(s.zedTr(3,i),6*t),d=3*t;function u(e){return s.LFkYb(s.eMgGT(s.NiZxH(s.eMgGT(a*e,o),e),r),e)}function h(e){return s.eMgGT(s.LFkYb(3*a,e),s.lczAS(2,o))*e+r}return e=>{var t;return t=function e(t){let n=0,i=1,a=t;for(let o=0;o<8;o++){let r=s.fPxGQ(u,a)-t;if(1e-6>Math.abs(r))return a;let l=h(a);if(1e-6>Math.abs(l))break;a-=s.RfDqN(r,l)}for(;i>n;){let c=s.GNkrO(s.GKOja(u,a),t);if(s.lKnxo(Math.abs(c),1e-6))break;s.AJepq(c,0)?i=a:n=a,a=(i+n)/2}return a}(e),s.FhwkL(s.LFkYb(s.eMgGT(s.qJBYg(l,t),c),t),d)*t}}function _0x13b965(e,t="vertical"){let n={QLiWs:"keydown",HNSRo:"vertical",gxrNF:function(e,t){return e%t},yAjWa:function(e,t){return e-t},dKyKu:function(e,t){return e===t},FYchs:function(e,t){return e%t},TqSLm:function(e,t){return e+t},gWFOD:function(e,t){return e-t},OQZcv:function(e,t){return e<=t},rrIgZ:function(e){return e()}};function i(){let i={nKtjF:n.QLiWs,raDSk:n.HNSRo,nMAVo:"ArrowDown",dwibv:function(e,t){return n.gxrNF(e,t)},EluFY:function(e,t){return e%t},CPXba:function(e,t){return n.yAjWa(e,t)},yyJCf:function(e,t){return e===t},vUeAP:"horizontal",yGBTZ:function(e,t){return n.dKyKu(e,t)},tRtCd:"ArrowRight",cYqIA:function(e,t){return n.FYchs(e,t)},mxJoW:function(e,t){return n.TqSLm(e,t)},whzUk:function(e,t){return n.gWFOD(e,t)}};if(n.OQZcv(e.length,1)){e.forEach(e=>{e._navHandler&&(e.removeEventListener(i.nKtjF,e._navHandler),delete e._navHandler)});return}e.forEach((n,s)=>{n._navHandler&&n.removeEventListener("keydown",n._navHandler),n._navHandler=n=>{let a=s;if(t===i.raDSk){if(n.key===i.nMAVo)a=i.dwibv(s+1,e.length);else{if("ArrowUp"!==n.key)return;a=i.EluFY(i.CPXba(s,1)+e.length,e.length)}}else{if(!i.yyJCf(t,i.vUeAP))return;if(i.yGBTZ(n.key,i.tRtCd))a=i.cYqIA(i.mxJoW(s,1),e.length);else{if(!i.yyJCf(n.key,"ArrowLeft"))return;a=i.EluFY(i.whzUk(s,1)+e.length,e.length)}}e[a].focus()},n.addEventListener(i.nKtjF,n._navHandler)})}i();let s={};return s.removeItem=function t(n){e=e.filter(e=>e!==n),i()},s.addItem=function t(s){e.push(s),n.rrIgZ(i)},s.updateEventListeners=i,s}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.AYqPf="disabled",n.hEvTN=function(e,t){return e===t},n.mkHyA="click",n.bkgka=function(e,t){return e>=t},n.dOmXi=function(e,t){return e-t};let i=n,s=this;s._bindWithCooldownHandler&&(s.removeEventListener("click",s._bindWithCooldownHandler),s.removeEventListener("keydown",s._bindWithCooldownHandler));let a=0,o=function(n){let o=Date.now();!s.classList.contains(i.AYqPf)&&!s.hasAttribute(i.AYqPf)&&(i.hEvTN(n.type,i.mkHyA)||32===n.keyCode||i.hEvTN(n.keyCode,13))&&(i.bkgka(i.dOmXi(o,a),t)||0===t)&&(a=o,e.call(s,n))};s.addEventListener(i.mkHyA,o),s.addEventListener("keydown",o),s._bindWithCooldownHandler=o};let _0x2c9e23={set(e,t){try{let n=JSON.stringify(t);localStorage.setItem(e,n)}catch(i){console.error("Error saving to localStorage",i)}},get(e,t=null){try{let n=localStorage.getItem(e);return null!==n?JSON.parse(n):t}catch(i){return console.error("Error reading from localStorage",i),t}},remove(e){let t={};t.YYEUu="Error removing from localStorage";try{localStorage.removeItem(e)}catch(n){console.error(t.YYEUu,n)}},clear(){let e={};e.ekIoo="Error clearing localStorage";try{localStorage.clear()}catch(t){console.error(e.ekIoo,t)}},has(e){let t={};return t.UiQnM=function(e,t){return e!==t},t.UiQnM(localStorage.getItem(e),null)},keys:()=>Object.keys(localStorage)};class _0x589700{constructor({parent:e,text:t,placement:n="top",interactive:i=!0}){let s={};s.xtLUL="aria-describedby",s.zxAqs="mouseenter",s.IDuYg="focus",s.cguyH="blur",s.NumZH="mouseleave";let a=s,o="4|0|5|3|2|1|6".split("|"),r=0;for(;;){switch(o[r++]){case"0":this._content=t;continue;case"1":this._parent.setAttribute(a.xtLUL,this._tooltipId);continue;case"2":this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9);continue;case"3":this._tooltip=null;continue;case"4":this._parent=e;continue;case"5":this._placement=n;continue;case"6":i&&(this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this._parent.addEventListener(a.zxAqs,this.showTooltip),this._parent.addEventListener(a.IDuYg,this.showTooltip),this._parent.addEventListener(a.cguyH,this.hideTooltip),this._parent.addEventListener(a.NumZH,this.hideTooltip));continue}break}}_createTooltipElement(){let e={WbKqJ:function(e,t){return e(t)},ubnug:"xuocLuDI6"},t=e.WbKqJ(_0x142684,e.ubnug);return t.setAttribute("placement",this._placement),t.setAttribute("id",this._tooltipId),t.innerText=this._content,t}updatePosition(){let e={};e.UZKLA="top",e.dbsYg=function(e,t){return e-t},e.OWnPi=function(e,t){return e+t},e.qMZRy=function(e,t){return e/t},e.FSlND=function(e,t){return e-t},e.Opjsa=function(e,t){return e-t},e.vCZwn=function(e,t){return e+t},e.GkCiC="Invalid placement value";let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),i=this._tooltip.getBoundingClientRect(),s,a;switch(this._placement){case t.UZKLA:s=t.dbsYg(t.dbsYg(window.scrollY+n.top,i.height),8),a=t.OWnPi(t.OWnPi(window.scrollX,n.left),t.qMZRy(n.width,2))-t.qMZRy(i.width,2);break;case"bottom":s=t.OWnPi(window.scrollY+n.bottom,8),a=t.FSlND(window.scrollX+n.left+t.qMZRy(n.width,2),i.width/2);break;case"left":s=t.Opjsa(t.OWnPi(window.scrollY,n.top)+n.height/2,t.qMZRy(i.height,2)),a=t.FSlND(window.scrollX+n.left,i.width)-8;break;case"right":s=t.FSlND(t.vCZwn(window.scrollY,n.top)+t.qMZRy(n.height,2),t.qMZRy(i.height,2)),a=window.scrollX+n.right+8;break;default:throw Error(t.GkCiC)}this._tooltip.style.top=s+"px",this._tooltip.style.left=a+"px"}showTooltip(){let e={};e.YTCQK="data-state",e.zJSvY="delayed-open",e.HQQLz="true";let t=e;this._tooltip||(this._tooltip=this._createTooltipElement(),document.body.appendChild(this._tooltip),this.updatePosition(),this._tooltip.setAttribute(t.YTCQK,t.zJSvY),this._tooltip.setAttribute("aria-expanded",t.HQQLz))}hideTooltip(){let e={};e.GnYFm="aria-expanded",this._tooltip&&(this._tooltip.setAttribute("data-state","closed"),this._tooltip.setAttribute(e.GnYFm,"false"),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.yOaMh="aria-describedby",e.dZAdx="mouseenter",e.lclFM="focus";let t=e,n="3|2|1|4|0".split("|"),i=0;for(;;){switch(n[i++]){case"0":this._content=null;continue;case"1":this._tooltip=null;continue;case"2":this._parent&&(this._parent.removeAttribute(t.yOaMh),this._parent.removeEventListener(t.dZAdx,this.showTooltip),this._parent.removeEventListener(t.lclFM,this.showTooltip),this._parent.removeEventListener("blur",this.hideTooltip),this._parent.removeEventListener("mouseleave",this.hideTooltip));continue;case"3":this.hideTooltip();continue;case"4":this._parent=null;continue}break}}}class _0x469ebf{constructor({trigger:e,placement:t="bottom"}){let n={rMcXo:"true",rsgUZ:function(e,t){return e(t)},WEsPS:"overlay",QJaAl:"xC3Uih0ex",sWdrA:"role",uKtPr:"popover",EsLDP:"keydown",oclfj:"resize"},i="_"+_0x38fd72(12);this.trigger=e,this.placement=t,this.Root=n.rsgUZ(_0x142684,"xEHCrF5Oe"),this.Overlay=n.rsgUZ(_0x142684,n.WEsPS),this.Content=_0x142684(n.QJaAl),this.Root.setAttribute("data-state","open"),this.Root.setAttribute(n.sWdrA,n.uKtPr),this.Root.setAttribute("aria-modal",n.rMcXo),this.Root.id=i,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let s=_0x3c9507(i);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+s+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert",n.rMcXo)}),this.Overlay.addEventListener("click",()=>this.close()),this.Overlay.addEventListener("contextmenu",()=>this.close()),document.addEventListener(n.EsLDP,this._handleKeyDown),this._setPosition(),window.addEventListener(n.oclfj,this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e={};e.rZnHi="absolute";let t=this.trigger.getBoundingClientRect(),n=this.Content.getBoundingClientRect(),i;if(Array.isArray(this.placement)){for(let s of this.placement){let a=this._calculatePosition(s,t,n);if(this._isPositionWithinViewport(a,n)){i=s;break}}i||(i=this.placement[0])}else i=this.placement;let o=this._calculatePosition(i,t,n);this.Content.style.position=e.rZnHi,this.Content.style.top=o.top+"px",this.Content.style.left=o.left+"px"}_calculatePosition(e,t,n){let i={};i.IRvsY="top",i.SsDAs="bottom",i.uIhWY="left",i.WblOB=function(e,t){return e-t},i.TQSax="right",i.BYOhq=function(e,t){return e+t},i.KyRdR=function(e,t){return e===t},i.jPHUQ=function(e,t){return e+t},i.WPlfJ=function(e,t){return e+t};let s=i,a=0,o=0,[r,l]=e.split("-");switch(r){case s.IRvsY:a=t.top-n.height;break;case s.SsDAs:a=t.bottom;break;case s.uIhWY:o=s.WblOB(t.left,n.width);break;case s.TQSax:o=t.right}switch(l){case"start":o=t.left;break;case"end":o=s.WblOB(s.BYOhq(t.left,t.width),n.width);break;default:s.KyRdR(r,"top")||r===s.SsDAs?o=s.jPHUQ(t.left,s.WblOB(t.width,n.width)/2):a=s.WPlfJ(t.top,s.WblOB(t.height,n.height)/2)}let c={};return c.top=a,c.left=o,c}_isPositionWithinViewport(e,t){let n={};n.pJnKW=function(e,t){return e+t};let i=window.innerWidth,s=window.innerHeight,{top:a,left:o}=e;return a>=0&&o>=0&&a+t.height<=s&&n.pJnKW(o,t.width)<=i}_handleKeyDown=e=>{let t={};t.oeUPn=function(e,t){return e===t};t.oeUPn(e.keyCode,27)&&(this.close(),this.trigger.focus())};_removeListeners(){document.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener("resize",this._handleResize)}onClose(e){this.onCloseCallback=e}close(){this._removeListeners(),this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),this.Root.setAttribute("data-state","closed"),({FZkOt:function(e,t,n){return e(t,n)}}).FZkOt(setTimeout,()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x3c9507(e){let t={};t.yhWUU="\\$&",t.wUaAy=function(e,t){return e+t};let n=t;return e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,n.yhWUU).replace(/^(-?\d)/,n.wUaAy("\\3"+e.charAt(0)," "))}class _0x5a3ff3{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={aHNxJ:function(e,t){return e(t)},FIjig:"overlay",Isctv:function(e,t){return e(t)},ukrum:"content",EVRnD:"aria-modal",Yquxq:function(e,t){return e(t)},ZAjmT:"show",EVTYA:"click"},s="_"+_0x38fd72(12);this.Root=i.aHNxJ(_0x142684,"x54SkYRT0"),this.Overlay=i.aHNxJ(_0x142684,i.FIjig),this.Content=i.Isctv(_0x142684,i.ukrum),this.Root.setAttribute("data-state","open"),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role","dialog"),this.Root.setAttribute(i.EVRnD,"true"),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=s;let a=i.Yquxq(_0x3c9507,s);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+a+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.ZAjmT),_0x5a3ff3.stack.push(this),e&&this.Overlay.addEventListener(i.EVTYA,this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.pjzYu=function(e,t){return e===t};let n=t;if(27===e.keyCode){let i=_0x5a3ff3.stack[_0x5a3ff3.stack.length-1];n.pjzYu(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={mUCQu:"inert",KJAZk:function(e,t){return e>t},EgJln:"data-state",dZZVF:"closed",bolOw:function(e,t,n){return e(t,n)}};if(!this.Lock){let t=_0x5a3ff3.stack.indexOf(this);e.KJAZk(t,-1)&&_0x5a3ff3.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback(),e.KJAZk(this._exclude_for_restore.length,0)?this._exclude_for_restore.forEach(e=>{e instanceof HTMLElement&&e.removeAttribute("inert")}):this._deactivated_elements.forEach(t=>{t.removeAttribute(e.mUCQu)}),this.Root.setAttribute(e.EgJln,e.dZZVF),e.bolOw(setTimeout,()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){let e={};e.fHnmj="keydown",this.Overlay.onclick=null,document.removeEventListener(e.fHnmj,this._handleKeyDown)}}_0x5a3ff3.stack=[];class _0x47f58d extends _0x5a3ff3{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:i=!1,closeOnEsc:s=!0,showCloseButton:a=!1}={}){let o={};o.puyxl="xLDQZ1SSl",o.cCswA=function(e,t){return e>t};let r=o,l={};l.closeOnOverlayClick=i,l.closeOnEsc=s,super(l);let c=this._createHeader(e,a),d=this._createBody(t);if(this.Content.style.padding="0px",this.Content.classList.add("xv1VrMJb6"),this.Content.classList.add(r.puyxl),this.Content.appendChild(c),this.Content.appendChild(d),r.cCswA(n.length,0)){let u=this._createFooter(n);d.appendChild(u)}}_createHeader(e,t){let n={};n.ysJRL="xrYn5ZY3v lf gn",n.yodNT="x6Y89FynP",n.vsAQd=function(e,t){return e||t},n.OwtxY='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>';let i=n,s=document.createElement("div");s.className=i.ysJRL;let a=document.createElement("div");if(a.className=i.yodNT,a.textContent=i.vsAQd(e,"Alert"),s.appendChild(a),t){let o=_0x142684("xvb5soWNa");o.focusable(!0),o.innerHTML=i.OwtxY,o.bindWithCooldown(()=>{this.close()}),s.appendChild(o)}return s}_createBody(e){let t={};t.lXDOl="Are you sure?";let n=document.createElement("div");n.className="xWDUelLWA";let i=document.createElement("div");return i.className="xujSSErs5",i.innerHTML=e||t.lXDOl,n.appendChild(i),n}_createFooter(e){let t={fSIVG:function(e){return e()},jfiWO:function(e,t){return e+t},aGJrM:"div",nXkXW:"xWh2LBcgj"},n=document.createElement(t.aGJrM);n.className=t.nXkXW;let i=_0x13b965([],"horizontal");return e.forEach(({text:e,classList:s=[],onClick:a})=>{let o=document.createElement("div");o.className=t.jfiWO("xgw2tzk6r ",s.join(" ")),o.setAttribute("tabindex","0"),o.textContent=e,o.bindWithCooldown(()=>{a&&t.fSIVG(a),this.close()}),i.addItem(o),n.appendChild(o)}),n}}let _0x142684=e=>{let t={};t.jdNHl="div";let n=t,i=document.createElement(n.jdNHl);return i.classList.add(e),i},_0x3b6476=e=>document.querySelector(e);function _0x38fd72(e){let t={};t.CrsUf=function(e,t){return e*t};let n=t,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s="";for(let a=0;a<e;a++)s+=i.charAt(Math.floor(n.CrsUf(Math.random(),i.length)));return s}function _0x7da269(e,t,n={}){let i={KWgPL:"span",YxVSF:"xSwoj5Cx2",XpCGp:function(e,t){return e/t},cBrDf:function(e,t){return e(t)},fkrvT:function(e,...t){return e(...t)},umfQG:function(e){return e()}},{interval:s=24,fadeDuration:a=214,bezierControl:o=[.42,0,1,1]}=n,r=i.fkrvT(_0x33e3e6,...o),l=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>","text/html").body.firstChild.childNodes),c=[];function d(){c.length&&(function e(t){let n=performance.now();function s(e){let o=Math.min(i.XpCGp(e-n,a),1),l=r(o);t.style.opacity=l,o<1&&requestAnimationFrame(s)}i.cBrDf(requestAnimationFrame,s)}(c.shift()),setTimeout(d,s))}l.forEach(t=>(function e(t,n){if(t.nodeType===Node.TEXT_NODE){let s=t.textContent.split("");for(let a of s){let o=document.createElement(i.KWgPL);o.classList.add(i.YxVSF),o.textContent=a,n.appendChild(o),c.push(o)}}else if(t.nodeType===Node.ELEMENT_NODE){let r=t.cloneNode(!1);n.appendChild(r),Array.from(t.childNodes).forEach(t=>e(t,r))}})(t,e)),i.umfQG(d)}function _0xefc425(e,t){let n={yhNsP:function(e,t){return e>=t},beuNe:function(e,t){return e>=t},zrRDz:function(e,t){return e<t},zyOyU:function(e,t){return e(t)},OoInQ:function(e,t){return e-t},zsXkH:function(e,t){return e*t},dsVYt:function(e,t){return e+t}},i=new Date,s=new Date(e),a=new Date(t);if(n.yhNsP(i,s)&&i<=a)return"現在";let o=i<s?s:a,r=o.getHours(),l;l=n.beuNe(r,0)&&n.zrRDz(r,6)?"清晨":n.zrRDz(r,12)?"早上":r<18?"下午":"晚上";let c=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),d=c(o),u=n.zyOyU(c,i),h=Math.round(n.OoInQ(d,u)/(24*n.zsXkH(6e4,60))),$;switch(h){case -2:$="前天";break;case -1:$="昨天";break;case 0:$="今天";break;case 1:$="明天";break;case 2:$="後天";break;default:$=n.dsVYt(o.getMonth(),1)+"/"+o.getDate()}return $+" "+l}function _0xddd61a(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0x2528f0(){let e={};e.gDGBB="MacIntel",e.OqxQi="iOS",e.SmrPj="Mobile",e.fisEa="Android",e.ziCwU="Tablet",e.PkNjJ="Windows",e.aluYC="Desktop",e.MGhlN="macOS",e.WsToh="Unknown";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,i=navigator.platform,s=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||i===t.gDGBB&&s>1){let a=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(a){let o=a[1]||"0",r=a[2]||"0",l=a[3]||"0";return{os:t.OqxQi,version:o+"."+r+"."+l,deviceType:/iPad/.test(n)?"Tablet":t.SmrPj}}}if(/Android/.test(n)){let c=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(c){let d=c[1]||"0",u=c[2]||"0",h=c[3]||"0";return{os:t.fisEa,version:d+"."+u+"."+h,deviceType:/Mobile/.test(n)?"Mobile":t.ziCwU}}}if(/Win/.test(i)){let $=n.match(/Windows NT (\d+)\.?(\d+)?/i);if($){let x=$[1]||"0",p=$[2]||"0",f={};return f.os=t.PkNjJ,f.version=x+"."+p,f.deviceType=t.aluYC,f}let _={};return _.os=t.PkNjJ,_.version=null,_.deviceType=t.aluYC,_}if(/Mac/.test(i)){let m=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(m){let b=m[1]||"0",v=m[2]||"0",g=m[3]||"0",C={};return C.os="macOS",C.version=b+"."+v+"."+g,C.deviceType="Desktop",C}let w={};return w.os=t.MGhlN,w.version=null,w.deviceType=t.aluYC,w}if(/Linux/.test(i)){let L={};return L.os="Linux",L.version=null,L.deviceType="Desktop",L}let y={};return y.os=t.WsToh,y.version=null,y.deviceType="Unknown",y}function _0xddba50(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x134ae2={};_0x134ae2.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x134ae2.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x134ae2.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x4adc12=_0x134ae2;class _0x2b7a4b{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={JabDO:function(e,t){return e(t)},bdcZj:function(e,t){return e(t)},CUhsS:"drawer-content",yLEdw:function(e,t){return e(t)},LUgFp:"drawer-header",ZhCal:"div",vrSdc:"drawer-body",uLijy:"data-state",sOABC:"open",FcTHj:"aria-modal",cMpZd:"true"},s="_"+_0x38fd72(12);this.Root=i.JabDO(_0x142684,"drawer-root"),this.Overlay=i.bdcZj(_0x142684,"drawer-overlay"),this.Content=i.JabDO(_0x142684,i.CUhsS),this.Header=i.yLEdw(_0x142684,i.LUgFp),this.Handle=document.createElement(i.ZhCal),this.Handle.className="drawer-drag-handle",this.Header.appendChild(this.Handle),this.Body=_0x142684(i.vrSdc),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute(i.uLijy,i.sOABC),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role","dialog"),this.Root.setAttribute(i.FcTHj,i.cMpZd),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=s;let a=_0x3c9507(s);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+a+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add("show"),_0x2b7a4b.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.WAiuL=function(e,t){return e-t},t.kyHTi=function(e,t){return e===t};let n=t;if(27===e.keyCode){let i=_0x2b7a4b.stack[n.WAiuL(_0x2b7a4b.stack.length,1)];n.kyHTi(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={};e.mUaih=function(e,t){return e>t},e.LZtDM=function(e,t){return e===t},e.PZHmt="matrix",e.MdlIQ="translateY(100%)";let t=e,n=_0x2b7a4b.stack.indexOf(this);t.mUaih(n,-1)&&_0x2b7a4b.stack.splice(n,1),this.onCloseCallback&&this.onCloseCallback();let i=()=>{this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},s=window.getComputedStyle(this.Content).transform;t.LZtDM(s,"none")||s.includes(t.PZHmt)?(this.Content.classList.remove("x9GmoP75O"),this.Content.style.transform=t.MdlIQ,setTimeout(()=>{i(),this.Root.remove()},300)):(i(),this.Root.remove()),this._removeListeners()}_removeListeners(){let e={};e.FQUKw="keydown",this.Overlay.onclick=null,document.removeEventListener(e.FQUKw,this._handleKeyDown)}_setupDrag(){let e={};e.bsKwF=function(e,t){return e!==t},e.pLAdU=".xBWmlKrN2 *",e.CWuAT="x9GmoP75O",e.kxRIf=function(e,t){return e-t},e.iFusp=function(e,t){return e>t},e.CRtva=function(e,t){return e/t},e.OyTHo=function(e,t){return e-t},e.uPnpr="mousemove",e.bzLnz="mouseup",e.lgasD="touchmove",e.qBTNI="touchend";let t=e,n=0,i=0,s=0,a=!1,o=e=>{t.bsKwF(e.target.scrollTop,0)||e.target.closest(t.pLAdU)||(n=e.touches?e.touches[0].clientY:e.clientY,s=Date.now(),a=!0,this.Content.classList.add(t.CWuAT))},r=e=>{if(!a)return;i=e.touches?e.touches[0].clientY:e.clientY;let s=t.kxRIf(i,n);t.iFusp(s,0)&&(this.Content.style.transform="translateY("+s+"px)")},l=()=>{if(!a)return;let e=i-n,o=t.CRtva(t.OyTHo(Date.now(),s),1e3),r=t.CRtva(e,o),l=this.Content.offsetHeight;this.Content.classList.remove(t.CWuAT),e>.5*l||t.iFusp(r,600)?this.close():this.Content.style.transform="translateY(0)",a=!1},c={};c.passive=!0,this.Content.addEventListener("touchstart",o,c);let d={};d.passive=!0,this.Content.addEventListener(t.lgasD,r,d),this.Content.addEventListener(t.qBTNI,l),this.Content.addEventListener("mousedown",e=>{o(e);let n=e=>r(e),i=()=>{l(),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)};document.addEventListener(t.uPnpr,n),document.addEventListener(t.bzLnz,i)})}}_0x2b7a4b.stack=[];import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as i,onAuthStateChanged as s,signInWithEmailAndPassword as a,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as l,uploadBytesResumable as c,getDownloadURL as d}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as u,enableIndexedDbPersistence as h,collection as $,setDoc as x,doc as p,deleteDoc as f,getDoc as _,where as m,getDocs as b,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as L,arrayRemove as y,updateDoc as k,limit as T}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";let _0x2833f6={};_0x2833f6.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x2833f6.authDomain="smiling-theory-397204.firebaseapp.com",_0x2833f6.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x2833f6.projectId="smiling-theory-397204",_0x2833f6.storageBucket="smiling-theory-397204.appspot.com",_0x2833f6.messagingSenderId="360479398694",_0x2833f6.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x2833f6.measurementId="G-6BKTT1K7D1";let _0x457cf3=e(_0x2833f6),_0x3c5bcc=u(_0x457cf3),_0x5c1e5c=r(_0x457cf3),_0x5b6b8e=new i,_0x588d2e=t();h(_0x3c5bcc).then(()=>{let e={};e.MPMNn="離線緩存功能已啟用";let t=e;console.log(t.MPMNn)}).catch(e=>{let t={};t.zjHQn=function(e,t){return e===t},t.uDqmb="已開啟多個分頁，無法啟用離線緩存功能",t.MSUKJ="unimplemented",t.JzbpQ="當前瀏覽器不支持離線緩存";let n=t;n.zjHQn(e.code,"failed-precondition")?console.error(n.uDqmb):e.code===n.MSUKJ&&console.error(n.JzbpQ)});let _0x54583e=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x1415f3=[],_0x494837={sidebar:_0x3b6476(".xFz8bwNFr"),main:_0x3b6476(".x8o58HttN"),messageInput:_0x3b6476(".xtsARDHTI"),searchInput:_0x3b6476(".xujXllYgW"),messageContainer:_0x3b6476(".xikyLwDf4"),sendButton:_0x3b6476(".xuwRtDpu4"),fileInput:_0x3b6476(".xVEJA40Qh"),attachButton:_0x3b6476(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x3b6476(".xpbRox0hO#xbXZpIWEa"),markButton:_0x3b6476(".xpbRox0hO#xsVrze5YA"),brushButton:_0x3b6476(".xpbRox0hO#xrfvUzMAG"),heading:_0x3b6476(".xehdiGgBv"),backButton:_0x3b6476(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x3b6476(".xemr1y6ie"),spinnerContainer:_0x3b6476(".xemr1y6ie .spinner"),spinnerLabel:_0x3b6476(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x3b6476(".xDADAUUv4"),roomNameLabel:_0x3b6476(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x3b6476(".xlKSJ67AP"),nameLabel:_0x3b6476(".xt4GQkVIo"),avatarLabel:_0x3b6476(".xbVHF6S6B"),avatarWrapper:_0x3b6476(".xaoteDJh4"),profileContainer:_0x3b6476(".xQ6gFUtqT"),layoutResizer:_0x3b6476(".xrFP6D2e1"),statusLabel:_0x3b6476(".xOJE48BLX"),activityBar:_0x3b6476(".pS2na74a"),layoutResizer2:_0x3b6476(".PLc7zlhg")},_0x50c02b='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>載入中…',_0x3abe5e={};_0x3abe5e.current="0.1.2",_0x3abe5e.cacheId="x0n0HCjlj",_0x3abe5e.directions='<ul class="xxmjDL5xB xbH7v2Hbn">\n		<li class="xcKqXW8uF">修復了一些錯誤。</li>\n		<li class="xcKqXW8uF">添加了更生動的動畫效果。</li>\n		</ul>';let _0x43a260=_0x3abe5e,_0x2df1d0=[],_0xe30762={},_0x31eb29={},_0x302ac6,_0x3c3b0f=!1,_0x3c4717="",_0x3f36e4,_0x5cb62a=0,_0x103c35,_0x406208=!1,_0x2a5e1e=!1,_0xa7e053=_0x494837.messageContainer,_0x18e31a={};_0x18e31a.state=!1,_0x18e31a._a=null,_0x18e31a._b=null,_0x18e31a._n="",_0x18e31a._d="",_0x18e31a._m=[];let _0x1497d7=_0x18e31a,_0x2510d0="",_0x1a1f1f=null,_0xa62805=!1;if(_0x54583e)document.body.classList.add("mobile"),_0x494837._mb_att_btn.bindWithCooldown(function(){_0x494837.fileInput.click()});else{document.body.classList.add("desktop");let M={};M.parent=_0x494837.attachButton,M.text="附加文件",M.placement="top",new _0x589700(M),_0x494837.attachButton.bindWithCooldown(function(){_0x494837.fileInput.click()});let E={};E.parent=_0x494837.sendButton,E.text="發送",E.placement="top",E.interactive=!0,new _0x589700(E);let H={};H.parent=_0x494837.stickerButton,H.text="加入貼圖",H.placement="top",H.interactive=!0,new _0x589700(H);let A={};A.parent=_0x494837.markButton,A.text="標記為重要",A.placement="top",A.interactive=!0;let I=new _0x589700(A),B={};B.parent=_0x494837.brushButton,B.text="潤色文本",B.placement="top",B.interactive=!0,new _0x589700(B),_0x13b965([_0x494837.attachButton,_0x494837.brushButton,_0x494837.markButton,_0x494837.stickerButton],"horizontal"),_0x494837.brushButton.bindWithCooldown(function(){let e={};e.mOafD="潤色文本",e.tYlDB="xDLwiKdTE";let t=e,n=_0x3a645b(t.mOafD,!0);n.content.classList.add("lg"),n.body.classList.add(t.tYlDB)}),_0x494837.markButton.bindWithCooldown(function(){let e={};e.iuyCh="x3zdxRXQ6";let t=e;_0x2a5e1e?(_0x2a5e1e=!1,_0x494837.markButton.classList.remove(t.iuyCh),I.setText("標記為重要")):(_0x2a5e1e=!0,_0x494837.markButton.classList.add(t.iuyCh),I.setText("取消標記"))},0);let W=!1,R=0,Y=0,D=e=>{let t={};t.UazBO="mousemove",t.wUiPE="mouseup";let n=t;W=!0,document.body.classList.add("xz7kq9zLe");let i=e.target.getBoundingClientRect();Y=e.clientX-i.left,document.addEventListener(n.UazBO,O),document.addEventListener(n.wUiPE,S)},O=e=>{let t={};t.QKyVN=function(e,t){return e-t};let n=t;if(!W)return;let i=_0x494837.sidebar.getBoundingClientRect().left,s=n.QKyVN(e.clientX,i)-Y;R=s,_0x494837.sidebar.style.width=s+"px"},S=()=>{let e={};e.OIglh="0|4|2|1|3",e.YnUxk="xz7kq9zLe",e.cpWRW="xjS4MkN99";let t=e,n=t.OIglh.split("|"),i=0;for(;;){switch(n[i++]){case"0":W=!1;continue;case"1":document.removeEventListener("mousemove",O);continue;case"2":document.body.classList.remove(t.YnUxk);continue;case"3":document.removeEventListener("mouseup",S);continue;case"4":_0x2c9e23.set(t.cpWRW,R);continue}break}};window.addEventListener("blur",()=>{let e={};e.VUGuB="resizing";let t=e;document.body.classList.remove(t.VUGuB),W=!1}),_0x494837.layoutResizer.addEventListener("mousedown",e=>{({fPQje:function(e,t){return e(t)}}).fPQje(D,e)})}function _0x3a645b(e,t=!1,...n){let i={pXsPm:function(e,t){return e(t)},RqsEn:"xrYn5ZY3v",tVQmC:"x6Y89FynP",uQxfc:"3|4|5|1|2|0",TykLn:function(e,t){return e(t)},HvrtV:"xvb5soWNa"};console.log(n);let s={};s.closeOnEsc=!0,s.closeOnOverlayClick=!0,s.excludeElements=n;let a=new _0x5a3ff3(s),o=i.pXsPm(_0x142684,i.RqsEn);o.classList.add("lf"),a.Content.style.padding="0";let r=_0x142684(i.tVQmC);o.appendChild(r),r.innerText=e,a.Content.appendChild(o);let l=i.pXsPm(_0x142684,"xWDUelLWA");a.Content.appendChild(l);let c;if(t){let d=i.uQxfc.split("|"),u=0;for(;;){switch(d[u++]){case"0":o.appendChild(c);continue;case"1":a.close=a.close.bind(a);continue;case"2":c.bindWithCooldown(a.close);continue;case"3":c=i.TykLn(_0x142684,i.HvrtV);continue;case"4":c.focusable(!0);continue;case"5":c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>';continue}break}}let h=o.getBoundingClientRect();o.style.minHeight=h.height+"px";let $={};return $.root=a,$.body=l,$.content=a.Content,$.closebtn=c,$.Root=a.Root,$.Content=a.Content,$}async function _0x494218(e,t){let n={DbauT:"載入失敗",LVRjt:"data-state",mscwz:"failed",yLZCY:"xUSR4cuWD",ddfxu:"xHZuqwWhI",AdLSn:"嘗試修復偏差位移",fjOtA:"loaded",zKpjk:"xFIqZCKV3",jDTis:"xAQPbc7N3",kSfJz:function(e,t){return e(t)},luSBm:"instant",tITBk:"x2y08yFOH",aPhJn:function(e,t){return e===t},HbYCM:"image",VVqDi:"loading",wTUoH:"cache-url",hUKDF:function(e,t){return e===t},Zsobn:"video",fIGUR:"controlslist",KOVzW:"nodownload",HDrZg:function(e,t){return e===t},NMAks:"xGsec9lFd",npXnj:"span",qOooD:"xYj7x2KZ4",hAWhU:function(e,t,n){return e(t,n)},DJKns:function(e,t){return e>t},tGQJn:"xDVzL7FIt",CInxD:function(e,t){return e(t)},ZluNl:"x6EwJGLAa"};if(t.startsWith("<")){let i=t.match(/<\s*(\w+)\s+(\S+)/),s=i[1],a=i[2];if(n.aPhJn(s,n.HbYCM)){let o=document.createElement("img");o.focusable(!0),o.classList.add("xGsec9lFd"),o.classList.add("xUSR4cuWD"),o.setAttribute("data-state",n.VVqDi),_0xa62805||(console.log("嘗試修復偏差位移"),_0x494837.messageContainer.scrollTo({top:_0x494837.messageContainer.scrollHeight,behavior:n.luSBm})),o.onerror=function(){console.log(n.DbauT),o.setAttribute(n.LVRjt,n.mscwz),o.classList.remove(n.yLZCY)},o.onload=function(){let t={NEFlK:function(e,t,n){return e(t,n)},hTOgZ:"canvas",ANSRq:"xWuhDLG1C",CLBwp:function(e,t){return e(t)},JzJaI:"x8o1OSu71",zEBbP:n.ddfxu};_0xa62805||(console.log(n.AdLSn),_0x494837.messageContainer.scrollTo({top:_0x494837.messageContainer.scrollHeight,behavior:"instant"})),o.setAttribute("data-state",n.fjOtA),o.classList.remove("xUSR4cuWD"),e.classList.add(n.zKpjk),o.bindWithCooldown(function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let n=new _0x5a3ff3(e);n.Content.classList.add("xPSnkbRat");let i=document.createElement(t.hTOgZ);i.classList.add(t.ANSRq),n.Content.appendChild(i);let s=new _0x81f87(i,{maxScale:2,onClickOutside(e,n){t.NEFlK(o,e,n)}});function o(){s.destroy(),n.close()}s.loadImage(a);let r=t.CLBwp(_0x142684,t.JzJaI);r.focusable(!0),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',r.bindWithCooldown(o),n.Content.appendChild(r);let l=_0x142684("x8o1OSu71");l.classList.add(t.zEBbP),l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',l.bindWithCooldown(function(){s.rotate()},0),n.Content.appendChild(l)},0)};let r={};r.action=n.wTUoH,r.url=a,navigator.serviceWorker?.controller?.postMessage(r),o.src=a,e.appendChild(o)}else if(n.hUKDF(s,n.Zsobn)){let l=document.createElement(n.Zsobn);l.setAttribute("muted",""),l.focusable(!0),l.playsInline=!0,l.setAttribute("controls","true"),l.setAttribute(n.fIGUR,n.KOVzW),l.onloadedmetadata=function(){console.log("嘗試修復偏差位移"),_0x494837.messageContainer.scrollTo({top:_0x494837.messageContainer.scrollHeight,behavior:"instant"})};let c={};c.action="cache-url",c.url=a,navigator.serviceWorker?.controller?.postMessage(c),l.src=a,l.classList.add("xGsec9lFd"),e.appendChild(l)}else if(n.HDrZg(s,"audio")){let d=document.createElement("audio");d.focusable(!0),d.setAttribute("controls","true");let u={};u.action="cache-url",u.url=a,navigator.serviceWorker?.controller?.postMessage(u),d.src=a,d.classList.add(n.NMAks),e.appendChild(d)}else e.innerHTML='<div class="xUiYNFhtR">無法預覽這個文件 <a class="x0ciSQShX no-wrap" href="'+a+'" target="_blank" rel="noreferrer noopener">下載</a></div>'}else{let h=document.createElement(n.npXnj),$=_0x142684(n.qOooD);h.classList.add("xVlceg4Ab"),n.hAWhU(_0x501374,h,t),e.appendChild(h),e.appendChild($);let x=h.getBoundingClientRect().height;if(n.DJKns(x,125)){e.classList.add(n.tGQJn);let p=n.CInxD(_0x142684,n.ZluNl),f={};f["0"]='<span class="xNM56JYdv">展開全部</span>',f["1"]='<span class="xNM56JYdv">顯示較少</span>',f["2"]='<span class="xNM56JYdv">查看全部</span>';let _=f;p.innerHTML=_[_0x54583e?2:0],p.focusable(!0);let m=0;p.bindWithCooldown(function(){if(_0x54583e){let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let s=new _0x2b7a4b(i);s.Root.classList.add(n.jDTis);let a=n.kSfJz(_0x142684,"xBWmlKrN2");s.Body.appendChild(a),_0x501374(a,t)}else{let o={};o.top=0,o.behavior=n.luSBm,h.scrollTo(o),0===m?(m=1,e.classList.add("x2y08yFOH"),p.innerHTML=_[1]):(m=0,e.classList.remove(n.tITBk),p.innerHTML=_[0])}},0),$.appendChild(p)}}}function _0x501374(e,t){let n={SJDEX:function(e,t,n){return e(t,n)},GWmGM:function(e,t){return e!==t},VpleX:function(e,t){return e>t},ZuVdC:function(e,t,n){return e(t,n)},XfUWQ:function(e,t){return e<t}},i=/@(\w+)/g,s=0,a;for(e.clear();n.GWmGM(a=i.exec(t),null);){let{index:o}=a,r=a[1];if(n.VpleX(o,s)){let l=t.slice(s,o);n.ZuVdC(_0xc8871d,e,l)}let c=document.createElement("a");c.classList.add("x0ciSQShX"),c.focusable(!0),c.dataset.userId=r;let d={};d.userId=r,d.dom=c,_0x1497d7._m.push(d),_0x3320f0(r).then(function(e){let t={BxFuN:function(e,t,i){return n.SJDEX(e,t,i)},fHgpq:"mobile"};e?(c.textContent="@"+(e.name||"未知"),c.bindWithCooldown(function(){t.BxFuN(_0x518f0b,_0x1a1f1f,{data:e,type:_0x54583e?t.fHgpq:"desktop"})},0)):c.textContent="@未知"}).catch(function(e){c.textContent="@"+r,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(c),s=i.lastIndex}n.XfUWQ(s,t.length)&&n.SJDEX(_0xc8871d,e,t.slice(s))}function _0xc8871d(e,t){let n={tziHg:function(e,t){return e(t)},HzcRB:"div",mtnUH:function(e,t){return e<t}},i=t.split("\n");i.forEach((t,s)=>{if(t){let a=n.tziHg(_0x40a7ea,t),o=document.createElement(n.HzcRB);o.innerHTML=a,Array.from(o.childNodes).forEach(t=>{e.appendChild(t)})}n.mtnUH(s,i.length-1)&&e.appendChild(document.createElement("br"))})}function _0x40a7ea(e){let t={};t.djEIh=function(e,t){return e+t},t.gCTHu=function(e,t){return e+t},t.ZAEjY='<span class="xCe4Btdzm" tabindex="0"><a class="x0ciSQShX" tabindex="-1" translate="no" href="',t.znoHK='" target="_blank" rel="noreferrer noopener">',t.MeeJP="</a></span>";let n=t;return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let t=e.replace(/^https?:\/\//,"");return n.djEIh(n.gCTHu(n.djEIh(n.ZAEjY,e)+n.znoHK,decodeURIComponent(t)),n.MeeJP)})}async function _0x5717f1(){let e={EbvPE:function(e,t){return e||t},BsSJu:"task",UtfVa:"clear-all-caches",nuVoJ:function(e,t,n,i){return e(t,n,i)},peArR:function(e,t){return e(t)},wkCcv:function(e,t,n,i){return e(t,n,i)},kXTZU:function(e,t){return e(t)},UGPNL:"&amp;$1",puHaR:"&gt;",OUVRk:"x3zdxRXQ6",oqqRa:function(e,t,n,i,s){return e(t,n,i,s)},AHOVI:function(e,t,n,i){return e(t,n,i)}},t=_0x494837.messageInput.innerText.trim();if(e.EbvPE(!t,!_0x3c4717)||""===t)return;_0x494837.sendButton.classList.add("disabled"),_0x494837.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let i=n[1],s=n[2];if(i===e.BsSJu){if("1358"===s){_0x494837.messageInput.clear();let a={};a.action=e.UtfVa,navigator.serviceWorker?.controller?.postMessage(a);let o={};o.content="已成功清除緩存，重新載入後即生效",o.tag="2",e.nuVoJ(_0x412b12,o,e.peArR(_0x38fd72,20),"3");return}{_0x494837.messageInput.clear();let r={};r.content="未知的指令，請重新嘗試",e.wkCcv(_0x412b12,r,e.kXTZU(_0x38fd72,20),"3");return}}}t=t.replace(/&([^;]+)/g,e.UGPNL).replaceAll("<","&lt;").replaceAll(">",e.puHaR).replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x494837.messageInput.clear();let l=_0x2a5e1e?"1":null;_0x494837.markButton.classList.remove(e.OUVRk),_0x2a5e1e=!1;let c=e.kXTZU(p,e.oqqRa($,_0x3c5bcc,"chats",_0x3c4717,"messages"));await x(c,{sender:_0x103c35,content:t,timestamp:Date.now(),tag:l});let d={};d.content=t,d.tag=l,e.AHOVI(_0x412b12,d,c.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={};t.WhCUn=function(e,t){return e===t},t.mZgVL="cache-size-result";let n=t;if(n.WhCUn(e.data.type,n.mZgVL)){let i=document.getElementById("cacheSizeResult");if(e.data.error){i.innerHTML="错误: "+e.data.error;return}_0x412b12({content:_0x4cf66d(e.data.bytes)},_0x38fd72(20),"3")}});let _0x1b78f8=0;function _0x412b12(e,t,n="1"){let i={vISar:function(e,t){return e(t)},SPMfu:function(e,t){return e(t)},bCQgu:"xKljxgVJA",BPLRN:function(e,t){return e(t)},PwOGw:"xu4Celbbq",oMqnm:function(e,t){return e===t},kikhV:function(e,t){return e===t},hAsLm:"x4rKxFxLl",IizVi:"xHJfZfjT1",Xbhht:"smooth"},s=_0x142684("xVC8gtuyS"),a=i.vISar(_0x142684,"xMyW2iRSH"),o=i.SPMfu(_0x142684,i.bCQgu),r=i.BPLRN(_0x142684,i.PwOGw),l=i.vISar(_0x142684,"xc4iCj2Gy"),c=_0x142684("xRHoYYwoZ");switch(s.setAttribute("data-visible","true"),s.setAttribute("data-message-id",t),s.classList.add("xiOw4dg0O"),s.appendChild(o),o.appendChild(c),c.appendChild(r),r.appendChild(l),c.appendChild(a),l.innerText="你",i.oMqnm(_0x2510d0.sender,e.sender)&&s.classList.add("xOmVIOA3e"),i.kikhV(e.tag,"1")?a.classList.add(i.hAsLm):"2"===e.tag&&a.classList.add(i.IizVi),_0x302ac6&&(_0x302ac6.remove(),_0x302ac6=null),n){case"1":_0x494837.messageContainer.appendChild(s);break;case"2":_0xa7e053.appendChild(s),_0x1b78f8+=s.offsetHeight;break;case"3":_0x494837.messageContainer.appendChild(s),_0x406208=!0,_0x494837.messageContainer.scrollTo({top:_0x494837.messageContainer.scrollHeight,behavior:i.Xbhht})}_0x494218(a,e.content)}function _0x161e86(e,t,n="1"){let i={DqSNN:function(e,t){return e(t)},kLAJB:"/assets/avatar.png",AXfKT:"xVC8gtuyS",sTmKR:function(e,t){return e(t)},IBZLL:function(e,t){return e(t)},WHiLc:function(e,t){return e(t)},NRkuD:"xt8fROB2L",hvQGC:"xRHoYYwoZ",lwnlp:"img",bHnDi:"lazy",YlnQo:"data-message-id",reMSr:"x4rKxFxLl",pyHZq:"xOmVIOA3e"},s=_0x142684(i.AXfKT),a=_0x142684("xMyW2iRSH"),o=i.sTmKR(_0x142684,"xSYcbYqTG"),r=i.IBZLL(_0x142684,"xKljxgVJA"),l=_0x142684("xu4Celbbq"),c=_0x142684("xc4iCj2Gy"),d=i.WHiLc(_0x142684,i.NRkuD),u=_0x142684(i.hvQGC),h=document.createElement(i.lwnlp);switch(s.setAttribute("data-visible","true"),d.classList.add(i.NRkuD),h.loading=i.bHnDi,s.appendChild(o),s.appendChild(r),r.appendChild(u),u.appendChild(l),l.appendChild(c),u.appendChild(a),l.appendChild(d),o.appendChild(h),s.setAttribute(i.YlnQo,t),"1"===e.tag&&a.classList.add(i.reMSr),d.innerText="0s",c.innerText="未知",h.draggable=!1,_0x302ac6&&(_0x302ac6.remove(),_0x302ac6=null),_0x2510d0.sender===e.sender&&s.classList.add(i.pyHZq),n){case"1":_0x494837.messageContainer.appendChild(s);break;case"2":_0xa7e053.appendChild(s),_0x1b78f8+=s.offsetHeight;break;case"3":_0x494837.messageContainer.appendChild(s),_0x406208=!0,_0x494837.messageContainer.scrollTo({top:_0x494837.messageContainer.scrollHeight,behavior:"smooth"}),_0x406208=!1}_0x494218(a,e.content),_0x3320f0(e.sender).then(t=>{let n={HuHTF:function(e,t,n){return e(t,n)}};function s(){let e={};e.data=t,e.type=_0x54583e?"mobile":"desktop",n.HuHTF(_0x518f0b,_0x494837.main,e)}d.innerText=i.DqSNN(_0x26e214,e.timestamp),h.src=t.avatarUrl||i.kLAJB,h.onload=function(){o.classList.add("xWzeTGC6P")},c.onclick=s,o.focusable(!0),o.bindWithCooldown(s),c.innerText=t.name||"未知"}).catch(e=>{console.error(e)})}function _0x253ee1(e,t,n){let i={ixUOl:function(e,t){return e(t)},qjWMl:"暫時還沒有描述哦",eaJaB:"assets/avatar.png",RCINF:function(e,t){return e||t}};_0x494837.signatureLabel.innerHTML=i.ixUOl(_0x12b120,n||i.qjWMl),_0x494837.avatarWrapper.classList.remove("xJd2GT7MI"),_0x494837.avatarLabel.src=e||i.eaJaB,_0x494837.nameLabel.textContent=i.RCINF(t,"未知")}async function _0x4238c6(){let e={CyKdq:function(e,t){return e>t},RHvSM:function(e,t){return e-t},hhBgE:function(e,t){return e*t},RYHGa:function(e,t){return e(t)},HqZtS:"正在初始化應用程序",zZNat:"placeholder",sMHxZ:"在這裡輸入訊息…",Flkyz:"載入中…",HvIgl:"xjS4MkN99",CzBqw:function(e,t){return e+t},LUIZR:"xmKH3ad5R",BskwZ:function(e){return e()},CLBge:"發生未知錯誤",zQgDg:"resize",qxJIq:"disabled",APNtl:function(e,t,n){return e(t,n)},AzPTN:"x5RtiEC9k"};if(_0x3c3b0f)return;console.log(e.HqZtS),_0x494837.roomNameLabel.innerText="未知",_0x494837.searchInput.placeholder="搜尋…",_0x494837.messageInput.setAttribute(e.zZNat,e.sMHxZ),_0x494837.spinnerLabel.innerText=e.Flkyz;let t=_0x2c9e23.get(e.HvIgl);t&&(_0x494837.sidebar.style.width=e.CzBqw(t,"px")),document.body.classList.add(e.LUIZR);let n=_0x2528f0(),i=_0xddd61a();e.BskwZ(_0x1c3d44);try{_0x3320f0(_0x103c35).then(async t=>{(!t.deviceInfo||e.CyKdq(e.RHvSM(Date.now(),t.deviceInfo.lastUpdate),36e5))&&(await _0x50f45a(_0x103c35,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:i.screenWidth+"x"+i.screenHeight+" @"+i.devicePixelRatio+"x"}}),console.log("已上傳裝置信息"))})}catch(s){console.error(e.CLBge,s)}try{function a(){let t=_0x494837.messageContainer.getBoundingClientRect();_0x494837.messageContainer.style.setProperty("--x9LFHiVqv",Number((e.hhBgE(t.height,.6)-24).toFixed(2))+"px"),_0x494837.messageContainer.style.setProperty("--xVizV2ybq",e.RHvSM(e.RYHGa(Number,e.hhBgE(t.height,.72).toFixed(2)),24)+"px")}a(),window.addEventListener(e.zQgDg,a)}catch(o){console.log("設置布局時發生錯誤")}if(_0x494837.searchInput.removeAttribute(e.qxJIq),_0x494837.searchInput.focusable(!0),_0x494837.profileContainer.classList.remove(e.qxJIq),_0x494837.profileContainer.focusable(!0),localStorage.getItem("cvs")!==_0x43a260.current){if(_0x54583e){let r={};r.closeOnEsc=!0,r.closeOnOverlayClick=!0;let l=new _0x2b7a4b(r);l.Overlay.classList.add(e.AzPTN),l.Body.innerHTML='<div class="xa6f2dQXX">更新了什麼</div><div class="x68JrA5Ak">'+_0x43a260.directions+"</div>"}else e.APNtl(_0x3a645b,"更新了什麼",!0).body.innerHTML='<div class="xeUKJgV96">'+_0x43a260.directions+"</div>";localStorage.setItem("cvs",_0x43a260.current)}_0x3c3b0f=!0}function _0x12b120(e){let t={};t.cuild="&lt;",t.NXiHO="&nbsp;",t.zSnNo="<br>";let n=t;return e.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<",n.cuild).replaceAll(">","&gt;").replaceAll(" ",n.NXiHO).replaceAll("\n",n.zSnNo)}function _0x8799c7(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x5b31c2="Structure",_0x4c5ffe;function _0x1c035a(e){var t;let n={IkYMY:function(e,t,n,i){return e(t,n,i)},GNsQI:function(e,t){return e(t)},DIbmk:"xYARRkCjq",Lgsau:function(e,t){return e===t},TwPVb:"privacy",FJJyf:function(e,t){return e(t)},fQlQJ:function(e,t){return e+t},xkQFj:"xVjpzmyej",NRDGk:"disabled",cuSTB:"contenteditable",zzOQD:function(e,t){return e(t)},opfIZ:function(e,t){return e(t)},QyfDP:".x2fP9fkxS.active",KHVpX:"active",gsZbL:"x8VAGH6N2",QFKQA:"true",YIqOx:function(e,t,n,i){return e(t,n,i)},FRmga:function(e,t,n,i,s){return e(t,n,i,s)},UeFsp:"chats",ehlCN:"messages",cBAJx:"timestamp",AupbF:"instant",LIDEB:"xTJA9U7y9",XmRVj:"刪除失敗：",RysDA:"更新失敗：",IyXON:"xF37V7xd0",MqEMY:"time",VaHvI:"green",mWEZb:"xHxVtIAsn",PEGUO:"xPP6DGDrH",YULYT:function(e,t){return e(t)},XrcTK:"xaTPzRSCY",MsWxr:"xtx2Cn8cK",meCch:"xNu1Upzh6",eyQbg:"xU2hUavXh",TQvqv:"行程安排",GUTco:"xTOLrzGN6",sgDKz:function(e,t){return e(t)},qqzVj:"x5FOXvrVK",WckGS:function(e,t){return e(t)},miLQa:"x7ho7YfuM",EZsTS:"xY17x64dw",cvvgi:"xmiEvp5FV",jcLqf:function(e,t){return e(t)},rQHHG:"todos",HuSId:"xScefCkPw",btqbV:"assets/avatar.png",LGBaC:"xPAY7PmDq",IdwSV:function(e,t){return e===t},pvBIT:"hide",EpJnN:"bottom-start",nwGyo:"xrQdSHI2A",CEjlR:"xUdcoAHYM",KKdhr:"xGy5QqsmI",hzWnA:function(e,t){return e(t)},AvomO:"x2fP9fkxS",MmZeL:"xQ65c0Nkc",ROZgh:"xybvM5cRF",YqRdc:"xQkxrD9ZA",TnGNy:function(e){return e()},IpoLb:"center",MlKmE:"nearest"},i=n.hzWnA(_0x142684,n.AvomO),s=_0x142684(n.MmZeL),a=n.opfIZ(_0x142684,n.ROZgh),o=n.YULYT(_0x142684,"xT3Ta8vKw"),r=_0x142684("x6HyfOZS7"),l=_0x142684(n.YqRdc);async function c(){let t={uWqEK:function(e,t,n){return e(t,n)},ylPsL:function(e,t){return e===t},LjYtF:function(e,t){return e===t},Jqmtu:function(e,t,i,s){return n.IkYMY(e,t,i,s)}};if(_0x3c4717!==e.id||_0x54583e){_0x494837.messageInput.innerHTML="",_0x3c4717=e.id,_0x1497d7._m.length=0,_0x1a1f1f=_0x494837.main,_0xa62805=!1;let s=[];e.members.forEach(e=>{_0x3320f0(e).then(t=>{let n={};n.id=e,n.name=t.name,s.push(n)}).catch(e=>{console.error("取得用户名称时发生错误：",e)})}),_0x5b31c2=(e.name||"未知")+" - Structure",document.title=_0x5b31c2,_0x494837.roomNameLabel.innerText=e.name,_0x2df1d0.length=0,_0x4c5ffe&&_0x4c5ffe.remove(),"public"===e.tag?((_0x4c5ffe=n.GNsQI(_0x142684,"xjrgLBAlF")).focusable(!0),_0x4c5ffe.classList.add(n.DIbmk),_0x4c5ffe.textContent="公開",_0x4c5ffe.bindWithCooldown(function(){_0x3a645b("說明",!0).body.innerHTML='<div class="xrrfDPLS2">任何人都能加入這個聊天室</div>'}),_0x494837.statusLabel.appendChild(_0x4c5ffe)):n.Lgsau(e.tag,n.TwPVb)&&((_0x4c5ffe=n.FJJyf(_0x142684,"xjrgLBAlF")).focusable(!0),_0x4c5ffe.classList.add("xxC3C39Oc"),_0x4c5ffe.textContent="私人",_0x4c5ffe.bindWithCooldown(function(){t.uWqEK(_0x3a645b,"說明",!0).body.innerHTML='<div class="xrrfDPLS2">只有受邀人能加入本聊天室</div>'}),_0x494837.statusLabel.appendChild(_0x4c5ffe));let a=new URLSearchParams(window.location.search);if(a.set("r",e.id),window.history.replaceState({},"",n.fQlQJ("?",a.toString())),_0x494837.messageContainer.classList.remove(n.xkQFj),_0x494837.fileInput.removeAttribute(n.NRDGk),_0x494837.attachButton.classList.remove(n.NRDGk),_0x494837.attachButton.focusable(!0),_0x494837.stickerButton.classList.remove("disabled"),_0x494837.stickerButton.focusable(!0),_0x494837.markButton.classList.remove("disabled"),_0x494837.markButton.focusable(!0),_0x494837.markButton.classList.remove("x3zdxRXQ6"),_0x2a5e1e=!1,_0x494837.brushButton.classList.remove(n.NRDGk),_0x494837.brushButton.focusable(!0),_0x494837.messageInput.setAttribute(n.cuSTB,"true"),_0x54583e){let o="2|1|3|0|4".split("|"),r=0;for(;;){switch(o[r++]){case"0":_0x3b6476(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").focusable(!0);continue;case"1":_0x494837._mb_att_btn.focusable(!0);continue;case"2":_0x494837._mb_att_btn.classList.remove(n.NRDGk);continue;case"3":_0x494837.backButton.classList.remove(n.NRDGk);continue;case"4":_0x494837.main.classList.add(n.gsZbL);continue}break}}else n.zzOQD(_0x3b6476,".x2fP9fkxS.active")&&n.opfIZ(_0x3b6476,n.QyfDP).classList.remove("active"),i.classList.add(n.KHVpX);_0x494837.messageInput.setAttribute(n.cuSTB,n.QFKQA),_0x494837.messageInput.focusable(!0),_0x494837.messageContainer.clear(),(_0x302ac6=n.GNsQI(_0x142684,"xqBX9i6rZ")).classList.add("spinner"),_0x302ac6.innerHTML=_0x50c02b,_0x494837.messageContainer.appendChild(_0x302ac6);let l=await b(n.YIqOx(C,n.FRmga($,_0x3c5bcc,n.UeFsp,e.id,n.ehlCN),w(n.cBAJx,"desc"),T(10)));_0x3f36e4=l.docs[9];let c=[];l.forEach(e=>{c.push(e)}),0===c.length&&_0x302ac6&&(_0x302ac6.innerHTML="這裡還沒有訊息，現在就開始聊天吧"),c.reverse(),c.map(e=>{var n=e.data();t.ylPsL(_0x2df1d0.indexOf(e.id),-1)&&(t.LjYtF(n.sender,_0x103c35)?(_0x2df1d0.push(e.id),_0x412b12(n,e.id,"1")):(_0x2df1d0.push(e.id),t.Jqmtu(_0x161e86,n,e.id,"1"))),_0x2510d0=n}),_0x406208=!0,_0x494837.messageContainer.scrollTo({top:_0x494837.messageContainer.scrollHeight,behavior:n.AupbF}),_0x406208=!1}}_0x552f2b(e.id),i.bindWithCooldown(c);let d={};d.id=e.id,d.length=e.size,d.name=e.name||"未知",d.launch=c,d.dom=i,_0x1415f3.push(d),i.appendChild(s),i.appendChild(r),r.appendChild(l);let u=function(){let t={JjmdF:function(e,t){return e(t)},thFuA:n.HuSId,EgUmr:n.btqbV,dYYhN:"xt4GQkVIo",EcFRQ:n.LGBaC,VdEpT:function(e,t,n){return e(t,n)},odWNb:"xb4MnocjO",UxwBC:function(e,t){return e==t},ImTPt:"xyS4vzBWG",ddHZU:function(e,t){return e!==t},whErl:"5|2|3|4|1|0",BnnZl:function(e,t){return n.IdwSV(e,t)},ULtWZ:function(e,t,n,i){return e(t,n,i)},SEZnd:function(e,t,n){return e(t,n)},xlzlY:"xbrV3058R",FVoGy:"xHCo3rIZ7",ZzzXJ:n.pvBIT,NzPmT:function(e,t){return e(t)},MvQQm:n.rQHHG,RApnX:function(e,t,n){return e(t,n)}},s={};s.trigger=l,s.placement=[n.EpJnN,"bottom-end","top-start","top-end"];let a=new _0x469ebf(s);a.Content.classList.add("xoV8hdbgt");let o=n.sgDKz(_0x142684,n.nwGyo),r=_0x142684(n.nwGyo),c=_0x142684("xcoXgMpFW"),d=n.YULYT(_0x142684,n.nwGyo);o.bindWithCooldown(function(){let n={xDMaR:function(e,t){return e(t)},EQUbu:t.thFuA,dtKNE:"xZHdsOFDz",GVFZs:"img",aDuIJ:t.EgUmr,qMBwd:t.dYYhN,EfTwd:function(e,t){return e(t)},Mxntc:"暫時還沒有描述哦"};a.close();let i=t.JjmdF(_0x142684,t.EcFRQ),s;if(_0x54583e){let o={};o.parent=_0x494837.sidebar,o.title="所有成員",(s=new _0x4da2b3(o)).Content.classList.add("xU2hUavXh"),s.Content.appendChild(i)}else(s=t.VdEpT(_0x3a645b,"所有成員",!0)).content.classList.add("lg"),s.content.classList.add(t.odWNb),s.body.appendChild(i);function r(e){_0x3320f0(e).then(e=>{let t={};t.MwwUU="desktop";let a=t,o=n.xDMaR(_0x142684,n.EQUbu),r=n.xDMaR(_0x142684,n.dtKNE),l=document.createElement(n.GVFZs);l.classList.add("xxnnTDIPC"),l.src=e.avatarUrl||n.aDuIJ,l.draggable=!1,l.loading="lazy";let c={};c.action="cache-url",c.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(c),r.appendChild(l);let d=_0x142684("xs8tjkwHJ"),u=_0x142684(n.qMBwd),h=n.EfTwd(_0x142684,"xlKSJ67AP");u.innerText=e.name,h.innerText=e.signature||n.Mxntc,o.focusable(!0),d.appendChild(u),d.appendChild(h),o.appendChild(r),o.appendChild(d),o.bindWithCooldown(function(){if(_0x54583e){let t={};t.data=e,t.type="mobile",_0x518f0b(s.Root,t)}else{s.root.close();let n={};n.data=e,n.type=a.MwwUU,_0x518f0b(_0x494837.main,n)}}),i.appendChild(o)}).catch(e=>{console.error(e)})}let l=0;e.members.forEach(e=>{l++,t.JjmdF(r,e)}),t.UxwBC(l,1)&&i.classList.add(t.ImTPt)}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>查看所有成員',o.classList.add(n.CEjlR),[o,r,d].forEach(e=>{e.focusable(!0)}),d.bindWithCooldown(function(){a.close();let s={};s.text="取消",s.classList=["A5o980bj"],new _0x47f58d({closeOnEsc:!0,closeOnOverlayClick:!0,title:"退出",message:"確定要退出這個聊天室嗎，之後仍可重新加入",buttons:[s,{text:"確定",classList:[n.LIDEB],onClick:async function(){let n=_0x1415f3.findIndex(t=>t.id===e.id);if(t.ddHZU(n,-1))try{let s=t.whErl.split("|"),a=0;for(;;){switch(s[a++]){case"0":t.BnnZl(_0x1415f3.length,0)&&(_0x494837.primaryArea.innerHTML='<div class="xzF3bjGCc">尚未加入任何聊天室</div>');continue;case"1":_0x3c4717===e.id&&(_0x3c4717=null,_0x494837.statusLabel.innerHTML="",_0x494837.roomNameLabel.innerText="未知",_0x494837.messageContainer.clear());continue;case"2":await k(t.ULtWZ(p,_0x3c5bcc,"chats",e.id),{members:y(_0x103c35)});continue;case"3":_0x1415f3.splice(n,1);continue;case"4":i.remove();continue;case"5":await t.SEZnd(k,p(_0x3c5bcc,"users",_0x103c35),{joined:y(e.id)});continue}break}}catch(o){console.error("Error while deleting item:",o)}}}]})}),a.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /></svg>查看行程安排',r.bindWithCooldown(async function(){let i={qzOna:"disabled",txruG:function(e,t,n,i,s,a){return e(t,n,i,s,a)},eVEwM:"todos",RPzqK:function(e,t){return e(t)},xezlf:n.XmRVj,EftUX:n.RysDA,CumjA:function(e,t,i,s){return n.IkYMY(e,t,i,s)},zLucd:"編輯行程",dbojr:"xOjXmYkxE",NhpIe:"input",Czaii:n.IyXON,cUGBF:"date",DVgNO:n.MqEMY,guPzq:"x40AApYkW",VCBCx:"xTIlpY4Et",HvQUh:function(e,t){return n.zzOQD(e,t)},oAodD:n.VaHvI,ftsVq:"x0eVQzH93",FMbEq:function(e,t){return e(t)},QSQyM:n.mWEZb,VBbVf:function(e,t){return n.zzOQD(e,t)},pbQHz:"xHQ4s8VGa",puYIh:function(e,t,n){return e(t,n)},qghJY:n.PEGUO,DjgEB:function(e,t){return n.YULYT(e,t)},EHxBe:n.XrcTK};a.close();let s,o=_0x142684(n.MsWxr),r=_0x142684(n.meCch);if(_0x54583e){let l={};l.parent=_0x494837.sidebar,l.title="行程安排",(s=new _0x4da2b3(l)).Content.classList.add("x6q2Zh2QF"),s.Content.classList.add(n.eyQbg),s.Content.appendChild(o)}else(s=_0x3a645b(n.TQvqv,!0)).content.classList.add("xb4MnocjO"),s.content.classList.add("lg"),s.body.appendChild(o);let c=_0x13b965([]);function d(t,n){let a={DtLPv:function(e,t){return e!==t},tgZVc:i.EftUX,jQiFV:function(e,t,n,s){return i.CumjA(e,t,n,s)},ALUWi:i.zLucd,oWNxd:i.dbojr,uESSE:function(e,t){return i.RPzqK(e,t)},flWtD:"label",LPubW:i.NhpIe,IIgrW:"xYvZ9WF6d",zgnAz:function(e,t){return e(t)},yBDdW:i.Czaii,PfNvZ:"xGuwEx6qN",JZXOd:function(e,t){return i.RPzqK(e,t)},UlQNw:"xGGKUZ7B3",PuHtw:function(e,t){return e(t)},msYwc:i.cUGBF,CVFtn:i.DVgNO,BtBFi:i.guPzq,Tkheo:function(e){return e()}},o=i.RPzqK(_0x142684,i.VCBCx),l=i.HvQUh(_0x142684,"xA9JMbz3o");o.appendChild(l),t.theme===i.oAodD?l.classList.add("x9hGI5hex"):"pink"===t.theme&&l.classList.add(i.ftsVq);let d=i.FMbEq(_0x142684,i.QSQyM);o.appendChild(d);let u=_0x142684("xt4GQkVIo");u.innerHTML=t.name||"未知",d.appendChild(u);let h=i.VBbVf(_0x142684,i.pbQHz);i.puYIh(_0x501374,h,t.description||"忘記加上描述了"),d.appendChild(h);let $=_0xefc425(t.startAt,t.endAt),x=_0x142684(i.qghJY);x.innerText=$,o.appendChild(x);let _=i.DjgEB(_0x142684,"xxChbQgko"),m=i.VBbVf(_0x142684,i.EHxBe);m.innerHTML=_0x4adc12.edit,m.focusable(!0);let b=i.RPzqK(_0x142684,i.EHxBe);b.innerHTML=_0x4adc12.trash,b.focusable(!0),i.puYIh(_0x13b965,[m,b],"horizontal"),b.bindWithCooldown(async function(){o.classList.add(i.qzOna);try{b.focusable(!1),b.classList.add("disabled"),m.focusable(!1),m.classList.add("disabled");await i.RPzqK(f,i.txruG(p,_0x3c5bcc,"chats",e.id,i.eVEwM,n)),console.log("已成功刪除行程："+n),o.remove(),c.removeItem(o)}catch(t){let s="2|0|5|1|3|4".split("|"),a=0;for(;;){switch(s[a++]){case"0":b.classList.remove("disabled");continue;case"1":m.classList.remove("disabled");continue;case"2":b.focusable(!0);continue;case"3":console.error(i.xezlf,t);continue;case"4":o.classList.remove(i.qzOna);continue;case"5":m.focusable(!0);continue}break}}}),_.appendChild(m),_.appendChild(b),o.appendChild(_),o.focusable(!0),c.addItem(o),r.appendChild(o);let v={};v.name=t.name||"未知",v.startAt=t.startAt||17356608e5,v.endAt=t.endAt||17356608e5,v.description=t.description||"";let g=v;m.bindWithCooldown(function(i){i.stopPropagation(),function i(){let o={SkFVx:function(e,t){return e!==t},hVhaX:function(e,t){return a.DtLPv(e,t)},ZHtyi:"disabled",GdgAG:"todos",bxClR:"暫時還沒有描述哦",pVsAs:a.tgZVc},r=a.jQiFV(_0x3a645b,a.ALUWi,!0,s.Root);r.root.Overlay.classList.add(a.oWNxd);let l=a.uESSE(_0x142684,"xGGKUZ7B3"),c="_"+_0x38fd72(12),d=document.createElement(a.flWtD),$=document.createElement(a.LPubW);d.classList.add("xF37V7xd0"),$.classList.add(a.IIgrW),d.htmlFor=c,d.textContent="標題",$.id=c,$.type="text",$.value=g.name,$.maxLength=30,l.appendChild(d),l.appendChild($);let x=a.uESSE(_0x142684,"xGGKUZ7B3"),f="_"+a.zgnAz(_0x38fd72,12),_=document.createElement(a.flWtD),m=document.createElement("textarea");_.classList.add(a.yBDdW),m.classList.add(a.PfNvZ),_.htmlFor=f,_.textContent="描述",m.id=f,m.rows=3,m.value=g.description,m.maxLength=80,x.appendChild(_),x.appendChild(m);let b=a.JZXOd(_0x142684,a.UlQNw);b.classList.add("xFJWlqoGn");let v="_"+a.PuHtw(_0x38fd72,12),C=document.createElement("label"),w=_0x142684("x9ZwavJjj"),L=document.createElement("input"),y=document.createElement(a.LPubW);C.classList.add("xF37V7xd0"),L.classList.add(a.IIgrW),C.htmlFor=v,C.textContent="開始",L.type=a.msYwc,L.id=v,y.classList.add("xYvZ9WF6d"),y.type=a.CVFtn;let T="_"+a.JZXOd(_0x38fd72,12),M=_0x142684("x9ZwavJjj"),E=document.createElement("label"),H=document.createElement("input"),A=document.createElement("input");E.classList.add(a.yBDdW),H.classList.add(a.IIgrW),E.htmlFor=T,E.textContent="結束",H.id=T,H.type="date",A.classList.add("xYvZ9WF6d"),A.type="time";let I=a.PuHtw(_0x142684,a.UlQNw),B=a.JZXOd(_0x142684,a.BtBFi);B.classList.add("xwtdXtpQT"),B.textContent="完成",B.classList.add("disabled");let W={};function R(){o.SkFVx($.value.trim(),"")&&L.value&&y.value&&H.value&&A.value&&(o.hVhaX($.value,W._z)||L.value!==W._a||y.value!==W._b||o.SkFVx(H.value,W._c)||A.value!==W._d||m.value!==W._y)?(B.focusable(!0),B.classList.remove("disabled")):(B.focusable(!1),B.classList.add("disabled"))}W._z=t.name,W._y=t.description;let Y=[$,L,y,H,A,m];if(Y.forEach(e=>{e.oninput=R}),B.bindWithCooldown(async function(){B.classList.add("disabled"),B.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let t=new Date(L.value+"T"+y.value).getTime(),i=new Date(H.value+"T"+A.value).getTime(),s=$.value,a=m.value;Y.forEach(e=>{e.setAttribute("disabled",!0)});let l=p(_0x3c5bcc,"chats",e.id,o.GdgAG,n);try{let c="1|0|2|4|7|5|8|6|3".split("|"),d=0;for(;;){switch(c[d++]){case"0":g.name=s;continue;case"1":let x={};x.endAt=i,x.startAt=t,x.name=s,x.description=a,await k(l,x);continue;case"2":g.description=a;continue;case"3":r.root.close();continue;case"4":g.startAt=t;continue;case"5":u.innerHTML=g.name;continue;case"6":console.log("已成功更新行程："+n);continue;case"7":g.endAt=i;continue;case"8":_0x501374(h,g.description||o.bxClR);continue}break}}catch(f){console.error(o.pVsAs,f),Y.forEach(e=>{e.classList.remove(o.ZHtyi)})}}),w.appendChild(C),w.appendChild(L),w.appendChild(y),M.appendChild(E),M.appendChild(H),M.appendChild(A),r.body.appendChild(l),r.body.appendChild(x),r.body.appendChild(b),r.body.appendChild(I),b.appendChild(w),b.appendChild(M),I.appendChild(B),g.startAt){let D=new Date(g.startAt),O=new Date(g.startAt).toISOString().split("T")[0];console.log(O);let S=D.toTimeString().split(":").slice(0,2).join(":");console.log(O),W._a=O,W._b=S,L.value=O,y.value=S}if(g.endAt){let F=new Date(g.endAt),j=new Date(g.endAt).toISOString().split("T")[0],z=F.toTimeString().split(":").slice(0,2).join(":");W._c=j,W._d=z,H.value=j,A.value=z}a.Tkheo(R),$.focus()}()})}o.appendChild(r);let u=_0x142684(n.GUTco);o.appendChild(u);let h=n.YULYT(_0x142684,"xCgVOK4ur");u.appendChild(h);let _=_0x142684("xtG9t2xuE"),m=n.sgDKz(_0x142684,n.qqzVj),v=_0x142684(n.qqzVj),g=n.WckGS(_0x142684,n.miLQa);_.appendChild(m),_.appendChild(v),_.appendChild(g);let w=!1;m.innerText="編輯模式",v.innerText="預覽模式",_.focusable(!0),h.appendChild(_);let L=_0x142684(n.EZsTS);L.classList.add(n.cvvgi),L.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',L.focusable(!0),_.bindWithCooldown(function(){w?(L.classList.remove("hide"),r.classList.remove(t.xlzlY),_.classList.remove(t.FVoGy),w=!1):(L.classList.add(t.ZzzXJ),r.classList.add("xbrV3058R"),_.classList.add(t.FVoGy),w=!0)},0),L.bindWithCooldown(async function(){let n=t.NzPmT(p,$(_0x3c5bcc,"chats",e.id,t.MvQQm)),i={name:"新的行程",description:"",startAt:Date.now(),endAt:Date.now()};await x(n,i),t.RApnX(d,i,n.id)},1e3),h.appendChild(L),r.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x50c02b+"</div>";let y=await n.jcLqf(b,n.FJJyf(C,$(_0x3c5bcc,"chats",e.id,n.rQHHG)));r.innerHTML='<div class="xmBX2cWRZ">還沒有任何行程，現在就創建一個吧</div>',0!==y.docs.length&&y.forEach(e=>{d(e.data(),e.id)})}),a.Content.appendChild(r),a.Content.appendChild(c),d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-door-exit"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>退出',d.classList.add(n.KKdhr),a.Content.appendChild(d),_0x13b965([o,r,d]),a._setPosition()};if(l.bindWithCooldown(function(e){e.stopPropagation(),u()}),l.focusable(!0),i.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',s.appendChild(a),a.innerText=e.name||"未知",t=e.description?e.description:n.IdwSV(e.size,0)?"沒有訊息":_0x8799c7(e.size)+" 則訊息",o.innerText=t,s.appendChild(o),_0x494837.primaryArea.appendChild(i),e.focus){n.TnGNy(c);let h={};h.behavior="smooth",h.block=n.IpoLb,h.inline=n.MlKmE,i.scrollIntoView(h)}}function _0x26e214(e){let t={};t.iYBQW=function(e,t){return e/t},t.teney=function(e,t){return e<t},t.OcQxz=function(e,t){return e/t};let n=t,i=Math.max(Math.floor(n.iYBQW(Date.now()-e,1e3)),0);return n.teney(i,60)?i+" 秒前":i<3600?Math.floor(n.OcQxz(i,60))+" 分鐘前":n.teney(i,86400)?Math.floor(i/3600)+" 小時前":i<2592e3?Math.floor(n.iYBQW(i,86400))+" 天前":i<31536e3?Math.floor(i/2592e3)+" 個月前":_0x8799c7(Math.floor(n.OcQxz(i,31536e3)))+" 年前"}function _0x4cf66d(e){let t={};t.NtBlN=function(e,t){return e>=t},t.LOHoC=function(e,t){return e-t};let n=t,i=["B","KB","MB","GB","TB","PB"],s=e,a=0;for(;n.NtBlN(s,1024)&&a<n.LOHoC(i.length,1);)s/=1024,a++;return s.toFixed(2)+" "+i[a]}async function _0x50f45a(e,t){let n={iNkBB:function(e,t,n,i){return e(t,n,i)},nHAni:"users",KVKrG:"Failed to update user profile:"};try{let i=n.iNkBB(p,_0x3c5bcc,n.nHAni,e);if(t){await k(i,t),_0xe30762[e]&&(_0xe30762[e]={..._0xe30762[e],...t});let s=sessionStorage.getItem("upf_"+e);if(s){let a={...JSON.parse(s),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(a))}}else delete _0xe30762[e],sessionStorage.removeItem("upf_"+e);return!0}catch(o){return console.error(n.KVKrG,o),!1}}async function _0x3320f0(e){let t={kyQjS:"users",ZtTUl:function(e,t){return e(t)}};if(_0xe30762[e])return _0xe30762[e];let n=sessionStorage.getItem("upf_"+e);if(n){let i=JSON.parse(n);return _0xe30762[e]=i,i}try{let s=await t.ZtTUl(_,p(_0x3c5bcc,t.kyQjS,e));if(!s.exists())return null;{let a=s.data();return _0xe30762[e]=a,sessionStorage.setItem("upf_"+e,JSON.stringify(a)),a}}catch(o){throw o}}async function _0x31e608(e){if(_0x31eb29[e])return _0x31eb29[e];let t=sessionStorage.getItem("rpf_"+e);if(t){let n=JSON.parse(t);return _0x31eb29[e]=n,n}try{let i=await _(({dQAtA:function(e,t,n,i){return e(t,n,i)}}).dQAtA(p,_0x3c5bcc,"chats",e));if(!i.exists())return null;{let s=i.data();return _0xe30762[e]=s,sessionStorage.setItem("rpf_"+e,JSON.stringify(s)),s}}catch(a){throw a}}async function _0x2df202(e,t){let n={DJRgF:function(e,t){return e===t},QpQdn:function(e,t,n,i){return e(t,n,i)},VOXhM:"嘗試加載更多訊息",SZISa:function(e,t){return e!==t},FUuGz:function(e,t){return e(t)},sLmAW:function(e,t,n,i,s){return e(t,n,i,s)},vHETS:"chats",uieCW:function(e,t,n){return e(t,n)},mQZju:"timestamp",ispSK:"desc",IZJJE:function(e,t){return e===t},BBlZg:function(e,t){return e-t},RpBZf:"instant"};if(console.log(n.VOXhM),n.SZISa(_0x3f36e4,void 0)){_0x406208=!0;let i=await n.FUuGz(b,n.sLmAW(C,$(_0x3c5bcc,n.vHETS,e,"messages"),n.uieCW(w,n.mQZju,n.ispSK),v(_0x3f36e4),T(10)));if(console.log(i.docs.length+" messages left"),n.IZJJE(i.docs.length,0))return;_0x3f36e4=10===i.docs.length?i.docs[9]:void 0;let s=[];i.forEach(e=>{s.push(e)}),s.reverse();let a=0;_0xa7e053=_0x142684("xWIHJooz8"),_0x2510d0="";let o=_0x494837.messageContainer.firstChild;_0x494837.messageContainer.insertBefore(_0xa7e053,o);let r=_0x494837.messageContainer.scrollHeight;s.map(e=>{a++;let t=e.data();n.DJRgF(_0x2df1d0.indexOf(e.id),-1)&&(t.sender===_0x103c35?(_0x2df1d0.push(e.id),_0x412b12(t,e.id,"2")):(_0x2df1d0.push(e.id),n.QpQdn(_0x161e86,t,e.id,"2")),_0x2510d0=t)});let l=_0x494837.messageContainer.scrollHeight;_0x406208=!0,_0x1b78f8=n.BBlZg(l,r);let c={};c.top=_0x1b78f8,c.left=0,c.behavior=n.RpBZf,_0x494837.messageContainer.scrollTo(c),_0x1b78f8=0,setTimeout(function(){_0x406208=!1},500)}else _0x406208=!1}let _0x8ee27a='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x552f2b(e){let t={LQeLO:function(e,t){return e(t)},aKuxV:"xl4gtQk5f",NXDbg:".xMyW2iRSH",ICNCN:"An unknown error occurred",hlJKo:function(e,t,n,i){return e(t,n,i)},aWgLh:"chats"};t.hlJKo(g,$(_0x3c5bcc,t.aWgLh,e,"messages"),n=>{let i={Vranc:function(e,t){return e===t},YRKqN:"hidden",PhKhl:function(e,t,n,i){return e(t,n,i)},ToNVi:"removed",VXXlj:function(e,n){return t.LQeLO(e,n)},XNTOe:"{sid}",obgDt:t.aKuxV,NEIww:t.NXDbg,xrLUV:function(e,t,n){return e(t,n)},tPNxf:"修改訊息時發生未知錯誤"};n.docChanges().forEach(t=>{if(_0x3c4717!==e)return;let n=t.doc.data();switch(t.type){case"added":n.sender!==_0x103c35&&i.Vranc(_0x2df1d0.indexOf(t.doc.id),-1)&&!t.doc.metadata.fromCache&&(document.visibilityState===i.YRKqN&&(_0x5cb62a++,document.title="("+_0x5cb62a+") "+_0x5b31c2),_0x2df1d0.push(t.doc.id),i.PhKhl(_0x161e86,n,t.doc.id,"3"));break;case i.ToNVi:let s=i.VXXlj(_0x3b6476,_0x8ee27a.replace(i.XNTOe,t.doc.id));try{s.classList.add(i.obgDt),setTimeout(function(){s.remove()},3e3)}catch(a){console.log(a)}break;case"modified":try{let o=i.VXXlj(_0x3b6476,_0x8ee27a.replace(i.XNTOe,t.doc.id)).querySelector(i.NEIww);o?(o.clear(),i.xrLUV(_0x494218,o,n.content)):console.log("找不到匹配的訊息容器")}catch(r){console.log(i.tPNxf,r)}}})},e=>{console.error(t.ICNCN,e)})}function _0x48929b(){let e={FaZyG:"disabled",xlZlE:"4|1|2|0|3",cDVjO:function(e,t,n){return e(t,n)},aHbyL:"密碼錯誤，請重新嘗試",jsIrt:"網路請求錯誤，請檢查網路連線",veBYl:function(e,t,n,i){return e(t,n,i)},QDYKX:function(e,t){return e(t)},WZIQr:function(e,t){return e===t},fUzGP:"xrYn5ZY3v",RCnHW:"actionbtn xYIKBnbHS",xxGZV:"電子郵件登入",SnbHu:function(e,t){return e(t)},OKXQd:"xGGKUZ7B3",hGwxo:"xF37V7xd0",OqskY:"xYvZ9WF6d",LivlZ:"div",RWqPZ:"5px",bDjhg:function(e,t){return e(t)},HgHVs:"xPT7rhLdL"},t=e.QDYKX(_0x142684,e.fUzGP);t.innerText="歡迎回來";let s=e.QDYKX(_0x142684,"x4V8Jejrz");s.innerText="登入帳號後即可使用我們的服務";let o=_0x142684("xRRuA0Z3S"),r=document.createElement("div");r.id="x7BYgkdiJ",r.focusable(!0);let l='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>使用 Google 登入';r.innerHTML=l;let c=document.createElement("div");c.focusable(!0),c.id="xBnuWNG6V",c.className="actionbtn xYIKBnbHS",r.className=e.RCnHW,c.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>使用 電子郵件 登入',o.appendChild(r),o.appendChild(c);let d=new _0x5a3ff3;d.Content.classList.add("bt"),d.Root.classList.add("xCmJYJQtp"),d.Content.classList.add("xySmLVr4a"),d.Content.appendChild(t),d.Content.appendChild(s),d.Content.appendChild(o);let u=_0x142684(e.fUzGP);u.classList.add("lf"),u.classList.add("gc");let h=e.QDYKX(_0x142684,"xZyuwxZPZ");h.focusable(!0),h.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',u.appendChild(h);let $=e.QDYKX(_0x142684,"x6Y89FynP");$.innerText=e.xxGZV,u.appendChild($);let x=e.SnbHu(_0x142684,"xWDUelLWA");x.classList.add("xwxpzc3QF"),d.Content.appendChild(u),d.Content.appendChild(x);let p=document.createElement("div");x.appendChild(p),p.classList.add("xZdL9CF5M");let f=document.createElement("div");f.classList.add(e.OKXQd),p.appendChild(f);let _=document.createElement("label");_.classList.add(e.hGwxo),_.innerText="電子郵件地址",f.appendChild(_);let m=document.createElement("input");m.classList.add(e.OqskY),m.autocomplete="off",m.type="text",m.disabled=!0,m.spellcheck=!1,f.appendChild(m);let b=document.createElement(e.LivlZ);b.classList.add("xGGKUZ7B3"),b.style.marginTop="10px",b.style.marginBottom=e.RWqPZ,p.appendChild(b);let v=document.createElement("label");v.classList.add("xF37V7xd0"),v.innerText="密碼",b.appendChild(v);let g=document.createElement("input");g.classList.add(e.OqskY),g.type="password",g.disabled=!0,g.autocomplete="off",b.appendChild(g);let C=document.createElement(e.LivlZ);C.classList.add("xw0IanPrC"),p.appendChild(C);let w=document.createElement("div");w.innerText="送出",w.classList.add(e.FaZyG),w.classList.add("x40AApYkW"),p.appendChild(w);let L=e.bDjhg(_0x142684,e.HgHVs);L.focusable(!0),L.innerHTML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12l14 0"></path><path d="M5 12l6 6"></path><path d="M5 12l6 -6"></path></svg>返回上一頁',L.bindWithCooldown(function(){d.Content.classList.remove("xA7y7OLtP"),w.classList.add(e.FaZyG),w.focusable(!1),m.disabled=!0,g.disabled=!0}),p.appendChild(L),h.bindWithCooldown(function(){let t=e.xlZlE.split("|"),n=0;for(;;){switch(t[n++]){case"0":m.disabled=!0;continue;case"1":w.classList.add(e.FaZyG);continue;case"2":w.focusable(!1);continue;case"3":g.disabled=!0;continue;case"4":d.Content.classList.remove("xA7y7OLtP");continue}break}});let y=!0,k=function(){let t={};t.yMCpA=e.aHbyL,t.TlTpq="找不到這個帳號，請重新嘗試",t.eaEHt=e.jsIrt,t.ZlAye="發生未知的錯誤",t.iQMrk=e.FaZyG;let n=t;y&&(y=!1,h.classList.add(e.FaZyG),h.focusable(!1),C.classList.remove("show"),w.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,g.disabled=!0,w.classList.add(e.FaZyG),w.focusable(!1),w.blur(),L.classList.add(e.FaZyG),L.focusable(!1),e.veBYl(a,_0x588d2e,m.value,g.value).then(e=>{try{d.close(),α.close()}catch(t){}let n=e.user;console.log("User is logged in: ",n)}).catch(t=>{e.cDVjO(setTimeout,function(){let e=t.code;switch(C.classList.add("show"),e){case"auth/invalid-login-credentials":C.innerText=n.yMCpA;break;case"auth/invalid-email":C.innerText=n.TlTpq;break;case"auth/network-request-failed":C.innerText=n.eaEHt;break;default:C.innerText=n.ZlAye}w.innerHTML="送出",w.classList.remove("disabled"),w.focusable(!0),L.classList.remove(n.iQMrk),L.focusable(!0),m.disabled=!1,g.disabled=!1,h.classList.remove(n.iQMrk),h.focusable(!0),y=!0},3e3)}))};g.onkeydown=function(e){13===e.keyCode&&k()},w.bindWithCooldown(k),r.bindWithCooldown(function(){r.classList.add("disabled"),c.classList.add("disabled"),r.innerHTML='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">等待中…</span>\n						</div>',r.focusable(!1),c.focusable(!1),e.cDVjO(n,_0x588d2e,_0x5b6b8e).then(t=>{i.credentialFromResult(t).accessToken;_0x103c35=t.user.uid,e.QDYKX(_0x3320f0,_0x103c35).then(e=>{try{_0x253ee1(e.avatarUrl,e.name,e.signature)}catch(t){console.error("無法設置")}d.close()}).catch(e=>{console.error(e)})}).catch(t=>{e.WZIQr(t.code,"auth/popup-closed-by-user")&&(r.classList.remove(e.FaZyG),c.classList.remove("disabled"),r.focusable(!0),c.focusable(!0),r.innerHTML=l)})}),c.bindWithCooldown(function(){d.Content.classList.add("xA7y7OLtP"),m.disabled=!1,g.disabled=!1,w.focusable(!0),w.classList.remove(e.FaZyG),m.focus()})}function _0x3b4d9f(e="",t="",...n){let i={HTBrI:function(e,t){return e!==t},AzgEX:function(e,t){return e!==t},ZxLVb:"disabled",kiuec:function(e,t){return e===t},mQxXI:function(e,t){return e(t)},ACqUm:function(e,t,n,i){return e(t,n,i)},OmHsD:function(e,t,n){return e(t,n)},OvoQf:function(e,t,n,i){return e(t,n,i)},iAQLp:function(e,t){return e(t)},FcSsM:"xMCbxIsn5",IxbFW:"x6Y89FynP",oUiEB:"編輯個人資料",bDLXb:"hidden",ILMhN:"true",yXYUF:"_Jy2eOVG7",UtHhM:"file",guNUG:"label",oQcmi:"_rJvAjH9O",RCmak:"off",OBORz:"xF37V7xd0",tdkJb:"_fM6Qcf9q",uVVVw:"xGuwEx6qN",IOUHk:"x40AApYkW"},s={};s.closeOnEsc=!0,s.closeOnOverlayClick=!0,s.excludeElements=n;let a=new _0x5a3ff3(s);a.Root.classList.add(i.FcSsM),a.Content.style.padding="0";let o=_0x142684("xrYn5ZY3v");o.classList.add("lf");let r=_0x142684(i.IxbFW);r.innerText=i.oUiEB,o.appendChild(r);let l=_0x142684("xvb5soWNa");l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',a.close=a.close.bind(a),l.bindWithCooldown(a.close),o.appendChild(l),a.Content.appendChild(o);let c=i.iAQLp(_0x142684,"xWDUelLWA");a.Content.appendChild(c);let d=document.createElement("input");d.setAttribute(i.bDLXb,i.ILMhN),d.id=i.yXYUF,d.type=i.UtHhM;let u=i.mQxXI(_0x142684,"xGGKUZ7B3"),h=document.createElement(i.guNUG);h.innerText="暱稱",h.classList.add("xF37V7xd0"),h.htmlFor=i.oQcmi;let $=document.createElement("input");$.value=e,$.classList.add("xYvZ9WF6d"),$.id=i.oQcmi,$.type="text",$.maxLength="20",$.autocomplete=i.RCmak,$.spellcheck=!1,c.appendChild(u),u.appendChild(h),u.appendChild($);let f=_0x142684("xGGKUZ7B3"),m=document.createElement(i.guNUG);m.innerText="描述",m.classList.add(i.OBORz),m.htmlFor=i.tdkJb;let b=document.createElement("textarea");b.maxLength="80",b.value=t,b.classList.add(i.uVVVw),b.id="_fM6Qcf9q",b.rows="3",b.maxLength="50",b.autocomplete="off",b.spellcheck=!1,c.appendChild(f),f.appendChild(m),f.appendChild(b);let v=_0x142684(i.IOUHk);function g(){i.HTBrI(b.value,t)||i.AzgEX($.value,e)?(v.classList.remove(i.ZxLVb),v.focusable(!0)):(v.classList.add("disabled"),v.focusable(!1))}async function C(){v.classList.add(i.ZxLVb),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),$.disabled=!0,b.disabled=!0,d.disabled=!0;let e=$.value,t=b.value.trim();if((await i.mQxXI(_,i.ACqUm(p,_0x3c5bcc,"users",_0x103c35))).exists()){let n={};n.name=e,n.signature=t,await i.OmHsD(_0x50f45a,_0x103c35,n)}else await i.OmHsD(x,i.OvoQf(p,_0x3c5bcc,"users",_0x103c35),{name:e,signature:t,id:_0x103c35,joined:[],deviceInfo:""}),_0x494837.primaryArea.innerHTML='<div class="xzF3bjGCc">重新載入後方可完整更新您的資料</div>';if(_0x494837.nameLabel.innerText=e,_0x494837.signatureLabel.innerHTML=i.mQxXI(_0x12b120,t||"暫時還沒有描述哦"),_0x1497d7.state){let s="2|3|1|0|4".split("|"),o=0;for(;;){switch(s[o++]){case"0":_0x1497d7._b.innerHTML=i.mQxXI(_0x40a7ea,i.iAQLp(_0x12b120,t))||"暫時還沒有描述哦";continue;case"1":_0x1497d7._a.innerText=e;continue;case"2":_0x1497d7._n=e;continue;case"3":_0x1497d7._d=t;continue;case"4":_0x1497d7._m.forEach(t=>{i.kiuec(t.userId,_0x103c35)&&(t.dom.textContent="@"+e)});continue}break}}a.close()}v.innerText="完成",v.classList.add(i.ZxLVb),v.style.marginTop="0",c.appendChild(v),b.oninput=g,$.oninput=g,v.bindWithCooldown(C),$.focus()}async function _0x12dc9e(e,t){let n=await b(({QBcdx:function(e,t,n,i,s){return e(t,n,i,s)}}).QBcdx($,_0x3c5bcc,"chats",e.id,"messages"));if(!_0x1415f3.some(t=>t.id===e.id)){let i={};i.name=e.name,i.id=e.id,i.type=e.type,i.tag=e.tag,i.description=e.description,i.size=n.size,i.members=e.members,i.focus=t,i.identity=e.identity,_0x1c035a(i)}}async function _0x1c3d44(){let e={CjcqB:"xuGldtFot",FrbWf:function(e,t){return e(t)},LnZFj:function(e,t,n,i){return e(t,n,i)},FjXbt:function(e,t){return e>t}};_0x494837.primaryArea.classList.add(e.CjcqB);let t=(await e.FrbWf(_,e.LnZFj(p,_0x3c5bcc,"users",_0x103c35))).data(),n=new URLSearchParams(window.location.search).get("r"),i=t.joined||[];e.FjXbt(i.length,0)?t.joined.map(async e=>{try{_0x31e608(e).then(async t=>{let i={};i.id=e,i.name=t.name,i.type=t.type,i.tag=t.tag,i.plugins=t.plugins,i.members=t.members,i.description=t.description,i.identity=t.identity,_0x12dc9e(i,n===e)})}catch(t){console.error("Error fetching document for ID:",e,t)}}):_0x494837.primaryArea.innerHTML='<div class="xzF3bjGCc">尚未加入任何聊天室</div>'}s(_0x588d2e,e=>{let t={EDoVc:function(e){return e()}};e?(_0x3320f0(_0x103c35=e.uid).then(e=>{if(!e){_0x3b4d9f();return}_0x253ee1(e.avatarUrl,e.name,e.signature)}).catch(e=>{console.error(e),_0x253ee1()}),t.EDoVc(_0x4238c6)):(_0x103c35="",_0x48929b())});let _0x70f85f={};_0x70f85f.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x70f85f.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x70f85f.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x70f85f.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x70f85f.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x3f0b87=_0x70f85f;_0x494837.fileInput.onchange=async function(e){let t={nOeoi:"上傳遭中斷",BKUxX:function(e,t){return e*t},dnDtY:function(e,t){return e(t)},BVVRz:"chats",sGmvT:function(e,t,n){return e(t,n)},COpEh:"xrYn5ZY3v",VhLzb:"xIOucKmLX",dSkpm:"xvb5soWNa",zoBpA:function(e,t){return e>t},xiUjr:"4|0|3|1|2",HLlWF:"上傳失敗",zmsuG:"div",leeen:"xCECpHDwZ",UUIWe:"xty9qDHrl",BvsoP:"xIEj1ZAnA",wchAf:"image/",eeYtQ:"< image {u}",PCPQi:"video/",GuqXG:"< video {u}",fDYET:"application/zip",TaFCX:"application/x-rar-compressed",qWhuj:"application/vnd.rar",tkqIs:function(e,t){return e===t},iVYAr:"xsoLox5sj",LTWWq:"xk0osKWCK",tkQzJ:"state_changed"},n=e.target.files[0];if(!n)return;let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let s=new _0x5a3ff3(i);s.Overlay.classList.add("xOjXmYkxE"),s.Lock=!0;let a=t.dnDtY(_0x142684,t.COpEh);a.classList.add("lf");let o=_0x142684("xWDUelLWA");o.classList.add(t.VhLzb),s.Content.appendChild(a),s.Content.appendChild(o),s.Content.classList.add("gt");let r=t.dnDtY(_0x142684,"x6Y89FynP"),u=_0x142684("xujSSErs5");a.appendChild(r),o.appendChild(u);let h=t.dnDtY(_0x142684,t.dSkpm);if(h.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',h.focusable(!0),a.appendChild(h),t.zoBpA(n.size,52428800)){let f=t.xiUjr.split("|"),_=0;for(;;){switch(f[_++]){case"0":u.innerText="這個文件有 "+_0x4cf66d(n.size)+"，我們無法負擔";continue;case"1":s.Lock=!1;continue;case"2":return;case"3":h.onclick=function(){_0x494837.fileInput.value="",s.close.bind(s)()};continue;case"4":r.innerText=t.HLlWF;continue}break}}r.innerText="上傳中",u.innerText="正在上傳中，請耐心等待";let m=document.createElement(t.zmsuG);m.classList.add(t.leeen),m.focusable(!0),o.appendChild(m);let b=document.createElement("div");b.classList.add(t.UUIWe),m.appendChild(b);let v=document.createElement("div");v.classList.add(t.BvsoP);let g=String(n.type),C="",w="";g.startsWith(t.wchAf)?(C=_0x3f0b87.image,w=t.eeYtQ):g.startsWith(t.PCPQi)?(C=_0x3f0b87.video,w=t.GuqXG):g.startsWith("audio/")?(C=_0x3f0b87.audio,w="< audio {u}"):-1!==["application/x-zip-compressed",t.fDYET,t.TaFCX,t.qWhuj,"application/x-compressed"].indexOf(g)?(C=_0x3f0b87.archive,w="< other {u}"):t.tkqIs(g,"application/pdf")?(C=_0x3f0b87.others,w="< pdf {u}"):(C=_0x3f0b87.others,w="< other {u}"),v.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+C+"</svg>",b.appendChild(v);let L=document.createElement(t.zmsuG);L.classList.add("xxs4n9nhX"),b.appendChild(L),L.innerHTML='<div class="xTGGn7ABj">'.concat(n.name).concat('</div><div class="xtyaQiCLO">'+t.dnDtY(_0x4cf66d,n.size)+"</div>"),b.appendChild(L);let y=document.createElement(t.zmsuG);y.classList.add(t.iVYAr),b.appendChild(y);let k=document.createElement("div");k.classList.add(t.LTWWq),y.appendChild(k);let T="";try{T=t.dnDtY(_0x38fd72,12)+"-"+n.name}catch(M){console.log("生成文件名時發生未知錯誤",M)}let E=l(_0x5c1e5c,"uploads/"+_0x3c4717+"/attachment/"+T),H=c(E,n);h.onclick=function(){r.innerText=t.nOeoi,u.innerText="已取消上傳",s.Lock=!1,H.cancel(),_0x494837.fileInput.value="",s.close()},H.on(t.tkQzJ,e=>{let n=t.BKUxX(e.bytesTransferred/e.totalBytes,100);k.style.width=n+"%"},e=>{console.log(e)},async()=>{let e=await d(H.snapshot.ref),n="";n=w.replace("{u}",e);let i=t.dnDtY(p,$(_0x3c5bcc,t.BVVRz,_0x3c4717,"messages"));await t.sGmvT(x,i,{sender:_0x103c35,content:n,timestamp:Date.now()});let a={};a.content=n,_0x412b12(a,i.id,"3"),_0x494837.fileInput.value="",m.remove(),r.innerText="上傳完成",u.innerText="這個文件已經成功上傳了",h.onclick=()=>{},s.Lock=!1,h.bindWithCooldown(function(){s.close()})})},document.addEventListener("visibilitychange",function(){let e={};e.CyARt=function(e,t){return e===t},e.FAxBd="visible",e.qWxKy="已重新聚焦 清除未讀訊息數";let t=e;t.CyARt(document.visibilityState,t.FAxBd)&&(console.log(t.qWxKy),document.title=_0x5b31c2,_0x5cb62a=0)}),_0x494837.searchInput.oninput=function(){let e={};e.jPjVO=function(e,t){return e!==t};let t=_0x494837.searchInput.value.toLowerCase().trim();e.jPjVO(t,"")?_0x1415f3.forEach(e=>{e.name.toLowerCase().includes(t)?e.dom.classList.remove("hide"):e.dom.classList.add("hide")}):_0x1415f3.forEach(e=>{e.dom.classList.remove("hide")})},_0x494837.messageContainer.addEventListener("scroll",function(){let e={};e.SHQeA=function(e,t){return e!==t},e.PzsLg=function(e,t){return e<t};let t=e,n=_0x494837.messageContainer.scrollTop;t.SHQeA(_0x103c35,"")&&t.SHQeA(_0x3c4717,"")&&t.PzsLg(n,120)&&!_0x406208&&(_0xa62805=!0,_0x2df202(_0x3c4717))}),_0x494837.messageInput.oninput=function(){let e={};e.PowgC=function(e,t){return e===t},e.MFnCa="disabled";let t=e,n=_0x494837.messageInput.childNodes;1==n.length&&t.PowgC(n[0].nodeName,"BR")&&_0x494837.messageInput.clear(),""!==_0x494837.messageInput.innerText.trim()?(_0x494837.sendButton.classList.remove(t.MFnCa),_0x494837.sendButton.focusable(!0)):(_0x494837.sendButton.classList.add("disabled"),_0x494837.sendButton.focusable(!1))},_0x494837.messageInput.onfocus=function(){let e={};e.DgAev="xYIbDcl9T",document.body.classList.add(e.DgAev)},_0x494837.messageInput.onblur=function(){let e={};e.ouNSb="xYIbDcl9T",document.body.classList.remove(e.ouNSb)},_0x494837.messageInput.onpaste=function(e){let t={dVbUR:"insertHTML",JzmRF:function(e,t){return e(t)}};e.preventDefault(),document.execCommand(t.dVbUR,!0,t.JzmRF(_0x12b120,(e.clipboardData||window.Clipboard).getData("text/plain")))},_0x494837.messageInput.ondrop=function(e){let t={};t.NGYqL="text/plain",t.vnVNg="insertHTML";let n=t;e.preventDefault();let i=e.dataTransfer.getData(n.NGYqL);e.target.focus(),document.execCommand(n.vnVNg,!0,_0x12b120(i))},_0x494837.messageInput.oncopy=function(e){let t={};t.wZGcT="text/plain",e.preventDefault();var n=window.getSelection().toString();e.clipboardData.setData(t.wZGcT,n)},_0x494837.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x54583e||e.shiftKey||(e.preventDefault(),({ZljcJ:function(e){return e()}}).ZljcJ(_0x5717f1));break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x494837.sendButton.bindWithCooldown(_0x5717f1),document.onkeydown=function(e){let t={};t.FiFKI=function(e,t){return e!=t},t.RdiZn="INPUT";let n=t;switch(e.keyCode){case 191:let i=document.activeElement;n.FiFKI(i,_0x494837.messageInput)&&i!=_0x494837.searchInput&&n.FiFKI(i.tagName.toUpperCase(),n.RdiZn)&&!i.classList.contains("xGuwEx6qN")&&!i.classList.contains("xYvZ9WF6d")&&(e.preventDefault(),_0x494837.messageInput.focus());break;case 75:e.ctrlKey&&_0x3c3b0f&&(e.preventDefault(),_0x494837.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x494837.backButton.bindWithCooldown(function(){let e={};e.aUbed="x8VAGH6N2",e.yeLfb="Structure",e.wjfjo="true";let t=e;_0x1a1f1f=_0x494837.sidebar,_0x494837.backButton.classList.add("disabled"),_0x494837._mb_att_btn.classList.add("disabled");let n=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x494837.main.classList.remove(t.aUbed),_0x406208=!0,_0x494837.messageContainer.clear(),_0x406208=!1,_0x3c4717="",_0x5b31c2=t.yeLfb,document.title=_0x5b31c2,_0x494837.messageInput.clear(),_0x494837.messageInput.setAttribute("contenteditable",t.wjfjo),_0x494837.messageInput.focusable(!1),_0x494837.sendButton.classList.add("disabled"),_0x494837.sendButton.focusable(!1)}),_0x494837.profileContainer.bindWithCooldown(function(){let e={rWXhh:"disabled",fYqGi:function(e,t){return e===t},KAYDi:function(e){return e()},QWFnO:function(e,t){return e!==t},wOorI:function(e){return e()},wstIY:function(e,t,n,i){return e(t,n,i)},ExVrN:"已經加入了，不用再加入",UWyBZ:function(e,t,n){return e(t,n)},wHFkf:"xGGKUZ7B3",iShkj:"xlEirFRi3",itoFi:function(e,t){return e(t)},ENhOu:"label",SGpAQ:"input",JwNFj:"x4qSHIItt",QMLpD:"off",nDjEq:"xYvZ9WF6d",oJnHl:"xw0IanPrC",KZZgw:function(e,t){return e(t)},WeRHH:"xJd2GT7MI",hGcSM:"top",UKsWI:"xLhiIL2Wm",GPWpJ:"xrQdSHI2A"},t={};t.trigger=_0x494837.profileContainer,t.placement=e.hGcSM;let n=new _0x469ebf(t);n.Content.classList.add(e.UKsWI),_0x494837.profileContainer.classList.add("x9EnCPd4S");let i=_0x142684("xrQdSHI2A");i.focusable(!0),i.innerHTML='<svg style="min-width: 24px" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 9h8" /><path d="M8 13h6" /><path d="M12.01 18.594l-4.01 2.406v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v5.5" /><path d="M16 19h6" /><path d="M19 16v6" /></svg>加入聊天室',i.bindWithCooldown(function(){let t={hgRex:function(t,n,i,s){return e.wstIY(t,n,i,s)},IAbSd:e.ExVrN,umgyp:e.rWXhh,ejsUc:function(e,t,n){return e(t,n)},KNcfD:"chats",vuJQi:"jid",wBLsc:function(e){return e()}};n.close();let i=e.UWyBZ(_0x3a645b,"加入聊天室",!0);i.Root.classList.add("xUhQpBm2v");let s=_0x142684(e.wHFkf);s.classList.add(e.iShkj);let a="_"+e.itoFi(_0x38fd72,12),o=document.createElement(e.ENhOu);o.textContent="邀請碼",o.htmlFor=a,o.classList.add("xF37V7xd0");let r=document.createElement(e.SGpAQ);r.classList.add(e.JwNFj),r.id=a,r.autocomplete="off",r.autocorrect=e.QMLpD,r.maxLength="8",r.classList.add("xYvZ9WF6d"),r.classList.add(e.nDjEq),s.appendChild(o),s.appendChild(r);let l=_0x142684(e.oJnHl),c=e.KZZgw(_0x142684,"x40AApYkW");c.classList.add("disabled"),c.textContent="送出";let d=e.rWXhh;async function u(){let e={sqcwT:function(e,n,i,s){return t.hgRex(e,n,i,s)},DcIqg:function(e,t){return e(t)},uvlzN:"smooth",ccdue:"nearest",BzuDw:t.IAbSd};i.root.Lock=!0,i.closebtn.classList.add("disabled"),i.closebtn.focusable(!1),l.classList.remove("show"),c.classList.add(t.umgyp),r.setAttribute("disabled",!0),c.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let n,s=await b(t.ejsUc(C,$(_0x3c5bcc,t.KNcfD),m(t.vuJQi,"==",r.value.trim())));s.empty?setTimeout(function(){i.root.Lock=!1,i.closebtn.classList.remove("disabled"),i.closebtn.focusable(!0),l.classList.add("show"),l.innerText="無效的邀請碼，請重新嘗試",r.removeAttribute("disabled"),c.classList.remove("disabled"),c.innerHTML="送出"},3e3):(i.root.Lock=!1,i.root.close());let a=[];s.forEach(e=>{let t={};t.id=e.id,a.push(t)}),a.forEach(async t=>{let n=_0x1415f3.find(e=>e.id===t.id);if(n){if(1===a.length){let i={};i.behavior=e.uvlzN,i.block="center",i.inline=e.ccdue,n.dom.scrollIntoView(i),n.launch()}console.log(e.BzuDw)}else await k(e.sqcwT(p,_0x3c5bcc,"users",_0x103c35),{joined:L(t.id)}),await k(p(_0x3c5bcc,"chats",t.id),{members:L(_0x103c35)}),sessionStorage.removeItem("rpf_"+t.id),e.DcIqg(_0x31e608,t.id).then(async e=>{let n={};n.id=t.id,n.name=e.name,n.type=e.type,n.tag=e.tag,n.plugins=e.plugins,n.members=e.members,n.description=e.description,n.identity=e.identity,_0x12dc9e(n,!0),console.log("成功加入",t.id)})})}function h(){let t=r.value.trim();8===t.length&&""!==t?(c.classList.remove(e.rWXhh),c.focusable(!0),d="normal"):(c.classList.add("disabled"),c.focusable(!1),d=e.rWXhh)}r.oninput=function(){t.wBLsc(h)},r.onkeydown=function(t){e.fYqGi(t.keyCode,13)&&e.fYqGi(d,"normal")&&e.KAYDi(u)},c.bindWithCooldown(async function(){e.QWFnO(d,"normal")||e.wOorI(u)}),i.body.appendChild(s),i.body.appendChild(l),i.body.appendChild(c),r.focus()});let s=_0x142684("xrQdSHI2A");s.focusable(!0),s.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>查看個人資料',s.bindWithCooldown(function(){n.close(),e.KZZgw(_0x3320f0,_0x103c35).then(t=>{let n={};n.data=t,n.type=_0x54583e?"mobile":"desktop",e.UWyBZ(_0x518f0b,_0x494837.sidebar,n)}).catch(e=>{console.error(e)})});let a=_0x142684("xcoXgMpFW"),r=_0x142684(e.GPWpJ);r.focusable(!0),r.bindWithCooldown(function(){n.close(),o(_0x588d2e).then(()=>{_0x103c35="",_0x3c4717="",_0x1415f3.length=0,_0x2df1d0.length=0,_0x3c3b0f=!1;let t=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",t),_0x494837.primaryArea.clear(),_0x494837.messageContainer.clear(),localStorage.setItem("cvs",""),_0x302ac6&&(_0x302ac6.remove(),_0x302ac6=null),document.body.classList.remove("xmKH3ad5R"),_0x494837.profileContainer.classList.remove("disabled"),_0x494837.profileContainer.focusable(!0),_0x494837.markButton.classList.add(e.rWXhh),_0x494837.brushButton.classList.add("disabled"),_0x494837.attachButton.classList.add(e.rWXhh),_0x494837.stickerButton.classList.add("disabled"),_0x2a5e1e=!1,_0x494837.avatarWrapper.classList.add(e.WeRHH),_0x494837.avatarLabel.src="",_0x494837.nameLabel.innerText="",_0x494837.signatureLabel.innerText=""}).catch(e=>{console.error("Sign out error",e)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>登出',_0x13b965([i,s,r]),n.Content.appendChild(i),n.Content.appendChild(s),n.Content.appendChild(a),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x494837.profileContainer.classList.remove("x9EnCPd4S")})});class _0x4da2b3{constructor({parent:e,title:t}){let n={xcAiJ:"inert",xQzei:"xB4hVI3El",mLUrT:function(e,t){return e(t)},plNyA:"xopQXJrX5",rVhEe:"xZz4zYjIm",XKAHn:function(e,t){return e(t)},HieNP:function(e,t){return e(t)},JvVOU:"body > *:not(.xEHCrF5Oe, script, [hidden])"},i=e,s=_0x142684(n.xQzei),a=n.mLUrT(_0x142684,n.plNyA),o=n.mLUrT(_0x142684,n.rVhEe),r=_0x142684("xMyenRl7K"),l=n.XKAHn(_0x142684,"x8JU9DbQZ"),c=n.HieNP(_0x142684,"xvwhg72ii");this._parent=i,this.Root=s,this.Content=o,this.Heading=a,this._backButton=l,this._deactivated_elements=document.querySelectorAll(n.JvVOU),this._deactivated_elements.forEach(e=>{e.setAttribute(n.xcAiJ,"true")}),a.appendChild(r),r.appendChild(l),r.appendChild(c),c.textContent=t,l.focusable(!0),l.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',l.bindWithCooldown(this.close.bind(this)),s.appendChild(a),s.appendChild(o),document.body.appendChild(s),setTimeout(function(){_0x1a1f1f=s,i.classList.add("xCr0RyqCg"),s.classList.add("xa2pPtuLq")},50)}onClose(e){this.onCloseCallback=e}close(){let e={};e.ssuet="0|1|3|4|6|2|7|5",e.ivOsM="xjv5U11Kz",e.YJAdX="xCr0RyqCg";let t=e,n=t.ssuet.split("|"),i=0;for(;;){switch(n[i++]){case"0":this.onCloseCallback&&this.onCloseCallback();continue;case"1":this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")});continue;case"2":this._parent.classList.remove(t.ivOsM);continue;case"3":_0x1a1f1f=this._parent;continue;case"4":this.Root.classList.remove("xa2pPtuLq");continue;case"5":setTimeout(()=>{this.Root.remove()},100);continue;case"6":this._parent.classList.remove(t.YJAdX);continue;case"7":this.Root.classList.remove(t.ivOsM);continue}break}}}async function _0x518f0b(e,t){let n={pyTCl:"xORN7XV1j",fwnZX:function(e,t,n,i){return e(t,n,i)},xLRTf:"4|1|0|3|2",slWTV:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',IvMna:"video",FFQfN:"muted",Gymjb:"img",tROYb:"assets/default-banner.png",GyIGY:"lazy",rSCPd:"xkKF4v6d2",kSJkP:function(e,t){return e(t)},dpTcq:"xwvIJoAtO",chkCL:"xVwXc1fhM",vRNrj:function(e,t){return e(t)},nMfUi:"xzCCWGB1D",KStjG:"xBjZoCxmV",NwMxA:function(e,t){return e(t)},hkNhZ:"assets/avatar.png",dwhjN:"x2OCp76zA",OjPDi:"xokk3UP7N",mMpjB:"x117sdiIx",BzjTJ:"xxXoB6W0R",OCITO:function(e,t){return e(t)},oiTUH:"暫時還沒有描述哦",WjIko:"xylvbLNlS",KGzOw:function(e,t){return e(t)},yHLiP:"xY3QPRePs",jgUCS:function(e,t){return e+t},FSMeq:function(e,t){return e+t},VLppE:function(e,t){return e(t)},bKZkW:function(e,t){return e||t},oFZbx:function(e,t){return e(t)},lrleF:"xUHiz9aGO",bCpFF:"xhMhXcFlu",dHmqZ:"xIl46kG8k",WaBsx:function(e,t){return e(t)},DDUCC:"xHPTUCUar",IjhAN:"--xD672nKxG",fjyIc:function(e,t){return e(t)},HWEFj:"xTKxbdpu3"};_0x1497d7.state=!0,_0x1497d7._n||(_0x1497d7._n=t.data.name),_0x1497d7._d||(_0x1497d7._d=t.data.signature);let i=n.slWTV,s=_0x142684("xkyfCNAI0"),a=_0x142684("x0zSVRG3y"),o,r={};r.action="cache-url",r.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(r);let l={};if(l.action="cache-url",l.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(l),t.data.bannerType===n.IvMna){let c="3|8|5|4|6|7|2|1|0".split("|"),d=0;for(;;){switch(c[d++]){case"0":o.src=t.data.bannerUrl;continue;case"1":o.autoplay=!0;continue;case"2":o.preload=!0;continue;case"3":o=document.createElement("video");continue;case"4":o.controls=!1;continue;case"5":o.controlslist="nodownload";continue;case"6":o.setAttribute(n.FFQfN,"");continue;case"7":o.playsInline=!0;continue;case"8":o.loop=!0;continue}break}}else(o=document.createElement(n.Gymjb)).draggable=!1,o.src=t.data.bannerUrl||n.tROYb,o.loading=n.GyIGY;o.classList.add("x96ofpjeu");let u=_0x142684(n.rSCPd),h=n.kSJkP(_0x142684,n.dpTcq),$=document.createElement(n.Gymjb);$.classList.add(n.chkCL);let x=n.vRNrj(_0x142684,n.nMfUi),p=n.kSJkP(_0x142684,"xqYV0G7JT"),f=n.kSJkP(_0x142684,n.KStjG),_=n.NwMxA(_0x142684,"xodqSvoQM"),m=n.NwMxA(_0x142684,"xt0pX9m5p");s.appendChild(a),a.appendChild(o),s.appendChild(u),p.appendChild(h),h.appendChild($),$.draggable=!1,$.src=t.data.avatarUrl||n.hkNhZ,$.loading=n.GyIGY,u.appendChild(x),x.appendChild(p);let b=_0x142684(n.dwhjN);x.appendChild(b);let v=n.vRNrj(_0x142684,n.OjPDi);p.appendChild(v);let g=_0x1497d7._n,C=_0x142684(n.mMpjB);C.textContent=g,f.appendChild(C);let w=_0x142684(n.BzjTJ);w.textContent=t.data.id,v.appendChild(f),v.appendChild(w),_0x1497d7._a=C,_0x1497d7._b=_,_.innerHTML=n.NwMxA(_0x40a7ea,n.OCITO(_0x12b120,_0x1497d7._d||n.oiTUH)),u.appendChild(m);let L=n.OCITO(_0x142684,n.WjIko);L.innerText="描述",m.appendChild(L),m.appendChild(_);let y=n.KGzOw(_0x142684,"xylvbLNlS");y.id=n.yHLiP,y.textContent="最後上線";let k=n.KGzOw(_0x142684,"xodqSvoQM"),T=new Date(t.data.deviceInfo.lastUpdate),M=n.jgUCS(n.jgUCS(n.FSMeq(n.jgUCS(n.jgUCS(n.FSMeq(n.FSMeq(T.getFullYear(),"/"),n.FSMeq(T.getMonth(),1)),"/"),T.getDate())," "),T.getHours().toString()),":")+T.getMinutes().toString().padStart(2,"0");if(k.innerText=(n.VLppE(_0x26e214,t.data.deviceInfo.lastUpdate)||"未知")+" ("+n.bKZkW(M,"未知")+")",m.appendChild(y),m.appendChild(k),"desktop"===t.type){let E={};E.closeOnEsc=!0,E.closeOnOverlayClick=!0;let H=new _0x5a3ff3(E);H.Content.classList.add("xlY0G76Nv"),H.Content.classList.add("lg"),H.Content.classList.add("gb");let A=n.OCITO(_0x142684,"xjMiLDVEU"),I=n.oFZbx(_0x142684,n.lrleF),B=_0x142684(n.bCpFF),W=n.OCITO(_0x142684,n.dHmqZ),R=n.OCITO(_0x142684,"xjMYgfYFc");W.appendChild(R),R.textContent=t.data.name,I.appendChild(W),I.appendChild(B);let Y=_0x142684("xHPTUCUar");if(Y.bindWithCooldown(H.close.bind(H)),Y.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',Y.focusable(!0),t.data.id===_0x103c35){let D=n.WaBsx(_0x142684,n.DDUCC);D.bindWithCooldown(function(){_0x3b4d9f(_0x1497d7._n,_0x1497d7._d,H.Root)}),D.innerHTML=_0x4adc12.edit,D.focusable(!0),B.appendChild(D),_0x13b965([D,Y],"horizontal")}B.appendChild(Y),A.appendChild(I),H.Content.appendChild(A),A.appendChild(s);let O=H.Content.getBoundingClientRect();if(H.Content.style.setProperty(n.IjhAN,O.height+"px"),A.onscroll=function(){A.scrollTop>60?A.classList.add("xORN7XV1j"):A.classList.remove(n.pyTCl)},t.data.verified){let S=n.fjyIc(_0x142684,n.HWEFj);S.innerHTML=i,f.appendChild(S),S.bindWithCooldown(function(){n.fwnZX(_0x3a645b,"說明",!0,H.Root).body.innerHTML='<div class="xrrfDPLS2">此帳號已驗證</div>'})}H.onClose(function(){let e=n.xLRTf.split("|"),t=0;for(;;){switch(e[t++]){case"0":_0x1497d7._b=null;continue;case"1":_0x1497d7._a=null;continue;case"2":_0x1497d7._d="";continue;case"3":_0x1497d7._n="";continue;case"4":_0x1497d7.state=!1;continue}break}})}else{let F={};F.parent=e,F.title=t.data.name;let j=new _0x4da2b3(F);if(t.data.id===_0x103c35){let z=_0x142684("x8JU9DbQZ");z.bindWithCooldown(function(){_0x3b4d9f(_0x1497d7._n,_0x1497d7._d,j.Root)}),z.innerHTML=_0x4adc12.edit,z.focusable(!0),j.Heading.appendChild(z)}j.Root.classList.add("xwMgtrL2x"),j.onClose(function(){let e="1|0|3|4|2".split("|"),t=0;for(;;){switch(e[t++]){case"0":_0x1497d7._a=null;continue;case"1":_0x1497d7.state=!1;continue;case"2":_0x1497d7._d="";continue;case"3":_0x1497d7._b=null;continue;case"4":_0x1497d7._n="";continue}break}}),j.Root.onscroll=function(){j.Root.scrollTop>60?j.Root.classList.add("xORN7XV1j"):j.Root.classList.remove(n.pyTCl)},j._backButton.classList.add("xnS3FTqjp"),j.Content.appendChild(s)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{let t={};t.QNnqK="installed";let n=t;e.onupdatefound=()=>{let t={};t.euaCh=function(e,t){return e===t},t.doPby=n.QNnqK;let i=t,s=e.installing;s.onstatechange=()=>{i.euaCh(s.state,i.doPby)&&window.location.reload()}}}).catch(e=>{console.log("註冊失敗：",e)});
