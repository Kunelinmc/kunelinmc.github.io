console.log("\uD83D\uDC80 Please do not perform any operations in the console, attackers may steal your data.");var myTimeout,_=function(e){return document.querySelector(e)},isMobileDevice=/(Android|webOS|Windows Phone|Mac|iPhone|iPod|iPad)/i.test(window.navigator.platform),hasInterim=!0;let chatHistory=[{id:"00001",name:"冠霖的聊天室",active:!0,history:[]},{id:"00002",name:"新的對話",active:!1,history:[]},{id:"00003",name:"測試",active:!1,history:[]},];var currentRoom="00001",remainingUsage=2e3,currentUsage=0;isMobileDevice&&document.body.classList.add("mobile");var components={activitybar:_(".activitybar"),sidebar:_(".sidebar"),main:_(".main"),messageInput:_(".xtsARDHTI"),searchInput:_(".xujXllYgW"),messageArea:_(".xikyLwDf4"),sendButton:_(".xuwRtDpu4")},_N0=!1,_GF=!1,totalNoSee=0;function _A16(e){components.messageInput.innerHTML="",_A17(e)}function _A9(e){for(var t="",n=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=a.length;n<e;)t+=a.charAt(Math.floor(Math.random()*i)),n+=1;return t}function _A18(e){return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){return'<a class="x0ciSQShX" href="'.concat(e,'" target="_blank">').concat(decodeURIComponent(e),"</a>")})}function _A2(){if(!1===_GF){components.searchInput.removeAttribute("disabled"),components.messageArea.classList.remove("xVjpzmyej"),_(".xnKzgeITl")&&_(".xnKzgeITl").remove();var e=new Date().getHours();_A25("{dl}好，歡迎回來，現在就開始對話吧！".replace("{dl}",e>=5&&e<11?"早上":e>=11&&e<14?"中午":e>=14&&e<18?"下午":"晚上"),"0","陌生人"),_GF=!0,_N0=!0}}function _A17(e){var t=e.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<","&lt;").replaceAll(">","&gt;"),n=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");suid=btoa("".concat(ts=new Date().getTime()).concat(uid=_A9(8))),a.classList.add("xMyW2iRSH"),n.classList.add("xVC8gtuyS"),i.classList.add("xKljxgVJA"),s.classList.add("xu4Celbbq"),n.setAttribute("data-xg4wIdv2",suid),n.setAttribute("data-TSPuidV2",suid),n.appendChild(i),i.appendChild(s),i.appendChild(a);var o=_A18(t).trim().replace(/(\r?\n){3,}/g,"\n\n").replace(/\n+$/,"").replaceAll("\n","<br>");a.innerHTML=o,n.classList.add("xiOw4dg0O"),s.innerHTML='<div class="xc4iCj2Gy">你</div>',components.messageArea.appendChild(n),components.messageArea.scrollTo({top:components.messageArea.scrollHeight,behavior:"smooth"});var r=chatHistory.filter(e=>e.id===currentRoom)[0].history;r.push({role:"user",content:e}),console.log(r)}function _A25(e,t,n){var a=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div");i.classList.add("xMyW2iRSH"),a.classList.add("xVC8gtuyS"),s.classList.add("xSYcbYqTG"),o.classList.add("xKljxgVJA"),r.classList.add("xu4Celbbq"),c.classList.add("xc4iCj2Gy"),l.classList.add("xuvoVURIs"),d.classList.add("xt8fROB2L"),l.innerText=" • ",d.innerText="現在",console.log(t),a.setAttribute("data-xg4wIdv2",t),a.appendChild(s),a.appendChild(o),o.appendChild(r),r.appendChild(c),r.appendChild(l),r.appendChild(d),o.appendChild(i),c.innerHTML=n,i.innerHTML=e,i.classList.add("complete"),components.messageArea.appendChild(a),components.messageArea.scrollTo({top:components.messageArea.scrollHeight,behavior:"smooth"})}function addRippleAnimation(e,t){e.addEventListener("mousedown",function(e){var n=e.currentTarget,a=document.createElement("span"),i=Math.max(n.clientWidth,n.clientHeight);a.style.background=t,a.style.width=a.style.height=i+"px",a.style.left=e.offsetX-i/2+"px",a.style.top=e.offsetY-i/2+"px",a.classList.add("ripple_effect");var s=n.getElementsByClassName("ripple_effect")[0];s&&s.remove(),n.appendChild(a)})}window.totalNoSee=totalNoSee,document.addEventListener("visibilitychange",function(){"visible"==document.visibilityState&&(document.title="Structure",totalNoSee=0)}),components.messageInput.addEventListener("input",function(e){""===e.target.innerText.trim()&&(e.target.innerHTML="")}),components.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:e.shiftKey||""===e.target.innerHTML.trim()||isMobileDevice||(e.preventDefault(),_N0?_A16(e.target.innerText):console.log("Unable to send the message"));break;case 85:case 66:e.ctrlKey&&e.preventDefault()}}),components.sendButton.onclick=function(){""!==components.messageInput.innerHTML.trim()&&(_N0?_A16(components.messageInput.innerText):console.log("Unable to send the message"))},components.messageInput.onpaste=function(e){e.preventDefault(),document.execCommand("insertHTML",!0,(e.clipboardData||window.clipboardData).getData("text/plain").replace(/&([^;]+)/g,"&amp;$1").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll("	","    ").replaceAll(" ","&nbsp;").replaceAll("\n","<br>"))},document.onkeydown=function(e){switch(e.keyCode){case 191:"true"===components.messageInput.getAttribute("contenteditable")&&document.activeElement!==components.messageInput&&document.activeElement!==components.searchInput&&(e.preventDefault(),_(".xtsARDHTI").focus());break;case 75:e.ctrlKey&&_N0&&(e.preventDefault(),components.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 79:case 187:case 189:case 83:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),document.oncontextmenu=function(e){e.preventDefault()},window._A25=_A25,_(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").onclick=function(){_(".main").classList.remove("x8VAGH6N2"),components.messageInput.setAttribute("contenteditable","false"),components.messageInput.setAttribute("tabindex","-1"),components.sendButton.setAttribute("tabindex","-1")},addRippleAnimation(_(".xuwRtDpu4"),"#a8a8af71"),addRippleAnimation(_(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),"#a9a9a947"),document.addEventListener("touchstart",function(e){e.touches&&e.touches.length>1&&e.preventDefault()},{passive:!1});var lastTouchEndTime=0;document.addEventListener("touchend",function(e){var t=new Date().getTime();t-lastTouchEndTime<=300&&e.preventDefault(),lastTouchEndTime=t},!1),document.addEventListener("gesturestart",function(e){e.preventDefault()});var _f991=!0;function formatFileSize(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":e<1073741824?(e/1048576).toFixed(2)+" MB":(e/1073741824).toFixed(2)+" GB"}function _A5815(e){return e[Math.floor(Math.random()*e.length)]}function formatNumberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function downloadJSON(e,t){let n=JSON.stringify(e,null,2),a=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}function createChatRoom(e,t,n,a,i){let s=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div");s.setAttribute("tabindex","0"),s.classList.add("x2fP9fkxS"),s.onclick=function(e){currentRoom=t,_(".x2fP9fkxS.active").classList.remove("active"),_(".main").classList.add("x8VAGH6N2"),_(".xvwhg72ii").innerText=s.getAttribute("data-roomName"),s.classList.add("active"),components.messageInput.setAttribute("contenteditable","true"),components.messageInput.setAttribute("tabindex","0"),components.sendButton.setAttribute("tabindex","0"),_(".x2fP9fkxS.interim:not(.active)")&&_(".x2fP9fkxS.interim:not(.active)").remove()},s.onkeydown=e=>{13===e.keyCode&&(currentRoom=t,_(".x2fP9fkxS.active").classList.remove("active"),_(".main").classList.add("x8VAGH6N2"),_(".xvwhg72ii").innerText=s.getAttribute("data-roomName"),s.classList.add("active"),components.messageInput.setAttribute("contenteditable","true"),components.messageInput.setAttribute("tabindex","0"),components.sendButton.setAttribute("tabindex","0"),_(".x2fP9fkxS.interim:not(.active)")&&_(".x2fP9fkxS.interim:not(.active)").remove())},i&&s.classList.add("active"),s.setAttribute("data-roomId",t),s.setAttribute("data-roomName",e),s.appendChild(o),o.classList.add("xQ65c0Nkc"),r.classList.add("xybvM5cRF"),o.appendChild(r),r.innerText=e,c.classList.add("xT3Ta8vKw"),c.innerText=`${formatNumberWithCommas(n)} 則對話 • ${a}`,o.appendChild(c),l.classList.add("xkl384HTx"),s.appendChild(l),l.innerHTML='<svg class="xVyv7vy2K" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1" /><circle cx="12" cy="5" r="1" /><circle cx="12" cy="19" r="1" /></svg>',_(".xemr1y6ie").appendChild(s)}components.messageInput.addEventListener("drop",e=>{e.preventDefault();let t=e.dataTransfer.getData("text/plain");try{e.target.focus(),document.execCommand("insertHTML",!0,t.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll("	","    ").replaceAll(" ","&nbsp;").replaceAll("\n","<br>"))}catch(n){console.log(n)}}),components.sendButton.onkeydown=e=>{13===e.keyCode&&""!==components.messageInput.innerHTML.trim()&&(_N0?_A16(components.messageInput.innerText):console.log("Unable to send the message"))},components.searchInput.oninput=()=>{myTimeout&&clearTimeout(myTimeout),myTimeout=setTimeout(function(){console.log("Success")},500)},_(".x8u3Iqtu9").onclick=function(){components.searchInput.focus()},window.onload=function(){setTimeout(function(){_(".xemr1y6ie .spinner").remove(),chatHistory.forEach(e=>{createChatRoom(e.name,e.id,e.history.length,"現在",e.active)})},500)};
