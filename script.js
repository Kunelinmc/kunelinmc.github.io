console.log("\uD83D\uDC80 Please do not perform any operations in the console, attackers may steal your data.");var myTimeout,_=function(e){return document.querySelector(e)},isMobileDevice=/(Android|webOS|Windows Phone|Mac|iPhone|iPod|iPad)/i.test(window.navigator.platform),hasInterim=!0;window.currentRoom="",isMobileDevice&&document.body.classList.add("mobile");var components={activitybar:_(".activitybar"),sidebar:_(".sidebar"),main:_(".main"),messageInput:_(".xtsARDHTI"),searchInput:_(".xujXllYgW"),messageArea:_(".xikyLwDf4"),sendButton:_(".xuwRtDpu4")},_N0=!1,_GF=!1,totalNoSee=0;function _A16(e){components.messageInput.innerHTML="",_A17(e,!0)}function _A9(e){for(var t="",n=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length;n<e;)t+=a.charAt(Math.floor(Math.random()*s)),n+=1;return t}function _A18(e){return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){return'<a class="x0ciSQShX" href="'.concat(e,'" target="_blank">').concat(decodeURIComponent(e),"</a>")})}function _A2(){if(!1===_GF){components.searchInput.removeAttribute("disabled"),components.searchInput.setAttribute("tabindex","0"),components.messageArea.classList.remove("xVjpzmyej"),_(".xnKzgeITl")&&_(".xnKzgeITl").remove();var e=new Date().getHours();_A25("{dl}好，歡迎回來，現在就開始對話吧！".replace("{dl}",e>=5&&e<11?"早上":e>=11&&e<14?"中午":e>=14&&e<18?"下午":"晚上"),"0","陌生人"),_GF=!0,_N0=!0}}function _A17(e,t){var n=e.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<","&lt;").replaceAll(">","&gt;"),a=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div");suid=btoa("".concat(ts=new Date().getTime()).concat(uid=_A9(8))),s.classList.add("xMyW2iRSH"),a.classList.add("xVC8gtuyS"),i.classList.add("xKljxgVJA"),o.classList.add("xu4Celbbq"),a.setAttribute("data-xg4wIdv2",suid),a.setAttribute("data-TSPuidV2",suid),a.appendChild(i),i.appendChild(o),i.appendChild(s);var c=_A18(n).trim().replace(/(\r?\n){3,}/g,"\n\n").replace(/\n+$/,"").replaceAll("\n","<br>");s.innerHTML=c,a.classList.add("xiOw4dg0O"),o.innerHTML='<div class="xc4iCj2Gy">你</div>',t&&sendMessage(window.currentRoom,e),components.messageArea.appendChild(a),components.messageArea.scrollTo({top:components.messageArea.scrollHeight,behavior:"smooth"})}function _A25(e,t,n){var a=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div");s.classList.add("xMyW2iRSH"),a.classList.add("xVC8gtuyS"),i.classList.add("xSYcbYqTG"),o.classList.add("xKljxgVJA"),c.classList.add("xu4Celbbq"),r.classList.add("xc4iCj2Gy"),l.classList.add("xuvoVURIs"),d.classList.add("xt8fROB2L"),l.innerText=" • ",d.innerText="現在",console.log(t),a.setAttribute("data-xg4wIdv2",t),a.appendChild(i),a.appendChild(o),o.appendChild(c),c.appendChild(r),c.appendChild(l),c.appendChild(d),o.appendChild(s),r.innerHTML=n,s.innerHTML=e,s.classList.add("complete"),components.messageArea.appendChild(a),components.messageArea.scrollTo({top:components.messageArea.scrollHeight,behavior:"smooth"})}function addRippleAnimation(e,t){e.addEventListener("mousedown",function(e){var n=e.currentTarget,a=document.createElement("span"),s=Math.max(n.clientWidth,n.clientHeight);a.style.background=t,a.style.width=a.style.height=s+"px",a.style.left=e.offsetX-s/2+"px",a.style.top=e.offsetY-s/2+"px",a.classList.add("ripple_effect");var i=n.getElementsByClassName("ripple_effect")[0];i&&i.remove(),n.appendChild(a)})}window.totalNoSee=totalNoSee,document.addEventListener("visibilitychange",function(){"visible"==document.visibilityState&&(document.title="Structure",totalNoSee=0)}),components.messageInput.addEventListener("input",function(e){""===e.target.innerText.trim()&&(e.target.innerHTML="")}),components.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:e.shiftKey||""===e.target.innerHTML.trim()||isMobileDevice||(e.preventDefault(),_N0?_A16(e.target.innerText):console.log("Unable to send the message"));break;case 85:case 66:e.ctrlKey&&e.preventDefault()}}),components.sendButton.onclick=function(){""!==components.messageInput.innerHTML.trim()&&(_N0?_A16(components.messageInput.innerText):console.log("Unable to send the message"))},components.messageInput.onpaste=function(e){e.preventDefault(),document.execCommand("insertHTML",!0,(e.clipboardData||window.clipboardData).getData("text/plain").replace(/&([^;]+)/g,"&amp;$1").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll("	","    ").replaceAll(" ","&nbsp;").replaceAll("\n","<br>"))},document.onkeydown=function(e){switch(e.keyCode){case 191:"true"===components.messageInput.getAttribute("contenteditable")&&document.activeElement!==components.messageInput&&document.activeElement!==components.searchInput&&(e.preventDefault(),_(".xtsARDHTI").focus());break;case 75:e.ctrlKey&&_N0&&(e.preventDefault(),components.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 79:case 187:case 189:case 83:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),document.oncontextmenu=function(e){e.preventDefault()},window._A25=_A25,_(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").onclick=function(){window.unsubscribe(),_(".main").classList.remove("x8VAGH6N2"),components.messageInput.setAttribute("contenteditable","false"),components.messageInput.setAttribute("tabindex","-1"),components.sendButton.setAttribute("tabindex","-1")},addRippleAnimation(_(".xuwRtDpu4"),"#a8a8af71"),addRippleAnimation(_(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),"#a9a9a947"),document.addEventListener("touchstart",function(e){e.touches&&e.touches.length>1&&e.preventDefault()},{passive:!1});var lastTouchEndTime=0;document.addEventListener("touchend",function(e){var t=new Date().getTime();t-lastTouchEndTime<=300&&e.preventDefault(),lastTouchEndTime=t},!1),document.addEventListener("gesturestart",function(e){e.preventDefault()});var _f991=!0;function formatFileSize(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":e<1073741824?(e/1048576).toFixed(2)+" MB":(e/1073741824).toFixed(2)+" GB"}function _A5815(e){return e[Math.floor(Math.random()*e.length)]}function formatNumberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function downloadJSON(e,t){let n=JSON.stringify(e,null,2),a=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}function createChatRoom(e,t,n,a){let s=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),r=document.createElement("div");s.setAttribute("tabindex","0"),s.classList.add("x2fP9fkxS");let l=()=>{(window.currentRoom!==t||isMobileDevice)&&(window.unsubscribe&&window.unsubscribe(),components.messageArea.innerHTML="",window.currentRoom=t,createListener(window.currentRoom),loadChatHistory(window.currentRoom),components.messageInput.setAttribute("contenteditable","true"),isMobileDevice||(_(".x2fP9fkxS.active")&&_(".x2fP9fkxS.active").classList.remove("active"),_(".x2fP9fkxS.interim:not(.active)")&&_(".x2fP9fkxS.interim:not(.active)").remove(),s.classList.add("active")),isMobileDevice&&_(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").setAttribute("tabindex","0"),_(".main").classList.add("x8VAGH6N2"),_(".xvwhg72ii").innerText=s.getAttribute("data-roomName"),components.messageInput.setAttribute("contenteditable","true"),components.messageInput.setAttribute("tabindex","0"),components.sendButton.setAttribute("tabindex","0"))};s.onclick=function(){l()},s.onkeydown=function(e){13===e.keyCode&&l()},s.setAttribute("data-roomId",t),s.setAttribute("data-roomName",e),s.appendChild(i),i.classList.add("xQ65c0Nkc"),o.classList.add("xybvM5cRF"),i.appendChild(o),o.innerText=e,c.classList.add("xT3Ta8vKw"),c.innerText=`${formatNumberWithCommas(n)} 則對話 • ${a}`,i.appendChild(c),r.classList.add("xkl384HTx"),s.appendChild(r),r.innerHTML='<svg class="xVyv7vy2K" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1" /><circle cx="12" cy="5" r="1" /><circle cx="12" cy="19" r="1" /></svg>',_(".xemr1y6ie").appendChild(s)}components.messageInput.addEventListener("drop",e=>{e.preventDefault();let t=e.dataTransfer.getData("text/plain");try{e.target.focus(),document.execCommand("insertHTML",!0,t.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll("	","    ").replaceAll(" ","&nbsp;").replaceAll("\n","<br>"))}catch(n){console.log(n)}}),components.sendButton.onkeydown=e=>{13===e.keyCode&&""!==components.messageInput.innerHTML.trim()&&(_N0?_A16(components.messageInput.innerText):console.log("Unable to send the message"))},components.searchInput.oninput=()=>{myTimeout&&clearTimeout(myTimeout),myTimeout=setTimeout(function(){console.log("Success")},500)},_(".x8u3Iqtu9").onclick=function(){components.searchInput.focus()},components.searchInput.onfocus=()=>{window.scrollTo(0,0)},isMobileDevice&&setInterval(function(){window.scrollTo(0,0)},1e3);
