/**release 0.2.3*/
let _0x34a6f7=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0xeba1cc=_0x34a6f7(this,function(){let e={};return e.AvNMO="(((.+)+)+)+$",_0xeba1cc.toString().search("(((.+)+)+)+$").toString().constructor(_0xeba1cc).search(e.AvNMO)});_0xeba1cc();let _0x218e8f=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x36085f=_0x218e8f(this,function(){let e={wkmWi:function(e,t){return e(t)},jAyJv:"return (function() ",BYomw:"exception",dvnGg:function(e,t){return e<t}},t=function(){let t;try{t=e.wkmWi(Function,e.jAyJv+'{}.constructor("return this")( ));')()}catch(n){t=window}return t}(),n=t.console=t.console||{},i=["log","warn","info","error",e.BYomw,"table","trace"];for(let a=0;e.dvnGg(a,i.length);a++){let s=_0x218e8f.constructor.prototype.bind(_0x218e8f),o=i[a],r=n[o]||s;s.__proto__=_0x218e8f.bind(_0x218e8f),s.toString=r.toString.bind(r),n[o]=s}});_0x36085f();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as i,onAuthStateChanged as a,signInWithEmailAndPassword as s,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as l,uploadBytesResumable as d,getDownloadURL as c}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as $,enableIndexedDbPersistence as x,collection as h,setDoc as u,doc as f,deleteDoc as p,getDoc as _,where as b,getDocs as m,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as y,arrayRemove as L,updateDoc as k,limit as T}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x1ec69e{constructor(e,t={}){let n={};n.oNOSo="17|6|28|21|15|4|33|2|8|26|30|35|31|18|3|27|9|12|7|13|23|29|14|0|1|20|5|34|10|11|32|19|24|16|22|25";let i=n.oNOSo.split("|"),a=0;for(;;){switch(i[a++]){case"0":this.touchStartPosY=0;continue;case"1":this.touchStartScale=1;continue;case"2":this.customDrawer=null;continue;case"3":this.lastX=0;continue;case"4":this.updateCanvasSize();continue;case"5":this.initialCenterY=0;continue;case"6":this.ctx=this.canvas.getContext("2d");continue;case"7":this.animationFrameId=null;continue;case"8":this.lastTapTime=0;continue;case"9":this.img=null;continue;case"10":this.velocityX=0;continue;case"11":this.velocityY=0;continue;case"12":this.needsRedraw=!1;continue;case"13":this.isTouching=!1;continue;case"14":this.touchStartPosX=0;continue;case"15":this.devicePixelRatio=window.devicePixelRatio||1;continue;case"16":this.minVelocityThreshold=.1;continue;case"17":this.canvas=e;continue;case"18":this.isDragging=!1;continue;case"19":this.isInertialMoving=!1;continue;case"20":this.initialCenterX=0;continue;case"21":this.logicalHeight=0;continue;case"22":this.setupEventListeners();continue;case"23":this.initialDistance=0;continue;case"24":this.decelerationRate=.85;continue;case"25":this.requestRedraw();continue;case"26":this.tapTimeout=null;continue;case"27":this.lastY=0;continue;case"28":this.logicalWidth=0;continue;case"29":this.initialScale=1;continue;case"30":this.scale=1;continue;case"31":this.posY=0;continue;case"32":this.lastTime=0;continue;case"33":let s={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=s;continue;case"34":this.rotation=0;continue;case"35":this.posX=0;continue}break}}updateCanvasSize(){let e={};e.jjYEC=function(e,t){return e+t},e.bwSXs=function(e,t){return e*t};let t=e,n=this.canvas.parentElement;this.logicalWidth=n.clientWidth,this.logicalHeight=n.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=this.logicalWidth+"px",this.canvas.style.height=t.jjYEC(this.logicalHeight,"px"),this.canvas.width=Math.floor(t.bwSXs(this.logicalWidth,this.devicePixelRatio)),this.canvas.height=Math.floor(t.bwSXs(this.logicalHeight,this.devicePixelRatio)),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.OEKuD="click",e.qKTIc="touchend",e.kGmug="resize",e.eGcUY="mousedown",e.jKXlI="mouseup",e.TqoAn="wheel",e.HVqEb="mouseleave",e.BlZkv="touchstart";let t=e;this.handleCanvasClick=this.handleCanvasClick.bind(this),this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this),this.canvas.addEventListener(t.OEKuD,this.handleCanvasClick),this.canvas.addEventListener(t.qKTIc,this.handleCanvasTouchEnd),this.handleResize=this.handleResize.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleWheel=this.handleWheel.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.draw=this.draw.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),window.addEventListener(t.kGmug,this.handleResize),this.canvas.addEventListener(t.eGcUY,this.handleMouseDown),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener(t.jKXlI,this.handleMouseUp),this.canvas.addEventListener(t.TqoAn,this.handleWheel),this.canvas.addEventListener(t.HVqEb,this.handleMouseLeave),this.canvas.addEventListener(t.BlZkv,this.handleTouchStart),this.canvas.addEventListener("touchmove",this.handleTouchMove),this.canvas.addEventListener("touchend",this.handleTouchEnd)}getDisplayWidth(){return this.rotation%180==90?this.img.height:this.img.width}getDisplayHeight(){let e={};return e.bsAEY=function(e,t){return e===t},e.bsAEY(this.rotation%180,90)?this.img.width:this.img.height}calculateInitialScale(){let e={};e.IJXik=function(e,t){return e/t};let t=e;if(!this.img)return;let n=this.getDisplayWidth(),i=this.getDisplayHeight(),a=t.IJXik(this.logicalWidth,n),s=t.IJXik(this.logicalHeight,i);this.options.minScale=Math.min(a,s,1),this.scale=this.options.minScale}centerImage(){let e={};if(e.nlYsx=function(e,t){return e*t},!this.img)return;let t=e.nlYsx(this.getDisplayWidth(),this.scale),n=this.getDisplayHeight()*this.scale;this.posX=(this.logicalWidth-t)/2,this.posY=(this.logicalHeight-n)/2,this.enforceBounds()}setCustomDrawer(e){let t={};t.kDlHa="function",typeof e===t.kDlHa?this.customDrawer=e:console.error("setCustomDrawer 期望接收一個函數")}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.MoOEH=function(e,t){return e*t},e.HohFi=function(e,t){return e*t},e.hpurH=function(e,t){return e/t},e.octGm=function(e,t){return e/t},e.kkihk=function(e,t){return e/t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=t.MoOEH(this.getDisplayWidth(),this.scale),i=t.HohFi(this.getDisplayHeight(),this.scale);this.ctx.translate(this.posX+n/2,this.posY+t.hpurH(i,2)),this.ctx.rotate(t.octGm(this.rotation*Math.PI,180)),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,-this.img.width/2,t.kkihk(-this.img.height,2)),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){this.rotation=(this.rotation+90)%360,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.VXoTz=function(e,t){return e*t},e.iKLIB=function(e,t){return e>t},e.xdcHI=function(e,t){return e-t},e.zbhTC=function(e,t){return e/t},e.WxbNP=function(e,t){return e>t},e.nnjAz=function(e,t){return e-t};let t=e;if(!this.img)return;let n=t.VXoTz(this.getDisplayWidth(),this.scale),i=this.getDisplayHeight()*this.scale;t.iKLIB(n,this.logicalWidth)?this.posX=Math.min(Math.max(this.posX,t.xdcHI(this.logicalWidth,n)),0):this.posX=t.zbhTC(this.logicalWidth-n,2),t.WxbNP(i,this.logicalHeight)?this.posY=Math.min(Math.max(this.posY,t.nnjAz(this.logicalHeight,i)),0):this.posY=t.zbhTC(this.logicalHeight-i,2)}isInImageArea(e,t){let n={};n.XmrqU=function(e,t){return e*t},n.mCChi=function(e,t){return e+t},n.pfnFq=function(e,t){return e+t},n.XxvIN=function(e,t){return e>=t},n.koDDd=function(e,t){return e<=t};let i=n;if(!this.img)return!1;let a=i.XmrqU(this.getDisplayWidth(),this.scale),s=i.XmrqU(this.getDisplayHeight(),this.scale),o=this.posX,r=i.mCChi(o,a),l=this.posY,d=i.pfnFq(l,s),c=Math.min(r,this.logicalWidth),$=Math.min(d,this.logicalHeight);return e>=Math.max(o,0)&&e<=c&&i.XxvIN(t,Math.max(l,0))&&i.koDDd(t,$)}requestRedraw(){this.needsRedraw||(this.needsRedraw=!0,this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(this.draw))}handleMouseDown(e){let t={};t.gWooB=function(e,t){return e-t};let n=this.canvas.getBoundingClientRect(),i=e.clientX-n.left,a=t.gWooB(e.clientY,n.top);this.isDraggable()&&this.isInImageArea(i,a)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor="grabbing")}handleMouseLeave(){let e={};e.KIxTZ="default",this.canvas.style.cursor=e.KIxTZ}handleMouseMove(e){let t={};t.JtTtP=function(e,t){return e-t},t.sZtNH="grabbing",t.EXWtK="grab",t.Qclyl="default",t.yPLfn=function(e,t){return e-t},t.EpRfk=function(e,t){return e>t},t.RsEdu=function(e,t){return e/t};let n=t,i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=n.JtTtP(e.clientY,i.top);if(this.isInImageArea(a,s)?this.canvas.style.cursor=this.isDragging?n.sZtNH:n.EXWtK:this.canvas.style.cursor=n.Qclyl,this.isDragging){let o=Date.now(),r=n.JtTtP(o,this.lastTime);this.lastTime=o;let l=n.yPLfn(e.clientX,this.lastX),d=n.yPLfn(e.clientY,this.lastY);this.posX+=l,this.posY+=d,n.EpRfk(r,0)&&(this.velocityX=l/r,this.velocityY=n.RsEdu(d,r)),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.Qyxgl=function(e,t){return e>t},t.btnLh=function(e,t){return e-t},t.TSbeu="grab",t.woHKM="default";let n=t;this.isDragging=!1,Math.abs(this.velocityX)>this.minVelocityThreshold||n.Qyxgl(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0);let i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=n.btnLh(e.clientY,i.top);this.isInImageArea(a,s)?this.canvas.style.cursor=n.TSbeu:this.canvas.style.cursor=n.woHKM}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={};e.bYANx=function(e,t){return e/t},e.nVFdh=function(e,t){return e*t},e.tmGta=function(e,t){return e<t};let t=e;if(!this.isInertialMoving)return;let n=Date.now(),i=n-this.lastTime;this.lastTime=n,this.velocityX*=Math.pow(this.decelerationRate,t.bYANx(i,16)),this.velocityY*=Math.pow(this.decelerationRate,i/16),this.posX+=t.nVFdh(this.velocityX,i),this.posY+=t.nVFdh(this.velocityY,i),this.enforceBounds(),this.requestRedraw(),Math.abs(this.velocityX)<this.minVelocityThreshold&&t.tmGta(Math.abs(this.velocityY),this.minVelocityThreshold)?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):requestAnimationFrame(this.animateInertia.bind(this))}handleWheel(e){let t={};t.ltDdh=function(e,t){return e-t},t.LoyWJ=function(e,t){return e-t},t.Juagf=function(e,t){return e/t},t.SJHgD=function(e,t){return e*t};let n=t;e.preventDefault();let i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=n.ltDdh(e.clientY,i.top);if(!this.isInImageArea(a,s))return;let o=e.deltaY>0?.9:1.1,r=n.LoyWJ(a,this.posX)/this.scale,l=n.Juagf(n.LoyWJ(s,this.posY),this.scale),d=Math.min(Math.max(n.SJHgD(this.scale,o),this.options.minScale),this.options.maxScale);this.posX=a-r*d,this.posY=n.LoyWJ(s,l*d),this.scale=d,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};t.aOjbV=function(e,t){return e===t},t.YiSqh=function(e,t){return e>=t};let n=t;if(n.aOjbV(e.touches.length,0))return;let i=Array.from(e.touches),a=this.getTouchCenter(i);this.initialCenterX=a.x,this.initialCenterY=a.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,n.YiSqh(e.touches.length,2)&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.JYhTi=function(e,t){return e===t},t.PHMye=function(e,t){return e>=t},t.yvpQx=function(e,t){return e/t},t.jwlGl=function(e,t){return e-t},t.spnPo=function(e,t){return e*t},t.tKOvB=function(e,t){return e-t},t.CRCtD=function(e,t){return e-t};let n=t;if(!this.isTouching)return;e.preventDefault();let i=Array.from(e.touches);if(n.JYhTi(i.length,0))return;let a=this.getTouchCenter(i),s=1;if(n.PHMye(i.length,2)){let o=this.getTouchDistance(i[0],i[1]);this.initialDistance>0&&(s=o/this.initialDistance)}let r=Math.min(Math.max(this.touchStartScale*s,this.options.minScale),this.options.maxScale),l=n.yvpQx(this.initialCenterX-this.touchStartPosX,this.touchStartScale),d=n.yvpQx(n.jwlGl(this.initialCenterY,this.touchStartPosY),this.touchStartScale);if(this.posX=a.x-l*r,this.posY=n.jwlGl(a.y,n.spnPo(d,r)),this.scale=r,this.enforceBounds(),this.requestRedraw(),1===i.length){let c=Date.now(),$=c-this.lastTime;this.lastTime=c;let x=this.canvas.getBoundingClientRect(),h=i[0],u=n.tKOvB(h.clientX,x.left),f=n.jwlGl(h.clientY,x.top);$>0&&(this.velocityX=(u-this.lastX)/$,this.velocityY=n.CRCtD(f,this.lastY)/$),this.lastX=u,this.lastY=f}}handleTouchEnd(){let e={};e.XiHdE=function(e,t){return e>t},this.isTouching=!1,this.initialDistance=0,e.XiHdE(Math.abs(this.velocityX),this.minVelocityThreshold)||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.requestRedraw())}handleCanvasClick(e){let t={};t.yykZW=function(e,t){return e-t},t.TuBZk=function(e,t){return e-t};let n=t;if(!this.img)return;let i=this.canvas.getBoundingClientRect(),a=n.yykZW(e.clientX,i.left),s=n.TuBZk(e.clientY,i.top);this.isInImageArea(a,s)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={};t.ivxlS=function(e,t){return e-t},t.xuOnx=function(e,t){return e-t};let n=t;if(!this.img||e.touches.length>0)return;let i=this.canvas.getBoundingClientRect(),a=e.changedTouches[0],s=n.ivxlS(a.clientX,i.left),o=a.clientY-i.top,r=new Date().getTime();if(360>n.xuOnx(r,this.lastTapTime)){clearTimeout(this.tapTimeout);return}this.tapTimeout=setTimeout(()=>{this.isInImageArea(s,o)||this.triggerClickOutside(e),this.lastTapTime=r},200)}getTouchDistance(e,t){let n={};n.ZJQEA=function(e,t){return e-t},n.lFgqt=function(e,t){return e+t};let i=n,a=e.clientX-t.clientX,s=i.ZJQEA(e.clientY,t.clientY);return Math.sqrt(i.lFgqt(a*a,s*s))}isDraggable(){let e={};e.odmbs=function(e,t){return e>t},e.mrvfW=function(e,t){return e*t};let t=e;return this.img&&(t.odmbs(t.mrvfW(this.img.width,this.scale),this.logicalWidth)||this.img.height*this.scale>this.logicalHeight)}triggerClickOutside(e){let t={};t.rLoVn=function(e,t){return e===t},t.BwzRf="function",t.jWzsz=function(e,t){return e-t},t.sqqHl=function(e,t){return e/t};let n=t;if(n.rLoVn(typeof this.options.onClickOutside,n.BwzRf)){let i=this.canvas.getBoundingClientRect(),a={x:n.jWzsz(e.clientX,i.left),y:e.clientY-i.top,canvasX:e.clientX-i.left,canvasY:e.clientY-i.top,imageX:-1,imageY:-1};this.img&&(a.imageX=(a.canvasX-this.posX)/this.scale,a.imageY=n.sqqHl(a.canvasY-this.posY,this.scale)),this.options.onClickOutside(a,e)}}getTouchCenter(e){let t={};t.rjCOO=function(e,t){return e-t},t.fgfHk=function(e,t){return e-t},t.gVuHC=function(e,t){return e/t};let n=t,i=0,a=0,s=this.canvas.getBoundingClientRect();for(let o of e)i+=n.rjCOO(o.clientX,s.left),a+=n.fgfHk(o.clientY,s.top);return{x:n.gVuHC(i,e.length),y:a/e.length}}destroy(){let e={drYWN:"9|11|5|4|1|10|2|7|0|3|8|6",vNOpf:"touchend",QCaos:"mousedown",XCHwS:"touchstart",liucC:"click",NKcdg:function(e,t){return e(t)},YtjXf:"touchmove",ZkXiI:"resize",dzPFa:"wheel"},t=e.drYWN.split("|"),n=0;for(;;){switch(t[n++]){case"0":this.canvas.removeEventListener(e.vNOpf,this.handleTouchEnd);continue;case"1":this.canvas.removeEventListener(e.QCaos,this.handleMouseDown);continue;case"2":this.canvas.removeEventListener(e.XCHwS,this.handleTouchStart);continue;case"3":this.canvas.removeEventListener(e.liucC,this.handleCanvasClick);continue;case"4":this.canvas.removeEventListener("mouseleave",this.handleMouseLeave);continue;case"5":document.removeEventListener("mouseup",this.handleMouseUp);continue;case"6":this.animationFrameId&&e.NKcdg(cancelAnimationFrame,this.animationFrameId);continue;case"7":this.canvas.removeEventListener(e.YtjXf,this.handleTouchMove);continue;case"8":this.canvas.removeEventListener("touchend",this.handleCanvasTouchEnd);continue;case"9":window.removeEventListener(e.ZkXiI,this.handleResize);continue;case"10":this.canvas.removeEventListener(e.dzPFa,this.handleWheel);continue;case"11":document.removeEventListener("mousemove",this.handleMouseMove);continue}break}}}function _0x368348(e,t,n,i){let a={QuKxt:function(e,t){return e+t},gbkXS:function(e,t){return e*t},XykGp:function(e,t){return e*t},DbqIw:function(e,t){return e+t},CgKGZ:function(e,t){return e*t},WnHuK:function(e,t){return e<t},kIPuJ:function(e,t){return e-t},qMNks:function(e,t){return e<t},OKLdZ:function(e,t){return e/t},dlbpw:function(e,t){return e>t},rmowj:function(e,t){return e-t},zUXjp:function(e,t){return e(t)},mBzhP:function(e,t){return e/t},bROol:function(e,t){return e*t},NEjaE:function(e,t){return e*t},CrJhq:function(e,t){return e*t},dNTze:function(e,t){return e*t},eYJwB:function(e,t){return e*t}},s=a.QuKxt(a.kIPuJ(a.gbkXS(3,e),a.bROol(3,n)),1),o=3*n-a.NEjaE(6,e),r=a.CrJhq(3,e),l=a.gbkXS(3,t)-a.dNTze(3,i)+1,d=a.eYJwB(3,i)-a.eYJwB(6,t),c=3*t;function $(e){return a.QuKxt((a.gbkXS(s,e)+o)*e,r)*e}function x(e){return a.DbqIw(a.CgKGZ(a.XykGp(a.gbkXS(3,s),e)+a.XykGp(2,o),e),r)}return e=>{var t;return t=function e(t){let n=0,i=1,s=t;for(let o=0;a.WnHuK(o,8);o++){let r=a.kIPuJ($(s),t);if(a.qMNks(Math.abs(r),1e-6))return s;let l=x(s);if(1e-6>Math.abs(l))break;s-=a.OKLdZ(r,l)}for(;a.dlbpw(i,n);){let d=a.rmowj(a.zUXjp($,s),t);if(1e-6>Math.abs(d))break;a.dlbpw(d,0)?i=s:n=s,s=a.mBzhP(a.QuKxt(i,n),2)}return s}(e),a.gbkXS(a.XykGp(a.DbqIw(l*t,d),t)+c,t)}}function _0x3d130e(e,t="vertical"){let n={qRuBG:"keydown",WLmci:"vertical",XgEOB:"ArrowDown",hkwLc:function(e,t){return e-t},PxoBf:"ArrowRight",TTlZM:function(e,t){return e===t},VnGsR:"ArrowLeft",BLVHr:function(e){return e()}};function i(){let i={ZUsnG:n.qRuBG,hePdK:function(e,t){return e===t},mwDqo:n.WLmci,vDMnf:n.XgEOB,zKodj:function(e,t){return e%t},SCVLw:function(e,t){return e+t},svDvX:function(e,t){return e===t},BooyT:function(e,t){return n.hkwLc(e,t)},esuOe:"horizontal",EpFYQ:n.PxoBf,vISfa:function(e,t){return n.TTlZM(e,t)},abbCP:n.VnGsR};if(e.length<=1){e.forEach(e=>{e._navHandler&&(e.removeEventListener(i.ZUsnG,e._navHandler),delete e._navHandler)});return}e.forEach((a,s)=>{a._navHandler&&a.removeEventListener(n.qRuBG,a._navHandler),a._navHandler=n=>{let a=s;if(i.hePdK(t,i.mwDqo)){if(i.hePdK(n.key,i.vDMnf))a=i.zKodj(i.SCVLw(s,1),e.length);else{if(!i.svDvX(n.key,"ArrowUp"))return;a=i.SCVLw(i.BooyT(s,1),e.length)%e.length}}else{if(t!==i.esuOe)return;if(n.key===i.EpFYQ)a=i.SCVLw(s,1)%e.length;else{if(!i.vISfa(n.key,i.abbCP))return;a=(s-1+e.length)%e.length}}e[a].focus()},a.addEventListener(n.qRuBG,a._navHandler)})}i();let a={};return a.removeItem=function t(n){e=e.filter(e=>e!==n),i()},a.addItem=function t(a){e.push(a),n.BLVHr(i)},a.updateEventListeners=i,a}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.qjyNn=function(e,t){return e===t},n.kNEcu=function(e,t){return e===t},n.mIkYz="click";let i=n,a=this;a._bindWithCooldownHandler&&(a.removeEventListener(i.mIkYz,a._bindWithCooldownHandler),a.removeEventListener("keydown",a._bindWithCooldownHandler));let s=0,o=function(n){let o=Date.now();!a.classList.contains("disabled")&&!a.hasAttribute("disabled")&&("click"===n.type||i.qjyNn(n.keyCode,32)||i.kNEcu(n.keyCode,13))&&(o-s>=t||0===t)&&(s=o,e.call(a,n))};a.addEventListener("click",o),a.addEventListener("keydown",o),a._bindWithCooldownHandler=o};let _0x30a672={set(e,t){try{let n=JSON.stringify(t);localStorage.setItem(e,n)}catch(i){console.error("Error saving to localStorage",i)}},get(e,t=null){try{let n=localStorage.getItem(e);return null!==n?JSON.parse(n):t}catch(i){return console.error("Error reading from localStorage",i),t}},remove(e){let t={};t.AxWyP="Error removing from localStorage";try{localStorage.removeItem(e)}catch(n){console.error(t.AxWyP,n)}},clear(){let e={};e.JBXjs="Error clearing localStorage";try{localStorage.clear()}catch(t){console.error(e.JBXjs,t)}},has:e=>null!==localStorage.getItem(e),keys:()=>Object.keys(localStorage)};class _0x58ceb2{constructor({parent:e,text:t,placement:n="top"}){let i={};i.CyFFM="mouseenter",i.SwmYy="focus",i.HObpA="blur",i.iSDGi="mouseleave";let a=i;this._parent=e,this._content=t,this._placement=n,this._tooltip=null,this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9),this._parent.setAttribute("aria-describedby",this._tooltipId),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this._parent.addEventListener(a.CyFFM,this.showTooltip),this._parent.addEventListener(a.SwmYy,this.showTooltip),this._parent.addEventListener(a.HObpA,this.hideTooltip),this._parent.addEventListener(a.iSDGi,this.hideTooltip)}_createTooltipElement(){let e=({rJSHK:function(e,t){return e(t)}}).rJSHK(_0x4c1eaf,"xuocLuDI6");return e.setAttribute("placement",this._placement),e.setAttribute("id",this._tooltipId),e.innerText=this._content,e}updatePosition(){let e={};e.NvGDv="top",e.SsVtr=function(e,t){return e+t},e.oaPFC=function(e,t){return e+t},e.waxBR=function(e,t){return e/t},e.mTriQ=function(e,t){return e-t},e.IYMYp=function(e,t){return e-t},e.mEqsl=function(e,t){return e+t},e.MyJNz="right",e.FCdyT=function(e,t){return e/t},e.xPzok=function(e,t){return e/t},e.fvnEW=function(e,t){return e+t};let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),i=this._tooltip.getBoundingClientRect(),a,s;switch(this._placement){case t.NvGDv:a=window.scrollY+n.top-i.height-8,s=t.SsVtr(window.scrollX,n.left)+n.width/2-i.width/2;break;case"bottom":a=t.oaPFC(window.scrollY,n.bottom)+8,s=t.oaPFC(window.scrollX,n.left)+t.waxBR(n.width,2)-i.width/2;break;case"left":a=t.mTriQ(t.oaPFC(window.scrollY+n.top,t.waxBR(n.height,2)),t.waxBR(i.height,2)),s=t.IYMYp(t.mEqsl(window.scrollX,n.left),i.width)-8;break;case t.MyJNz:a=t.SsVtr(window.scrollY,n.top)+t.FCdyT(n.height,2)-t.xPzok(i.height,2),s=t.fvnEW(window.scrollX+n.right,8);break;default:throw Error("Invalid placement value")}this._tooltip.style.top=a+"px",this._tooltip.style.left=s+"px"}showTooltip(){let e={};e.gUhzF="data-state",e.iSDaw="aria-expanded",e.QpyQK="true";let t=e;this._tooltip||(this._tooltip=this._createTooltipElement(),document.body.appendChild(this._tooltip),this.updatePosition(),this._tooltip.setAttribute(t.gUhzF,"delayed-open"),this._tooltip.setAttribute(t.iSDaw,t.QpyQK))}hideTooltip(){let e={};e.lyDBd="closed",e.Yflii="aria-expanded";let t=e;this._tooltip&&(this._tooltip.setAttribute("data-state",t.lyDBd),this._tooltip.setAttribute(t.Yflii,"false"),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.gieXP="0|1|4|3|2",e.pukln="aria-describedby",e.kCwlR="mouseleave",e.KsQvw="blur";let t=e;if(this.hideTooltip(),this._parent){let n=t.gieXP.split("|"),i=0;for(;;){switch(n[i++]){case"0":this._parent.removeAttribute(t.pukln);continue;case"1":this._parent.removeEventListener("mouseenter",this.showTooltip);continue;case"2":this._parent.removeEventListener(t.kCwlR,this.hideTooltip);continue;case"3":this._parent.removeEventListener(t.KsQvw,this.hideTooltip);continue;case"4":this._parent.removeEventListener("focus",this.showTooltip);continue}break}}this._tooltip=null,this._parent=null,this._content=null}}class _0x5de3da{constructor({trigger:e,placement:t="bottom"}){let n={YLWju:"true",HNNJT:"xEHCrF5Oe",FRnjq:function(e,t){return e(t)},kMroH:"overlay",QhPXv:"data-state",WYHHW:"open",kslOs:"role",COQXh:"aria-modal",JEJvF:function(e,t){return e(t)},icJQr:"click",SrxDP:"contextmenu",aMIMW:"keydown",HghXS:"resize"},i="_"+_0x4f19a8(12);this.trigger=e,this.placement=t,this.Root=_0x4c1eaf(n.HNNJT),this.Overlay=n.FRnjq(_0x4c1eaf,n.kMroH),this.Content=n.FRnjq(_0x4c1eaf,"xC3Uih0ex"),this.Root.setAttribute(n.QhPXv,n.WYHHW),this.Root.setAttribute(n.kslOs,"popover"),this.Root.setAttribute(n.COQXh,"true"),this.Root.id=i,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let a=n.JEJvF(_0x12ffaf,i);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+a+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert",n.YLWju)}),this.Overlay.addEventListener(n.icJQr,()=>this.close()),this.Overlay.addEventListener(n.SrxDP,()=>this.close()),document.addEventListener(n.aMIMW,this._handleKeyDown),this._setPosition(),window.addEventListener(n.HghXS,this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e={};e.ZWsDc="absolute";let t=this.trigger.getBoundingClientRect(),n=this.Content.getBoundingClientRect(),i;if(Array.isArray(this.placement)){for(let a of this.placement){let s=this._calculatePosition(a,t,n);if(this._isPositionWithinViewport(s,n)){i=a;break}}i||(i=this.placement[0])}else i=this.placement;let o=this._calculatePosition(i,t,n);this.Content.style.position=e.ZWsDc,this.Content.style.top=o.top+"px",this.Content.style.left=o.left+"px"}_calculatePosition(e,t,n){let i={};i.oqrlk="top",i.VYjvb="left",i.lYGBo=function(e,t){return e-t},i.BrmVB=function(e,t){return e+t},i.pXERa=function(e,t){return e===t},i.FINgR="bottom",i.bCYlC=function(e,t){return e/t};let a=i,s=0,o=0,[r,l]=e.split("-");switch(r){case a.oqrlk:s=t.top-n.height;break;case"bottom":s=t.bottom;break;case a.VYjvb:o=a.lYGBo(t.left,n.width);break;case"right":o=t.right}switch(l){case"start":o=t.left;break;case"end":o=a.BrmVB(t.left,t.width)-n.width;break;default:a.pXERa(r,a.oqrlk)||r===a.FINgR?o=t.left+(t.width-n.width)/2:s=t.top+a.bCYlC(t.height-n.height,2)}let d={};return d.top=s,d.left=o,d}_isPositionWithinViewport(e,t){let n={};n.xUHMA=function(e,t){return e>=t},n.WWeQV=function(e,t){return e<=t};let i=n,a=window.innerWidth,s=window.innerHeight,{top:o,left:r}=e;return i.xUHMA(o,0)&&r>=0&&o+t.height<=s&&i.WWeQV(r+t.width,a)}_handleKeyDown=e=>{27===e.keyCode&&(this.close(),this.trigger.focus())};_removeListeners(){let e={};e.SKtvT="keydown",document.removeEventListener(e.SKtvT,this._handleKeyDown),window.removeEventListener("resize",this._handleResize)}onClose(e){this.onCloseCallback=e}close(){let e={};e.UOTQR="data-state",e.xwgos="closed";let t=e;this._removeListeners(),this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),this.Root.setAttribute(t.UOTQR,t.xwgos),setTimeout(()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x12ffaf(e){let t={};t.mGLWH="\\$&",t.AlHcf=function(e,t){return e+t},t.ojURs=function(e,t){return e+t};let n=t;return e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,n.mGLWH).replace(/^(-?\d)/,n.AlHcf(n.ojURs("\\3",e.charAt(0))," "))}class _0x11f223{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={RwvES:function(e,t){return e(t)},RlMuV:"x54SkYRT0",CXnzn:"open",MhOVq:"dialog",IRCPF:"aria-modal",bSrFw:function(e,t){return e(t)}},a="_"+i.RwvES(_0x4f19a8,12);this.Root=_0x4c1eaf(i.RlMuV),this.Overlay=i.RwvES(_0x4c1eaf,"overlay"),this.Content=_0x4c1eaf("content"),this.Root.setAttribute("data-state",i.CXnzn),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role",i.MhOVq),this.Root.setAttribute(i.IRCPF,"true"),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=a;let s=i.bSrFw(_0x12ffaf,a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add("show"),_0x11f223.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.wjVrz=function(e,t){return e===t},t.wjVrz(e.keyCode,27)&&_0x11f223.stack[_0x11f223.stack.length-1]===this&&this.close()};onClose(e){this.onCloseCallback=e}close(){let e={SiQTH:function(e,t){return e instanceof t},dsPkm:"data-state",YMhat:"closed",DcdIh:function(e,t,n){return e(t,n)}};if(!this.Lock){let t=_0x11f223.stack.indexOf(this);t>-1&&_0x11f223.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback(),this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(t=>{e.SiQTH(t,HTMLElement)&&t.removeAttribute("inert")}):this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),this.Root.setAttribute(e.dsPkm,e.YMhat),e.DcdIh(setTimeout,()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}}_0x11f223.stack=[];class _0x538af4 extends _0x11f223{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:i=!1,closeOnEsc:a=!0,showCloseButton:s=!1}={}){let o={};o.JLskH="0px",o.sBUYN="xv1VrMJb6",o.aSceG="xLDQZ1SSl";let r=o,l={};l.closeOnOverlayClick=i,l.closeOnEsc=a,super(l);let d=this._createHeader(e,s),c=this._createBody(t);if(this.Content.style.padding=r.JLskH,this.Content.classList.add(r.sBUYN),this.Content.classList.add(r.aSceG),this.Content.appendChild(d),this.Content.appendChild(c),n.length>0){let $=this._createFooter(n);c.appendChild($)}}_createHeader(e,t){let n={wPMGj:"div",VqTjW:"xrYn5ZY3v lf gn",grYeV:function(e,t){return e||t},NJaMc:"Alert",YBMTK:function(e,t){return e(t)},LjBih:"xvb5soWNa",emJqy:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>'},i=document.createElement(n.wPMGj);i.className=n.VqTjW;let a=document.createElement("div");if(a.className="x6Y89FynP",a.textContent=n.grYeV(e,n.NJaMc),i.appendChild(a),t){let s=n.YBMTK(_0x4c1eaf,n.LjBih);s.focusable(!0),s.innerHTML=n.emJqy,s.bindWithCooldown(()=>{this.close()}),i.appendChild(s)}return i}_createBody(e){let t={};t.bfTfw="div",t.GjUIz="xWDUelLWA";let n=t,i=document.createElement(n.bfTfw);i.className=n.GjUIz;let a=document.createElement(n.bfTfw);return a.className="xujSSErs5",a.innerHTML=e||"Are you sure?",i.appendChild(a),i}_createFooter(e){let t={XPecA:function(e){return e()},lzomh:function(e,t){return e+t},FPOHs:"tabindex",JXPTn:"div",xMIVI:function(e,t,n){return e(t,n)},aiCbA:"horizontal"},n=document.createElement(t.JXPTn);n.className="xWh2LBcgj";let i=t.xMIVI(_0x3d130e,[],t.aiCbA);return e.forEach(({text:e,classList:a=[],onClick:s})=>{let o=_0x4c1eaf("xtSMPpB1C"),r=document.createElement("div");r.className=t.lzomh("xgw2tzk6r ",a.join(" ")),r.setAttribute(t.FPOHs,"0"),r.textContent=e,r.bindWithCooldown(()=>{s&&t.XPecA(s),this.close()}),o.appendChild(r),i.addItem(r),n.appendChild(o)}),n}}let _0x4c1eaf=e=>{let t=document.createElement("div");return t.classList.add(e),t},_0x452623=e=>document.querySelector(e);function _0x4f19a8(e){let t={};t.JBTnw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.qpSEz=function(e,t){return e<t};let n=t,i=n.JBTnw,a="";for(let s=0;n.qpSEz(s,e);s++)a+=i.charAt(Math.floor(Math.random()*i.length));return a}function _0x3d19b2(e,t,n={}){let i={PuVfY:"span",xLjmT:function(e,t){return e===t},YyfJO:function(e,t){return e-t},lgcea:function(e,t){return e(t)},cAWSy:function(e,t){return e<t},WPqhe:function(e,t){return e(t)},yrtfR:function(e,t,n){return e(t,n)},Aocdb:"text/html",wjrGH:function(e){return e()}},{interval:a=24,fadeDuration:s=214,bezierControl:o=[.42,0,1,1]}=n,r=_0x368348(...o),l=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>",i.Aocdb).body.firstChild.childNodes),d=[];function c(e){let t=performance.now();function n(a){let o=Math.min(i.YyfJO(a,t)/s,1),l=i.lgcea(r,o);e.style.opacity=l,i.cAWSy(o,1)&&i.WPqhe(requestAnimationFrame,n)}requestAnimationFrame(n)}function $(){if(d.length){let e=d.shift();i.lgcea(c,e),i.yrtfR(setTimeout,$,a)}}l.forEach(t=>(function e(t,n){if(t.nodeType===Node.TEXT_NODE){let a=t.textContent.split("");for(let s of a){let o=document.createElement(i.PuVfY);o.classList.add("xSwoj5Cx2"),o.textContent=s,n.appendChild(o),d.push(o)}}else if(i.xLjmT(t.nodeType,Node.ELEMENT_NODE)){let r=t.cloneNode(!1);n.appendChild(r),Array.from(t.childNodes).forEach(t=>e(t,r))}})(t,e)),i.wjrGH($)}function _0x18b396(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0x1560f0(){let e={};e.FjFIg=function(e,t){return e===t},e.fPDrn="MacIntel",e.vtwLD="iOS",e.vAyDA="Tablet",e.nGqYx="Mobile",e.BzbAA="Windows",e.snFxt="Desktop",e.dbqks="Linux",e.KVPIK="Unknown";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,i=navigator.platform,a=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||t.FjFIg(i,t.fPDrn)&&a>1){let s=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(s){let o=s[1]||"0",r=s[2]||"0",l=s[3]||"0";return{os:t.vtwLD,version:o+"."+r+"."+l,deviceType:/iPad/.test(n)?t.vAyDA:"Mobile"}}}if(/Android/.test(n)){let d=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(d)return{os:"Android",version:(d[1]||"0")+"."+(d[2]||"0")+"."+(d[3]||"0"),deviceType:/Mobile/.test(n)?t.nGqYx:t.vAyDA}}if(/Win/.test(i)){let c=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(c){let $=c[1]||"0",x=c[2]||"0",h={};return h.os=t.BzbAA,h.version=$+"."+x,h.deviceType="Desktop",h}let u={};return u.os="Windows",u.version=null,u.deviceType=t.snFxt,u}if(/Mac/.test(i)){let f=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(f){let p=f[1]||"0",_=f[2]||"0",b=f[3]||"0",m={};return m.os="macOS",m.version=p+"."+_+"."+b,m.deviceType=t.snFxt,m}let v={};return v.os="macOS",v.version=null,v.deviceType="Desktop",v}if(/Linux/.test(i)){let g={};return g.os=t.dbqks,g.version=null,g.deviceType="Desktop",g}let C={};return C.os=t.KVPIK,C.version=null,C.deviceType="Unknown",C}function _0x14e80e(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x3ed418={};_0x3ed418.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x3ed418.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x3ed418.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x6da2f3=_0x3ed418;class _0x1be35b{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={hnjmJ:"drawer-overlay",XHEfc:function(e,t){return e(t)},IHcNt:function(e,t){return e(t)},UwRic:"div",gsdfn:"drawer-drag-handle",PQtfQ:"open",pGuDp:"role",DTWaB:"aria-modal",xEToz:"show",PgLxu:"keydown"},a="_"+_0x4f19a8(12);this.Root=_0x4c1eaf("drawer-root"),this.Overlay=_0x4c1eaf(i.hnjmJ),this.Content=i.XHEfc(_0x4c1eaf,"drawer-content"),this.Header=i.IHcNt(_0x4c1eaf,"drawer-header"),this.Handle=document.createElement(i.UwRic),this.Handle.className=i.gsdfn,this.Header.appendChild(this.Handle),this.Body=_0x4c1eaf("drawer-body"),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute("data-state",i.PQtfQ),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(i.pGuDp,"dialog"),this.Root.setAttribute(i.DTWaB,"true"),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=a;let s=_0x12ffaf(a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.xEToz),_0x1be35b.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener(i.PgLxu,this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.pWqHR=function(e,t){return e===t};let n=t;if(n.pWqHR(e.keyCode,27)){let i=_0x1be35b.stack[_0x1be35b.stack.length-1];n.pWqHR(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={UVWWZ:function(e,t){return e>t},mWmYg:"none",AGrju:"matrix",MfQCM:"translateY(100%)",ujAoN:function(e,t,n){return e(t,n)}},t=_0x1be35b.stack.indexOf(this);t>-1&&_0x1be35b.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback();let n=()=>{e.UVWWZ(this._exclude_for_restore.length,0)?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},i=window.getComputedStyle(this.Content).transform;i===e.mWmYg||i.includes(e.AGrju)?(this.Content.classList.remove("x9GmoP75O"),this.Content.style.transform=e.MfQCM,e.ujAoN(setTimeout,()=>{n(),this.Root.remove()},300)):(n(),this.Root.remove()),this._removeListeners()}_removeListeners(){let e={};e.bMiFw="keydown",this.Overlay.onclick=null,document.removeEventListener(e.bMiFw,this._handleKeyDown)}_setupDrag(){let e={};e.yHdab=function(e,t){return e>t},e.lykPk=function(e,t){return e/t},e.IIqAT=function(e,t){return e/t},e.VSbwr=function(e,t){return e-t},e.fGajC=function(e,t){return e*t},e.fmGAY=function(e,t){return e>t},e.EiJwe=function(e,t){return e>t},e.rJJKF="mousemove",e.lOhQq="mouseup",e.hcLBQ="touchstart",e.lSYrj="mousedown";let t=e,n=0,i=0,a=0,s=!1,o=e=>{let t="4|2|3|1|0".split("|"),i=0;for(;;){switch(t[i++]){case"0":this.Content.classList.add("x9GmoP75O");continue;case"1":s=!0;continue;case"2":n=e.touches?e.touches[0].clientY:e.clientY;continue;case"3":a=Date.now();continue;case"4":if(0!==e.target.scrollTop||e.target.closest(".xBWmlKrN2 *"))return;continue}break}},r=e=>{if(!s)return;let a=(i=e.touches?e.touches[0].clientY:e.clientY)-n,o=this.Content.offsetHeight;t.yHdab(a,0)&&(this.Content.style.transform="translateY("+a+"px)",this.Overlay.style.opacity=Math.max(1-t.lykPk(a,o),0))},l=()=>{if(!s)return;let e=i-n,o=t.IIqAT(t.VSbwr(Date.now(),a),1e3),r=this.Content.offsetHeight,l=t.fGajC(r,.5);this.Content.classList.remove("x9GmoP75O"),t.fmGAY(e,l)||t.EiJwe(e/o,600)?this.close():(this.Content.style.transform="translateY(0)",this.Overlay.style.opacity=1),s=!1},d={};d.passive=!0,this.Content.addEventListener(t.hcLBQ,o,d);let c={};c.passive=!0,this.Content.addEventListener("touchmove",r,c),this.Content.addEventListener("touchend",l),this.Content.addEventListener(t.lSYrj,e=>{let n={rKQJx:function(e){return e()},pVQJN:t.rJJKF,EPlED:t.lOhQq};o(e);let i=e=>r(e),a=()=>{n.rKQJx(l),document.removeEventListener(n.pVQJN,i),document.removeEventListener(n.EPlED,a)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)})}}_0x1be35b.stack=[];class _0x33a3bf{constructor(){let e={};e.BNhVO="https://translate.googleapis.com/translate_a/single",e.CFMRA="gtx";let t=e;this.baseUrl=t.BNhVO,this.client=t.CFMRA}async translate(e,t="en",n="auto"){let i={};i.client=this.client,i.sl=n,i.tl=t,i.dt="t",i.q=e;let a=new URLSearchParams(i);try{let s=await fetch(this.baseUrl+"?"+a);if(!s.ok)throw Error("翻譯失敗，狀態碼: "+s.status);let o=await s.json(),r="";o[0]&&o[0].forEach(e=>{e[0]&&(r+=e[0])});let l=o[2]||n,d={};d.text=e,d.language=l;let c={};c.text=r,c.language=t;let $={};return $.original=d,$.translated=c,$}catch(x){throw Error("翻譯錯誤: "+x.message)}}}let _0x47c3ab=_0x30a672.get("lang"),_0x93fd79="zh";_0x47c3ab?_0x93fd79=_0x47c3ab:(_0x93fd79="zh",_0x30a672.set("lang","zh"));let _0xd5e55a={};_0xd5e55a.a1="搜尋…",_0xd5e55a.a2="未知",_0xd5e55a.a3="在這裡輸入訊息…",_0xd5e55a.a4="更新了什麼",_0xd5e55a.a5="私人",_0xd5e55a.a6="說明",_0xd5e55a.a7="公開",_0xd5e55a.a8="展開全部",_0xd5e55a.a9="顯示較少",_0xd5e55a.a10="查看全部",_0xd5e55a.a11="加入聊天室",_0xd5e55a.a12="加入聊天室",_0xd5e55a.a13="邀請碼",_0xd5e55a.a14="送出",_0xd5e55a.a15="查看個人資料",_0xd5e55a.a16="登出",_0xd5e55a.a17="無效的邀請碼，請重新嘗試",_0xd5e55a.a18="$0 秒前",_0xd5e55a.a19="$0 個月前",_0xd5e55a.a20="$0 分鐘前",_0xd5e55a.a21="$0 小時前",_0xd5e55a.a22="$0 年前",_0xd5e55a.a23="$0 天前",_0xd5e55a.a24="無法預覽這個文件",_0xd5e55a.a25="下載",_0xd5e55a.a26="你",_0xd5e55a.b1="描述",_0xd5e55a.b2="最後上線",_0xd5e55a.b3="描述",_0xd5e55a.b4="暱稱",_0xd5e55a.b5="編輯個人資料",_0xd5e55a.b6="完成",_0xd5e55a.b7="完成",_0xd5e55a.b8="歡迎回來",_0xd5e55a.b9="登入帳號後即可使用我們的服務",_0xd5e55a.b10="等待中…",_0xd5e55a.b11="使用 Google 繼續",_0xd5e55a.b12="使用 電子郵件 登入",_0xd5e55a.b13="返回上一頁",_0xd5e55a.b14="密碼錯誤，請重新嘗試",_0xd5e55a.b15="找不到這個帳號，請重新嘗試",_0xd5e55a.b16="網路請求錯誤，請檢查網路連線",_0xd5e55a.b17="發生未知的錯誤",_0xd5e55a.b18="$0 則訊息",_0xd5e55a.b19="沒有訊息",_0xd5e55a.b20="所有成員",_0xd5e55a.b21="查看所有成員",_0xd5e55a.b22="查看行程安排",_0xd5e55a.b23="退出",_0xd5e55a.b24="電子郵件地址",_0xd5e55a.b25="密碼",_0xd5e55a.b26="送出",_0xd5e55a.b27="電子郵件登入",_0xd5e55a.b28="@未知",_0xd5e55a.b29="未知",_0xd5e55a.b30="已成功清除緩存，重新載入後即生效",_0xd5e55a.b31="未知的指令，請重新嘗試",_0xd5e55a.b32="載入中…",_0xd5e55a.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0xd5e55a.b34="退出",_0xd5e55a.b35="取消",_0xd5e55a.b36="確定",_0xd5e55a.b37="行程安排",_0xd5e55a.b38="標題",_0xd5e55a.b39="開始",_0xd5e55a.b40="結束",_0xd5e55a.b41="編輯行程",_0xd5e55a.c1="編輯模式",_0xd5e55a.c2="預覽模式",_0xd5e55a.c3="已更新介面語言為：$0",_0xd5e55a.c4="英語",_0xd5e55a.c5="中文",_0xd5e55a.z0='<li class="xcKqXW8uF">修復了一些錯誤</li><li class="xcKqXW8uF">未來可能不會再更新了，看情況</li>',_0xd5e55a.b42="上傳中",_0xd5e55a.b43="正在上傳中，請耐心等待",_0xd5e55a.b44="上傳遭中斷",_0xd5e55a.b45="已取消上傳",_0xd5e55a.b46="上傳完成",_0xd5e55a.b47="這個文件已經成功上傳了",_0xd5e55a.b48="上傳失敗",_0xd5e55a.b49="這個文件有 $0 ，我們無法負擔",_0xd5e55a.b50="動態",_0xd5e55a.b51="暫無動態",_0xd5e55a.b52="點擊查看",_0xd5e55a.d0="附加文件",_0xd5e55a.d1="發送",_0xd5e55a.d2="加入貼圖",_0xd5e55a.d3="標記為重要",_0xd5e55a.d4="取消標記",_0xd5e55a.d5="任何人都能加入這個聊天室",_0xd5e55a.d6="只有受邀人能加入本聊天室",_0xd5e55a.d7="重新載入後方可完整更新您的資料",_0xd5e55a.d8="這裡還沒有訊息，現在就開始聊天吧",_0xd5e55a.d9="未知",_0xd5e55a.d10="暫時還沒有描述哦",_0xd5e55a.d11="未知",_0xd5e55a.d12="未知",_0xd5e55a.d13="尚未加入任何聊天室",_0xd5e55a.d14="還沒有任何行程，現在就創建一個吧",_0xd5e55a.f1="暫時沒有人欸…\xa0等等你不是人?",_0xd5e55a.f2="今天",_0xd5e55a.f3="明天",_0xd5e55a.f4="昨天",_0xd5e55a.f5="$0 天前",_0xd5e55a.f6="$0 天後",_0xd5e55a.f7="已結束",_0xd5e55a.f8="時間範圍無效",_0xd5e55a.f11="清除快取",_0xd5e55a.f12="隱藏動態",_0xd5e55a.f13="最後上線時間將不會公開",_0xd5e55a.f14="同步訊息更新",_0xd5e55a.f15="訊息被修改、刪除都將即時同步",_0xd5e55a.f16="攔截推銷與廣告內容",_0xd5e55a.f17="自動識別並攔截此類內容，可能不準確",_0xd5e55a.f18="過濾敏感詞彙",_0xd5e55a.f19="自動識別並過濾此類內容，可能不準確",_0xd5e55a.f20="設定",_0xd5e55a.f21="已清除",_0xd5e55a.f22="所有人",_0xd5e55a.s1="當前版本：$0",_0xd5e55a.s2="開發者：$0",_0xd5e55a.s3="關於",_0xd5e55a.s4="翻譯",_0xd5e55a.s5="翻譯中",_0xd5e55a.s6="已翻譯",_0xd5e55a.s7="重試";let _0x18af46={};_0x18af46.a1="Search…",_0x18af46.a2="Unknown",_0x18af46.a3="Enter message here…",_0x18af46.a4="What's new",_0x18af46.a5="Private",_0x18af46.a6="Illustrate",_0x18af46.a7="Public",_0x18af46.a8="Show more",_0x18af46.a9="Show less",_0x18af46.a10="Show all",_0x18af46.a11="Join groups",_0x18af46.a12="Join Groups",_0x18af46.a13="Invitation code",_0x18af46.a14="Submit",_0x18af46.a15="View profile",_0x18af46.a16="Logout",_0x18af46.a17="Invalid invitation code, please try again",_0x18af46.a18="$0 seconds ago",_0x18af46.a19="$0 months ago",_0x18af46.a20="$0 minutes ago",_0x18af46.a21="$0 hours ago",_0x18af46.a22="$0 years ago",_0x18af46.a23="$0 days ago",_0x18af46.a24="Unable to preview this file",_0x18af46.a25="Download",_0x18af46.a26="You",_0x18af46.b1="Description",_0x18af46.b2="Last online",_0x18af46.b3="Description",_0x18af46.b4="Nickname",_0x18af46.b5="Edit Profile",_0x18af46.b6="Save",_0x18af46.b7="Save",_0x18af46.b8="Welcome back",_0x18af46.b9="Log in to your account to use our services",_0x18af46.b10="Waiting…",_0x18af46.b11="Continue with Google",_0x18af46.b12="Continue with Email",_0x18af46.b13="Return to previous page",_0x18af46.b14="Wrong password, please try again",_0x18af46.b15="The account could not be found. Please try again.",_0x18af46.b16="Network request error, please check the network connection",_0x18af46.b17="An unknown error occurred",_0x18af46.b18="$0 messages",_0x18af46.b19="No message",_0x18af46.b20="All members",_0x18af46.b21="View members",_0x18af46.b22="View itinerary",_0x18af46.b23="Leave",_0x18af46.b24="Email Address",_0x18af46.b25="Password",_0x18af46.b26="Submit",_0x18af46.b27="Login with Email",_0x18af46.b28="@unknown",_0x18af46.b29="unknown",_0x18af46.b30="The cache has been successfully cleared and will take effect after reloading",_0x18af46.b31="Unknown command, please try again",_0x18af46.b32="Loading…",_0x18af46.b33="Are you sure you want to leave this group? You can rejoin later.",_0x18af46.b34="Leave",_0x18af46.b35="Cancel",_0x18af46.b36="Comfirm",_0x18af46.b37="All itinerary",_0x18af46.b38="Title",_0x18af46.b39="Start",_0x18af46.b40="End",_0x18af46.b41="Edit itinerary",_0x18af46.c1="編輯模式",_0x18af46.c2="預覽模式",_0x18af46.c3="Updated language: $0",_0x18af46.c4="English",_0x18af46.c5="Chinese",_0x18af46.z0='<li class="xcKqXW8uF">Fixed some bugs.</li><li class="xcKqXW8uF">There may be no more updates in the future.</li>',_0x18af46.b42="Uploading",_0x18af46.b43="Uploading, please wait patiently",_0x18af46.b44="Upload interrupted",_0x18af46.b45="Upload canceled",_0x18af46.b46="Upload completed",_0x18af46.b47="The file has been uploaded successfully",_0x18af46.b48="Upload failed",_0x18af46.b49="This file is $0 and we can't afford it",_0x18af46.b50="Dynamics",_0x18af46.b51="No dynamic",_0x18af46.b52="Click here to view",_0x18af46.d0="Attach files",_0x18af46.d1="Send",_0x18af46.d2="Add stickers",_0x18af46.d3="Mark as important",_0x18af46.d4="Unmark",_0x18af46.d5="Anyone can join this group",_0x18af46.d6="Only invited people can join this group",_0x18af46.d7="Reload to fully update your information",_0x18af46.d8="There are no messages here yet. Start chatting now.",_0x18af46.d9="Unknown",_0x18af46.d10="There is no description yet",_0x18af46.d11="Unknown",_0x18af46.d12="Unknown",_0x18af46.d13="Not joined any chat room yet",_0x18af46.d14="No itinerary yet",_0x18af46.f1="There's\xa0no\xa0one\xa0here\xa0at\xa0the\xa0moment...",_0x18af46.f2="Today",_0x18af46.f3="Tomorrow",_0x18af46.f4="Yesterday",_0x18af46.f5="$0 days ago",_0x18af46.f6="$0 days later",_0x18af46.f7="Ended",_0x18af46.f8="Invalid\xa0time\xa0range",_0x18af46.f11="Clear cache",_0x18af46.f12="Hide activity",_0x18af46.f13="The last online time will not be disclosed",_0x18af46.f14="Sync message updates",_0x18af46.f15="Messages that are modified or deleted will be synchronized immediately",_0x18af46.f16="Block promotional and advertising content",_0x18af46.f17="Automatically identify and block such content, which may not be accurate",_0x18af46.f18="Filter sensitive words",_0x18af46.f19="Automatically identify and filter this type of content, which may be inaccurate",_0x18af46.f20="Settings",_0x18af46.f21="Cleared",_0x18af46.f22="everyone",_0x18af46.s1="Current version: $0",_0x18af46.s2="Developer: $0",_0x18af46.s3="About",_0x18af46.s4="Translate",_0x18af46.s5="Translating",_0x18af46.s6="Translated",_0x18af46.s7="Try again";let _0x2fb151={};_0x2fb151.zh=_0xd5e55a,_0x2fb151.en=_0x18af46;let _0x207780=_0x2fb151;function _0x2ee20a(e){return _0x207780[e]}let _0x4ac233={};_0x4ac233.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x4ac233.authDomain="smiling-theory-397204.firebaseapp.com",_0x4ac233.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x4ac233.projectId="smiling-theory-397204",_0x4ac233.storageBucket="smiling-theory-397204.appspot.com",_0x4ac233.messagingSenderId="360479398694",_0x4ac233.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x4ac233.measurementId="G-6BKTT1K7D1";let _0x17af1a=e(_0x4ac233),_0x43d5b4=_0x2ee20a(_0x93fd79),_0x25cfec=$(_0x17af1a),_0x505f1e=r(_0x17af1a),_0x33a09d=new i,_0x1133bf=t(),_0x20484c=new _0x33a3bf;x(_0x25cfec).then(()=>{console.log("離線緩存功能已啟用")}).catch(e=>{let t={};t.klAIi="已開啟多個分頁，無法啟用離線緩存功能",t.Brawq=function(e,t){return e===t},t.RSyyL="unimplemented";let n=t;"failed-precondition"===e.code?console.error(n.klAIi):n.Brawq(e.code,n.RSyyL)&&console.error("當前瀏覽器不支持離線緩存")});let _0x141448=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x4e8142=[],_0x4e72d6={sidebar:_0x452623(".xFz8bwNFr"),main:_0x452623(".x8o58HttN"),messageInput:_0x452623(".xtsARDHTI"),searchInput:_0x452623(".xujXllYgW"),messageContainer:_0x452623(".xikyLwDf4"),sendButton:_0x452623(".xuwRtDpu4"),fileInput:_0x452623(".xVEJA40Qh"),attachButton:_0x452623(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x452623(".xpbRox0hO#xbXZpIWEa"),markButton:_0x452623(".xpbRox0hO#xsVrze5YA"),brushButton:_0x452623(".xpbRox0hO#xrfvUzMAG"),heading:_0x452623(".xehdiGgBv"),backButton:_0x452623(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x452623(".xemr1y6ie"),spinnerContainer:_0x452623(".xemr1y6ie .spinner"),spinnerLabel:_0x452623(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x452623(".xDADAUUv4"),roomNameLabel:_0x452623(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x452623(".xlKSJ67AP"),nameLabel:_0x452623(".xt4GQkVIo"),avatarLabel:_0x452623(".xbVHF6S6B"),avatarWrapper:_0x452623(".xaoteDJh4"),profileContainer:_0x452623(".xQ6gFUtqT"),layoutResizer:_0x452623(".xrFP6D2e1"),layoutResizer2:_0x452623(".xZddo7wlf"),activityBar:_0x452623(".pS2na74a"),sidebarOverlay:_0x452623(".xgUJeGeNl")},_0x2eef71='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0x43d5b4.b32,_0x54b9c6={};_0x54b9c6.current="0.2.3",_0x54b9c6.cacheId="x0n0HCjlj",_0x54b9c6.directions='<ul class="xxmjDL5xB xbH7v2Hbn">'+_0x43d5b4.z0+"</ul>";let _0x1db48a=_0x54b9c6,_0x42983c={};_0x42983c.duration=3e4,_0x42983c.limit=2,_0x42983c.locking=!1;let _0x166261=_0x42983c,_0x2b96d7=[],_0xe25224={},_0x9ac266={},_0xc05163={},_0x1d5823={},_0x20681a,_0x329146=!1,_0x3278c6="",_0x2e0a7c,_0x31e4b8=0,_0x3927d0,_0x3fcabe=!1,_0x30ed2d=!1,_0x3219ad=!1,_0x35014b=_0x4e72d6.messageContainer,_0x4db2df={};_0x4db2df.state=!1,_0x4db2df._a=null,_0x4db2df._b=null,_0x4db2df._n="",_0x4db2df._d="",_0x4db2df._m=[];let _0x55aaa1=_0x4db2df,_0xf1b4d="",_0x30e604=null;if(_0x141448)document.body.classList.add("mobile"),_0x4e72d6._mb_att_btn.bindWithCooldown(function(){_0x4e72d6.fileInput.click()});else{document.body.classList.add("desktop");let E={};E.parent=_0x4e72d6.attachButton,E.text=_0x43d5b4.d0,E.placement="top",new _0x58ceb2(E),_0x4e72d6.attachButton.bindWithCooldown(function(){_0x4e72d6.fileInput.click()});let M={};M.parent=_0x4e72d6.sendButton,M.text=_0x43d5b4.d1,M.placement="top",new _0x58ceb2(M);let H={};H.parent=_0x4e72d6.stickerButton,H.text=_0x43d5b4.d2,H.placement="top",new _0x58ceb2(H);let A={};A.parent=_0x4e72d6.markButton,A.text=_0x43d5b4.d3,A.placement="top";let B=new _0x58ceb2(A),I={};I.parent=_0x4e72d6.brushButton,I.text="潤色文本",I.placement="top",new _0x58ceb2(I),_0x3d130e([_0x4e72d6.attachButton,_0x4e72d6.brushButton,_0x4e72d6.markButton,_0x4e72d6.stickerButton],"horizontal"),_0x4e72d6.brushButton.bindWithCooldown(function(){let e={GuIPA:function(e,t,n){return e(t,n)},QXEdW:"潤色文本"},t=e.GuIPA(_0x51dcdd,e.QXEdW,!0);t.content.classList.add("lg"),t.body.classList.add("xDLwiKdTE")}),_0x4e72d6.markButton.bindWithCooldown(function(){_0x3219ad?(_0x3219ad=!1,_0x4e72d6.markButton.classList.remove("x3zdxRXQ6"),B.setText(_0x43d5b4.d3)):(_0x3219ad=!0,_0x4e72d6.markButton.classList.add("x3zdxRXQ6"),B.setText(_0x43d5b4.d4))},0);let W=!1,S=0,R=0,Y=e=>{let t={};t.sWzAT="mouseup";let n=t;W=!0,document.body.classList.add("xz7kq9zLe");let i=e.target.getBoundingClientRect();R=e.clientX-i.left,document.addEventListener("mousemove",D),document.addEventListener(n.sWzAT,X)},D=e=>{let t={};t.BNyDs=function(e,t){return e-t},t.qeWmc=function(e,t){return e+t};let n=t;if(!W)return;let i=_0x4e72d6.sidebar.getBoundingClientRect().left,a=Math.max(n.BNyDs(e.clientX-i,R),0);S=a,_0x4e72d6.sidebar.style.width=n.qeWmc(a,"px")},X=()=>{let e={};e.xUSGY="xjS4MkN99",e.GwrVL="xz7kq9zLe",e.ilcZe="mousemove",e.vsLLo="mouseup";let t=e;W=!1,_0x30a672.set(t.xUSGY,S),document.body.classList.remove(t.GwrVL),document.removeEventListener(t.ilcZe,D),document.removeEventListener(t.vsLLo,X)};window.addEventListener("blur",()=>{document.body.classList.remove("resizing"),W=!1}),_0x4e72d6.layoutResizer.addEventListener("mousedown",e=>{Y(e)})}function _0x51dcdd(e,t=!1,...n){let i={Mtwun:function(e,t){return e(t)},QvlEC:"xrYn5ZY3v",uMEpt:"x6Y89FynP",VPtrX:"xWDUelLWA",yPQul:"xvb5soWNa",FGpWX:function(e,t){return e+t}};console.log(n);let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x11f223(a),o=i.Mtwun(_0x4c1eaf,i.QvlEC);o.classList.add("lf"),s.Content.style.padding="0";let r=_0x4c1eaf(i.uMEpt);o.appendChild(r),r.innerText=e,s.Content.appendChild(o);let l=_0x4c1eaf(i.VPtrX);s.Content.appendChild(l);let d;if(t){let c="5|4|1|2|3|0".split("|"),$=0;for(;;){switch(c[$++]){case"0":o.appendChild(d);continue;case"1":d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>';continue;case"2":s.close=s.close.bind(s);continue;case"3":d.bindWithCooldown(s.close);continue;case"4":d.focusable(!0);continue;case"5":d=i.Mtwun(_0x4c1eaf,i.yPQul);continue}break}}let x=o.getBoundingClientRect();o.style.minHeight=i.FGpWX(x.height,"px");let h={};return h.root=s,h.body=l,h.content=s.Content,h.closebtn=d,h.Root=s.Root,h.Content=s.Content,h}async function _0xa44f1d(e,t){let n={PatzA:"data-state",wzfJn:"failed",MqElX:"xUSR4cuWD",bEgkG:function(e,t,n){return e(t,n)},tSQqB:"canvas",myJyJ:"x8o1OSu71",TwfYV:function(e,t){return e(t)},qraat:function(e,t){return e+t},thBuU:"xAQPbc7N3",SMAjb:"instant",hKHPV:"translated",gLoWr:"disabled",SnCre:"xGsec9lFd",YqEge:"loading",Duszr:"cache-url",gBbZl:function(e,t){return e===t},rQeHM:"video",dGHjF:"muted",Kovkl:"controls",LclDM:"nodownload",wDNoG:"audio",dsCab:"true",jNJCe:"xVlceg4Ab",VbViq:"x6EwJGLAa",JsNwL:"a10",TiueD:"xDVzL7FIt"};if(t.content.startsWith("<")){let i=t.content.match(/<\s*(\w+)\s+(\S+)/),a=i[1],s=i[2];if("image"===a){let o=document.createElement("img");o.focusable(!0),o.classList.add(n.SnCre),o.classList.add("xUSR4cuWD"),o.setAttribute("data-state",n.YqEge),o.onerror=function(){o.setAttribute(n.PatzA,n.wzfJn),o.classList.remove(n.MqElX)},o.onload=function(){let t=_0x1d5823["_"+s];if(t)o.style.width=n.qraat(t.width,"px"),o.style.height=t.height+"px";else{let i=o.getBoundingClientRect(),a={};a.width=i.width,a.height=i.height,_0x1d5823["_"+s]=a}o.setAttribute(n.PatzA,"loaded"),o.classList.remove("xUSR4cuWD"),e.classList.add("xFIqZCKV3"),o.bindWithCooldown(function(){let e={mRjjF:function(e,t,i){return n.bEgkG(e,t,i)}},t={};t.closeOnEsc=!0,t.closeOnOverlayClick=!0;let i=new _0x11f223(t);i.Content.classList.add("xPSnkbRat");let a=document.createElement(n.tSQqB);a.classList.add("xWuhDLG1C"),i.Content.appendChild(a);let o=new _0x1ec69e(a,{maxScale:2,onClickOutside(t,n){e.mRjjF(r,t,n)}});function r(){o.destroy(),i.close()}o.loadImage(s);let l=_0x4c1eaf(n.myJyJ);l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',l.bindWithCooldown(r),i.Content.appendChild(l);let d=n.TwfYV(_0x4c1eaf,"x8o1OSu71");d.classList.add("xHZuqwWhI"),d.focusable(!0),d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',d.bindWithCooldown(function(){o.rotate()},0),i.Content.appendChild(d)},0)};let r={};r.action=n.Duszr,r.url=s,navigator.serviceWorker?.controller?.postMessage(r),o.src=s,e.appendChild(o)}else if(n.gBbZl(a,n.rQeHM)){let l=document.createElement(n.rQeHM);l.setAttribute(n.dGHjF,""),l.focusable(!0),l.playsInline=!0,l.setAttribute(n.Kovkl,"true"),l.setAttribute("controlslist",n.LclDM);let d={};d.action=n.Duszr,d.url=s,navigator.serviceWorker?.controller?.postMessage(d),l.src=s,l.classList.add("xGsec9lFd"),e.appendChild(l)}else if(a===n.wDNoG){let c=document.createElement("audio");c.focusable(!0),c.setAttribute(n.Kovkl,n.dsCab);let $={};$.action="cache-url",$.url=s,navigator.serviceWorker?.controller?.postMessage($),c.src=s,c.classList.add(n.SnCre),e.appendChild(c)}else e.innerHTML='<div class="xUiYNFhtR">'+_0x43d5b4.a24+' <a class="x0ciSQShX no-wrap" href="'+s+'" target="_blank" rel="noreferrer noopener">'+_0x43d5b4.a25+"</a></div>"}else{let x=document.createElement("span"),h=_0x4c1eaf("xYj7x2KZ4");x.classList.add(n.jNJCe),_0x176a60(x,t.content),e.appendChild(x),e.appendChild(h);let u=t.content;if(x.getBoundingClientRect().height>125){e.classList.add("xDVzL7FIt");let f=n.TwfYV(_0x4c1eaf,n.VbViq),p={};p["0"]=_0x43d5b4.a8,p["1"]=_0x43d5b4.a9,p["2"]=_0x43d5b4[n.JsNwL];let _=p;f.innerHTML=_[_0x141448?2:0],f.focusable(!0);let b=0;f.bindWithCooldown(function(){if(_0x141448){let t={};t.closeOnEsc=!0,t.closeOnOverlayClick=!0;let i=new _0x1be35b(t);i.Root.classList.add(n.thBuU);let a=_0x4c1eaf("xBWmlKrN2");i.Body.appendChild(a),n.bEgkG(_0x176a60,a,u)}else{let s={};s.top=0,s.behavior=n.SMAjb,x.scrollTo(s),0===b?(b=1,e.classList.add("x2y08yFOH"),f.innerHTML=_[1]):(b=0,e.classList.remove("x2y08yFOH"),f.innerHTML=_[0])}},0),h.appendChild(f)}if(t.translatable){e.classList.add(n.TiueD);let m=_0x4c1eaf(n.VbViq);m.innerHTML=_0x43d5b4.s4,m.focusable(!0),m.bindWithCooldown(async function(){m.innerHTML=_0x43d5b4.s5;try{let e=await _0x20484c.translate(t.content,"zh"===_0x93fd79?"zh-TW":"en");u=e[n.hKHPV].text,n.bEgkG(_0x176a60,x,e.translated.text),m.innerHTML=_0x43d5b4.s6,m.classList.add(n.gLoWr)}catch(i){m.innerHTML=_0x43d5b4.s7}}),h.appendChild(m)}}}function _0x176a60(e,t){let n={yBFHH:"desktop",HMOCU:"b28",JnJUT:function(e,t){return e!==t},tQkPd:function(e,t,n){return e(t,n)},ZFQVF:"x0ciSQShX",meJuA:"everyone",OPpfQ:function(e,t){return e<t}},i=/@(\w+)/g,a=0,s;for(e.clear();n.JnJUT(s=i.exec(t),null);){let{index:o}=s,r=s[1];if(o>a){let l=t.slice(a,o);n.tQkPd(_0x323f83,e,l)}let d=document.createElement("a");d.classList.add(n.ZFQVF),d.focusable(!0),d.dataset.userId=r;let c={};c.userId=r,c.dom=d,_0x55aaa1._m.push(c),r===n.meJuA?d.textContent="@"+_0x43d5b4.f22:_0x3a7039(r).then(function(e){let t={};t.apjxq="mobile",t.aRZDa=n.yBFHH;let i=t;e?(d.textContent="@"+(e.name||_0x43d5b4.b29),d.bindWithCooldown(function(){let t={};t.data=e,t.type=_0x141448?i.apjxq:i.aRZDa,_0x22607b(_0x30e604,t)},0)):d.textContent=_0x43d5b4[n.HMOCU]}).catch(function(e){d.textContent="@"+r,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(d),a=i.lastIndex}n.OPpfQ(a,t.length)&&_0x323f83(e,t.slice(a))}function _0x323f83(e,t){let n=t.split("\n");n.forEach((t,i)=>{if(t){let a=_0x1f5250(t),s=document.createElement("div");s.innerHTML=a,Array.from(s.childNodes).forEach(t=>{e.appendChild(t)})}i<n.length-1&&e.appendChild(document.createElement("br"))})}function _0x1f5250(e){let t={nvzsK:function(e,t){return e+t},TtQnZ:function(e,t){return e+t},JXJWQ:function(e,t){return e(t)}};return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let n=e.replace(/^https?:\/\//,"");return t.nvzsK(t.TtQnZ(t.nvzsK('<span class="xCe4Btdzm"><a class="x0ciSQShX" translate="no" href="',e),'" target="_blank" rel="noreferrer noopener">'),t.JXJWQ(decodeURIComponent,n))+"</a></span>"})}async function _0x5ec5b8(){let e={yFqtj:function(e,t){return e||t},fbUMv:function(e,t){return e===t},kaHYQ:function(e,t){return e(t)},qpHVv:"lang",Tleuu:function(e,t){return e===t},qpbFv:function(e,t){return e(t)},WKamK:"&amp;$1",suykv:"&lt;",KDIBj:"x3zdxRXQ6",LDMOM:function(e,t){return e(t)},XpxMg:function(e,t,n){return e(t,n)},rkdDR:function(e,t,n,i){return e(t,n,i)}},t=_0x4e72d6.messageInput.innerText.trim();if(e.yFqtj(!t,!_0x3278c6)||e.fbUMv(t,""))return;_0x4e72d6.sendButton.classList.add("disabled"),_0x4e72d6.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let i=n[1],a=n[2];if("task"===i){if("1241"===a){_0x4e72d6.messageInput.clear(),_0x2fc682({content:_0x43d5b4.c3.replace("$0",_0x43d5b4.c5),sender:_0x3927d0,tag:"2"},e.kaHYQ(_0x4f19a8,20),"3"),_0x30a672.set(e.qpHVv,"zh");return}if(e.Tleuu(a,"1242")){_0x4e72d6.messageInput.clear(),_0x2fc682({content:_0x43d5b4.c3.replace("$0",_0x43d5b4.c4),sender:_0x3927d0,tag:"2"},_0x4f19a8(20),"3"),_0x30a672.set("lang","en");return}{_0x4e72d6.messageInput.clear();let s={};s.tag="2",s.content=_0x43d5b4.b31,_0x2fc682(s,e.qpbFv(_0x4f19a8,20),"3");return}}}t=t.replace(/&([^;]+)/g,e.WKamK).replaceAll("<",e.suykv).replaceAll(">","&gt;").replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x4e72d6.messageInput.clear();let o=_0x3219ad?"1":null;_0x4e72d6.markButton.classList.remove(e.KDIBj),_0x3219ad=!1;let r=e.LDMOM(f,h(_0x25cfec,"chats",_0x3278c6,"messages"));_0x2b96d7.push(r.id),await e.XpxMg(u,r,{sender:_0x3927d0,content:t,timestamp:Date.now(),tag:o}),_0x166261.locking=!0;let l={};l.content=t,l.tag=o,e.rkdDR(_0x2fc682,l,r.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={lDrTD:"cacheSizeResult",ASeUB:function(e,t,n,i){return e(t,n,i)},bYhSI:function(e,t){return e(t)},WLsSS:function(e,t){return e(t)}};if("cache-size-result"===e.data.type){let n=document.getElementById(t.lDrTD);if(e.data.error){n.innerHTML="錯誤: "+e.data.error;return}t.ASeUB(_0x2fc682,{content:t.bYhSI(_0x16c459,e.data.bytes)},t.WLsSS(_0x4f19a8,20),"3")}});let _0x17379c=0;function _0x2fc682(e,t,n="1"){let i={Tzvxi:"xVC8gtuyS",cwmLh:function(e,t){return e(t)},MntTT:"xKljxgVJA",IKTLk:function(e,t){return e(t)},ZhXiX:"xu4Celbbq",HaIYI:function(e,t){return e(t)},kKple:"xc4iCj2Gy",xIXFH:function(e,t){return e(t)},aAUoo:"xRHoYYwoZ",BWjGD:"true",KngLv:"data-message-id",iTHar:"a26",hUAsf:function(e,t){return e===t},rBOkk:"x4rKxFxLl",bEXZK:function(e,t){return e===t},CSbdh:function(e,t,n){return e(t,n)}},a=_0x4c1eaf(i.Tzvxi),s=i.cwmLh(_0x4c1eaf,"xMyW2iRSH"),o=_0x4c1eaf(i.MntTT),r=i.IKTLk(_0x4c1eaf,i.ZhXiX),l=i.HaIYI(_0x4c1eaf,i.kKple),d=i.xIXFH(_0x4c1eaf,i.aAUoo);switch(a.setAttribute("data-visible",i.BWjGD),a.setAttribute(i.KngLv,t),a.classList.add("xiOw4dg0O"),a.appendChild(o),o.appendChild(d),d.appendChild(r),r.appendChild(l),d.appendChild(s),l.innerText=_0x43d5b4[i.iTHar],_0xf1b4d.sender===e.sender&&a.classList.add("xOmVIOA3e"),i.hUAsf(e.tag,"1")?s.classList.add(i.rBOkk):i.bEXZK(e.tag,"2")&&s.classList.add("xHJfZfjT1"),_0x20681a&&(_0x20681a.remove(),_0x20681a=null),n){case"1":_0x4e72d6.messageContainer.appendChild(a);break;case"2":_0x35014b.appendChild(a),_0x17379c+=a.offsetHeight;break;case"3":_0x4e72d6.messageContainer.appendChild(a),_0x3fcabe=!0,_0x4e72d6.messageContainer.scrollTo({top:_0x4e72d6.messageContainer.scrollHeight,behavior:"smooth"})}i.CSbdh(_0xa44f1d,s,e)}function _0x30a8f9(e,t,n="1"){let i={qBtQk:function(e,t,n){return e(t,n)},Lecth:"mobile",diEqW:"desktop",MHcRu:"/assets/avatar.png",QMqzm:"d11",CvnnT:function(e,t){return e(t)},TdzBP:"xVC8gtuyS",JDiZj:function(e,t){return e(t)},yTiZG:"xSYcbYqTG",kSxXD:function(e,t){return e(t)},almdc:function(e,t){return e(t)},OYjrT:function(e,t){return e(t)},BVweF:"xt8fROB2L",XdbNt:"img",fdMJj:"true",IXqte:"lazy",pQuVO:"data-message-id",EfijV:"x4rKxFxLl",mzgng:"xOmVIOA3e",BXtme:"smooth"},a=i.CvnnT(_0x4c1eaf,i.TdzBP),s=_0x4c1eaf("xMyW2iRSH"),o=i.JDiZj(_0x4c1eaf,i.yTiZG),r=i.kSxXD(_0x4c1eaf,"xKljxgVJA"),l=i.CvnnT(_0x4c1eaf,"xu4Celbbq"),d=i.almdc(_0x4c1eaf,"xc4iCj2Gy"),c=i.OYjrT(_0x4c1eaf,i.BVweF),$=_0x4c1eaf("xRHoYYwoZ"),x=document.createElement(i.XdbNt);switch(a.setAttribute("data-visible",i.fdMJj),c.classList.add("xt8fROB2L"),x.loading=i.IXqte,a.appendChild(o),a.appendChild(r),r.appendChild($),$.appendChild(l),l.appendChild(d),$.appendChild(s),l.appendChild(c),o.appendChild(x),a.setAttribute(i.pQuVO,t),"1"===e.tag&&s.classList.add(i.EfijV),c.innerText="0s",d.innerText=_0x43d5b4.d9,x.draggable=!1,_0x20681a&&(_0x20681a.remove(),_0x20681a=null),_0xf1b4d.sender===e.sender&&a.classList.add(i.mzgng),n){case"1":_0x4e72d6.messageContainer.appendChild(a);break;case"2":_0x35014b.appendChild(a),_0x17379c+=a.offsetHeight;break;case"3":_0x4e72d6.messageContainer.appendChild(a),_0x3fcabe=!0,_0x4e72d6.messageContainer.scrollTo({top:_0x4e72d6.messageContainer.scrollHeight,behavior:i.BXtme}),_0x3fcabe=!1}_0xa44f1d(s,e),_0x3a7039(e.sender).then(t=>{let n={};n.WTcCN="xWzeTGC6P";let a=n;function s(){i.qBtQk(_0x22607b,_0x4e72d6.main,{data:t,type:_0x141448?i.Lecth:i.diEqW})}c.innerText=_0x314a17(e.timestamp),x.src=t.avatarUrl||i.MHcRu,x.onload=function(){o.classList.add(a.WTcCN)},d.onclick=s,o.focusable(!0),o.bindWithCooldown(s),d.innerText=t.name||_0x43d5b4[i.QMqzm]}).catch(e=>{console.error(e)})}function _0x1e3254(e,t,n){let i={};i.bIWaM="xJd2GT7MI",i.UGjsf="d11";let a=i;_0x4e72d6.signatureLabel.textContent=n||"unknown",_0x4e72d6.avatarWrapper.classList.remove(a.bIWaM),_0x4e72d6.avatarLabel.src=e||"assets/avatar.png",_0x4e72d6.nameLabel.textContent=t||_0x43d5b4[a.UGjsf]}let _0x1dc4e4;async function _0x7eeb8e(){let e={unmPx:function(e,t){return e-t},HfEld:"mouseup",TiMwb:"touchmove",MCyRb:"xp4HXkJGa",sfTBl:"xgu6pGjzk",misuQ:function(e,t){return e/t},JzNDC:function(e,t){return e*t},nNdbF:function(e,t){return e-t},iBgbY:"mousemove",xtbSm:function(e){return e()},XEhef:"touchend",kPOjA:function(e,t){return e(t)},xmwVP:function(e,t){return e-t},JCtfz:"正在初始化應用程序",JpKqU:"xjS4MkN99",iVvgp:"xmKH3ad5R",bazZM:function(e){return e()},tnSOo:"blur",tMIHc:"touchstart",sQmyU:function(e,t,n){return e(t,n)},BwZRg:"disabled",lhwht:function(e,t){return e!==t},DCLvB:function(e,t,n){return e(t,n)},yxkhY:"x5RtiEC9k",kZrlo:"cvs"};if(_0x329146)return;console.log(e.JCtfz),_0x4e72d6.roomNameLabel.innerText=_0x43d5b4.a2,_0x4e72d6.searchInput.placeholder=_0x43d5b4.a1,_0x4e72d6.messageInput.setAttribute("placeholder",_0x43d5b4.a3),_0x4e72d6.spinnerLabel.innerText=_0x43d5b4.b32;let t=_0x30a672.get(e.JpKqU);t&&!_0x141448&&(_0x4e72d6.sidebar.style.width=t+"px"),document.body.classList.add(e.iVvgp);let n=e.xtbSm(_0x1560f0),i=_0x18b396();e.bazZM(_0x448437);try{_0x3a7039(_0x3927d0).then(async t=>{(!t.deviceInfo||e.unmPx(Date.now(),t.deviceInfo.lastUpdate)>36e5)&&(await _0x152a30(_0x3927d0,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:i.screenWidth+"x"+i.screenHeight+" @"+i.devicePixelRatio+"x"}}),console.log("已上傳裝置信息"))})}catch(a){console.error("發生未知錯誤",a)}let s=!1,o=0,r=0,l=0,d=t=>{s=!0,o=0,r=t.touches?t.touches[0].clientX:t.clientX;let n=t.target.getBoundingClientRect();l=e.unmPx(r,n.left),document.addEventListener("mousemove",c),document.addEventListener(e.HfEld,$);let i={};i.passive=!0,document.addEventListener(e.TiMwb,c,i),document.addEventListener("touchend",$)},c=t=>{if(!s)return;let n=t.touches?t.touches[0].clientX:t.clientX,i=e.unmPx(n,l),a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o=i,_0x4e72d6.main.classList.add(e.MCyRb),_0x4e72d6.sidebar.classList.add(e.sfTBl),_0x4e72d6.main.style.transform="translate3d("+Math.max(Math.min(i,a),0)+"px, 0, 0)",_0x4e72d6.sidebarOverlay.style.opacity=Math.min(Math.max(1-e.misuQ(i,a),0),1),_0x4e72d6.sidebar.style.transform="translate3d("+Math.max(Math.min(e.JzNDC(-30,e.nNdbF(1,i/a)),0),-30)+"%, 0, 0)"},$=()=>{if(!s)return;s=!1;let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;_0x4e72d6.main.classList.remove(e.MCyRb),_0x4e72d6.sidebar.classList.remove("xgu6pGjzk"),document.removeEventListener(e.iBgbY,c),document.removeEventListener("mouseup",$);let n={};n.passive=!0,document.removeEventListener(e.TiMwb,c,n),document.removeEventListener("touchend",$),e.misuQ(o,t)>.5?e.xtbSm(_0x3f3b75):_0x4e72d6.sidebarOverlay.style.opacity=1};window.addEventListener(e.tnSOo,()=>{s=!1,_0x4e72d6.sidebarOverlay.style.opacity=1,_0x4e72d6.main.classList.remove("xp4HXkJGa"),_0x4e72d6.sidebar.classList.remove("xgu6pGjzk"),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",$);let t={};t.passive=!0,document.removeEventListener(e.TiMwb,c,t),document.removeEventListener(e.XEhef,$)}),_0x4e72d6.layoutResizer2.addEventListener("mousedown",t=>{e.kPOjA(d,t)});let x={};x.passive=!0,_0x4e72d6.layoutResizer2.addEventListener(e.tMIHc,d,x);try{function h(){let t=_0x4e72d6.messageContainer.getBoundingClientRect();_0x4e72d6.messageContainer.style.setProperty("--x9LFHiVqv",Number((.6*t.height-24).toFixed(2))+"px"),_0x4e72d6.messageContainer.style.setProperty("--xVizV2ybq",e.xmwVP(Number((.72*t.height).toFixed(2)),24)+"px")}e.xtbSm(h),window.addEventListener("resize",h)}catch(u){console.log("設置布局時發生錯誤")}if(_0x1dc4e4=e.sQmyU(setInterval,function(){_0x592bb1(),document.body.classList.contains("xYIbDcl9T")&&document.activeElement!==_0x4e72d6.messageInput&&document.body.classList.remove("xYIbDcl9T")},1e3),_0x4e72d6.searchInput.removeAttribute("disabled"),_0x4e72d6.searchInput.focusable(!0),_0x4e72d6.profileContainer.classList.remove(e.BwZRg),_0x4e72d6.profileContainer.focusable(!0),e.lhwht(localStorage.getItem("cvs"),_0x1db48a.current)){if(_0x141448){let f={};f.closeOnEsc=!0,f.closeOnOverlayClick=!0;let p=new _0x1be35b(f);p.Overlay.classList.add(e.yxkhY),p.Body.innerHTML='<div class="xa6f2dQXX">'+_0x43d5b4.a4+'</div><div class="x68JrA5Ak">'+_0x1db48a.directions+"</div>"}else e.DCLvB(_0x51dcdd,_0x43d5b4.a4,!0).body.innerHTML='<div class="xeUKJgV96">'+_0x1db48a.directions+"</div>";localStorage.setItem(e.kZrlo,_0x1db48a.current)}_0x329146=!0}function _0x1a35cc(e){let t={};return t.rKadz="&lt;",e.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<",t.rKadz).replaceAll(">","&gt;").replaceAll(" ","&nbsp;").replaceAll("\n","<br>")}function _0x44ac94(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x30a430="Structure";function _0x1424a9(e){var t;let n={Qfqse:function(e,t){return e===t},HwPhn:function(e,t,n,i){return e(t,n,i)},QWImU:function(e,t){return e&&t},cUriG:"inert",cFKLG:function(e,t){return e+t},AhBIy:"disabled",yirra:"x3zdxRXQ6",FuKVW:".x2fP9fkxS.active",sxcGe:function(e,t){return e(t)},aIVLp:"x8VAGH6N2",IPfpK:"contenteditable",tGIGe:function(e,t,n,i,a){return e(t,n,i,a)},qCewD:"timestamp",FbPGE:"desc",UVykE:function(e,t){return e===t},xgMRE:"xU2hUavXh",fBQme:function(e,t,n){return e(t,n)},cNQCT:"xb4MnocjO",PdKqk:function(e,t){return e==t},MbqbP:"xyS4vzBWG",ZOmmr:"todos",EgWDn:function(e,t,n,i){return e(t,n,i)},Feazs:"input",iVaJQ:"date",pUmUA:"b40",zeEKL:function(e){return e()},EGGGS:"pink",UuDAc:"hide",WegWI:"xHCo3rIZ7",mawFy:"xtx2Cn8cK",ZGSMX:"x6q2Zh2QF",mXfcl:function(e,t,n){return e(t,n)},LWVUI:function(e,t){return e(t)},YRdbU:"xCgVOK4ur",FtXjt:function(e,t){return e(t)},srFhS:"xtG9t2xuE",GbNWx:"x5FOXvrVK",jVKdt:"x7ho7YfuM",emnbb:"xmiEvp5FV",ScNzv:function(e,t){return e(t)},gNmVc:"xs8tjkwHJ",VTQDh:"xt4GQkVIo",ZLbuv:"xlKSJ67AP",ViyeE:"A5o980bj",eMdyJ:"b36",vuAXT:function(e,t,n){return e(t,n)},MRvEx:"bottom-end",gyLEi:"xrQdSHI2A",KwHPn:"b21",SCEGf:"xUdcoAHYM",hUkkg:"b22",fUmkz:"b23",CnUbS:function(e){return e()},HZsqf:function(e,t){return e(t)},SQDYN:"x2fP9fkxS",XvNJx:function(e,t){return e(t)},mTkfB:"xybvM5cRF",Vgusi:"smooth"},i=n.HZsqf(_0x4c1eaf,n.SQDYN),a=n.HZsqf(_0x4c1eaf,"xQ65c0Nkc"),s=n.XvNJx(_0x4c1eaf,n.mTkfB),o=_0x4c1eaf("xT3Ta8vKw"),r=_0x4c1eaf("x6HyfOZS7"),l=_0x4c1eaf("xQkxrD9ZA");async function d(){let t={KQiTD:"取得用户名称时发生错误：",rHDhh:function(e,t){return n.Qfqse(e,t)},xjRMH:function(e,t,i,a){return n.HwPhn(e,t,i,a)}};if(_0x3278c6!==e.id||n.QWImU(_0x141448,!contextOpeneds)){_0x4e72d6.messageInput.innerHTML="",_0x3278c6=e.id,_0x55aaa1._m.length=0,_0x30e604=_0x4e72d6.main,_0x30ed2d=!0,_0x141448&&_0x4e72d6.sidebar.setAttribute(n.cUriG,"true"),_0xf1b4d="";let a=[];e.members.forEach(e=>{_0x3a7039(e).then(t=>{let n={};n.id=e,n.name=t.name,a.push(n)}).catch(e=>{console.error(t.KQiTD,e)})}),_0x30a430=(e.name||_0x43d5b4.d12)+" - Structure",document.title=_0x30a430,_0x4e72d6.roomNameLabel.innerText=e.name,_0x2b96d7.length=0;let s=new URLSearchParams(window.location.search);s.set("r",e.id),window.history.replaceState({},"",n.cFKLG("?",s.toString())),_0x4e72d6.messageContainer.classList.remove("xVjpzmyej"),_0x4e72d6.fileInput.removeAttribute(n.AhBIy),_0x4e72d6.attachButton.classList.remove("disabled"),_0x4e72d6.attachButton.focusable(!0),_0x4e72d6.stickerButton.classList.remove(n.AhBIy),_0x4e72d6.stickerButton.focusable(!0),_0x4e72d6.markButton.classList.remove("disabled"),_0x4e72d6.markButton.focusable(!0),_0x4e72d6.markButton.classList.remove(n.yirra),_0x3219ad=!1,_0x4e72d6.brushButton.classList.remove("disabled"),_0x4e72d6.brushButton.focusable(!0),_0x4e72d6.messageInput.setAttribute("contenteditable","true"),_0x4e72d6.sidebarOverlay.style.opacity=1,_0x141448?(_0x4e72d6._mb_att_btn.classList.remove(n.AhBIy),_0x4e72d6._mb_att_btn.focusable(!0),_0x4e72d6.backButton.classList.remove(n.AhBIy),_0x452623(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").focusable(!0),_0x4e72d6.main.classList.add(n.aIVLp)):(_0x452623(n.FuKVW)&&n.sxcGe(_0x452623,n.FuKVW).classList.remove("active"),i.classList.add("active")),_0x4e72d6.messageInput.setAttribute(n.IPfpK,"true"),_0x4e72d6.messageInput.focusable(!0),_0x4e72d6.messageContainer.clear(),(_0x20681a=_0x4c1eaf("xqBX9i6rZ")).classList.add("spinner"),_0x20681a.innerHTML=_0x2eef71,_0x4e72d6.messageContainer.appendChild(_0x20681a);let o=await n.sxcGe(m,C(n.tGIGe(h,_0x25cfec,"chats",e.id,"messages"),w(n.qCewD,n.FbPGE),T(10)));_0x2e0a7c=o.docs[9];let r=[];o.forEach(e=>{r.push(e)}),n.UVykE(r.length,0)&&_0x20681a&&(_0x20681a.innerHTML=_0x43d5b4.d8),r.reverse(),r.map(e=>{var n=e.data();-1===_0x2b96d7.indexOf(e.id)&&(t.rHDhh(n.sender,_0x3927d0)?(_0x2b96d7.push(e.id),t.xjRMH(_0x2fc682,n,e.id,"1")):(_0x2b96d7.push(e.id),_0x30a8f9(n,e.id,"1")),_0xf1b4d=n)}),_0x3fcabe=!0,_0x4e72d6.messageContainer.scrollTo({top:_0x4e72d6.messageContainer.scrollHeight,behavior:"instant"}),_0x3fcabe=!1,n.sxcGe(_0x4784bd,e.id)}}i.bindWithCooldown(d);let c={};c.id=e.id,c.length=e.size,c.name=e.name||_0x43d5b4.d9,c.launch=d,c.dom=i,_0x4e8142.push(c),i.appendChild(a),i.appendChild(r),r.appendChild(l);let $=function(){let t={FwUZf:"desktop",EAGPn:function(e,t){return n.ScNzv(e,t)},cVNfR:n.gNmVc,GuIaK:n.VTQDh,JrUAx:n.ZLbuv,ShDIr:function(e,t){return e(t)},PQOJH:function(e,t){return n.Qfqse(e,t)},urJHf:function(e,t,n,i){return e(t,n,i)},KTnrv:"b33",xPwtz:"b35",khZeK:n.ViyeE,wJeUG:n.eMdyJ,XbcMm:"新的行程",mZHdb:function(e,t,i){return n.fBQme(e,t,i)},gKuxN:function(e,t,i){return n.mXfcl(e,t,i)},Ohcpm:function(e,t,i){return n.vuAXT(e,t,i)}},a={};a.trigger=l,a.placement=["bottom-start",n.MRvEx,"top-start","top-end"];let s=new _0x5de3da(a);s.Content.classList.add("xoV8hdbgt");let o=n.sxcGe(_0x4c1eaf,n.gyLEi),r=_0x4c1eaf("xrQdSHI2A"),d=n.FtXjt(_0x4c1eaf,"xcoXgMpFW"),c=_0x4c1eaf("xrQdSHI2A");o.bindWithCooldown(function(){let i={mKjRE:function(e,t){return e(t)}};s.close();let a=n.sxcGe(_0x4c1eaf,"xPAY7PmDq"),o;if(_0x141448){let r={};r.parent=_0x4e72d6.sidebar,r.title=_0x43d5b4.b20,(o=new _0x6663d7(r)).Content.classList.add(n.xgMRE),o.Content.appendChild(a)}else(o=n.fBQme(_0x51dcdd,_0x43d5b4.b20,!0)).content.classList.add("lg"),o.content.classList.add(n.cNQCT),o.body.appendChild(a);function l(e){let n={UfzEP:t.FwUZf,ecHxP:function(e,n){return t.EAGPn(e,n)},EOore:"xZHdsOFDz",oXknY:"lazy",cFybs:"cache-url",udXOX:t.cVNfR,BTaxI:t.GuIaK,ybQxc:t.JrUAx};t.ShDIr(_0x3a7039,e).then(e=>{let t=n.ecHxP(_0x4c1eaf,"xScefCkPw"),i=_0x4c1eaf(n.EOore),s=document.createElement("img");s.classList.add("xxnnTDIPC"),s.src=e.avatarUrl||"assets/avatar.png",s.draggable=!1,s.loading=n.oXknY;let r={};r.action=n.cFybs,r.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),i.appendChild(s);let l=_0x4c1eaf(n.udXOX),d=n.ecHxP(_0x4c1eaf,n.BTaxI),c=n.ecHxP(_0x4c1eaf,n.ybQxc);d.innerText=e.name,c.innerText=e.qid||e.id,t.focusable(!0),l.appendChild(d),l.appendChild(c),t.appendChild(i),t.appendChild(l),t.bindWithCooldown(function(){if(_0x141448){let t={};t.data=e,t.type="mobile",_0x22607b(o.Root,t)}else{o.root.close();let i={};i.data=e,i.type=n.UfzEP,_0x22607b(_0x4e72d6.main,i)}}),a.appendChild(t)}).catch(e=>{console.error(e)})}let d=0;e.members.forEach(e=>{d++,i.mKjRE(l,e)}),n.PdKqk(d,1)&&a.classList.add(n.MbqbP)}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0x43d5b4[n.KwHPn],o.classList.add(n.SCEGf),[o,r,c].forEach(e=>{e.focusable(!0)}),c.bindWithCooldown(function(){let n={hPnyl:function(e,t){return e!==t},UCsCA:"5|3|4|1|0|2",artaI:function(e,n){return t.PQOJH(e,n)},lDGjC:"d12",HsbRS:function(e,n,i,a){return t.urJHf(e,n,i,a)},vZcFR:function(e,t){return e(t)}};s.close(),new _0x538af4({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0x43d5b4.b34,message:_0x43d5b4[t.KTnrv],buttons:[{text:_0x43d5b4[t.xPwtz],classList:[t.khZeK]},{text:_0x43d5b4[t.wJeUG],classList:["xTJA9U7y9"],onClick:async function(){let t=_0x4e8142.findIndex(t=>t.id===e.id);if(n.hPnyl(t,-1))try{let a=n.UCsCA.split("|"),s=0;for(;;){switch(a[s++]){case"0":n.artaI(_0x3278c6,e.id)&&(_0x3278c6=null,_0x4e72d6.roomNameLabel.innerText=_0x43d5b4[n.lDGjC],_0x4e72d6.messageContainer.clear());continue;case"1":i.remove();continue;case"2":0===_0x4e8142.length&&(_0x4e72d6.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x43d5b4.d13+"</div>");continue;case"3":await k(n.HsbRS(f,_0x25cfec,"chats",e.id),{members:L(_0x3927d0)});continue;case"4":_0x4e8142.splice(t,1);continue;case"5":await k(f(_0x25cfec,"users",_0x3927d0),{joined:n.vZcFR(L,e.id)});continue}break}}catch(o){console.error("Error while deleting item:",o)}}}]})}),s.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12 6m-7 0a7 3 0 1 0 14 0a7 3 0 1 0 -14 0" /><path d="M5 6v12c0 1.657 3.134 3 7 3s7 -1.343 7 -3v-12" /></svg>'+_0x43d5b4[n.hUkkg],r.bindWithCooldown(async function(){let i={BwRun:n.AhBIy,JuQqv:function(e,t,n,i,a,s){return e(t,n,i,a,s)},hQRwK:"4|3|1|5|2|0",LsWmh:"刪除失敗：",QFHMT:n.ZOmmr,Nbrdq:function(e,t,n){return e(t,n)},FGiWb:function(e,t,i,a){return n.EgWDn(e,t,i,a)},EDArG:n.Feazs,zHUKa:"xYvZ9WF6d",ZhROk:"xGuwEx6qN",itHuR:n.iVaJQ,XDYOe:function(e,t){return e(t)},SBPBa:n.pUmUA,ChPDK:function(e,t){return n.sxcGe(e,t)},pSLkp:"xwtdXtpQT",stuKz:function(e){return n.zeEKL(e)},UEisb:"xTIlpY4Et",MnvTF:function(e,t){return n.sxcGe(e,t)},ogYpM:function(e,t){return e===t},EGPhe:n.EGGGS,EPJIF:"xHQ4s8VGa",xBwSP:"xxChbQgko",Aavkf:"xaTPzRSCY",BgKhb:n.UuDAc,oaaUJ:"xbrV3058R",yPjUT:n.WegWI};s.close();let a,o=_0x4c1eaf(n.mawFy),r=_0x4c1eaf("xNu1Upzh6");if(_0x141448){let l={};l.parent=_0x4e72d6.sidebar,l.title=_0x43d5b4.b37,(a=new _0x6663d7(l)).Content.classList.add(n.ZGSMX),a.Content.classList.add("xU2hUavXh"),a.Content.appendChild(o)}else(a=n.mXfcl(_0x51dcdd,_0x43d5b4.b37,!0)).content.classList.add(n.cNQCT),a.content.classList.add("lg"),a.body.appendChild(o);let d=_0x3d130e([]);function c(t,n){let s={sFmnU:"disabled",nMcvm:i.QFHMT,YJbHz:function(e,t,n){return i.Nbrdq(e,t,n)},ytXwR:"d10",JWMUC:function(e,t,n,a){return i.FGiWb(e,t,n,a)},sdQEZ:"label",CCfzn:i.EDArG,gnyqR:"xF37V7xd0",Ljgge:i.zHUKa,zfYZY:"text",jARSx:function(e,t){return e(t)},uWVIm:"xGGKUZ7B3",mrxaL:"textarea",EgRmc:i.ZhROk,PLltC:"b39",LiNaA:i.itHuR,TNMZt:"time",rvmQw:function(e,t){return i.XDYOe(e,t)},pHWXF:i.SBPBa,hsUTF:function(e,t){return i.ChPDK(e,t)},fdJxp:"x40AApYkW",KJTdq:i.pSLkp,SnVdX:function(e){return i.stuKz(e)}},o=i.XDYOe(_0x4c1eaf,i.UEisb),l=i.MnvTF(_0x4c1eaf,"xA9JMbz3o");o.appendChild(l),i.ogYpM(t.theme,i.EGPhe)&&l.classList.add("x0eVQzH93");let c=_0x4c1eaf("xHxVtIAsn");o.appendChild(c);let $=_0x4c1eaf("xt4GQkVIo");$.innerHTML=t.name||_0x43d5b4.d9,c.appendChild($);let x=_0x4c1eaf(i.EPJIF);_0x176a60(x,t.description||"忘記加上描述了"),c.appendChild(x);let h=_0x7af54f(t.startAt,t.endAt),u=i.XDYOe(_0x4c1eaf,"xPP6DGDrH");u.innerText=h,o.appendChild(u);let _=_0x4c1eaf(i.xBwSP),b=i.ChPDK(_0x4c1eaf,"xaTPzRSCY");b.innerHTML=_0x6da2f3.edit,b.focusable(!0);let m=_0x4c1eaf(i.Aavkf);m.innerHTML=_0x6da2f3.trash,m.focusable(!0),_0x3d130e([b,m],"horizontal"),m.bindWithCooldown(async function(){o.classList.add("disabled");try{m.focusable(!1),m.classList.add("disabled"),b.focusable(!1),b.classList.add(i.BwRun),await p(i.JuQqv(f,_0x25cfec,"chats",e.id,"todos",n)),console.log("已成功刪除行程："+n),o.remove(),d.removeItem(o)}catch(t){let a=i.hQRwK.split("|"),s=0;for(;;){switch(a[s++]){case"0":o.classList.remove(i.BwRun);continue;case"1":b.focusable(!0);continue;case"2":console.error(i.LsWmh,t);continue;case"3":m.classList.remove("disabled");continue;case"4":m.focusable(!0);continue;case"5":b.classList.remove(i.BwRun);continue}break}}}),_.appendChild(b),_.appendChild(m),o.appendChild(_),o.focusable(!0),d.addItem(o),r.appendChild(o);let v={};v.name=t.name||"未知",v.startAt=t.startAt||17356608e5,v.endAt=t.endAt||17356608e5,v.description=t.description||"";let g=v;b.bindWithCooldown(function(i){i.stopPropagation(),function i(){let o={QowSm:function(e,t){return e!==t},IYmSM:function(e,t){return e!==t},JhgnE:s.sFmnU,GFYIG:"chats",TJXQt:s.nMcvm,xLwaZ:function(e,t,n){return s.YJbHz(e,t,n)},dMMaE:s.ytXwR},r=s.JWMUC(_0x51dcdd,_0x43d5b4.b41,!0,a.Root);r.root.Overlay.classList.add("xOjXmYkxE");let l=_0x4c1eaf("xGGKUZ7B3"),d="_"+_0x4f19a8(12),c=document.createElement(s.sdQEZ),h=document.createElement(s.CCfzn);c.classList.add(s.gnyqR),h.classList.add(s.Ljgge),c.htmlFor=d,c.textContent=_0x43d5b4.b38,h.id=d,h.type=s.zfYZY,h.value=g.name,h.maxLength=30,l.appendChild(c),l.appendChild(h);let u=s.jARSx(_0x4c1eaf,s.uWVIm),p="_"+_0x4f19a8(12),_=document.createElement("label"),b=document.createElement(s.mrxaL);_.classList.add(s.gnyqR),b.classList.add(s.EgRmc),_.htmlFor=p,_.textContent=_0x43d5b4.b3,b.id=p,b.rows=3,b.value=g.description,b.maxLength=80,u.appendChild(_),u.appendChild(b);let m=s.jARSx(_0x4c1eaf,"xGGKUZ7B3");m.classList.add("xFJWlqoGn");let v="_"+_0x4f19a8(12),C=document.createElement("label"),w=_0x4c1eaf("x9ZwavJjj"),y=document.createElement(s.CCfzn),L=document.createElement(s.CCfzn);C.classList.add(s.gnyqR),y.classList.add("xYvZ9WF6d"),C.htmlFor=v,C.textContent=_0x43d5b4[s.PLltC],y.type=s.LiNaA,y.id=v,L.classList.add(s.Ljgge),L.type=s.TNMZt;let T="_"+s.jARSx(_0x4f19a8,12),E=s.rvmQw(_0x4c1eaf,"x9ZwavJjj"),M=document.createElement("label"),H=document.createElement(s.CCfzn),A=document.createElement(s.CCfzn);M.classList.add(s.gnyqR),H.classList.add("xYvZ9WF6d"),M.htmlFor=T,M.textContent=_0x43d5b4[s.pHWXF],H.id=T,H.type="date",A.classList.add("xYvZ9WF6d"),A.type=s.TNMZt;let B=_0x4c1eaf("xGGKUZ7B3"),I=s.hsUTF(_0x4c1eaf,s.fdJxp);I.classList.add(s.KJTdq),I.textContent=_0x43d5b4.b6,I.classList.add("disabled");let W={};function S(){o.QowSm(h.value.trim(),"")&&y.value&&L.value&&H.value&&A.value&&(h.value!==W._z||o.IYmSM(y.value,W._a)||L.value!==W._b||o.IYmSM(H.value,W._c)||A.value!==W._d||b.value!==W._y)?(I.focusable(!0),I.classList.remove(o.JhgnE)):(I.focusable(!1),I.classList.add(o.JhgnE))}W._z=t.name,W._y=t.description;let R=[h,y,L,H,A,b];if(R.forEach(e=>{e.oninput=S}),I.bindWithCooldown(async function(){let t={};t.JqYBW=o.JhgnE;let i=t;I.classList.add("disabled"),I.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let a=new Date(y.value+"T"+L.value).getTime(),s=new Date(H.value+"T"+A.value).getTime(),l=h.value,d=b.value;R.forEach(e=>{e.setAttribute("disabled",!0)});let c=f(_0x25cfec,o.GFYIG,e.id,o.TJXQt,n);try{let u={};u.endAt=s,u.startAt=a,u.name=l,u.description=d,await o.xLwaZ(k,c,u),g.name=l,g.description=d,g.startAt=a,g.endAt=s,$.innerHTML=g.name,o.xLwaZ(_0x176a60,x,g.description||_0x43d5b4[o.dMMaE]),console.log("已成功更新行程："+n),r.root.close()}catch(p){console.error("更新失敗：",p),R.forEach(e=>{e.classList.remove(i.JqYBW)})}}),w.appendChild(C),w.appendChild(y),w.appendChild(L),E.appendChild(M),E.appendChild(H),E.appendChild(A),r.body.appendChild(l),r.body.appendChild(u),r.body.appendChild(m),r.body.appendChild(B),m.appendChild(w),m.appendChild(E),B.appendChild(I),g.startAt){let Y=new Date(g.startAt),D=new Date(g.startAt).toISOString().split("T")[0];console.log(D);let X=Y.toTimeString().split(":").slice(0,2).join(":");console.log(D),W._a=D,W._b=X,y.value=D,L.value=X}if(g.endAt){let O=new Date(g.endAt),P=new Date(g.endAt).toISOString().split("T")[0],j=O.toTimeString().split(":").slice(0,2).join(":");W._c=P,W._d=j,H.value=P,A.value=j}s.SnVdX(S),h.focus()}()})}o.appendChild(r);let $=n.LWVUI(_0x4c1eaf,"xTOLrzGN6");o.appendChild($);let x=_0x4c1eaf(n.YRdbU);$.appendChild(x);let _=n.FtXjt(_0x4c1eaf,n.srFhS),b=_0x4c1eaf(n.GbNWx),v=_0x4c1eaf(n.GbNWx),g=n.sxcGe(_0x4c1eaf,n.jVKdt);_.appendChild(b),_.appendChild(v),_.appendChild(g);let w=!1;b.innerText=_0x43d5b4.c1,v.innerText=_0x43d5b4.c2,_.focusable(!0),x.appendChild(_);let y=_0x4c1eaf("xY17x64dw");y.classList.add(n.emnbb),y.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',y.focusable(!0),_.bindWithCooldown(function(){w?(y.classList.remove(i.BgKhb),r.classList.remove(i.oaaUJ),_.classList.remove("xHCo3rIZ7"),w=!1):(y.classList.add(i.BgKhb),r.classList.add(i.oaaUJ),_.classList.add(i.yPjUT),w=!0)},0),y.bindWithCooldown(async function(){let n=f(h(_0x25cfec,"chats",e.id,"todos")),i={name:t.XbcMm,description:"",startAt:Date.now(),endAt:Date.now()};await t.mZHdb(u,n,i),t.gKuxN(c,i,n.id)},1e3),x.appendChild(y),r.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x2eef71+"</div>";let L=await n.ScNzv(m,C(h(_0x25cfec,"chats",e.id,n.ZOmmr)));r.innerHTML='<div class="xmBX2cWRZ">'+_0x43d5b4.d14+"</div>",0!==L.docs.length&&L.forEach(e=>{let n=e.data();t.Ohcpm(c,n,e.id)})}),s.Content.appendChild(r),s.Content.appendChild(d),c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0x43d5b4[n.fUmkz],c.classList.add("xGy5QqsmI"),s.Content.appendChild(c),_0x3d130e([o,r,c]),s._setPosition()};if(l.bindWithCooldown(function(e){e.stopPropagation(),n.CnUbS($)}),l.focusable(!0),i.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',a.appendChild(s),s.innerText=e.name||_0x43d5b4.a2,t=e.description?e.description:0===e.size?_0x43d5b4.b19:_0x43d5b4.b18.replace("$0",_0x44ac94(e.size)),o.innerText=t,a.appendChild(o),_0x4e72d6.primaryArea.appendChild(i),e.focus){d();let x={};x.behavior=n.Vgusi,x.block="center",x.inline="nearest",i.scrollIntoView(x)}}function _0x314a17(e){let t={};t.aIgqB=function(e,t){return e<t},t.fOmtF=function(e,t){return e<t},t.iNPiT="a20",t.yptbA=function(e,t){return e/t},t.ernje="a23",t.Einng="a22";let n=t,i=Math.max(Math.floor((Date.now()-e)/1e3),0);return n.aIgqB(i,60)?_0x43d5b4.a18.replace("$0",i):n.fOmtF(i,3600)?_0x43d5b4[n.iNPiT].replace("$0",Math.floor(n.yptbA(i,60))):n.fOmtF(i,86400)?_0x43d5b4.a21.replace("$0",Math.floor(n.yptbA(i,3600))):i<2592e3?_0x43d5b4[n.ernje].replace("$0",Math.floor(i/86400)):i<31536e3?_0x43d5b4.a19.replace("$0",Math.floor(i/2592e3)):_0x43d5b4[n.Einng].replace("$0",_0x44ac94(Math.floor(n.yptbA(i,31536e3))))}function _0x16c459(e){let t={};t.mElIK=function(e,t){return e>=t},t.WXtbC=function(e,t){return e-t};let n=t,i=["B","KB","MB","GB","TB","PB"],a=e,s=0;for(;n.mElIK(a,1024)&&s<n.WXtbC(i.length,1);)a/=1024,s++;return a.toFixed(2)+" "+i[s]}async function _0x152a30(e,t){let n={vbwyL:function(e,t,n,i){return e(t,n,i)},EwOVM:function(e,t,n){return e(t,n)},quHWK:"Failed to update user profile:"};try{let i=n.vbwyL(f,_0x25cfec,"users",e);if(t){await n.EwOVM(k,i,t),_0x9ac266[e]&&(_0x9ac266[e]={..._0x9ac266[e],...t});let a=sessionStorage.getItem("upf_"+e);if(a){let s={...JSON.parse(a),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(s))}}else delete _0x9ac266[e],sessionStorage.removeItem("upf_"+e);return!0}catch(o){return console.error(n.quHWK,o),!1}}async function _0x3a7039(e){if(_0x9ac266[e])return _0x9ac266[e];let t=sessionStorage.getItem("upf_"+e);if(t){let n=JSON.parse(t);return _0x9ac266[e]=n,n}try{let i=await ({QJdsH:function(e,t){return e(t)}}).QJdsH(_,f(_0x25cfec,"users",e));if(!i.exists())return null;{let a=i.data();return _0x9ac266[e]=a,sessionStorage.setItem("upf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x225548(e){if(_0xc05163[e])return _0xc05163[e];let t=sessionStorage.getItem("rpf_"+e);if(t){let n=JSON.parse(t);return _0xc05163[e]=n,n}try{let i=await _(({BJKUL:function(e,t,n,i){return e(t,n,i)}}).BJKUL(f,_0x25cfec,"chats",e));if(!i.exists())return null;{let a=i.data();return _0x9ac266[e]=a,sessionStorage.setItem("rpf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x593d74(e,t){let n={CCYTX:function(e,t,n,i){return e(t,n,i)},VDPGb:function(e,t){return e(t)},OhjNf:function(e,t,n,i,a){return e(t,n,i,a)},nIYmE:function(e,t){return e===t},IXUMc:function(e,t){return e/t},ZVehQ:"instant"};if(void 0!==_0x2e0a7c){_0x3fcabe=!0;let i=await n.VDPGb(m,n.OhjNf(C,h(_0x25cfec,"chats",e,"messages"),w("timestamp","desc"),n.VDPGb(v,_0x2e0a7c),n.VDPGb(T,10)));if(console.log(i.docs.length+" messages left"),n.nIYmE(i.docs.length,0))return;_0x2e0a7c=n.nIYmE(i.docs.length,10)?i.docs[9]:void 0;let a=[];i.forEach(e=>{a.push(e)}),a.reverse();let s=0;_0x35014b=_0x4c1eaf("xWIHJooz8"),_0xf1b4d="";let o=_0x4e72d6.messageContainer.firstChild;_0x4e72d6.messageContainer.insertBefore(_0x35014b,o);let r=_0x4e72d6.messageContainer.scrollHeight;a.map(e=>{s++;let t=e.data();-1===_0x2b96d7.indexOf(e.id)&&(t.sender===_0x3927d0?(_0x2b96d7.push(e.id),_0x2fc682(t,e.id,"2")):(_0x2b96d7.push(e.id),n.CCYTX(_0x30a8f9,t,e.id,"2")),_0xf1b4d=t)}),_0x3fcabe=!0,_0x17379c=_0x4e72d6.messageContainer.scrollHeight-r,console.log("觸發前："+_0x4e72d6.messageContainer.scrollTop+"\n觸發時間："+n.IXUMc(Date.now(),1e3)+"\n高度："+_0x17379c);let l={};l.top=_0x17379c,l.left=0,l.behavior=n.ZVehQ,_0x4e72d6.messageContainer.scrollTo(l),_0x17379c=0,_0x3fcabe=!1}else _0x3fcabe=!1}function _0x7af54f(e,t){let n={};n.ZCQtq=function(e,t){return e<t},n.vTUiw=function(e,t){return e/t},n.PAMux=function(e,t){return e-t},n.InIXT=function(e,t){return e*t},n.uFzDR=function(e,t){return e>t};let i=n,a=new Date,s=new Date(e),o=new Date(t);if(o<s)return _0x43d5b4.f8;if(a>o)return _0x43d5b4.f7;let r=i.ZCQtq(a,s)?s:o,l=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),d=l(r),c=l(a),$=Math.floor(i.vTUiw(i.PAMux(d,c),i.InIXT(60*i.InIXT(1e3,60),24))),x;switch($){case -1:x=_0x43d5b4.f4;break;case 0:x=_0x43d5b4.f2;break;case 1:x=_0x43d5b4.f3;break;default:x=i.uFzDR($,0)?_0x43d5b4.f6.replace("$0",$):_0x43d5b4.f5.replace("$0",Math.abs($))}return x}let _0x55de15='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x4784bd(e){let t={ndvPk:function(e,t){return e===t},CrRJE:"xl4gtQk5f",lYsTl:".xMyW2iRSH",mqZvZ:function(e,t,n,i){return e(t,n,i)},xqvsO:"chats",lZrbx:"messages"};if(_0xe25224[e]){console.log("Listener for "+e+" already exists.");return}let n=t.mqZvZ(g,h(_0x25cfec,t.xqvsO,e,t.lZrbx),n=>{let i={NmhLP:function(e,n){return t.ndvPk(e,n)},DdDKo:"hidden",LgEeL:function(e,t){return e===t},qOFlm:function(e,t,n,i){return e(t,n,i)},YNkqT:function(e,t){return e(t)},TeJCF:t.CrRJE,ksZhk:"modified",HzpZE:function(e,t){return e(t)},Tjjjo:t.lYsTl};n.docChanges().forEach(t=>{if(_0x3278c6!==e)return;let n=t.doc.data();switch(t.type){case"added":i.NmhLP(_0x2b96d7.indexOf(t.doc.id),-1)&&!t.doc.metadata.fromCache&&(document.visibilityState===i.DdDKo&&(_0x31e4b8++,document.title="("+_0x31e4b8+") "+_0x30a430),console.log(_0x2b96d7.indexOf(t.doc.id)),_0x2b96d7.push(t.doc.id),i.LgEeL(n.sender,_0x3927d0)?i.qOFlm(_0x2fc682,n,t.doc.id,"3"):_0x30a8f9(n,t.doc.id,"3"));break;case"removed":let a=i.YNkqT(_0x452623,_0x55de15.replace("{sid}",t.doc.id));try{a.classList.add(i.TeJCF),setTimeout(function(){a.remove()},3e3)}catch(s){console.log(s)}break;case i.ksZhk:try{let o=i.HzpZE(_0x452623,_0x55de15.replace("{sid}",t.doc.id)).querySelector(i.Tjjjo);o?(o.clear(),_0xa44f1d(o,n)):console.log("找不到匹配的訊息容器")}catch(r){console.log("修改訊息時發生未知錯誤",r)}}})},e=>{console.error("An unknown error occurred",e)});_0xe25224[e]=n}function _0x4458f2(){let e={QYfvi:"disabled",WIVQI:"b17",pFLwW:"show",rjBKw:function(e,t){return e===t},PLIkR:"auth/popup-closed-by-user",WZiYF:"1|4|0|3|2",zyZAF:function(e,t,n){return e(t,n)},dAqYd:function(e,t){return e(t)},VdxVZ:"x4V8Jejrz",aBOtO:"div",ByqYZ:"b10",noMnT:"actionbtn xYIKBnbHS",DPGIT:"xWDUelLWA",ZzsWu:"label",StXxz:"xF37V7xd0",MkwYw:"xYvZ9WF6d",jNuss:"xGGKUZ7B3",GFEKs:"10px",kkpPH:"5px",oXEHr:"password",bwRzn:"off",WwNOn:"b26"},t=e.dAqYd(_0x4c1eaf,"xrYn5ZY3v");t.innerText=_0x43d5b4.b8;let a=_0x4c1eaf(e.VdxVZ);a.innerText=_0x43d5b4.b9;let o=_0x4c1eaf("xRRuA0Z3S"),r=document.createElement(e.aBOtO);r.id="x7BYgkdiJ",r.focusable(!0);let l='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0x43d5b4.b11,d='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0x43d5b4[e.ByqYZ]+"</span>\n						</div>";r.innerHTML=l;let c=document.createElement(e.aBOtO);c.focusable(!0),c.id="xBnuWNG6V",c.className=e.noMnT,r.className="actionbtn xYIKBnbHS",c.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0x43d5b4.b12,o.appendChild(r),o.appendChild(c);let $=new _0x11f223;$.Content.classList.add("bt"),$.Root.classList.add("xCmJYJQtp"),$.Content.classList.add("xySmLVr4a"),$.Content.appendChild(t),$.Content.appendChild(a),$.Content.appendChild(o);let x=e.dAqYd(_0x4c1eaf,"xrYn5ZY3v");x.classList.add("lf"),x.classList.add("gc");let h=_0x4c1eaf("xZyuwxZPZ");h.focusable(!0),h.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',x.appendChild(h);let u=_0x4c1eaf("x6Y89FynP");u.innerText=_0x43d5b4.b27,x.appendChild(u);let f=_0x4c1eaf(e.DPGIT);f.classList.add("xwxpzc3QF"),$.Content.appendChild(x),$.Content.appendChild(f);let p=document.createElement("div");f.appendChild(p),p.classList.add("xZdL9CF5M");let _=document.createElement("div");_.classList.add("xGGKUZ7B3"),p.appendChild(_);let b=document.createElement(e.ZzsWu);b.classList.add(e.StXxz),b.innerText=_0x43d5b4.b24,_.appendChild(b);let m=document.createElement("input");m.classList.add(e.MkwYw),m.autocomplete="off",m.type="text",m.disabled=!0,m.spellcheck=!1,_.appendChild(m);let v=document.createElement("div");v.classList.add(e.jNuss),v.style.marginTop=e.GFEKs,v.style.marginBottom=e.kkpPH,p.appendChild(v);let g=document.createElement("label");g.classList.add("xF37V7xd0"),g.innerText=_0x43d5b4.b25,v.appendChild(g);let C=document.createElement("input");C.classList.add("xYvZ9WF6d"),C.type=e.oXEHr,C.disabled=!0,C.autocomplete=e.bwRzn,v.appendChild(C);let w=document.createElement("div");w.classList.add("xw0IanPrC"),p.appendChild(w);let y=document.createElement("div");y.innerText=_0x43d5b4[e.WwNOn],y.classList.add(e.QYfvi),y.classList.add("x40AApYkW"),p.appendChild(y);let L=_0x4c1eaf("xPT7rhLdL");L.focusable(!0),L.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M9 14l-4 -4l4 -4" /><path d="M5 10h11a4 4 0 1 1 0 8h-1" /></svg>'+_0x43d5b4.b13,L.bindWithCooldown(function(){$.Content.classList.remove("xA7y7OLtP"),y.classList.add(e.QYfvi),y.focusable(!1),m.disabled=!0,C.disabled=!0}),p.appendChild(L),h.bindWithCooldown(function(){$.Content.classList.remove("xA7y7OLtP"),y.classList.add("disabled"),y.focusable(!1),m.disabled=!0,C.disabled=!0});let k=!0,T=function(){k&&(k=!1,h.classList.add(e.QYfvi),h.focusable(!1),w.classList.remove(e.pFLwW),y.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,C.disabled=!0,y.classList.add("disabled"),y.focusable(!1),y.blur(),L.classList.add(e.QYfvi),L.focusable(!1),s(_0x1133bf,m.value,C.value).then(e=>{try{$.close(),α.close()}catch(t){}let n=e.user;console.log("User is logged in: ",n)}).catch(t=>{let n={};n.AuAlQ="auth/invalid-login-credentials",n.DOwbG="b14",n.ByGSp="auth/invalid-email",n.AETOH="b16",n.ljOsM=e.WIVQI,n.zumYq=e.QYfvi;let i=n;setTimeout(function(){let e=t.code;switch(w.classList.add("show"),e){case i.AuAlQ:w.innerText=_0x43d5b4[i.DOwbG];break;case i.ByGSp:w.innerText=_0x43d5b4.b15;break;case"auth/network-request-failed":w.innerText=_0x43d5b4[i.AETOH];break;default:w.innerText=_0x43d5b4[i.ljOsM]}y.innerHTML=_0x43d5b4.b26,y.classList.remove(i.zumYq),y.focusable(!0),L.classList.remove("disabled"),L.focusable(!0),m.disabled=!1,C.disabled=!1,h.classList.remove("disabled"),h.focusable(!0),k=!0},3e3)}))};C.onkeydown=function(t){e.rjBKw(t.keyCode,13)&&T()},y.bindWithCooldown(T),r.bindWithCooldown(function(){let t={};t.ymDsc=e.PLIkR,t.TOyih=e.WZiYF,t.qCqMM=e.QYfvi;let a=t;r.classList.add("disabled"),c.classList.add(e.QYfvi),r.innerHTML=d,r.focusable(!1),c.focusable(!1),e.zyZAF(n,_0x1133bf,_0x33a09d).then(e=>{let t={};t.erdwZ="無法設置";let n=t;i.credentialFromResult(e).accessToken,_0x3a7039(_0x3927d0=e.user.uid).then(e=>{try{_0x1e3254(e.avatarUrl,e.name,e.qid||e.id)}catch(t){console.error(n.erdwZ)}$.close()}).catch(e=>{console.error(e)})}).catch(e=>{if(e.code===a.ymDsc){let t=a.TOyih.split("|"),n=0;for(;;){switch(t[n++]){case"0":r.focusable(!0);continue;case"1":r.classList.remove(a.qCqMM);continue;case"2":r.innerHTML=l;continue;case"3":c.focusable(!0);continue;case"4":c.classList.remove(a.qCqMM);continue}break}}})}),c.bindWithCooldown(function(){$.Content.classList.add("xA7y7OLtP"),m.disabled=!1,C.disabled=!1,y.focusable(!0),y.classList.remove(e.QYfvi),m.focus()})}function _0x33c0d3(e="",t="",...n){let i={flyPo:function(e,t){return e!==t},tDCXH:"disabled",xJhsW:"users",YeAHi:function(e,t){return e(t)},tqJTw:"d10",iQMsr:"xMCbxIsn5",EDJKF:"xrYn5ZY3v",pCGBI:"x6Y89FynP",dUMjg:function(e,t){return e(t)},UjZHH:"xvb5soWNa",LCQwx:"xWDUelLWA",ZYOUY:"input",XAZHj:"true",ljHFe:"_Jy2eOVG7",EniuX:"xGGKUZ7B3",iEejq:"label",KZXwQ:"xF37V7xd0",RGJOP:"xYvZ9WF6d",viBTi:"_rJvAjH9O",iMyOI:"off",yfbgx:"_fM6Qcf9q",hLFOI:"xGuwEx6qN",lKNfg:"x40AApYkW"},a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x11f223(a);s.Root.classList.add(i.iQMsr),s.Content.style.padding="0";let o=i.YeAHi(_0x4c1eaf,i.EDJKF);o.classList.add("lf");let r=i.YeAHi(_0x4c1eaf,i.pCGBI);r.innerText=_0x43d5b4.b5,o.appendChild(r);let l=i.dUMjg(_0x4c1eaf,i.UjZHH);l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',s.close=s.close.bind(s),l.bindWithCooldown(s.close),o.appendChild(l),s.Content.appendChild(o);let d=_0x4c1eaf(i.LCQwx);s.Content.appendChild(d);let c=document.createElement(i.ZYOUY);c.setAttribute("hidden",i.XAZHj),c.id=i.ljHFe,c.type="file";let $=_0x4c1eaf(i.EniuX),x=document.createElement(i.iEejq);x.innerText=_0x43d5b4.b4,x.classList.add(i.KZXwQ),x.htmlFor="_rJvAjH9O";let h=document.createElement(i.ZYOUY);h.value=e,h.classList.add(i.RGJOP),h.id=i.viBTi,h.type="text",h.maxLength="20",h.autocomplete=i.iMyOI,h.spellcheck=!1,d.appendChild($),$.appendChild(x),$.appendChild(h);let p=_0x4c1eaf(i.EniuX),b=document.createElement(i.iEejq);b.innerText=_0x43d5b4.b3,b.classList.add(i.KZXwQ),b.htmlFor=i.yfbgx;let m=document.createElement("textarea");m.maxLength="80",m.value=t,m.classList.add(i.hLFOI),m.id=i.yfbgx,m.rows="3",m.maxLength="50",m.autocomplete="off",m.spellcheck=!1,d.appendChild(p),p.appendChild(b),p.appendChild(m);let v=i.dUMjg(_0x4c1eaf,i.lKNfg);function g(){i.flyPo(m.value,t)||i.flyPo(h.value,e)?(v.classList.remove("disabled"),v.focusable(!0)):(v.classList.add(i.tDCXH),v.focusable(!1))}async function C(){let e={};e.fZHbF=function(e,t){return e===t};let t=e;v.classList.add(i.tDCXH),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),h.disabled=!0,m.disabled=!0,c.disabled=!0;let n=h.value,a=m.value.trim();if((await _(f(_0x25cfec,i.xJhsW,_0x3927d0))).exists()){let o={};o.name=n,o.signature=a,await _0x152a30(_0x3927d0,o)}else await u(f(_0x25cfec,i.xJhsW,_0x3927d0),{name:n,signature:a,id:_0x3927d0,joined:[],deviceInfo:""}),_0x4e72d6.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x43d5b4.d7+"</div>";_0x4e72d6.nameLabel.innerText=n,_0x55aaa1.state&&(_0x55aaa1._n=n,_0x55aaa1._a.innerText=n,_0x55aaa1._b.innerHTML=_0x1f5250(i.YeAHi(_0x1a35cc,a))||_0x43d5b4[i.tqJTw],_0x55aaa1._m.forEach(e=>{t.fZHbF(e.userId,_0x3927d0)&&(e.dom.textContent="@"+n)})),s.close()}v.innerText=_0x43d5b4.b7,v.classList.add("disabled"),v.style.marginTop="0",d.appendChild(v),m.oninput=g,h.oninput=g,v.bindWithCooldown(C),h.focus()}async function _0x346e3d(e,t){let n={qecqJ:function(e,t,n,i,a){return e(t,n,i,a)},xCLnP:"chats"},i=await m(n.qecqJ(h,_0x25cfec,n.xCLnP,e.id,"messages"));if(!_0x4e8142.some(t=>t.id===e.id)){let a={};a.name=e.name,a.id=e.id,a.type=e.type,a.tag=e.tag,a.description=e.description,a.size=i.size,a.members=e.members,a.focus=t,a.identity=e.identity,_0x1424a9(a)}}async function _0x448437(){let e={tYKHV:function(e,t){return e===t},LpkaG:"xuGldtFot",ypQLY:function(e,t){return e(t)},zTYtT:function(e,t,n,i){return e(t,n,i)},vqbro:"users",zFujR:function(e,t){return e>t}};_0x4e72d6.primaryArea.classList.add(e.LpkaG);let t=(await e.ypQLY(_,e.zTYtT(f,_0x25cfec,e.vqbro,_0x3927d0))).data(),n=new URLSearchParams(window.location.search).get("r"),i=t.joined||[];e.zFujR(i.length,0)?t.joined.map(async t=>{let i={cVSiT:function(t,n){return e.tYKHV(t,n)}};try{_0x225548(t).then(async e=>{let a={};a.id=t,a.name=e.name,a.type=e.type,a.tag=e.tag,a.plugins=e.plugins,a.members=e.members,a.description=e.description,a.identity=e.identity,_0x346e3d(a,i.cVSiT(n,t))})}catch(a){console.error("Error fetching document for ID:",t,a)}}):_0x4e72d6.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x43d5b4.d13+"</div>"}a(_0x1133bf,e=>{let t={FyPrp:function(e,t){return e(t)}};e?(_0x3927d0=e.uid,t.FyPrp(_0x3a7039,_0x3927d0).then(e=>{if(!e){_0x33c0d3();return}_0x1e3254(e.avatarUrl,e.name,e.qid||e.id)}).catch(e=>{console.error(e),_0x1e3254()}),_0x7eeb8e()):(_0x3927d0="",_0x4458f2())});let _0x414701={};_0x414701.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x414701.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x414701.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x414701.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x414701.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x3f9f1f=_0x414701;function _0x592bb1(){let e={ZvkqW:function(e,t){return e!==t},NOvWA:function(e,t){return e<=t},MWifv:function(e,t){return e(t)}},t=_0x4e72d6.messageContainer.scrollTop;e.ZvkqW(_0x3927d0,"")&&""!==_0x3278c6&&!_0x3fcabe&&e.NOvWA(t,0)&&e.MWifv(_0x593d74,_0x3278c6)}function _0x3f3b75(){let e={};e.CVHqc="inert",e.cbvha="Structure",e.RBBzR="disabled";let t=e;_0x30ed2d=!1,_0x4e72d6.sidebar.removeAttribute(t.CVHqc),_0x30e604=_0x4e72d6.sidebar,_0x4e72d6.backButton.classList.add("disabled"),_0x4e72d6._mb_att_btn.classList.add("disabled");let n=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x4e72d6.main.classList.remove("x8VAGH6N2"),_0x3fcabe=!0,_0x4e72d6.messageContainer.clear(),_0x3fcabe=!1,_0x3278c6="",_0x30a430=t.cbvha,document.title=_0x30a430,_0x4e72d6.messageInput.clear(),_0x4e72d6.messageInput.setAttribute("contenteditable","true"),_0x4e72d6.messageInput.focusable(!1),_0x4e72d6.sendButton.classList.add(t.RBBzR),_0x4e72d6.sendButton.focusable(!1)}_0x4e72d6.fileInput.onchange=async function(e){let t={FwhIx:"b44",Hbbid:function(e,t){return e/t},pHpWH:"{u}",EwHkg:function(e,t){return e(t)},XGNJO:"messages",cIlvC:function(e,t,n){return e(t,n)},Gymqf:"b46",vrRZO:"xWDUelLWA",VWFKM:"xIOucKmLX",DHxsb:"x6Y89FynP",AKJyJ:function(e,t){return e(t)},HbDSa:"xujSSErs5",iJbEA:function(e,t){return e>t},kKiVz:"xCECpHDwZ",PsBSL:"video/",xhrOG:"< video {u}",lZPHd:function(e,t){return e!==t},llxTb:"application/x-zip-compressed",EjMGW:"application/x-rar-compressed",mPCkv:"application/vnd.rar",ufjwf:"application/x-compressed",lIgjz:"< other {u}",SYrYk:"application/pdf",IfyVJ:"< pdf {u}",hPIcA:"div",Erojr:'<div class="xTGGn7ABj">',KkbXO:"xsoLox5sj",ERWOO:"xk0osKWCK",pwStP:"生成文件名時發生未知錯誤",cuMfO:function(e,t,n){return e(t,n)}},n=e.target.files[0];if(!n)return;let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x11f223(i);a.Overlay.classList.add("xOjXmYkxE"),a.Lock=!0;let s=_0x4c1eaf("xrYn5ZY3v");s.classList.add("lf");let o=_0x4c1eaf(t.vrRZO);o.classList.add(t.VWFKM),a.Content.appendChild(s),a.Content.appendChild(o),a.Content.classList.add("gt");let r=_0x4c1eaf(t.DHxsb),$=t.AKJyJ(_0x4c1eaf,t.HbDSa);s.appendChild(r),o.appendChild($);let x=_0x4c1eaf("xvb5soWNa");if(x.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',x.focusable(!0),s.appendChild(x),t.iJbEA(n.size,52428800)){let p="4|1|2|0|3".split("|"),_=0;for(;;){switch(p[_++]){case"0":a.Lock=!1;continue;case"1":$.innerText=_0x43d5b4.b49.replace("$0",t.AKJyJ(_0x16c459,n.size));continue;case"2":x.onclick=function(){_0x4e72d6.fileInput.value="",a.close.bind(a)()};continue;case"3":return;case"4":r.innerText=_0x43d5b4.b48;continue}break}}r.innerText=_0x43d5b4.b42,$.innerText=_0x43d5b4.b43;let b=document.createElement("div");b.classList.add(t.kKiVz),b.focusable(!0),o.appendChild(b);let m=document.createElement("div");m.classList.add("xty9qDHrl"),b.appendChild(m);let v=document.createElement("div");v.classList.add("xIEj1ZAnA");let g=String(n.type),C="",w="";g.startsWith("image/")?(C=_0x3f9f1f.image,w="< image {u}"):g.startsWith(t.PsBSL)?(C=_0x3f9f1f.video,w=t.xhrOG):g.startsWith("audio/")?(C=_0x3f9f1f.audio,w="< audio {u}"):t.lZPHd([t.llxTb,"application/zip",t.EjMGW,t.mPCkv,t.ufjwf].indexOf(g),-1)?(C=_0x3f9f1f.archive,w=t.lIgjz):g===t.SYrYk?(C=_0x3f9f1f.others,w=t.IfyVJ):(C=_0x3f9f1f.others,w="< other {u}"),v.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+C+"</svg>",m.appendChild(v);let y=document.createElement(t.hPIcA);y.classList.add("xxs4n9nhX"),m.appendChild(y),y.innerHTML=t.Erojr.concat(n.name).concat('</div><div class="xtyaQiCLO">'+_0x16c459(n.size)+"</div>"),m.appendChild(y);let L=document.createElement("div");L.classList.add(t.KkbXO),m.appendChild(L);let k=document.createElement("div");k.classList.add(t.ERWOO),L.appendChild(k);let T="";try{T=_0x4f19a8(12)+"-"+n.name}catch(E){console.log(t.pwStP,E)}let M=l(_0x505f1e,"uploads/"+_0x3278c6+"/attachment/"+T),H=t.cuMfO(d,M,n);x.onclick=function(){r.innerText=_0x43d5b4[t.FwhIx],$.innerText=_0x43d5b4.b45,a.Lock=!1,H.cancel(),_0x4e72d6.fileInput.value="",a.close()},H.on("state_changed",e=>{let n=100*t.Hbbid(e.bytesTransferred,e.totalBytes);k.style.width=n+"%"},e=>{console.log(e)},async()=>{let e=await c(H.snapshot.ref),n="";n=w.replace(t.pHpWH,e);let i=t.EwHkg(f,h(_0x25cfec,"chats",_0x3278c6,t.XGNJO));_0x2b96d7.push(i.id),await t.cIlvC(u,i,{sender:_0x3927d0,content:n,timestamp:Date.now()});let s={};s.content=n,_0x2fc682(s,i.id,"3"),_0x4e72d6.fileInput.value="",b.remove(),r.innerText=_0x43d5b4[t.Gymqf],$.innerText=_0x43d5b4.b47,x.onclick=()=>{},a.Lock=!1,x.bindWithCooldown(function(){a.close()})})},document.addEventListener("visibilitychange",function(){let e={};e.DNNCO="已重新聚焦 清除未讀訊息數","visible"===document.visibilityState&&(console.log(e.DNNCO),document.title=_0x30a430,_0x31e4b8=0)}),_0x4e72d6.searchInput.oninput=function(){let e={};e.ruTUr=function(e,t){return e!==t};let t=_0x4e72d6.searchInput.value.toLowerCase().trim();e.ruTUr(t,"")?_0x4e8142.forEach(e=>{e.name.toLowerCase().includes(t)?e.dom.classList.remove("hide"):e.dom.classList.add("hide")}):_0x4e8142.forEach(e=>{e.dom.classList.remove("hide")})},_0x4e72d6.messageContainer.addEventListener("scroll",function(){_0x592bb1()}),_0x4e72d6.messageInput.oninput=function(){let e={};e.KIjnn=function(e,t){return e==t},e.LDWHj=function(e,t){return e===t},e.Hvetl="DIV",e.yCHcW=function(e,t){return e!==t},e.pTxGX="disabled";let t=e,n=_0x4e72d6.messageInput.childNodes;t.KIjnn(n.length,1)&&("BR"===n[0].nodeName||t.LDWHj(n[0].nodeName,t.Hvetl))&&_0x4e72d6.messageInput.clear(),t.yCHcW(_0x4e72d6.messageInput.innerText.trim(),"")?(_0x4e72d6.sendButton.classList.remove(t.pTxGX),_0x4e72d6.sendButton.focusable(!0)):(_0x4e72d6.sendButton.classList.add(t.pTxGX),_0x4e72d6.sendButton.focusable(!1))},_0x4e72d6.messageInput.onfocus=function(){document.body.classList.add("xYIbDcl9T")},_0x4e72d6.messageInput.onblur=function(){let e={};e.wDLGs="xYIbDcl9T",document.body.classList.remove(e.wDLGs)},_0x4e72d6.messageInput.onpaste=function(e){let t={ubcNg:function(e,t){return e(t)},glilQ:"text/plain"};e.preventDefault(),document.execCommand("insertHTML",!0,t.ubcNg(_0x1a35cc,(e.clipboardData||window.Clipboard).getData(t.glilQ)))},_0x4e72d6.messageInput.ondrop=function(e){let t={nONXd:"insertHTML",GmKId:function(e,t){return e(t)}};e.preventDefault();let n=e.dataTransfer.getData("text/plain");e.target.focus(),document.execCommand(t.nONXd,!0,t.GmKId(_0x1a35cc,n))},_0x4e72d6.messageInput.oncopy=function(e){let t={};t.RSFHv="text/plain",e.preventDefault();var n=window.getSelection().toString();e.clipboardData.setData(t.RSFHv,n)},_0x4e72d6.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x141448||e.shiftKey||(e.preventDefault(),({hBfAD:function(e){return e()}}).hBfAD(_0x5ec5b8));break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x4e72d6.sendButton.bindWithCooldown(_0x5ec5b8),document.onkeydown=function(e){let t={};t.VQruG=function(e,t){return e!=t},t.WMOdV="xGuwEx6qN";let n=t;switch(e.keyCode){case 191:let i=document.activeElement;i!=_0x4e72d6.messageInput&&i!=_0x4e72d6.searchInput&&n.VQruG(i.tagName.toUpperCase(),"INPUT")&&!i.classList.contains(n.WMOdV)&&!i.classList.contains("xYvZ9WF6d")&&(e.preventDefault(),_0x4e72d6.messageInput.focus());break;case 75:e.ctrlKey&&_0x329146&&(e.preventDefault(),_0x4e72d6.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x4e72d6.backButton.bindWithCooldown(function(){({WRYFB:function(e){return e()}}).WRYFB(_0x3f3b75)});let _0xbfbeb0=!1;_0x4e72d6.profileContainer.bindWithCooldown(function(){let e={bLOQK:function(e,t,n){return e(t,n)},XTzxo:function(e,t){return e===t},OXnNM:function(e,t){return e(t)},dyrmS:function(e,t,n){return e(t,n)},TExWc:"f21",gNctW:"f20",BvCGB:"xmRZa1NtY",woqVV:"xG4XOK4JW",ElRvb:"f13",pRprG:"STG-a5ac39c4-4976-4ca8-8ee0-bd15908acf38",NpSvl:"f14",yuuSa:"f15",zUgfp:"f16",msTse:"STG-9e6b2b08-c23c-4f39-b0d8-80418b10f95f",xPkIB:"f18",fwiEQ:"STG-1298f54f-582b-4487-9084-37bbfd5eb0cb",WfokB:"f11",aoXAp:"desktop",dpbVh:"disabled",MpSNs:function(e,t){return e(t)},wdvPW:"xrQdSHI2A",SdZYG:"a15",FadSs:"xcoXgMpFW",dGqRv:"a16"};_0x4e72d6.sidebar.classList.add("x9EnCPd4S");let t={};t.trigger=_0x4e72d6.profileContainer,t.placement="top";let n=new _0x5de3da(t);n.Content.classList.add("xLhiIL2Wm");let i=e.OXnNM(_0x4c1eaf,"xrQdSHI2A");i.focusable(!0),i.innerHTML='<svg aria-hidden="true" style="min-width: 24px;" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 6l8 0" /><path d="M16 6l4 0" /><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 12l2 0" /><path d="M10 12l10 0" /><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 18l11 0" /><path d="M19 18l1 0" /></svg>'+_0x43d5b4[e.gNctW],i.bindWithCooldown(function(){let t={DsiqW:function(e,t){return e(t)},BqARW:"xnrc3UgAV",KzxyD:"xhaYJ4QyT",yqRgm:"checkbox",gWAFc:function(t,n){return e.XTzxo(t,n)},XznQI:function(t,n){return e.OXnNM(t,n)},QPZgf:"xmdgdJduU",HBlfo:"disabled",sdpAg:function(t,n,i){return e.dyrmS(t,n,i)},MVeoH:"clear-all-caches",GkeLb:e.TExWc};n.close();let i;if(_0x141448){let a={};a.parent=_0x4e72d6.sidebar,a.title=_0x43d5b4.f20,i=new _0x6663d7(a).Content}else{let s=new _0x51dcdd(_0x43d5b4[e.gNctW],!0);s.Content.classList.add("lg"),i=s.body}function o(e,n){let i=t.DsiqW(_0x4c1eaf,"xXhKBDWcA"),a=_0x4c1eaf(t.BqARW);if(i.appendChild(a),"cb"===n.type){let s=_0x4c1eaf("xoKmBEVCz"),o=_0x4c1eaf(t.KzxyD);s.textContent=n.title,o.textContent=n.desc;let r=document.createElement("input");r.type=t.yqRgm,r.classList.add("cls-switch"),r.checked=_0x30a672.get(n.id)||n.checked,r.onchange=function(){_0x30a672.set(n.id,r.checked)},i.appendChild(r),a.appendChild(s),a.appendChild(o)}else if(t.gWAFc(n.type,"btn")){let l=t.XznQI(_0x4c1eaf,"xoKmBEVCz");i.classList.add(t.QPZgf),i.focusable(!0),n.disabled&&i.classList.add(t.HBlfo),l.textContent=n.label,i.bindWithCooldown(function(){let e={};e.labelEle=l,e.ButtonEle=i,n.trigger(e)}),a.appendChild(l)}e.appendChild(i)}let r=_0x4c1eaf(e.BvCGB),l=_0x4c1eaf(e.BvCGB),d=_0x4c1eaf(e.BvCGB);l.classList.add(e.woqVV);let c={};c.id="STG-8dac6660-22f9-412e-b1b4-14a1e1657ad2",c.title=_0x43d5b4.f12,c.desc=_0x43d5b4[e.ElRvb],c.checked=!1,c.type="cb";let $={};$.id=e.pRprG,$.title=_0x43d5b4[e.NpSvl],$.desc=_0x43d5b4[e.yuuSa],$.checked=!0,$.type="cb",[c,$].forEach(e=>{t.sdpAg(o,r,e)});let x={};x.id="STG-1298f54f-582b-4487-9084-37bbfd5eb0cb",x.title=_0x43d5b4[e.zUgfp],x.desc=_0x43d5b4.f17,x.checked=!1,x.type="cb";let h={};h.id=e.msTse,h.title=_0x43d5b4[e.xPkIB],h.desc=_0x43d5b4.f19,h.checked=!1,h.type="cb",[x,h].forEach(e=>{o(l,e)}),[{id:"STG-252a9b54-19c6-4ecd-9d22-ba36aa6e45ee",label:_0x43d5b4.s3,type:"btn",trigger:function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let t=new _0x1be35b(e);t.Overlay.classList.add("xIkbBJgzp"),t.Body.innerHTML='\n					<div class="xHNNAeZhF">\n						<div class="xyctbgO0V">\n							<div class="xLu4Zx9Ip">\n								<img src="assets/logo.png" draggable="false">\n							</div>\n							<div class="xsR4e4fZB">Structure</div>\n						</div>\n						<div class="xrbR4QxkX">\n							<span class="xRDXgIF4B">'+_0x43d5b4.s1.replace("$0",_0x1db48a.current)+'</span>\n							<span class="xRDXgIF4B">'+_0x43d5b4.s2.replace("$0","kunelinmc")+"</span>\n						</div>\n					</div>"}},{id:e.fwiEQ,label:_0xbfbeb0?_0x43d5b4.f21:_0x43d5b4[e.WfokB],disabled:_0xbfbeb0,type:"btn",trigger:function(e){let n={};n.action=t.MVeoH,navigator.serviceWorker?.controller?.postMessage(n),e.labelEle.textContent=_0x43d5b4[t.GkeLb],e.ButtonEle.classList.add(t.HBlfo),_0x30a672.clear(),_0xbfbeb0=!0}}].forEach(t=>{e.bLOQK(o,d,t)}),i.appendChild(r),i.appendChild(l),i.appendChild(d)});let a=_0x4c1eaf(e.wdvPW);a.focusable(!0),a.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0x43d5b4[e.SdZYG],a.bindWithCooldown(function(){n.close(),e.OXnNM(_0x3a7039,_0x3927d0).then(t=>{let n={};n.data=t,n.type=_0x141448?"mobile":e.aoXAp,_0x22607b(_0x4e72d6.sidebar,n)}).catch(e=>{console.error(e)})});let s=_0x4c1eaf(e.FadSs),r=e.OXnNM(_0x4c1eaf,"xrQdSHI2A");r.focusable(!0),r.bindWithCooldown(function(){let t={Kheie:function(t,n){return e.OXnNM(t,n)},djGfA:"xmKH3ad5R",CzWsg:e.dpbVh,ImPZx:"xJd2GT7MI"};n.close(),e.MpSNs(o,_0x1133bf).then(()=>{_0x3927d0="",_0x3278c6="",_0x4e8142.length=0,_0x2b96d7.length=0,_0x329146=!1;let e=window.location.href.replace(/\?.*$/,"");for(let n in window.history.replaceState(null,"",e),_0x4e72d6.primaryArea.clear(),_0x4e72d6.messageContainer.clear(),_0xe25224)_0xe25224[n](),console.log("Listener for "+n+" removed.");Object.keys(_0xe25224).forEach(e=>delete _0xe25224[e]),_0x1dc4e4&&t.Kheie(clearInterval,_0x1dc4e4),localStorage.setItem("cvs",""),_0x20681a&&(_0x20681a.remove(),_0x20681a=null),document.body.classList.remove(t.djGfA),_0x4e72d6.profileContainer.classList.remove("disabled"),_0x4e72d6.profileContainer.focusable(!0),_0x4e72d6.markButton.classList.add("disabled"),_0x4e72d6.brushButton.classList.add("disabled"),_0x4e72d6.attachButton.classList.add("disabled"),_0x4e72d6.stickerButton.classList.add(t.CzWsg),_0x3219ad=!1,_0x4e72d6.avatarWrapper.classList.add(t.ImPZx),_0x4e72d6.avatarLabel.src="",_0x4e72d6.nameLabel.innerText="",_0x4e72d6.signatureLabel.innerText=""}).catch(e=>{console.error("Sign out error",e)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0x43d5b4[e.dGqRv],_0x3d130e([i,a,r]),n.Content.appendChild(i),n.Content.appendChild(a),n.Content.appendChild(s),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x4e72d6.sidebar.classList.remove("x9EnCPd4S")})});class _0x6663d7{constructor({parent:e,title:t}){let n={WfGim:"true",PsTme:"xCr0RyqCg",GFzAA:"xa2pPtuLq",YLVxT:function(e,t){return e(t)},gIuSI:"xB4hVI3El",PXTya:"xopQXJrX5",ILJSm:function(e,t){return e(t)},WazEY:"xMyenRl7K",cYrsR:function(e,t){return e(t)}},i=e,a=n.YLVxT(_0x4c1eaf,n.gIuSI),s=_0x4c1eaf(n.PXTya),o=_0x4c1eaf("xZz4zYjIm"),r=n.ILJSm(_0x4c1eaf,n.WazEY),l=n.cYrsR(_0x4c1eaf,"x8JU9DbQZ"),d=n.ILJSm(_0x4c1eaf,"xvwhg72ii");this._parent=i,this.Root=a,this.Content=o,this.Heading=s,this._backButton=l,this._deactivated_elements=document.querySelectorAll("body > *:not(.xEHCrF5Oe, script, [hidden])"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert",n.WfGim)}),s.appendChild(r),r.appendChild(l),r.appendChild(d),d.textContent=t,l.focusable(!0),l.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',l.bindWithCooldown(this.close.bind(this)),a.appendChild(s),a.appendChild(o),document.body.appendChild(a),setTimeout(function(){_0x30e604=a,i.classList.add(n.PsTme),a.classList.add(n.GFzAA)},50)}onClose(e){this.onCloseCallback=e}close(){let e={XfNvQ:"xjv5U11Kz",mGZFf:function(e,t,n){return e(t,n)}};this.onCloseCallback&&this.onCloseCallback(),this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),_0x30e604=this._parent,this.Root.classList.remove("xa2pPtuLq"),this._parent.classList.remove("xCr0RyqCg"),this._parent.classList.remove(e.XfNvQ),this.Root.classList.remove("xjv5U11Kz"),e.mGZFf(setTimeout,()=>{this.Root.remove()},100)}}async function _0x22607b(e,t){let n={hTNYC:function(e,t,n,i){return e(t,n,i)},VSANF:function(e,t){return e>t},iXzRr:"xORN7XV1j",sejsr:"4|3|1|0|2",xMZCB:function(e,t){return e>t},tUGHC:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',eTaeY:function(e,t){return e(t)},OlxYT:"x0zSVRG3y",rTBDQ:"cache-url",hpUIC:function(e,t){return e===t},tsShm:"nodownload",CYrxQ:"muted",qASAz:"assets/default-banner.png",kgKhn:"lazy",EKSds:"xkKF4v6d2",NGQPe:function(e,t){return e(t)},nuKLX:"xwvIJoAtO",JAXRB:"xVwXc1fhM",fApsQ:function(e,t){return e(t)},LtPeQ:"xqYV0G7JT",oylri:function(e,t){return e(t)},qdWAZ:"xodqSvoQM",BNFtV:"xt0pX9m5p",lykis:function(e,t){return e(t)},plUcP:"x117sdiIx",Jgbty:"xxXoB6W0R",qZbZR:"xylvbLNlS",llnAS:"xY3QPRePs",uMtco:function(e,t){return e(t)},nnOKl:function(e,t){return e+t},nJhEJ:function(e,t){return e+t},CuBEr:function(e,t){return e(t)},eerip:"d12",TTOWA:"b51",wJQDs:function(e,t){return e(t)},unxZk:"xjMiLDVEU",BiCrp:"xUHiz9aGO",cGubZ:"xhMhXcFlu",aWAWg:function(e,t){return e(t)},DyceR:function(e,t){return e(t)},ljobi:"xjMYgfYFc",lbMRu:"xHPTUCUar",cQNLb:"horizontal",XgjmC:"xnS3FTqjp"};_0x55aaa1.state=!0,_0x55aaa1._n||(_0x55aaa1._n=t.data.name),_0x55aaa1._d||(_0x55aaa1._d=t.data.signature);let i=n.tUGHC,a=_0x4c1eaf("xkyfCNAI0"),s=n.eTaeY(_0x4c1eaf,n.OlxYT),o,r={};r.action=n.rTBDQ,r.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(r);let l={};l.action="cache-url",l.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(l),n.hpUIC(t.data.bannerType,"video")?((o=document.createElement("video")).loop=!0,o.controlslist=n.tsShm,o.controls=!1,o.setAttribute(n.CYrxQ,""),o.playsInline=!0,o.preload=!0,o.autoplay=!0,o.src=t.data.bannerUrl):((o=document.createElement("img")).draggable=!1,o.src=t.data.bannerUrl||n.qASAz,o.loading=n.kgKhn),o.classList.add("x96ofpjeu");let d=_0x4c1eaf(n.EKSds),c=n.NGQPe(_0x4c1eaf,n.nuKLX),$=document.createElement("img");$.classList.add(n.JAXRB);let x=n.fApsQ(_0x4c1eaf,"xzCCWGB1D"),h=_0x4c1eaf("xCYnK7ffo"),u=_0x4c1eaf(n.LtPeQ),f=n.oylri(_0x4c1eaf,"xBjZoCxmV"),p=_0x4c1eaf("xjam05uvc"),_=_0x4c1eaf(n.qdWAZ),b=_0x4c1eaf(n.BNFtV);a.appendChild(s),s.appendChild(o),a.appendChild(d),u.appendChild(c),c.appendChild($),$.draggable=!1,$.src=t.data.avatarUrl||"assets/avatar.png",$.loading="lazy",d.appendChild(h),d.appendChild(x),x.appendChild(u);let m=n.lykis(_0x4c1eaf,"x2OCp76zA");x.appendChild(m);let v=n.oylri(_0x4c1eaf,"xokk3UP7N");u.appendChild(v);let g=_0x55aaa1._n,C=_0x4c1eaf(n.plUcP);C.textContent=g,f.appendChild(C),f.appendChild(p);let w=n.lykis(_0x4c1eaf,n.Jgbty),y=1;t.data.qid?(w.textContent=t.data.qid,w.bindWithCooldown(function(){0===y?(y=1,w.textContent=t.data.qid):(y=0,w.textContent=t.data.id)},0)):w.textContent=t.data.id,v.appendChild(f),v.appendChild(w),_0x55aaa1._a=C,_0x55aaa1._b=_,_.innerHTML=n.oylri(_0x1f5250,n.fApsQ(_0x1a35cc,_0x55aaa1._d||_0x43d5b4.d10)),d.appendChild(b);let L=n.oylri(_0x4c1eaf,n.qZbZR);L.textContent=_0x43d5b4.b1,b.appendChild(L),b.appendChild(_);let k=n.oylri(_0x4c1eaf,"xylvbLNlS");k.id=n.llnAS,k.textContent=_0x43d5b4.b2;let T=n.uMtco(_0x4c1eaf,"xodqSvoQM"),E=new Date(t.data.deviceInfo.lastUpdate),M=n.nnOKl(n.nJhEJ(E.getFullYear(),"/")+n.nJhEJ(E.getMonth(),1)+"/"+E.getDate()," ")+E.getHours().toString()+":"+E.getMinutes().toString().padStart(2,"0");T.innerText=(n.CuBEr(_0x314a17,t.data.deviceInfo.lastUpdate)||_0x43d5b4.d11)+" ("+(M||_0x43d5b4[n.eerip])+")",b.appendChild(k),b.appendChild(T);let H=n.CuBEr(_0x4c1eaf,n.qZbZR);H.id="xkRGF6AbD",H.textContent=_0x43d5b4.b50;let A=_0x4c1eaf(n.qdWAZ);if(A.innerHTML=t.data.dynamics||_0x43d5b4[n.TTOWA],b.appendChild(H),b.appendChild(A),n.hpUIC(t.type,"desktop")){let B={};B.closeOnEsc=!0,B.closeOnOverlayClick=!0;let I=new _0x11f223(B);I.Content.classList.add("xlY0G76Nv"),I.Content.classList.add("lg"),I.Content.classList.add("gb");let W=n.wJQDs(_0x4c1eaf,n.unxZk),S=_0x4c1eaf(n.BiCrp),R=_0x4c1eaf(n.cGubZ),Y=n.aWAWg(_0x4c1eaf,"xIl46kG8k"),D=n.DyceR(_0x4c1eaf,n.ljobi);Y.appendChild(D),D.textContent=t.data.name,S.appendChild(Y),S.appendChild(R);let X=n.CuBEr(_0x4c1eaf,n.lbMRu);if(X.bindWithCooldown(I.close.bind(I)),X.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',X.focusable(!0),t.data.id===_0x3927d0){let O=n.lykis(_0x4c1eaf,n.lbMRu);O.bindWithCooldown(function(){n.hTNYC(_0x33c0d3,_0x55aaa1._n,_0x55aaa1._d,I.Root)}),O.innerHTML=_0x6da2f3.edit,O.focusable(!0),R.appendChild(O),_0x3d130e([O,X],n.cQNLb)}R.appendChild(X),W.appendChild(S),I.Content.appendChild(W),W.appendChild(a);let P=I.Content.getBoundingClientRect();if(I.Content.style.setProperty("--xD672nKxG",P.height+"px"),W.onscroll=function(){n.VSANF(W.scrollTop,60)?W.classList.add(n.iXzRr):W.classList.remove(n.iXzRr)},t.data.verified){let j=n.oylri(_0x4c1eaf,"xTKxbdpu3");j.innerHTML=i,p.appendChild(j)}I.onClose(function(){let e=n.sejsr.split("|"),t=0;for(;;){switch(e[t++]){case"0":_0x55aaa1._n="";continue;case"1":_0x55aaa1._b=null;continue;case"2":_0x55aaa1._d="";continue;case"3":_0x55aaa1._a=null;continue;case"4":_0x55aaa1.state=!1;continue}break}})}else{let G={};G.parent=e,G.title=t.data.name;let z=new _0x6663d7(G);if(n.hpUIC(t.data.id,_0x3927d0)){let F=n.CuBEr(_0x4c1eaf,"x8JU9DbQZ");F.classList.add("xnS3FTqjp"),F.bindWithCooldown(function(){_0x33c0d3(_0x55aaa1._n,_0x55aaa1._d,z.Root)}),F.innerHTML=_0x6da2f3.edit,F.focusable(!0),z.Heading.appendChild(F)}z.Root.classList.add("xwMgtrL2x"),z.onClose(function(){let e="3|4|0|1|2".split("|"),t=0;for(;;){switch(e[t++]){case"0":_0x55aaa1._b=null;continue;case"1":_0x55aaa1._n="";continue;case"2":_0x55aaa1._d="";continue;case"3":_0x55aaa1.state=!1;continue;case"4":_0x55aaa1._a=null;continue}break}}),z.Root.onscroll=function(){n.xMZCB(z.Root.scrollTop,60)?z.Root.classList.add(n.iXzRr):z.Root.classList.remove("xORN7XV1j")},z._backButton.classList.add(n.XgjmC),z.Content.appendChild(a)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{e.onupdatefound=()=>{let t=e.installing;t.onstatechange=()=>{"installed"===t.state&&window.location.reload()}}}).catch(e=>{console.log("註冊失敗：",e)});
