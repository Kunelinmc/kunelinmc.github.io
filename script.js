/**release 0.2.1*/
let _0x34f01c=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x37760a=_0x34f01c(this,function(){let e={};e.PfFVQ="(((.+)+)+)+$";let t=e;return _0x37760a.toString().search(t.PfFVQ).toString().constructor(_0x37760a).search(t.PfFVQ)});_0x37760a();let _0x514596=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x20f34d=_0x514596(this,function(){let e={};e.VFZlA=function(e,t){return e+t},e.fEBrc="warn";let t=e,n;try{n=Function(t.VFZlA("return (function() ",'{}.constructor("return this")( )')+");")()}catch(i){n=window}let a=n.console=n.console||{},s=["log",t.fEBrc,"info","error","exception","table","trace"];for(let o=0;o<s.length;o++){let r=_0x514596.constructor.prototype.bind(_0x514596),l=s[o],d=a[l]||r;r.__proto__=_0x514596.bind(_0x514596),r.toString=d.toString.bind(d),a[l]=r}});_0x20f34d();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as i,onAuthStateChanged as a,signInWithEmailAndPassword as s,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as l,uploadBytesResumable as d,getDownloadURL as c}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as $,enableIndexedDbPersistence as h,collection as u,setDoc as x,doc as p,deleteDoc as b,getDoc as _,where as f,getDocs as v,startAfter as m,onSnapshot as g,query as w,orderBy as C,arrayUnion as y,arrayRemove as L,updateDoc as k,limit as E}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x29dac7{constructor(e,t={}){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.logicalWidth=0,this.logicalHeight=0,this.devicePixelRatio=window.devicePixelRatio||1,this.updateCanvasSize();let n={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=n,this.customDrawer=null,this.lastTapTime=0,this.tapTimeout=null,this.scale=1,this.posX=0,this.posY=0,this.isDragging=!1,this.lastX=0,this.lastY=0,this.img=null,this.needsRedraw=!1,this.animationFrameId=null,this.isTouching=!1,this.initialDistance=0,this.initialScale=1,this.touchStartPosX=0,this.touchStartPosY=0,this.touchStartScale=1,this.initialCenterX=0,this.initialCenterY=0,this.rotation=0,this.velocityX=0,this.velocityY=0,this.lastTime=0,this.isInertialMoving=!1,this.decelerationRate=.85,this.minVelocityThreshold=.1,this.setupEventListeners(),this.requestRedraw()}updateCanvasSize(){let e={};e.HsWHH=function(e,t){return e*t},e.bQtpt=function(e,t){return e*t};let t=e,n=this.canvas.parentElement;this.logicalWidth=n.clientWidth,this.logicalHeight=n.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=this.logicalWidth+"px",this.canvas.style.height=this.logicalHeight+"px",this.canvas.width=Math.floor(t.HsWHH(this.logicalWidth,this.devicePixelRatio)),this.canvas.height=Math.floor(t.bQtpt(this.logicalHeight,this.devicePixelRatio)),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.nkBdY="7|5|8|13|0|21|3|2|20|19|4|22|17|15|18|1|9|10|12|14|16|6|11",e.gxVkv="click",e.wOYMz="mouseup",e.OIGhU="touchend",e.YZYPQ="wheel",e.bTKWm="resize";let t=e,n=t.nkBdY.split("|"),i=0;for(;;){switch(n[i++]){case"0":this.handleResize=this.handleResize.bind(this);continue;case"1":this.canvas.addEventListener("mousedown",this.handleMouseDown);continue;case"2":this.handleMouseUp=this.handleMouseUp.bind(this);continue;case"3":this.handleMouseMove=this.handleMouseMove.bind(this);continue;case"4":this.handleTouchMove=this.handleTouchMove.bind(this);continue;case"5":this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this);continue;case"6":this.canvas.addEventListener("touchmove",this.handleTouchMove);continue;case"7":this.handleCanvasClick=this.handleCanvasClick.bind(this);continue;case"8":this.canvas.addEventListener(t.gxVkv,this.handleCanvasClick);continue;case"9":document.addEventListener("mousemove",this.handleMouseMove);continue;case"10":document.addEventListener(t.wOYMz,this.handleMouseUp);continue;case"11":this.canvas.addEventListener(t.OIGhU,this.handleTouchEnd);continue;case"12":this.canvas.addEventListener(t.YZYPQ,this.handleWheel);continue;case"13":this.canvas.addEventListener(t.OIGhU,this.handleCanvasTouchEnd);continue;case"14":this.canvas.addEventListener("mouseleave",this.handleMouseLeave);continue;case"15":this.handleMouseLeave=this.handleMouseLeave.bind(this);continue;case"16":this.canvas.addEventListener("touchstart",this.handleTouchStart);continue;case"17":this.draw=this.draw.bind(this);continue;case"18":window.addEventListener(t.bTKWm,this.handleResize);continue;case"19":this.handleTouchStart=this.handleTouchStart.bind(this);continue;case"20":this.handleWheel=this.handleWheel.bind(this);continue;case"21":this.handleMouseDown=this.handleMouseDown.bind(this);continue;case"22":this.handleTouchEnd=this.handleTouchEnd.bind(this);continue}break}}getDisplayWidth(){let e={};return e.FEJnH=function(e,t){return e===t},e.FEJnH(this.rotation%180,90)?this.img.height:this.img.width}getDisplayHeight(){let e={};return e.yNwWx=function(e,t){return e===t},e.yNwWx(this.rotation%180,90)?this.img.width:this.img.height}calculateInitialScale(){let e={};if(e.VwtqN=function(e,t){return e/t},!this.img)return;let t=this.getDisplayWidth(),n=this.getDisplayHeight(),i=e.VwtqN(this.logicalWidth,t),a=this.logicalHeight/n;this.options.minScale=Math.min(i,a,1),this.scale=this.options.minScale}centerImage(){let e={};e.pwFtW=function(e,t){return e*t},e.kXAMg=function(e,t){return e/t},e.BxJKd=function(e,t){return e-t};let t=e;if(!this.img)return;let n=this.getDisplayWidth()*this.scale,i=t.pwFtW(this.getDisplayHeight(),this.scale);this.posX=t.kXAMg(t.BxJKd(this.logicalWidth,n),2),this.posY=t.kXAMg(this.logicalHeight-i,2),this.enforceBounds()}setCustomDrawer(e){let t={};t.lUqht="setCustomDrawer 期望接收一个函数","function"==typeof e?this.customDrawer=e:console.error(t.lUqht)}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.eiinW=function(e,t){return e*t},e.UrseY=function(e,t){return e*t},e.YYzgV=function(e,t){return e+t},e.JZCjU=function(e,t){return e/t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=t.eiinW(this.getDisplayWidth(),this.scale),i=t.UrseY(this.getDisplayHeight(),this.scale);this.ctx.translate(t.YYzgV(this.posX,t.JZCjU(n,2)),t.YYzgV(this.posY,t.JZCjU(i,2))),this.ctx.rotate(this.rotation*Math.PI/180),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,-this.img.width/2,t.JZCjU(-this.img.height,2)),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){let e={};e.NkvlP=function(e,t){return e%t},e.UVpwT=function(e,t){return e+t};let t=e;this.rotation=t.NkvlP(t.UVpwT(this.rotation,90),360),this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.HQhkD=function(e,t){return e*t},e.yHqdo=function(e,t){return e-t},e.AQeBz=function(e,t){return e-t},e.bsqij=function(e,t){return e>t},e.RIwyd=function(e,t){return e/t},e.vvfal=function(e,t){return e-t};let t=e;if(!this.img)return;let n=t.HQhkD(this.getDisplayWidth(),this.scale),i=this.getDisplayHeight()*this.scale;n>this.logicalWidth?this.posX=Math.min(Math.max(this.posX,t.yHqdo(this.logicalWidth,n)),0):this.posX=t.AQeBz(this.logicalWidth,n)/2,t.bsqij(i,this.logicalHeight)?this.posY=Math.min(Math.max(this.posY,t.yHqdo(this.logicalHeight,i)),0):this.posY=t.RIwyd(t.vvfal(this.logicalHeight,i),2)}isInImageArea(e,t){let n={};n.CjqAS=function(e,t){return e+t},n.fnZUB=function(e,t){return e>=t},n.yyouh=function(e,t){return e<=t};let i=n;if(!this.img)return!1;let a=this.getDisplayWidth()*this.scale,s=this.getDisplayHeight()*this.scale,o=this.posX,r=i.CjqAS(o,a),l=this.posY,d=Math.min(r,this.logicalWidth),c=Math.min(l+s,this.logicalHeight);return i.fnZUB(e,Math.max(o,0))&&i.yyouh(e,d)&&i.fnZUB(t,Math.max(l,0))&&t<=c}requestRedraw(){this.needsRedraw||(this.needsRedraw=!0,this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.animationFrameId&&({WBkYK:function(e,t){return e(t)}}).WBkYK(cancelAnimationFrame,this.animationFrameId),this.animationFrameId=requestAnimationFrame(this.draw))}handleMouseDown(e){let t={};t.yJsMk=function(e,t){return e-t},t.ubjSm=function(e,t){return e-t};let n=t,i=this.canvas.getBoundingClientRect(),a=n.yJsMk(e.clientX,i.left),s=n.ubjSm(e.clientY,i.top);this.isDraggable()&&this.isInImageArea(a,s)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor="grabbing")}handleMouseLeave(){let e={};e.JkPdK="default",this.canvas.style.cursor=e.JkPdK}handleMouseMove(e){let t={};t.hiNfE=function(e,t){return e-t},t.upCkm="grabbing",t.QoAuq="grab",t.yJKuY="default",t.MjUyO=function(e,t){return e-t},t.AfFWH=function(e,t){return e/t};let n=t,i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=n.hiNfE(e.clientY,i.top);if(this.isInImageArea(a,s)?this.canvas.style.cursor=this.isDragging?n.upCkm:n.QoAuq:this.canvas.style.cursor=n.yJKuY,this.isDragging){let o=Date.now(),r=o-this.lastTime;this.lastTime=o;let l=n.MjUyO(e.clientX,this.lastX),d=n.hiNfE(e.clientY,this.lastY);this.posX+=l,this.posY+=d,r>0&&(this.velocityX=l/r,this.velocityY=n.AfFWH(d,r)),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.Ixjjn=function(e,t){return e>t},t.jziVT="grab",t.lxLIU="default";let n=t;this.isDragging=!1,n.Ixjjn(Math.abs(this.velocityX),this.minVelocityThreshold)||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0);let i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=e.clientY-i.top;this.isInImageArea(a,s)?this.canvas.style.cursor=n.jziVT:this.canvas.style.cursor=n.lxLIU}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={};e.ffATb=function(e,t){return e/t},e.yGiaL=function(e,t){return e*t},e.emxai=function(e,t){return e<t},e.uJsoJ=function(e,t){return e<t};let t=e;if(!this.isInertialMoving)return;let n=Date.now(),i=n-this.lastTime;this.lastTime=n,this.velocityX*=Math.pow(this.decelerationRate,i/16),this.velocityY*=Math.pow(this.decelerationRate,t.ffATb(i,16)),this.posX+=t.yGiaL(this.velocityX,i),this.posY+=this.velocityY*i,this.enforceBounds(),this.requestRedraw(),t.emxai(Math.abs(this.velocityX),this.minVelocityThreshold)&&t.uJsoJ(Math.abs(this.velocityY),this.minVelocityThreshold)?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):requestAnimationFrame(this.animateInertia.bind(this))}handleWheel(e){let t={};t.WhYMZ=function(e,t){return e-t},t.AfbVj=function(e,t){return e-t},t.cCeaT=function(e,t){return e-t},t.Aarov=function(e,t){return e*t};let n=t;e.preventDefault();let i=this.canvas.getBoundingClientRect(),a=n.WhYMZ(e.clientX,i.left),s=e.clientY-i.top;if(!this.isInImageArea(a,s))return;let o=e.deltaY>0?.9:1.1,r=n.AfbVj(a,this.posX)/this.scale,l=n.cCeaT(s,this.posY)/this.scale,d=Math.min(Math.max(n.Aarov(this.scale,o),this.options.minScale),this.options.maxScale);this.posX=a-r*d,this.posY=n.cCeaT(s,n.Aarov(l,d)),this.scale=d,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};if(t.ECHrT=function(e,t){return e===t},t.ECHrT(e.touches.length,0))return;let n=Array.from(e.touches),i=this.getTouchCenter(n);this.initialCenterX=i.x,this.initialCenterY=i.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,e.touches.length>=2&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.BIZaC=function(e,t){return e>=t},t.aMoXh=function(e,t){return e*t},t.jgiBv=function(e,t){return e/t},t.eWkWG=function(e,t){return e-t},t.zVeSn=function(e,t){return e-t};let n=t;if(!this.isTouching)return;e.preventDefault();let i=Array.from(e.touches);if(0===i.length)return;let a=this.getTouchCenter(i),s=1;if(n.BIZaC(i.length,2)){let o=this.getTouchDistance(i[0],i[1]);this.initialDistance>0&&(s=o/this.initialDistance)}let r=Math.min(Math.max(n.aMoXh(this.touchStartScale,s),this.options.minScale),this.options.maxScale),l=(this.initialCenterX-this.touchStartPosX)/this.touchStartScale,d=n.jgiBv(this.initialCenterY-this.touchStartPosY,this.touchStartScale);if(this.posX=a.x-l*r,this.posY=n.eWkWG(a.y,n.aMoXh(d,r)),this.scale=r,this.enforceBounds(),this.requestRedraw(),1===i.length){let c=Date.now(),$=c-this.lastTime;this.lastTime=c;let h=this.canvas.getBoundingClientRect(),u=i[0],x=n.eWkWG(u.clientX,h.left),p=n.eWkWG(u.clientY,h.top);$>0&&(this.velocityX=(x-this.lastX)/$,this.velocityY=n.zVeSn(p,this.lastY)/$),this.lastX=x,this.lastY=p}}handleTouchEnd(){let e={};e.uLJys=function(e,t){return e>t},this.isTouching=!1,this.initialDistance=0,Math.abs(this.velocityX)>this.minVelocityThreshold||e.uLJys(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){let e={};e.Zicfk="mousemove",this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent(e.Zicfk)),this.requestRedraw())}handleCanvasClick(e){let t={};t.FuGkf=function(e,t){return e-t};let n=t;if(!this.img)return;let i=this.canvas.getBoundingClientRect(),a=n.FuGkf(e.clientX,i.left),s=n.FuGkf(e.clientY,i.top);this.isInImageArea(a,s)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={gASOi:function(e,t){return e-t},fQMBw:function(e,t,n){return e(t,n)}};if(!this.img||e.touches.length>0)return;let n=this.canvas.getBoundingClientRect(),i=e.changedTouches[0],a=i.clientX-n.left,s=t.gASOi(i.clientY,n.top),o=new Date().getTime();if(o-this.lastTapTime<360){clearTimeout(this.tapTimeout);return}this.tapTimeout=t.fQMBw(setTimeout,()=>{this.isInImageArea(a,s)||this.triggerClickOutside(e),this.lastTapTime=o},200)}getTouchDistance(e,t){let n={};n.tztkE=function(e,t){return e-t},n.yghxG=function(e,t){return e-t},n.sHcfj=function(e,t){return e*t};let i=n,a=i.tztkE(e.clientX,t.clientX),s=i.yghxG(e.clientY,t.clientY);return Math.sqrt(i.sHcfj(a,a)+s*s)}isDraggable(){let e={};e.jREdl=function(e,t){return e>t},e.sUioT=function(e,t){return e*t};let t=e;return this.img&&(t.jREdl(t.sUioT(this.img.width,this.scale),this.logicalWidth)||t.jREdl(t.sUioT(this.img.height,this.scale),this.logicalHeight))}triggerClickOutside(e){let t={};t.vyFpl=function(e,t){return e-t},t.ItWEx=function(e,t){return e/t};let n=t;if("function"==typeof this.options.onClickOutside){let i=this.canvas.getBoundingClientRect(),a={x:n.vyFpl(e.clientX,i.left),y:e.clientY-i.top,canvasX:e.clientX-i.left,canvasY:n.vyFpl(e.clientY,i.top),imageX:-1,imageY:-1};this.img&&(a.imageX=n.ItWEx(a.canvasX-this.posX,this.scale),a.imageY=(a.canvasY-this.posY)/this.scale),this.options.onClickOutside(a,e)}}getTouchCenter(e){let t={};t.guyPp=function(e,t){return e/t};let n=0,i=0,a=this.canvas.getBoundingClientRect();for(let s of e)n+=s.clientX-a.left,i+=s.clientY-a.top;return{x:n/e.length,y:t.guyPp(i,e.length)}}destroy(){let e={};e.QIEVK="resize",e.OrbsE="mouseup",e.mVctB="mouseleave",e.vIwHP="touchend";let t=e;window.removeEventListener(t.QIEVK,this.handleResize),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener(t.OrbsE,this.handleMouseUp),this.canvas.removeEventListener(t.mVctB,this.handleMouseLeave),this.canvas.removeEventListener("mousedown",this.handleMouseDown),this.canvas.removeEventListener("wheel",this.handleWheel),this.canvas.removeEventListener("touchstart",this.handleTouchStart),this.canvas.removeEventListener("touchmove",this.handleTouchMove),this.canvas.removeEventListener("touchend",this.handleTouchEnd),this.canvas.removeEventListener("click",this.handleCanvasClick),this.canvas.removeEventListener(t.vIwHP,this.handleCanvasTouchEnd),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}}function _0x5ade53(e,t,n,i){let a={zrPAh:function(e,t){return e*t},bwQyd:function(e,t){return e*t},ygHkV:function(e,t){return e<t},UdAgB:function(e,t){return e-t},IuECp:function(e,t){return e(t)},Kcfjt:function(e,t){return e<t},YKPlk:function(e,t){return e>t},CzwLs:function(e,t){return e*t},ySzfK:function(e,t){return e-t},Pvbev:function(e,t){return e*t},NGtDy:function(e,t){return e*t}},s=a.CzwLs(3,e)-a.zrPAh(3,n)+1,o=a.ySzfK(3*n,6*e),r=a.CzwLs(3,e),l=3*t-a.Pvbev(3,i)+1,d=a.NGtDy(3,i)-6*t,c=3*t;function $(e){return(a.zrPAh(a.zrPAh(s,e)+o,e)+r)*e}function h(e){return(a.bwQyd(a.zrPAh(3,s),e)+2*o)*e+r}return e=>{var t;return t=function e(t){let n=0,i=1,s=t;for(let o=0;a.ygHkV(o,8);o++){let r=a.UdAgB(a.IuECp($,s),t);if(1e-6>Math.abs(r))return s;let l=h(s);if(a.Kcfjt(Math.abs(l),1e-6))break;s-=r/l}for(;a.YKPlk(i,n);){let d=a.IuECp($,s)-t;if(a.Kcfjt(Math.abs(d),1e-6))break;a.YKPlk(d,0)?i=s:n=s,s=(i+n)/2}return s}(e),a.zrPAh(a.zrPAh(l*t+d,t)+c,t)}}function _0x27d4ab(e,t="vertical"){let n={rEYfT:function(e,t){return e===t},rPyCJ:"ArrowDown",rzBzt:function(e,t){return e%t},KWuTv:function(e,t){return e+t},oJkwx:function(e,t){return e-t},ecvmw:function(e,t){return e===t},IEBUL:"ArrowLeft",rtdkP:"keydown",nqRJE:function(e){return e()}};function i(){let i={EDPjx:function(e,t){return n.rEYfT(e,t)},vYabJ:"vertical",mXPFp:n.rPyCJ,WpEdM:function(e,t){return n.rzBzt(e,t)},RwQbJ:function(e,t){return n.KWuTv(e,t)},bqfyZ:function(e,t){return n.oJkwx(e,t)},GWNrh:"horizontal",yUtJc:function(e,t){return e===t},lKfRu:function(e,t){return n.KWuTv(e,t)},XgPuf:function(e,t){return n.ecvmw(e,t)},Rghre:n.IEBUL,YvsHA:function(e,t){return e%t},DLsnX:n.rtdkP};if(e.length<=1){e.forEach(e=>{e._navHandler&&(e.removeEventListener("keydown",e._navHandler),delete e._navHandler)});return}e.forEach((n,a)=>{n._navHandler&&n.removeEventListener(i.DLsnX,n._navHandler),n._navHandler=n=>{let s=a;if(i.EDPjx(t,i.vYabJ)){if(i.EDPjx(n.key,i.mXPFp))s=i.WpEdM(i.RwQbJ(a,1),e.length);else{if("ArrowUp"!==n.key)return;s=(i.bqfyZ(a,1)+e.length)%e.length}}else{if(t!==i.GWNrh)return;if(i.yUtJc(n.key,"ArrowRight"))s=i.WpEdM(i.lKfRu(a,1),e.length);else{if(!i.XgPuf(n.key,i.Rghre))return;s=i.YvsHA(i.lKfRu(a-1,e.length),e.length)}}e[s].focus()},n.addEventListener(i.DLsnX,n._navHandler)})}n.nqRJE(i);let a={};return a.removeItem=function t(n){e=e.filter(e=>e!==n),i()},a.addItem=function t(n){e.push(n),i()},a.updateEventListeners=i,a}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.XWkgN="disabled",n.YqupF=function(e,t){return e===t},n.RnFhW="click",n.Gbohw="keydown";let i=n,a=this;a._bindWithCooldownHandler&&(a.removeEventListener("click",a._bindWithCooldownHandler),a.removeEventListener(i.Gbohw,a._bindWithCooldownHandler));let s=0,o=function(n){let o=Date.now();!a.classList.contains("disabled")&&!a.hasAttribute(i.XWkgN)&&(i.YqupF(n.type,i.RnFhW)||i.YqupF(n.keyCode,32)||13===n.keyCode)&&(o-s>=t||i.YqupF(t,0))&&(s=o,e.call(a,n))};a.addEventListener("click",o),a.addEventListener("keydown",o),a._bindWithCooldownHandler=o};let _0x14936f={set(e,t){try{let n=JSON.stringify(t);localStorage.setItem(e,n)}catch(i){console.error("Error saving to localStorage",i)}},get(e,t=null){let n={};n.iKlTV="Error reading from localStorage";try{let i=localStorage.getItem(e);return null!==i?JSON.parse(i):t}catch(a){return console.error(n.iKlTV,a),t}},remove(e){try{localStorage.removeItem(e)}catch(t){console.error("Error removing from localStorage",t)}},clear(){try{localStorage.clear()}catch(e){console.error("Error clearing localStorage",e)}},has(e){let t={};return t.RmORJ=function(e,t){return e!==t},t.RmORJ(localStorage.getItem(e),null)},keys:()=>Object.keys(localStorage)};class _0x3be5f7{constructor({parent:e,text:t,placement:n="top",interactive:i=!0}){let a={};a.KEaBG="2|4|5|1|0|3",a.wyNRE="blur",a.VKxrq="mouseleave",a.bBREy="mouseenter";let s=a;if(this._parent=e,this._content=t,this._placement=n,this._tooltip=null,this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9),this._parent.setAttribute("aria-describedby",this._tooltipId),i){let o=s.KEaBG.split("|"),r=0;for(;;){switch(o[r++]){case"0":this._parent.addEventListener(s.wyNRE,this.hideTooltip);continue;case"1":this._parent.addEventListener("focus",this.showTooltip);continue;case"2":this.showTooltip=this.showTooltip.bind(this);continue;case"3":this._parent.addEventListener(s.VKxrq,this.hideTooltip);continue;case"4":this.hideTooltip=this.hideTooltip.bind(this);continue;case"5":this._parent.addEventListener(s.bBREy,this.showTooltip);continue}break}}}_createTooltipElement(){let e={};e.CBrUx="placement";let t=_0x1822a9("xuocLuDI6");return t.setAttribute(e.CBrUx,this._placement),t.setAttribute("id",this._tooltipId),t.innerText=this._content,t}updatePosition(){let e={};e.OqEpS=function(e,t){return e-t},e.vcBxr=function(e,t){return e+t},e.IxKnb=function(e,t){return e/t},e.RYfAR="bottom",e.hkPkA=function(e,t){return e+t},e.MJNHf=function(e,t){return e/t},e.tcEuQ="left",e.YZvNV=function(e,t){return e+t},e.LQccS=function(e,t){return e/t},e.lErtY=function(e,t){return e+t},e.aGXNt=function(e,t){return e+t};let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),i=this._tooltip.getBoundingClientRect(),a,s;switch(this._placement){case"top":a=window.scrollY+n.top-i.height-8,s=t.OqEpS(t.vcBxr(window.scrollX+n.left,n.width/2),t.IxKnb(i.width,2));break;case t.RYfAR:a=window.scrollY+n.bottom+8,s=t.OqEpS(t.hkPkA(window.scrollX+n.left,t.MJNHf(n.width,2)),i.width/2);break;case t.tcEuQ:a=t.YZvNV(window.scrollY+n.top,n.height/2)-t.LQccS(i.height,2),s=t.lErtY(window.scrollX,n.left)-i.width-8;break;case"right":a=t.hkPkA(t.aGXNt(window.scrollY,n.top),n.height/2)-t.LQccS(i.height,2),s=window.scrollX+n.right+8;break;default:throw Error("Invalid placement value")}this._tooltip.style.top=a+"px",this._tooltip.style.left=s+"px"}showTooltip(){let e={};e.zKLia="delayed-open",e.ImXFZ="true";let t=e;this._tooltip||(this._tooltip=this._createTooltipElement(),document.body.appendChild(this._tooltip),this.updatePosition(),this._tooltip.setAttribute("data-state",t.zKLia),this._tooltip.setAttribute("aria-expanded",t.ImXFZ))}hideTooltip(){this._tooltip&&(this._tooltip.setAttribute("data-state","closed"),this._tooltip.setAttribute("aria-expanded","false"),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.sCXDT="0|1|3|4|2",e.JvPkv="aria-describedby",e.GTRFo="mouseenter",e.UIFAf="focus",e.tltXL="mouseleave";let t=e,n=t.sCXDT.split("|"),i=0;for(;;){switch(n[i++]){case"0":this.hideTooltip();continue;case"1":this._parent&&(this._parent.removeAttribute(t.JvPkv),this._parent.removeEventListener(t.GTRFo,this.showTooltip),this._parent.removeEventListener(t.UIFAf,this.showTooltip),this._parent.removeEventListener("blur",this.hideTooltip),this._parent.removeEventListener(t.tltXL,this.hideTooltip));continue;case"2":this._content=null;continue;case"3":this._tooltip=null;continue;case"4":this._parent=null;continue}break}}}class _0x33dad2{constructor({trigger:e,placement:t="bottom"}){let n={eSEhv:"xEHCrF5Oe",QjOVW:function(e,t){return e(t)},JLOGE:"data-state",pcZsT:"open",CHZHm:"role",tSiIm:"popover",ioYBO:"click",LzAzP:"contextmenu",cUOAf:"resize"},i="_"+_0x4d16a7(12);this.trigger=e,this.placement=t,this.Root=_0x1822a9(n.eSEhv),this.Overlay=n.QjOVW(_0x1822a9,"overlay"),this.Content=_0x1822a9("xC3Uih0ex"),this.Root.setAttribute(n.JLOGE,n.pcZsT),this.Root.setAttribute(n.CHZHm,n.tSiIm),this.Root.setAttribute("aria-modal","true"),this.Root.id=i,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let a=_0x533835(i);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+a+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert","true")}),this.Overlay.addEventListener(n.ioYBO,()=>this.close()),this.Overlay.addEventListener(n.LzAzP,()=>this.close()),document.addEventListener("keydown",this._handleKeyDown),this._setPosition(),window.addEventListener(n.cUOAf,this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e={};e.gijNV="absolute";let t=this.trigger.getBoundingClientRect(),n=this.Content.getBoundingClientRect(),i;if(Array.isArray(this.placement)){for(let a of this.placement){let s=this._calculatePosition(a,t,n);if(this._isPositionWithinViewport(s,n)){i=a;break}}i||(i=this.placement[0])}else i=this.placement;let o=this._calculatePosition(i,t,n);this.Content.style.position=e.gijNV,this.Content.style.top=o.top+"px",this.Content.style.left=o.left+"px"}_calculatePosition(e,t,n){let i={};i.Tdhgy="bottom",i.zbNmU="left",i.saSzv=function(e,t){return e-t},i.BVEgy="right",i.EfPCc="start",i.pPqgK="end",i.pHBXw=function(e,t){return e+t},i.HygWA=function(e,t){return e/t};let a=i,s=0,o=0,[r,l]=e.split("-");switch(r){case"top":s=t.top-n.height;break;case a.Tdhgy:s=t.bottom;break;case a.zbNmU:o=a.saSzv(t.left,n.width);break;case a.BVEgy:o=t.right}switch(l){case a.EfPCc:o=t.left;break;case a.pPqgK:o=a.saSzv(a.pHBXw(t.left,t.width),n.width);break;default:"top"===r||r===a.Tdhgy?o=t.left+a.HygWA(t.width-n.width,2):s=t.top+a.HygWA(a.saSzv(t.height,n.height),2)}let d={};return d.top=s,d.left=o,d}_isPositionWithinViewport(e,t){let n={};n.gPbpi=function(e,t){return e>=t},n.BAloo=function(e,t){return e+t};let i=n,a=window.innerWidth,s=window.innerHeight,{top:o,left:r}=e;return o>=0&&i.gPbpi(r,0)&&i.BAloo(o,t.height)<=s&&i.BAloo(r,t.width)<=a}_handleKeyDown=e=>{let t={};t.QgjxK=function(e,t){return e===t},t.QgjxK(e.keyCode,27)&&(this.close(),this.trigger.focus())};_removeListeners(){let e={};e.rOMxg="resize",document.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener(e.rOMxg,this._handleResize)}onClose(e){this.onCloseCallback=e}close(){let e={};e.FPNFQ="inert";let t=e;this._removeListeners(),this._deactivated_elements.forEach(e=>{e.removeAttribute(t.FPNFQ)}),this.Root.setAttribute("data-state","closed"),setTimeout(()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x533835(e){let t={};t.wwNXG="\\$&",t.VlIsY=function(e,t){return e+t};let n=t;return e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,n.wwNXG).replace(/^(-?\d)/,n.VlIsY("\\3"+e.charAt(0)," "))}class _0xf24f2d{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={EfnNV:function(e,t){return e(t)},fWwNY:function(e,t){return e(t)},mmRHp:"content",uqhKz:"role",RPdim:"dialog"},a="_"+_0x4d16a7(12);this.Root=_0x1822a9("x54SkYRT0"),this.Overlay=i.EfnNV(_0x1822a9,"overlay"),this.Content=i.fWwNY(_0x1822a9,i.mmRHp),this.Root.setAttribute("data-state","open"),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(i.uqhKz,i.RPdim),this.Root.setAttribute("aria-modal","true"),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=a;let s=_0x533835(a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add("show"),_0xf24f2d.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.yXdkj=function(e,t){return e===t},t.yXdkj(e.keyCode,27)&&_0xf24f2d.stack[_0xf24f2d.stack.length-1]===this&&this.close()};onClose(e){this.onCloseCallback=e}close(){let e={GByOs:"inert",fCXpG:function(e,t){return e>t},yUrYs:function(e,t,n){return e(t,n)}};if(!this.Lock){let t=_0xf24f2d.stack.indexOf(this);t>-1&&_0xf24f2d.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback(),e.fCXpG(this._exclude_for_restore.length,0)?this._exclude_for_restore.forEach(t=>{t instanceof HTMLElement&&t.removeAttribute(e.GByOs)}):this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),this.Root.setAttribute("data-state","closed"),e.yUrYs(setTimeout,()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}}_0xf24f2d.stack=[];class _0x109132 extends _0xf24f2d{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:i=!1,closeOnEsc:a=!0,showCloseButton:s=!1}={}){let o={};o.WIzBc="xLDQZ1SSl",o.FZISP=function(e,t){return e>t};let r=o,l={};l.closeOnOverlayClick=i,l.closeOnEsc=a,super(l);let d=this._createHeader(e,s),c=this._createBody(t);if(this.Content.style.padding="0px",this.Content.classList.add("xv1VrMJb6"),this.Content.classList.add(r.WIzBc),this.Content.appendChild(d),this.Content.appendChild(c),r.FZISP(n.length,0)){let $=this._createFooter(n);c.appendChild($)}}_createHeader(e,t){let n={nPpMY:"div",CujRu:function(e,t){return e||t},VlYYa:"Alert",EAObv:function(e,t){return e(t)},KNczu:"xvb5soWNa"},i=document.createElement(n.nPpMY);i.className="xrYn5ZY3v lf gn";let a=document.createElement("div");if(a.className="x6Y89FynP",a.textContent=n.CujRu(e,n.VlYYa),i.appendChild(a),t){let s=n.EAObv(_0x1822a9,n.KNczu);s.focusable(!0),s.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',s.bindWithCooldown(()=>{this.close()}),i.appendChild(s)}return i}_createBody(e){let t={};t.qYtXQ="div",t.zLhbT="Are you sure?";let n=t,i=document.createElement(n.qYtXQ);i.className="xWDUelLWA";let a=document.createElement(n.qYtXQ);return a.className="xujSSErs5",a.innerHTML=e||n.zLhbT,i.appendChild(a),i}_createFooter(e){let t={};t.UFrkC=function(e,t){return e+t},t.OGAoy="xgw2tzk6r ",t.dCHpq="xWh2LBcgj",t.UXUwT="horizontal";let n=t,i=document.createElement("div");i.className=n.dCHpq;let a=_0x27d4ab([],n.UXUwT);return e.forEach(({text:e,classList:t=[],onClick:s})=>{let o={ChNOX:function(e){return e()}},r=_0x1822a9("xtSMPpB1C"),l=document.createElement("div");l.className=n.UFrkC(n.OGAoy,t.join(" ")),l.setAttribute("tabindex","0"),l.textContent=e,l.bindWithCooldown(()=>{s&&o.ChNOX(s),this.close()}),r.appendChild(l),a.addItem(l),i.appendChild(r)}),i}}let _0x1822a9=e=>{let t={};t.jQKiH="div";let n=t,i=document.createElement(n.jQKiH);return i.classList.add(e),i},_0x70906b=e=>document.querySelector(e);function _0x4d16a7(e){let t={};t.zyGmD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.YaSMr=function(e,t){return e*t};let n=t,i=n.zyGmD,a="";for(let s=0;s<e;s++)a+=i.charAt(Math.floor(n.YaSMr(Math.random(),i.length)));return a}function _0xa3ac26(e,t,n={}){let i={mhmcR:"span",ZWwKq:"xSwoj5Cx2",gExmy:function(e,t){return e===t},xSNWZ:function(e,t){return e(t)},JqSOu:function(e){return e()}},{interval:a=24,fadeDuration:s=214,bezierControl:o=[.42,0,1,1]}=n,r=_0x5ade53(...o),l=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>","text/html").body.firstChild.childNodes),d=[];function c(){d.length&&(function e(t){let n={wXbET:function(e,t){return e<t},sQffa:function(e,t){return i.xSNWZ(e,t)}},a=performance.now();function o(e){let i=Math.min((e-a)/s,1),l=r(i);t.style.opacity=l,n.wXbET(i,1)&&n.sQffa(requestAnimationFrame,o)}i.xSNWZ(requestAnimationFrame,o)}(d.shift()),setTimeout(c,a))}l.forEach(t=>(function e(t,n){if(t.nodeType===Node.TEXT_NODE){let a=t.textContent.split("");for(let s of a){let o=document.createElement(i.mhmcR);o.classList.add(i.ZWwKq),o.textContent=s,n.appendChild(o),d.push(o)}}else if(i.gExmy(t.nodeType,Node.ELEMENT_NODE)){let r=t.cloneNode(!1);n.appendChild(r),Array.from(t.childNodes).forEach(t=>e(t,r))}})(t,e)),i.JqSOu(c)}function _0x407ec6(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0x4f4c62(){let e={};e.VrnHu=function(e,t){return e===t},e.XMALz="MacIntel",e.OrICH=function(e,t){return e>t},e.cqubq="Tablet",e.BldDf="Desktop",e.ZVhkm="macOS",e.rWwCa="Linux",e.sapmg="Unknown";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,i=navigator.platform,a=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||t.VrnHu(i,t.XMALz)&&t.OrICH(a,1)){let s=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(s)return{os:"iOS",version:(s[1]||"0")+"."+(s[2]||"0")+"."+(s[3]||"0"),deviceType:/iPad/.test(n)?t.cqubq:"Mobile"}}if(/Android/.test(n)){let o=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(o)return{os:"Android",version:(o[1]||"0")+"."+(o[2]||"0")+"."+(o[3]||"0"),deviceType:/Mobile/.test(n)?"Mobile":t.cqubq}}if(/Win/.test(i)){let r=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(r){let l=r[1]||"0",d=r[2]||"0",c={};return c.os="Windows",c.version=l+"."+d,c.deviceType="Desktop",c}let $={};return $.os="Windows",$.version=null,$.deviceType=t.BldDf,$}if(/Mac/.test(i)){let h=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(h){let u=h[1]||"0",x=h[2]||"0",p=h[3]||"0",b={};return b.os="macOS",b.version=u+"."+x+"."+p,b.deviceType=t.BldDf,b}let _={};return _.os=t.ZVhkm,_.version=null,_.deviceType="Desktop",_}if(/Linux/.test(i)){let f={};return f.os=t.rWwCa,f.version=null,f.deviceType=t.BldDf,f}let v={};return v.os=t.sapmg,v.version=null,v.deviceType="Unknown",v}function _0x2799c2(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x39d680={};_0x39d680.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x39d680.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x39d680.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0xc6556b=_0x39d680;class _0x5360a9{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={MFLpv:function(e,t){return e(t)},PCQWl:function(e,t){return e(t)},HWkts:"drawer-root",cnHzH:"drawer-overlay",QPCff:"drawer-content",uCtkU:"drawer-header",TzKZD:"drawer-drag-handle",NgpFx:"drawer-body",QOHAN:"open",MMShf:"true",qMcNa:"keydown"},a="_"+i.MFLpv(_0x4d16a7,12);this.Root=i.PCQWl(_0x1822a9,i.HWkts),this.Overlay=_0x1822a9(i.cnHzH),this.Content=i.PCQWl(_0x1822a9,i.QPCff),this.Header=i.MFLpv(_0x1822a9,i.uCtkU),this.Handle=document.createElement("div"),this.Handle.className=i.TzKZD,this.Header.appendChild(this.Handle),this.Body=_0x1822a9(i.NgpFx),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute("data-state",i.QOHAN),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role","dialog"),this.Root.setAttribute("aria-modal",i.MMShf),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=a;let s=_0x533835(a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add("show"),_0x5360a9.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener(i.qMcNa,this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.UiBIf=function(e,t){return e===t},t.UiBIf(e.keyCode,27)&&_0x5360a9.stack[_0x5360a9.stack.length-1]===this&&this.close()};onClose(e){this.onCloseCallback=e}close(){let e={ipbsw:function(e,t){return e>t},jCDES:function(e){return e()},qpgDE:function(e,t){return e===t},Zvgjg:"none"},t=_0x5360a9.stack.indexOf(this);e.ipbsw(t,-1)&&_0x5360a9.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback();let n=()=>{e.ipbsw(this._exclude_for_restore.length,0)?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},i=window.getComputedStyle(this.Content).transform;e.qpgDE(i,e.Zvgjg)||i.includes("matrix")?(this.Content.classList.remove("x9GmoP75O"),this.Content.style.transform="translateY(100%)",setTimeout(()=>{e.jCDES(n),this.Root.remove()},300)):(e.jCDES(n),this.Root.remove()),this._removeListeners()}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}_setupDrag(){let e={QYxmo:"x9GmoP75O",vnFlI:function(e,t){return e-t},CpFMK:function(e,t){return e/t},AZtTv:function(e,t){return e*t},eZrFI:function(e,t){return e>t},AahzW:"translateY(0)",tdTwP:function(e,t){return e(t)},SgcFr:"touchstart",zOCbZ:"touchend",DPZca:"mousedown"},t=0,n=0,i=0,a=!1,s=n=>{0!==n.target.scrollTop||n.target.closest(".xBWmlKrN2 *")||(t=n.touches?n.touches[0].clientY:n.clientY,i=Date.now(),a=!0,this.Content.classList.add(e.QYxmo))},o=i=>{if(!a)return;n=i.touches?i.touches[0].clientY:i.clientY;let s=e.vnFlI(n,t),o=this.Content.offsetHeight;s>0&&(this.Content.style.transform="translateY("+s+"px)",this.Overlay.style.opacity=1-s/o)},r=()=>{if(!a)return;let s=n-t,o=(Date.now()-i)/1e3,r=e.CpFMK(s,o),l=this.Content.offsetHeight,d=e.AZtTv(l,.5);this.Content.classList.remove("x9GmoP75O"),s>d||e.eZrFI(r,600)?this.close():this.Content.style.transform=e.AahzW,a=!1},l={};l.passive=!0,this.Content.addEventListener(e.SgcFr,s,l);let d={};d.passive=!0,this.Content.addEventListener("touchmove",o,d),this.Content.addEventListener(e.zOCbZ,r),this.Content.addEventListener(e.DPZca,t=>{let n={};n.Lzwsh="mousemove";let i=n;e.tdTwP(s,t);let a=e=>o(e),l=()=>{r(),document.removeEventListener(i.Lzwsh,a),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l)})}}_0x5360a9.stack=[];let _0x97501c=_0x14936f.get("lang"),_0x155fe3="zh";_0x97501c?_0x155fe3=_0x97501c:(_0x155fe3="zh",_0x14936f.set("lang","zh"));let _0x5b40d2={};_0x5b40d2.a1="搜尋…",_0x5b40d2.a2="未知",_0x5b40d2.a3="在這裡輸入訊息…",_0x5b40d2.a4="更新了什麼",_0x5b40d2.a5="私人",_0x5b40d2.a6="說明",_0x5b40d2.a7="公開",_0x5b40d2.a8="展開全部",_0x5b40d2.a9="顯示較少",_0x5b40d2.a10="查看全部",_0x5b40d2.a11="加入聊天室",_0x5b40d2.a12="加入聊天室",_0x5b40d2.a13="邀請碼",_0x5b40d2.a14="送出",_0x5b40d2.a15="查看個人資料",_0x5b40d2.a16="登出",_0x5b40d2.a17="無效的邀請碼，請重新嘗試",_0x5b40d2.a18="$0 秒前",_0x5b40d2.a19="$0 個月前",_0x5b40d2.a20="$0 分鐘前",_0x5b40d2.a21="$0 小時前",_0x5b40d2.a22="$0 年前",_0x5b40d2.a23="$0 天前",_0x5b40d2.a24="無法預覽這個文件",_0x5b40d2.a25="下載",_0x5b40d2.a26="你",_0x5b40d2.b1="描述",_0x5b40d2.b2="最後上線",_0x5b40d2.b3="描述",_0x5b40d2.b4="暱稱",_0x5b40d2.b5="編輯個人資料",_0x5b40d2.b6="完成",_0x5b40d2.b7="完成",_0x5b40d2.b8="歡迎回來",_0x5b40d2.b9="登入帳號後即可使用我們的服務",_0x5b40d2.b10="等待中…",_0x5b40d2.b11="使用 Google 繼續",_0x5b40d2.b12="使用 電子郵件 登入",_0x5b40d2.b13="返回上一頁",_0x5b40d2.b14="密碼錯誤，請重新嘗試",_0x5b40d2.b15="找不到這個帳號，請重新嘗試",_0x5b40d2.b16="網路請求錯誤，請檢查網路連線",_0x5b40d2.b17="發生未知的錯誤",_0x5b40d2.b18="$0 則訊息",_0x5b40d2.b19="沒有訊息",_0x5b40d2.b20="所有成員",_0x5b40d2.b21="查看所有成員",_0x5b40d2.b22="查看行程安排",_0x5b40d2.b23="退出",_0x5b40d2.b24="電子郵件地址",_0x5b40d2.b25="密碼",_0x5b40d2.b26="送出",_0x5b40d2.b27="電子郵件登入",_0x5b40d2.b28="@未知",_0x5b40d2.b29="未知",_0x5b40d2.b30="已成功清除緩存，重新載入後即生效",_0x5b40d2.b31="未知的指令，請重新嘗試",_0x5b40d2.b32="載入中…",_0x5b40d2.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0x5b40d2.b34="退出",_0x5b40d2.b35="取消",_0x5b40d2.b36="確定",_0x5b40d2.b37="行程安排",_0x5b40d2.b38="標題",_0x5b40d2.b39="開始",_0x5b40d2.b40="結束",_0x5b40d2.b41="編輯行程",_0x5b40d2.c1="編輯模式",_0x5b40d2.c2="預覽模式",_0x5b40d2.c3="已更新介面語言為：$0",_0x5b40d2.c4="英語",_0x5b40d2.c5="中文",_0x5b40d2.z0='<li class="xcKqXW8uF">修復了一些錯誤</li><li class="xcKqXW8uF">未來可能不會再更新了，看情況</li>',_0x5b40d2.b42="上傳中",_0x5b40d2.b43="正在上傳中，請耐心等待",_0x5b40d2.b44="上傳遭中斷",_0x5b40d2.b45="已取消上傳",_0x5b40d2.b46="上傳完成",_0x5b40d2.b47="這個文件已經成功上傳了",_0x5b40d2.b48="上傳失敗",_0x5b40d2.b49="這個文件有 $0 ，我們無法負擔",_0x5b40d2.b50="動態",_0x5b40d2.b51="暫無動態",_0x5b40d2.b52="點擊查看",_0x5b40d2.d0="附加文件",_0x5b40d2.d1="發送",_0x5b40d2.d2="加入貼圖",_0x5b40d2.d3="標記為重要",_0x5b40d2.d4="取消標記",_0x5b40d2.d5="任何人都能加入這個聊天室",_0x5b40d2.d6="只有受邀人能加入本聊天室",_0x5b40d2.d7="重新載入後方可完整更新您的資料",_0x5b40d2.d8="這裡還沒有訊息，現在就開始聊天吧",_0x5b40d2.d9="未知",_0x5b40d2.d10="暫時還沒有描述哦",_0x5b40d2.d11="未知",_0x5b40d2.d12="未知",_0x5b40d2.d13="尚未加入任何聊天室",_0x5b40d2.d14="還沒有任何行程，現在就創建一個吧",_0x5b40d2.f1="暫時沒有人欸…\xa0等等你不是人?",_0x5b40d2.f2="今天",_0x5b40d2.f3="明天",_0x5b40d2.f4="昨天",_0x5b40d2.f5="$0 天前",_0x5b40d2.f6="$0 天後",_0x5b40d2.f7="已結束",_0x5b40d2.f8="時間範圍無效";let _0x4e11a5={};_0x4e11a5.a1="Search…",_0x4e11a5.a2="Unknown",_0x4e11a5.a3="Enter message here…",_0x4e11a5.a4="What's new",_0x4e11a5.a5="Private",_0x4e11a5.a6="Illustrate",_0x4e11a5.a7="Public",_0x4e11a5.a8="Show more",_0x4e11a5.a9="Show less",_0x4e11a5.a10="Show all",_0x4e11a5.a11="Join groups",_0x4e11a5.a12="Join Groups",_0x4e11a5.a13="Invitation code",_0x4e11a5.a14="Submit",_0x4e11a5.a15="View profile",_0x4e11a5.a16="Logout",_0x4e11a5.a17="Invalid invitation code, please try again",_0x4e11a5.a18="$0 seconds ago",_0x4e11a5.a19="$0 months ago",_0x4e11a5.a20="$0 minutes ago",_0x4e11a5.a21="$0 hours ago",_0x4e11a5.a22="$0 years ago",_0x4e11a5.a23="$0 days ago",_0x4e11a5.a24="Unable to preview this file",_0x4e11a5.a25="Download",_0x4e11a5.a26="You",_0x4e11a5.b1="Description",_0x4e11a5.b2="Last online",_0x4e11a5.b3="Description",_0x4e11a5.b4="Nickname",_0x4e11a5.b5="Edit Profile",_0x4e11a5.b6="Save",_0x4e11a5.b7="Save",_0x4e11a5.b8="Welcome back",_0x4e11a5.b9="Log in to your account to use our services",_0x4e11a5.b10="Waiting…",_0x4e11a5.b11="Continue with Google",_0x4e11a5.b12="Continue with Email",_0x4e11a5.b13="Return to previous page",_0x4e11a5.b14="Wrong password, please try again",_0x4e11a5.b15="The account could not be found. Please try again.",_0x4e11a5.b16="Network request error, please check the network connection",_0x4e11a5.b17="An unknown error occurred",_0x4e11a5.b18="$0 messages",_0x4e11a5.b19="No message",_0x4e11a5.b20="All members",_0x4e11a5.b21="View members",_0x4e11a5.b22="View itinerary",_0x4e11a5.b23="Leave",_0x4e11a5.b24="Email Address",_0x4e11a5.b25="Password",_0x4e11a5.b26="Submit",_0x4e11a5.b27="Login with Email",_0x4e11a5.b28="@unknown",_0x4e11a5.b29="unknown",_0x4e11a5.b30="The cache has been successfully cleared and will take effect after reloading",_0x4e11a5.b31="Unknown command, please try again",_0x4e11a5.b32="Loading…",_0x4e11a5.b33="Are you sure you want to leave this group? You can rejoin later.",_0x4e11a5.b34="Leave",_0x4e11a5.b35="Cancel",_0x4e11a5.b36="Comfirm",_0x4e11a5.b37="All itinerary",_0x4e11a5.b38="Title",_0x4e11a5.b39="Start",_0x4e11a5.b40="End",_0x4e11a5.b41="Edit itinerary",_0x4e11a5.c1="編輯模式",_0x4e11a5.c2="預覽模式",_0x4e11a5.c3="Updated language: $0",_0x4e11a5.c4="English",_0x4e11a5.c5="Chinese",_0x4e11a5.z0='<li class="xcKqXW8uF">Fixed some bugs.</li><li class="xcKqXW8uF">There may be no more updates in the future.</li>',_0x4e11a5.b42="Uploading",_0x4e11a5.b43="Uploading, please wait patiently",_0x4e11a5.b44="Upload interrupted",_0x4e11a5.b45="Upload canceled",_0x4e11a5.b46="Upload completed",_0x4e11a5.b47="The file has been uploaded successfully",_0x4e11a5.b48="Upload failed",_0x4e11a5.b49="This file is $0 and we can't afford it",_0x4e11a5.b50="Dynamics",_0x4e11a5.b51="No dynamic",_0x4e11a5.b52="Click here to view",_0x4e11a5.d0="Attach files",_0x4e11a5.d1="Send",_0x4e11a5.d2="Add stickers",_0x4e11a5.d3="Mark as important",_0x4e11a5.d4="Unmark",_0x4e11a5.d5="Anyone can join this group",_0x4e11a5.d6="Only invited people can join this group",_0x4e11a5.d7="Reload to fully update your information",_0x4e11a5.d8="There are no messages here yet. Start chatting now.",_0x4e11a5.d9="Unknown",_0x4e11a5.d10="There is no description yet",_0x4e11a5.d11="Unknown",_0x4e11a5.d12="Unknown",_0x4e11a5.d13="Not joined any chat room yet",_0x4e11a5.d14="No itinerary yet",_0x4e11a5.f1="There's\xa0no\xa0one\xa0here\xa0at\xa0the\xa0moment...",_0x4e11a5.f2="Today",_0x4e11a5.f3="Tomorrow",_0x4e11a5.f4="Yesterday",_0x4e11a5.f5="$0 days ago",_0x4e11a5.f6="$0 days later",_0x4e11a5.f7="Ended",_0x4e11a5.f8="Invalid\xa0time\xa0range";let _0x4ff41d={};_0x4ff41d.zh=_0x5b40d2,_0x4ff41d.en=_0x4e11a5;let _0x4c054c=_0x4ff41d;function _0x164c78(e){return _0x4c054c[e]}let _0x5219fd={};_0x5219fd.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x5219fd.authDomain="smiling-theory-397204.firebaseapp.com",_0x5219fd.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x5219fd.projectId="smiling-theory-397204",_0x5219fd.storageBucket="smiling-theory-397204.appspot.com",_0x5219fd.messagingSenderId="360479398694",_0x5219fd.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x5219fd.measurementId="G-6BKTT1K7D1";let _0x3f02cd=e(_0x5219fd),_0x5bcd87=_0x164c78(_0x155fe3),_0x2d327b=$(_0x3f02cd),_0x59a4b0=r(_0x3f02cd),_0x279814=new i,_0x5dee87=t();h(_0x2d327b).then(()=>{let e={};e.dEEeY="離線緩存功能已啟用";let t=e;console.log(t.dEEeY)}).catch(e=>{let t={};t.clWet="failed-precondition",t.kozNo=function(e,t){return e===t};let n=t;e.code===n.clWet?console.error("已開啟多個分頁，無法啟用離線緩存功能"):n.kozNo(e.code,"unimplemented")&&console.error("當前瀏覽器不支持離線緩存")});let _0x580637=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x436d7e=[],_0x310be5={sidebar:_0x70906b(".xFz8bwNFr"),main:_0x70906b(".x8o58HttN"),messageInput:_0x70906b(".xtsARDHTI"),searchInput:_0x70906b(".xujXllYgW"),messageContainer:_0x70906b(".xikyLwDf4"),sendButton:_0x70906b(".xuwRtDpu4"),fileInput:_0x70906b(".xVEJA40Qh"),attachButton:_0x70906b(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x70906b(".xpbRox0hO#xbXZpIWEa"),markButton:_0x70906b(".xpbRox0hO#xsVrze5YA"),brushButton:_0x70906b(".xpbRox0hO#xrfvUzMAG"),heading:_0x70906b(".xehdiGgBv"),backButton:_0x70906b(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x70906b(".xemr1y6ie"),spinnerContainer:_0x70906b(".xemr1y6ie .spinner"),spinnerLabel:_0x70906b(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x70906b(".xDADAUUv4"),roomNameLabel:_0x70906b(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x70906b(".xlKSJ67AP"),nameLabel:_0x70906b(".xt4GQkVIo"),avatarLabel:_0x70906b(".xbVHF6S6B"),avatarWrapper:_0x70906b(".xaoteDJh4"),profileContainer:_0x70906b(".xQ6gFUtqT"),layoutResizer:_0x70906b(".xrFP6D2e1"),layoutResizer2:_0x70906b(".xZddo7wlf"),statusLabel:_0x70906b(".xOJE48BLX"),activityBar:_0x70906b(".pS2na74a"),sidebarOverlay:_0x70906b(".xgUJeGeNl")},_0x237e5d='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0x5bcd87.b32,_0x3c201f={};_0x3c201f.current="0.2.1",_0x3c201f.cacheId="x0n0HCjlj",_0x3c201f.directions='<ul class="xxmjDL5xB xbH7v2Hbn">'+_0x5bcd87.z0+"</ul>";let _0x5c0c7f=_0x3c201f,_0x3db613={};_0x3db613.duration=3e4,_0x3db613.limit=2,_0x3db613.locking=!1;let _0x4359dc=_0x3db613,_0x2ab9f1=[],_0x1a7ef6={},_0x472e22={},_0x442ba0={},_0x53b424={},_0x36b91f,_0x8947b7=!1,_0xf92e86="",_0xf590cd,_0x473ba3=0,_0x1b31e6,_0x41acae=!1,_0x5dbb6f=!1,_0x16258d=!1,_0x297bf9=_0x310be5.messageContainer,_0x422598={};_0x422598.state=!1,_0x422598._a=null,_0x422598._b=null,_0x422598._n="",_0x422598._d="",_0x422598._m=[];let _0x525779=_0x422598,_0x37c992="",_0x4cd245=null,_0x13e9c4=!1;if(_0x580637)document.body.classList.add("mobile"),_0x310be5._mb_att_btn.bindWithCooldown(function(){_0x310be5.fileInput.click()});else{document.body.classList.add("desktop");let T={};T.parent=_0x310be5.attachButton,T.text=_0x5bcd87.d0,T.placement="top",new _0x3be5f7(T),_0x310be5.attachButton.bindWithCooldown(function(){_0x310be5.fileInput.click()});let A={};A.parent=_0x310be5.sendButton,A.text=_0x5bcd87.d1,A.placement="top",A.interactive=!0,new _0x3be5f7(A);let M={};M.parent=_0x310be5.stickerButton,M.text=_0x5bcd87.d2,M.placement="top",M.interactive=!0,new _0x3be5f7(M);let H={};H.parent=_0x310be5.markButton,H.text=_0x5bcd87.d3,H.placement="top",H.interactive=!0;let W=new _0x3be5f7(H),I={};I.parent=_0x310be5.brushButton,I.text="潤色文本",I.placement="top",I.interactive=!0,new _0x3be5f7(I),_0x27d4ab([_0x310be5.attachButton,_0x310be5.brushButton,_0x310be5.markButton,_0x310be5.stickerButton],"horizontal"),_0x310be5.brushButton.bindWithCooldown(function(){let e={bOXYA:function(e,t,n){return e(t,n)},oVpfC:"潤色文本",PSGAX:"xDLwiKdTE"},t=e.bOXYA(_0x1927d8,e.oVpfC,!0);t.content.classList.add("lg"),t.body.classList.add(e.PSGAX)}),_0x310be5.markButton.bindWithCooldown(function(){_0x16258d?(_0x16258d=!1,_0x310be5.markButton.classList.remove("x3zdxRXQ6"),W.setText(_0x5bcd87.d3)):(_0x16258d=!0,_0x310be5.markButton.classList.add("x3zdxRXQ6"),W.setText(_0x5bcd87.d4))},0);let S=!1,Y=0,B=0,R=e=>{S=!0,document.body.classList.add("xz7kq9zLe");let t=e.target.getBoundingClientRect();B=e.clientX-t.left,document.addEventListener("mousemove",D),document.addEventListener("mouseup",z)},D=e=>{let t={};t.nKiNW=function(e,t){return e-t},t.LmsOr=function(e,t){return e+t};let n=t;if(!S)return;let i=_0x310be5.sidebar.getBoundingClientRect().left,a=n.nKiNW(e.clientX,i)-B;Y=a,_0x310be5.sidebar.style.width=n.LmsOr(a,"px")},z=()=>{let e={};e.ojVjd="2|3|0|4|1",e.rloSz="xz7kq9zLe",e.cUjnJ="mouseup";let t=e,n=t.ojVjd.split("|"),i=0;for(;;){switch(n[i++]){case"0":document.body.classList.remove(t.rloSz);continue;case"1":document.removeEventListener(t.cUjnJ,z);continue;case"2":S=!1;continue;case"3":_0x14936f.set("xjS4MkN99",Y);continue;case"4":document.removeEventListener("mousemove",D);continue}break}};window.addEventListener("blur",()=>{let e={};e.NqXTW="resizing";let t=e;document.body.classList.remove(t.NqXTW),S=!1}),_0x310be5.layoutResizer.addEventListener("mousedown",e=>{R(e)})}function _0x1927d8(e,t=!1,...n){let i={XpGgE:"xrYn5ZY3v",loPeU:function(e,t){return e(t)},qVkSb:"xWDUelLWA",rIDHH:function(e,t){return e+t}};console.log(n);let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0xf24f2d(a),o=_0x1822a9(i.XpGgE);o.classList.add("lf"),s.Content.style.padding="0";let r=i.loPeU(_0x1822a9,"x6Y89FynP");o.appendChild(r),r.innerText=e,s.Content.appendChild(o);let l=i.loPeU(_0x1822a9,i.qVkSb);s.Content.appendChild(l);let d;t&&((d=i.loPeU(_0x1822a9,"xvb5soWNa")).focusable(!0),d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',s.close=s.close.bind(s),d.bindWithCooldown(s.close),o.appendChild(d));let c=o.getBoundingClientRect();o.style.minHeight=i.rIDHH(c.height,"px");let $={};return $.root=s,$.body=l,$.content=s.Content,$.closebtn=d,$.Root=s.Root,$.Content=s.Content,$}async function _0x5eabd2(e,t){let n={SUIcV:"xUSR4cuWD",uqbfK:function(e,t){return e(t)},dxwyq:"instant",osDld:function(e,t){return e+t},KAOuZ:"loaded",SUkiT:"xFIqZCKV3",Aomxq:"xAQPbc7N3",itDpJ:"xBWmlKrN2",dgika:function(e,t,n){return e(t,n)},PxPvY:function(e,t){return e===t},YIXdh:"x2y08yFOH",szrvf:"loading",YqWsB:"cache-url",swyLA:"video",lpAwT:"muted",ittoN:"true",chEZS:"controlslist",Gnykk:"xGsec9lFd",EKtzV:"audio",aIqmn:"a24",tmaOp:"span",MmTnL:"xYj7x2KZ4",CahGh:function(e,t,n){return e(t,n)},NTjNU:"x6EwJGLAa",uYPth:"a10"};if(t.startsWith("<")){let i=t.match(/<\s*(\w+)\s+(\S+)/),a=i[1],s=i[2];if("image"===a){let o=document.createElement("img");o.focusable(!0),o.classList.add("xGsec9lFd"),o.classList.add("xUSR4cuWD"),o.setAttribute("data-state",n.szrvf),_0x13e9c4||_0x310be5.messageContainer.scrollTo({top:_0x310be5.messageContainer.scrollHeight,behavior:n.dxwyq}),o.onerror=function(){o.setAttribute("data-state","failed"),o.classList.remove(n.SUIcV)},o.onload=function(){let t={QrxRZ:function(e,t){return n.uqbfK(e,t)},TvFcY:"xHZuqwWhI"};_0x13e9c4||_0x310be5.messageContainer.scrollTo({top:_0x310be5.messageContainer.scrollHeight,behavior:n.dxwyq});let i=_0x53b424["_"+s];if(i)o.style.width=n.osDld(i.width,"px"),o.style.height=i.height+"px";else{let a=o.getBoundingClientRect(),r={};r.width=a.width,r.height=a.height,_0x53b424["_"+s]=r}o.setAttribute("data-state",n.KAOuZ),o.classList.remove("xUSR4cuWD"),e.classList.add(n.SUkiT),o.bindWithCooldown(function(){let e={IKPFq:function(e,t,n){return e(t,n)}},n={};n.closeOnEsc=!0,n.closeOnOverlayClick=!0;let i=new _0xf24f2d(n);i.Content.classList.add("xPSnkbRat");let a=document.createElement("canvas");a.classList.add("xWuhDLG1C"),i.Content.appendChild(a);let o=new _0x29dac7(a,{maxScale:2,onClickOutside(t,n){e.IKPFq(r,t,n)}});function r(){o.destroy(),i.close()}o.loadImage(s);let l=_0x1822a9("x8o1OSu71");l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',l.bindWithCooldown(r),i.Content.appendChild(l);let d=t.QrxRZ(_0x1822a9,"x8o1OSu71");d.classList.add(t.TvFcY),d.focusable(!0),d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',d.bindWithCooldown(function(){o.rotate()},0),i.Content.appendChild(d)},0)};let r={};r.action=n.YqWsB,r.url=s,navigator.serviceWorker?.controller?.postMessage(r),o.src=s,e.appendChild(o)}else if(n.PxPvY(a,n.swyLA)){let l=document.createElement(n.swyLA);l.setAttribute(n.lpAwT,""),l.focusable(!0),l.playsInline=!0,l.setAttribute("controls",n.ittoN),l.setAttribute(n.chEZS,"nodownload"),l.onloadedmetadata=function(){_0x310be5.messageContainer.scrollTo({top:_0x310be5.messageContainer.scrollHeight,behavior:"instant"})};let d={};d.action="cache-url",d.url=s,navigator.serviceWorker?.controller?.postMessage(d),l.src=s,l.classList.add(n.Gnykk),e.appendChild(l)}else if(n.PxPvY(a,n.EKtzV)){let c=document.createElement("audio");c.focusable(!0),c.setAttribute("controls",n.ittoN);let $={};$.action=n.YqWsB,$.url=s,navigator.serviceWorker?.controller?.postMessage($),c.src=s,c.classList.add("xGsec9lFd"),e.appendChild(c)}else e.innerHTML='<div class="xUiYNFhtR">'+_0x5bcd87[n.aIqmn]+' <a class="x0ciSQShX no-wrap" href="'+s+'" target="_blank" rel="noreferrer noopener">'+_0x5bcd87.a25+"</a></div>"}else{let h=document.createElement(n.tmaOp),u=n.uqbfK(_0x1822a9,n.MmTnL);if(h.classList.add("xVlceg4Ab"),n.CahGh(_0x5852c8,h,t),e.appendChild(h),e.appendChild(u),h.getBoundingClientRect().height>125){e.classList.add("xDVzL7FIt");let x=_0x1822a9(n.NTjNU),p={};p["0"]='<span class="xNM56JYdv">'+_0x5bcd87.a8+"</span>",p["1"]='<span class="xNM56JYdv">'+_0x5bcd87.a9+"</span>",p["2"]='<span class="xNM56JYdv">'+_0x5bcd87[n.uYPth]+"</span>";let b=p;x.innerHTML=b[_0x580637?2:0],x.focusable(!0);let _=0;x.bindWithCooldown(function(){if(_0x580637){let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x5360a9(i);a.Root.classList.add(n.Aomxq);let s=_0x1822a9(n.itDpJ);a.Body.appendChild(s),n.dgika(_0x5852c8,s,t)}else{let o={};o.top=0,o.behavior="instant",h.scrollTo(o),n.PxPvY(_,0)?(_=1,e.classList.add(n.YIXdh),x.innerHTML=b[1]):(_=0,e.classList.remove("x2y08yFOH"),x.innerHTML=b[0])}},0),u.appendChild(x)}}}function _0x5852c8(e,t){let n={uEwFi:function(e,t,n){return e(t,n)},OVPcB:"desktop",fIHmZ:"b29",bbkaC:function(e,t){return e!==t},yedHO:function(e,t,n){return e(t,n)},JsSnP:"x0ciSQShX",JJStS:function(e,t,n){return e(t,n)},tqkqv:function(e,t){return e<t}},i=/@(\w+)/g,a=0,s;for(e.clear();n.bbkaC(s=i.exec(t),null);){let{index:o}=s,r=s[1];if(o>a){let l=t.slice(a,o);n.yedHO(_0x215d95,e,l)}let d=document.createElement("a");d.classList.add(n.JsSnP),d.focusable(!0),d.dataset.userId=r;let c={};c.userId=r,c.dom=d,_0x525779._m.push(c),n.JJStS(_0x482071,r,!0).then(function(e){e?(d.textContent="@"+(e.name||_0x5bcd87[n.fIHmZ]),d.bindWithCooldown(function(){n.uEwFi(_0x5cd5ee,_0x4cd245,{data:e,type:_0x580637?"mobile":n.OVPcB})},0)):d.textContent=_0x5bcd87.b28}).catch(function(e){d.textContent="@"+r,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(d),a=i.lastIndex}n.tqkqv(a,t.length)&&_0x215d95(e,t.slice(a))}function _0x215d95(e,t){let n={mRpZL:function(e,t){return e(t)},MqyUp:"div",ApGaq:function(e,t){return e<t},IwTOE:function(e,t){return e-t}},i=t.split("\n");i.forEach((t,a)=>{if(t){let s=n.mRpZL(_0x53e603,t),o=document.createElement(n.MqyUp);o.innerHTML=s,Array.from(o.childNodes).forEach(t=>{e.appendChild(t)})}n.ApGaq(a,n.IwTOE(i.length,1))&&e.appendChild(document.createElement("br"))})}function _0x53e603(e){let t={swSru:function(e,t){return e+t},UxxNE:'" target="_blank" rel="noreferrer noopener">',KLwsA:function(e,t){return e(t)}};return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let n=e.replace(/^https?:\/\//,"");return t.swSru(t.swSru('<span class="xCe4Btdzm"><a class="x0ciSQShX" translate="no" href="'+e+t.UxxNE,t.KLwsA(decodeURIComponent,n)),"</a></span>")})}async function _0x2e1171(){let e={qehmq:function(e,t){return e===t},gBzeI:"disabled",KwWSV:function(e,t){return e===t},cPwvt:function(e,t){return e===t},BTjwk:"1358",EflLW:"clear-all-caches",VyAzK:function(e,t,n,i){return e(t,n,i)},QqxCp:function(e,t){return e(t)},vjEaG:"1241",ZtVAj:function(e,t,n,i){return e(t,n,i)},YnZzy:"lang",qUjSb:"b31",vfPkH:"&gt;",aouTC:"chats",MyLlq:"messages",DEApP:function(e,t,n){return e(t,n)}},t=_0x310be5.messageInput.innerText.trim();if(!t||!_0xf92e86||e.qehmq(t,""))return;_0x310be5.sendButton.classList.add(e.gBzeI),_0x310be5.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let i=n[1],a=n[2];if(e.KwWSV(i,"task")){if(e.cPwvt(a,e.BTjwk)){_0x310be5.messageInput.clear();let s={};s.action=e.EflLW,navigator.serviceWorker?.controller?.postMessage(s);let o={};o.content=_0x5bcd87.b30,o.sender=_0x1b31e6,o.tag="2",e.VyAzK(_0x382cf9,o,e.QqxCp(_0x4d16a7,20),"3");return}if(a===e.vjEaG){_0x310be5.messageInput.clear(),e.ZtVAj(_0x382cf9,{content:_0x5bcd87.c3.replace("$0",_0x5bcd87.c5),sender:_0x1b31e6,tag:"2"},e.QqxCp(_0x4d16a7,20),"3"),_0x14936f.set(e.YnZzy,"zh");return}if("1242"===a){_0x310be5.messageInput.clear(),_0x382cf9({content:_0x5bcd87.c3.replace("$0",_0x5bcd87.c4),sender:_0x1b31e6,tag:"2"},e.QqxCp(_0x4d16a7,20),"3"),_0x14936f.set("lang","en");return}{_0x310be5.messageInput.clear();let r={};r.tag="2",r.content=_0x5bcd87[e.qUjSb],_0x382cf9(r,e.QqxCp(_0x4d16a7,20),"3");return}}}t=t.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<","&lt;").replaceAll(">",e.vfPkH).replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x310be5.messageInput.clear();let l=_0x16258d?"1":null;_0x310be5.markButton.classList.remove("x3zdxRXQ6"),_0x16258d=!1;let d=p(u(_0x2d327b,e.aouTC,_0xf92e86,e.MyLlq));_0x2ab9f1.push(d.id),await e.DEApP(x,d,{sender:_0x1b31e6,content:t,timestamp:Date.now(),tag:l}),_0x4359dc.locking=!0;let c={};c.content=t,c.tag=l,e.ZtVAj(_0x382cf9,c,d.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={TCVYz:"cacheSizeResult",tQyDy:function(e,t,n,i){return e(t,n,i)},Agtbz:function(e,t){return e(t)}};if("cache-size-result"===e.data.type){let n=document.getElementById(t.TCVYz);if(e.data.error){n.innerHTML="錯誤: "+e.data.error;return}t.tQyDy(_0x382cf9,{content:t.Agtbz(_0x31b17e,e.data.bytes)},_0x4d16a7(20),"3")}});let _0x53195a=0;function _0x382cf9(e,t,n="1"){let i={IXsiM:"xVC8gtuyS",HEomV:function(e,t){return e(t)},jTFfq:"xKljxgVJA",OiNeO:"xu4Celbbq",HkLHY:"xRHoYYwoZ",wofcW:"data-visible",VOjxU:"true",kNYci:"data-message-id",FnwVG:"xiOw4dg0O",oFMCn:"xOmVIOA3e",CaqMu:"x4rKxFxLl",ayNYd:function(e,t){return e===t},NZfuR:"smooth"},a=_0x1822a9(i.IXsiM),s=_0x1822a9("xMyW2iRSH"),o=i.HEomV(_0x1822a9,i.jTFfq),r=i.HEomV(_0x1822a9,i.OiNeO),l=_0x1822a9("xc4iCj2Gy"),d=_0x1822a9(i.HkLHY);switch(a.setAttribute(i.wofcW,i.VOjxU),a.setAttribute(i.kNYci,t),a.classList.add(i.FnwVG),a.appendChild(o),o.appendChild(d),d.appendChild(r),r.appendChild(l),d.appendChild(s),l.innerText=_0x5bcd87.a26,_0x37c992.sender===e.sender&&a.classList.add(i.oFMCn),"1"===e.tag?s.classList.add(i.CaqMu):i.ayNYd(e.tag,"2")&&s.classList.add("xHJfZfjT1"),_0x36b91f&&(_0x36b91f.remove(),_0x36b91f=null),n){case"1":_0x310be5.messageContainer.appendChild(a);break;case"2":_0x297bf9.appendChild(a),_0x53195a+=a.offsetHeight;break;case"3":_0x310be5.messageContainer.appendChild(a),_0x41acae=!0,_0x310be5.messageContainer.scrollTo({top:_0x310be5.messageContainer.scrollHeight,behavior:i.NZfuR})}_0x5eabd2(s,e.content)}function _0x23685c(e,t,n="1"){let i={WoFKz:"xWzeTGC6P",VsCOG:function(e,t){return e(t)},YhSdO:function(e,t){return e(t)},CJRbb:"xSYcbYqTG",CnSpK:function(e,t){return e(t)},UUnmP:"xc4iCj2Gy",XokPn:"xt8fROB2L",yrRAT:"xRHoYYwoZ",FWzVc:"data-visible",DCVGI:"lazy",QTweM:function(e,t){return e===t},hNBxj:"x4rKxFxLl",dcUSP:"xOmVIOA3e",rgfwE:"smooth"},a=i.VsCOG(_0x1822a9,"xVC8gtuyS"),s=i.VsCOG(_0x1822a9,"xMyW2iRSH"),o=i.YhSdO(_0x1822a9,i.CJRbb),r=_0x1822a9("xKljxgVJA"),l=i.CnSpK(_0x1822a9,"xu4Celbbq"),d=_0x1822a9(i.UUnmP),c=_0x1822a9(i.XokPn),$=i.VsCOG(_0x1822a9,i.yrRAT),h=document.createElement("img");switch(a.setAttribute(i.FWzVc,"true"),c.classList.add(i.XokPn),h.loading=i.DCVGI,a.appendChild(o),a.appendChild(r),r.appendChild($),$.appendChild(l),l.appendChild(d),$.appendChild(s),l.appendChild(c),o.appendChild(h),a.setAttribute("data-message-id",t),i.QTweM(e.tag,"1")&&s.classList.add(i.hNBxj),c.innerText="0s",d.innerText=_0x5bcd87.d9,h.draggable=!1,_0x36b91f&&(_0x36b91f.remove(),_0x36b91f=null),_0x37c992.sender===e.sender&&a.classList.add(i.dcUSP),n){case"1":_0x310be5.messageContainer.appendChild(a);break;case"2":_0x297bf9.appendChild(a),_0x53195a+=a.offsetHeight;break;case"3":_0x310be5.messageContainer.appendChild(a),_0x41acae=!0,_0x310be5.messageContainer.scrollTo({top:_0x310be5.messageContainer.scrollHeight,behavior:i.rgfwE}),_0x41acae=!1}_0x5eabd2(s,e.content),i.YhSdO(_0x482071,e.sender).then(t=>{function n(){let e={};e.data=t,e.type=_0x580637?"mobile":"desktop",_0x5cd5ee(_0x310be5.main,e)}c.innerText=i.VsCOG(_0x350d04,e.timestamp),h.src=t.avatarUrl||"/assets/avatar.png",h.onload=function(){o.classList.add(i.WoFKz)},d.onclick=n,o.focusable(!0),o.bindWithCooldown(n),d.innerText=t.name||_0x5bcd87.d11}).catch(e=>{console.error(e)})}function _0x4cbe16(e,t,n){let i={};i.QcaWB="unknown",i.EKYNj="xJd2GT7MI",i.sZdua=function(e,t){return e||t};let a=i;_0x310be5.signatureLabel.textContent=n||a.QcaWB,_0x310be5.avatarWrapper.classList.remove(a.EKYNj),_0x310be5.avatarLabel.src=a.sZdua(e,"assets/avatar.png"),_0x310be5.nameLabel.textContent=t||_0x5bcd87.d11}let _0x574d80;async function _0xd60039(){let e={BsXhy:function(e,t){return e>t},mNOsO:function(e,t){return e-t},bSpXv:"mousemove",wBQYE:"mouseup",cughN:"touchmove",LCDpp:"touchend",dVLlX:function(e,t){return e*t},VKQkr:function(e,t){return e/t},vhbEj:function(e,t){return e>t},xxqsY:function(e){return e()},QGMsN:"xgu6pGjzk",xHsty:function(e,t){return e(t)},VexHK:"--x9LFHiVqv",FJUaH:function(e,t){return e(t)},pjOqG:function(e,t){return e*t},vbOMd:"xYIbDcl9T",pohUg:"placeholder",sGEhB:"b32",ddICT:function(e,t){return e&&t},gEiSd:function(e,t){return e+t},jEurn:function(e){return e()},rXtWr:"blur",NRZBd:"mousedown",vFGAF:function(e,t){return e!==t},yZgeN:"cvs",LoHgk:function(e,t,n){return e(t,n)}};if(_0x8947b7)return;console.log("正在初始化應用程序"),_0x310be5.roomNameLabel.innerText=_0x5bcd87.a2,_0x310be5.searchInput.placeholder=_0x5bcd87.a1,_0x310be5.messageInput.setAttribute(e.pohUg,_0x5bcd87.a3),_0x310be5.spinnerLabel.innerText=_0x5bcd87[e.sGEhB];let t=_0x14936f.get("xjS4MkN99");e.ddICT(t,!_0x580637)&&(_0x310be5.sidebar.style.width=e.gEiSd(t,"px")),document.body.classList.add("xmKH3ad5R");let n=e.jEurn(_0x4f4c62),i=_0x407ec6();_0x10d3a8();try{e.FJUaH(_0x482071,_0x1b31e6).then(async t=>{(!t.deviceInfo||e.BsXhy(e.mNOsO(Date.now(),t.deviceInfo.lastUpdate),36e5))&&(await _0x209a3e(_0x1b31e6,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:i.screenWidth+"x"+i.screenHeight+" @"+i.devicePixelRatio+"x"}}),console.log("已上傳裝置信息"))})}catch(a){console.error("發生未知錯誤",a)}let s=!1,o=0,r=0,l=0,d=t=>{s=!0,o=0,l=(r=t.touches?t.touches[0].clientX:t.clientX)-t.target.getBoundingClientRect().left,document.addEventListener(e.bSpXv,c),document.addEventListener(e.wBQYE,$);let n={};n.passive=!0,document.addEventListener(e.cughN,c,n),document.addEventListener(e.LCDpp,$)},c=t=>{if(!s)return;let n=(t.touches?t.touches[0].clientX:t.clientX)-l,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o=n,_0x310be5.main.classList.add("xp4HXkJGa"),_0x310be5.sidebar.classList.add("xgu6pGjzk"),_0x310be5.main.style.transform="translate3d("+n+"px, 0, 0)",_0x310be5.sidebarOverlay.style.opacity=1-n/i,_0x310be5.sidebar.style.transform="translate3d("+Math.min(e.dVLlX(-30,1-e.VKQkr(n,i)),0)+"%, 0, 0)"},$=()=>{if(!s)return;s=!1;let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;_0x310be5.main.classList.remove("xp4HXkJGa"),_0x310be5.sidebar.classList.remove("xgu6pGjzk"),document.removeEventListener(e.bSpXv,c),document.removeEventListener("mouseup",$);let n={};n.passive=!0,document.removeEventListener("touchmove",c,n),document.removeEventListener("touchend",$),e.vhbEj(e.VKQkr(o,t),.5)?e.xxqsY(_0x5ee00c):_0x310be5.sidebarOverlay.style.opacity=1};window.addEventListener(e.rXtWr,()=>{let t="6|0|4|7|1|2|3|5".split("|"),n=0;for(;;){switch(t[n++]){case"0":_0x310be5.sidebarOverlay.style.opacity=1;continue;case"1":document.removeEventListener("mousemove",c);continue;case"2":document.removeEventListener(e.wBQYE,$);continue;case"3":let i={};i.passive=!0,document.removeEventListener(e.cughN,c,i);continue;case"4":_0x310be5.main.classList.remove("xp4HXkJGa");continue;case"5":document.removeEventListener(e.LCDpp,$);continue;case"6":s=!1;continue;case"7":_0x310be5.sidebar.classList.remove(e.QGMsN);continue}break}}),_0x310be5.layoutResizer2.addEventListener(e.NRZBd,t=>{e.xHsty(d,t)});let h={};h.passive=!0,_0x310be5.layoutResizer2.addEventListener("touchstart",d,h);try{function u(){let t=_0x310be5.messageContainer.getBoundingClientRect();_0x310be5.messageContainer.style.setProperty(e.VexHK,e.FJUaH(Number,(e.dVLlX(t.height,.6)-24).toFixed(2))+"px"),_0x310be5.messageContainer.style.setProperty("--xVizV2ybq",Number(e.pjOqG(t.height,.72).toFixed(2))-24+"px")}e.jEurn(u),window.addEventListener("resize",u)}catch(x){console.log("設置布局時發生錯誤")}if(_0x574d80=setInterval(function(){e.xxqsY(_0x492ea9),document.body.classList.contains("xYIbDcl9T")&&document.activeElement!==_0x310be5.messageInput&&document.body.classList.remove(e.vbOMd)},1e3),_0x310be5.searchInput.removeAttribute("disabled"),_0x310be5.searchInput.focusable(!0),_0x310be5.profileContainer.classList.remove("disabled"),_0x310be5.profileContainer.focusable(!0),e.vFGAF(localStorage.getItem(e.yZgeN),_0x5c0c7f.current)){if(_0x580637){let p={};p.closeOnEsc=!0,p.closeOnOverlayClick=!0;let b=new _0x5360a9(p);b.Overlay.classList.add("x5RtiEC9k"),b.Body.innerHTML='<div class="xa6f2dQXX">'+_0x5bcd87.a4+'</div><div class="x68JrA5Ak">'+_0x5c0c7f.directions+"</div>"}else e.LoHgk(_0x1927d8,_0x5bcd87.a4,!0).body.innerHTML='<div class="xeUKJgV96">'+_0x5c0c7f.directions+"</div>";localStorage.setItem("cvs",_0x5c0c7f.current)}_0x8947b7=!0}function _0x520892(e){let t={};t.MnZDU="&lt;",t.qzcfL="&gt;",t.HShHR="<br>";let n=t;return e.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<",n.MnZDU).replaceAll(">",n.qzcfL).replaceAll(" ","&nbsp;").replaceAll("\n",n.HShHR)}function _0x3a561d(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x5d4f06="Structure";function _0x2edae7(e){var t;let n={cCvQW:function(e,t){return e===t},UfslW:function(e,t){return e!==t},yyVCg:"d12",YprmE:function(e,t){return e+t},JUtjx:"xVjpzmyej",RXzBq:"disabled",YpGVA:"contenteditable",JTqDA:"true",YcKwk:".x2fP9fkxS.active",uQyAj:"active",cwVnB:".xehdiGgBv .xMyenRl7K .x8JU9DbQZ",dmywU:"x8VAGH6N2",mXgSp:function(e,t){return e(t)},LughI:"spinner",fUCoE:function(e,t){return e(t)},mkIsB:"messages",GziEc:"desc",ofZJw:"xxnnTDIPC",DgoTT:"xs8tjkwHJ",rFoni:"xt4GQkVIo",jzKzn:"xlKSJ67AP",GQAsD:"xyS4vzBWG",WLZPp:"chats",tFSZc:"b34",RaWLv:"b33",rqCVQ:"b35",juMOX:"A5o980bj",jpHPT:"xTJA9U7y9",lncDJ:"mobile",eyuMj:function(e,t,n,i,a){return e(t,n,i,a)},oDCkc:function(e,t,n){return e(t,n)},fmybc:"b41",mNnQt:"xYvZ9WF6d",LDwcc:"xtx2Cn8cK",UPesx:function(e,t,n){return e(t,n)},kFRZS:"xCgVOK4ur",yLXqS:"x5FOXvrVK",AiykI:"x7ho7YfuM",WQOos:function(e,t){return e!==t},bMzcW:"bottom-start",RAyzA:"xoV8hdbgt",Gysww:function(e,t){return e(t)},cWOvI:"xUdcoAHYM",inRiX:"b22",eDiMS:"xGy5QqsmI",lMPwG:function(e){return e()},foFWN:"xQ65c0Nkc",XOsAt:"xybvM5cRF",vCApz:"x6HyfOZS7",uIJzG:function(e,t){return e(t)},tkupW:"nearest"},i=n.fUCoE(_0x1822a9,"x2fP9fkxS"),a=n.Gysww(_0x1822a9,n.foFWN),s=n.mXgSp(_0x1822a9,n.XOsAt),o=n.Gysww(_0x1822a9,"xT3Ta8vKw"),r=_0x1822a9(n.vCApz),l=_0x1822a9("xQkxrD9ZA");async function d(){let t={XBAtA:"取得用户名称时发生错误：",jILyt:function(e,t){return e(t)},MuWCl:function(e,t){return n.cCvQW(e,t)},XVJAB:function(e,t,n,i){return e(t,n,i)}};if(n.UfslW(_0xf92e86,e.id)||_0x580637&&!contextOpeneds){_0x310be5.messageInput.innerHTML="",_0xf92e86=e.id,_0x525779._m.length=0,_0x4cd245=_0x310be5.main,_0x5dbb6f=!0,_0x580637&&_0x310be5.sidebar.setAttribute("inert","true"),_0x37c992="",_0x13e9c4=!1;let a=[];e.members.forEach(e=>{let n={};n.TXsHp=t.XBAtA;let i=n;t.jILyt(_0x482071,e).then(t=>{let n={};n.id=e,n.name=t.name,a.push(n)}).catch(e=>{console.error(i.TXsHp,e)})}),_0x5d4f06=(e.name||_0x5bcd87[n.yyVCg])+" - Structure",document.title=_0x5d4f06,_0x310be5.roomNameLabel.innerText=e.name,_0x2ab9f1.length=0;let s=new URLSearchParams(window.location.search);s.set("r",e.id),window.history.replaceState({},"",n.YprmE("?",s.toString())),_0x310be5.messageContainer.classList.remove(n.JUtjx),_0x310be5.fileInput.removeAttribute(n.RXzBq),_0x310be5.attachButton.classList.remove(n.RXzBq),_0x310be5.attachButton.focusable(!0),_0x310be5.stickerButton.classList.remove("disabled"),_0x310be5.stickerButton.focusable(!0),_0x310be5.markButton.classList.remove("disabled"),_0x310be5.markButton.focusable(!0),_0x310be5.markButton.classList.remove("x3zdxRXQ6"),_0x16258d=!1,_0x310be5.brushButton.classList.remove("disabled"),_0x310be5.brushButton.focusable(!0),_0x310be5.messageInput.setAttribute(n.YpGVA,n.JTqDA),_0x310be5.sidebarOverlay.style.opacity=1,_0x580637?(_0x310be5._mb_att_btn.classList.remove("disabled"),_0x310be5._mb_att_btn.focusable(!0),_0x310be5.backButton.classList.remove("disabled"),_0x70906b(n.cwVnB).focusable(!0),_0x310be5.main.classList.add(n.dmywU)):(_0x70906b(n.YcKwk)&&_0x70906b(".x2fP9fkxS.active").classList.remove(n.uQyAj),i.classList.add(n.uQyAj)),_0x310be5.messageInput.setAttribute("contenteditable",n.JTqDA),_0x310be5.messageInput.focusable(!0),_0x310be5.messageContainer.clear(),(_0x36b91f=n.mXgSp(_0x1822a9,"xqBX9i6rZ")).classList.add(n.LughI),_0x36b91f.innerHTML=_0x237e5d,_0x310be5.messageContainer.appendChild(_0x36b91f);let o=await n.fUCoE(v,w(u(_0x2d327b,"chats",e.id,n.mkIsB),C("timestamp",n.GziEc),E(10)));_0xf590cd=o.docs[9];let r=[];o.forEach(e=>{r.push(e)}),n.cCvQW(r.length,0)&&_0x36b91f&&(_0x36b91f.innerHTML=_0x5bcd87.d8),r.reverse(),r.map(e=>{var n=e.data();-1===_0x2ab9f1.indexOf(e.id)&&(t.MuWCl(n.sender,_0x1b31e6)?(_0x2ab9f1.push(e.id),_0x382cf9(n,e.id,"1")):(_0x2ab9f1.push(e.id),t.XVJAB(_0x23685c,n,e.id,"1")),_0x37c992=n)}),_0x41acae=!0,_0x310be5.messageContainer.scrollTo({top:_0x310be5.messageContainer.scrollHeight,behavior:"instant"}),_0x41acae=!1,n.fUCoE(_0x11a30b,e.id)}}i.bindWithCooldown(d);let c={};c.id=e.id,c.length=e.size,c.name=e.name||_0x5bcd87.d9,c.launch=d,c.dom=i,_0x436d7e.push(c),i.appendChild(a),i.appendChild(r),r.appendChild(l);let $=function(){let t={fKQCh:n.lncDJ,pNHJb:function(e,t){return n.fUCoE(e,t)},anGGT:function(e,t,i,a,s){return n.eyuMj(e,t,i,a,s)},DXYqY:"todos",BrITH:function(e,t,i){return n.oDCkc(e,t,i)},svNzw:n.RXzBq,tJONt:n.fmybc,URMzX:n.mNnQt,BguCF:"time",ffOHq:"xaTPzRSCY",ujHgO:n.LDwcc,yUIWs:"x6q2Zh2QF",rPrqb:function(e,t,i){return n.UPesx(e,t,i)},nEOup:"xb4MnocjO",ZOpYi:n.kFRZS,kQZLN:n.yLXqS,HmzkZ:n.AiykI,qabDc:"xmiEvp5FV",kVLgv:function(e,t){return n.WQOos(e,t)}},a={};a.trigger=l,a.placement=[n.bMzcW,"bottom-end","top-start","top-end"];let s=new _0x33dad2(a);s.Content.classList.add(n.RAyzA);let o=n.fUCoE(_0x1822a9,"xrQdSHI2A"),r=n.Gysww(_0x1822a9,"xrQdSHI2A"),d=_0x1822a9("xcoXgMpFW"),c=n.Gysww(_0x1822a9,"xrQdSHI2A");o.bindWithCooldown(function(){let i={HuThG:"xScefCkPw",oUGne:n.ofZJw,TtDyK:function(e,t){return n.fUCoE(e,t)},ISDcw:n.DgoTT,fWobF:n.rFoni,UdvVz:n.jzKzn};s.close();let a=n.fUCoE(_0x1822a9,"xPAY7PmDq"),o;if(_0x580637){let r={};r.parent=_0x310be5.sidebar,r.title=_0x5bcd87.b20,(o=new _0x1d8067(r)).Content.classList.add("xU2hUavXh"),o.Content.appendChild(a)}else(o=_0x1927d8(_0x5bcd87.b20,!0)).content.classList.add("lg"),o.content.classList.add("xb4MnocjO"),o.body.appendChild(a);function l(e){let n={xipGd:t.fKQCh,PWCnS:function(e,t,n){return e(t,n)}};t.pNHJb(_0x482071,e).then(e=>{let t=_0x1822a9(i.HuThG),s=_0x1822a9("xZHdsOFDz"),r=document.createElement("img");r.classList.add(i.oUGne),r.src=e.avatarUrl||"assets/avatar.png",r.draggable=!1,r.loading="lazy";let l={};l.action="cache-url",l.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(l),s.appendChild(r);let d=i.TtDyK(_0x1822a9,i.ISDcw),c=_0x1822a9(i.fWobF),$=_0x1822a9(i.UdvVz);c.innerText=e.name,$.innerText=e.qid||e.id,t.focusable(!0),d.appendChild(c),d.appendChild($),t.appendChild(s),t.appendChild(d),t.bindWithCooldown(function(){if(_0x580637){let t={};t.data=e,t.type=n.xipGd,_0x5cd5ee(o.Root,t)}else{o.root.close();let i={};i.data=e,i.type="desktop",n.PWCnS(_0x5cd5ee,_0x310be5.main,i)}}),a.appendChild(t)}).catch(e=>{console.error(e)})}let d=0;e.members.forEach(e=>{d++,i.TtDyK(l,e)}),1==d&&a.classList.add(n.GQAsD)}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0x5bcd87.b21,o.classList.add(n.cWOvI),[o,r,c].forEach(e=>{e.focusable(!0)}),c.bindWithCooldown(function(){let t={blgYx:"0|5|1|3|4|2",SBvjM:function(e,t,n){return e(t,n)},lHctR:"users",eONjy:function(e,t){return e===t},mvgrJ:function(e,t,n){return e(t,n)},cyWSL:n.WLZPp,yiAKX:function(e,t){return e(t)}};s.close(),new _0x109132({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0x5bcd87[n.tFSZc],message:_0x5bcd87[n.RaWLv],buttons:[{text:_0x5bcd87[n.rqCVQ],classList:[n.juMOX]},{text:_0x5bcd87.b36,classList:[n.jpHPT],onClick:async function(){let n=_0x436d7e.findIndex(t=>t.id===e.id);if(-1!==n)try{let a=t.blgYx.split("|"),s=0;for(;;){switch(a[s++]){case"0":await t.SBvjM(k,p(_0x2d327b,t.lHctR,_0x1b31e6),{joined:L(e.id)});continue;case"1":_0x436d7e.splice(n,1);continue;case"2":t.eONjy(_0x436d7e.length,0)&&(_0x310be5.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x5bcd87.d13+"</div>");continue;case"3":i.remove();continue;case"4":_0xf92e86===e.id&&(_0xf92e86=null,_0x310be5.statusLabel.innerHTML="",_0x310be5.roomNameLabel.innerText=_0x5bcd87.d12,_0x310be5.messageContainer.clear());continue;case"5":await t.mvgrJ(k,p(_0x2d327b,t.cyWSL,e.id),{members:t.yiAKX(L,_0x1b31e6)});continue}break}}catch(o){console.error("Error while deleting item:",o)}}}]})}),s.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12 6m-7 0a7 3 0 1 0 14 0a7 3 0 1 0 -14 0" /><path d="M5 6v12c0 1.657 3.134 3 7 3s7 -1.343 7 -3v-12" /></svg>'+_0x5bcd87[n.inRiX],r.bindWithCooldown(async function(){let n={mwjLZ:t.svNzw,SdYAr:function(e,t,n){return e(t,n)},axIZA:t.tJONt,Lttqo:function(e,t){return e(t)},zWajz:"input",RGpDO:"xF37V7xd0",QMIfM:t.URMzX,EVKEM:t.BguCF,WPtHw:function(e,n){return t.pNHJb(e,n)},LajNE:"xA9JMbz3o",uFyId:function(e,t){return e===t},pbtGz:function(e,t,n){return e(t,n)},nrMEd:function(e,t,n){return e(t,n)},evzSz:t.ffOHq,Qzwbs:"horizontal",YwAon:"xHCo3rIZ7",bxpID:"hide",VBGzW:"xbrV3058R"};s.close();let i,a=_0x1822a9(t.ujHgO),o=_0x1822a9("xNu1Upzh6");if(_0x580637){let r={};r.parent=_0x310be5.sidebar,r.title=_0x5bcd87.b37,(i=new _0x1d8067(r)).Content.classList.add(t.yUIWs),i.Content.classList.add("xU2hUavXh"),i.Content.appendChild(a)}else(i=t.rPrqb(_0x1927d8,_0x5bcd87.b37,!0)).content.classList.add(t.nEOup),i.content.classList.add("lg"),i.body.appendChild(a);let l=_0x27d4ab([]);function d(t,a){let s={suspa:n.mwjLZ,klcTc:"chats",CanGe:function(e,t){return e(t)},qRZvQ:"刪除失敗：",jMYEa:function(e,t,n,i,a,s){return e(t,n,i,a,s)},xRWbW:"todos",JSYaG:function(e,t,i){return n.SdYAr(e,t,i)},wfAfU:"d10",BRbkN:n.axIZA,QJuHG:function(e,t){return e(t)},TADnN:"xGGKUZ7B3",uLxrE:function(e,t){return n.Lttqo(e,t)},ndumx:"label",pgrTE:n.zWajz,QySMr:n.RGpDO,rnpFF:n.QMIfM,UEPOC:function(e,t){return n.Lttqo(e,t)},Wpwnz:"textarea",HSkLz:"xGuwEx6qN",vQbMh:function(e,t){return e(t)},AXqzw:n.EVKEM,QFSkB:"date",jgGAc:function(e,t){return e(t)},rUVhd:function(e){return e()}},r=_0x1822a9("xTIlpY4Et"),d=n.WPtHw(_0x1822a9,n.LajNE);r.appendChild(d),n.uFyId(t.theme,"pink")&&d.classList.add("x0eVQzH93");let c=n.Lttqo(_0x1822a9,"xHxVtIAsn");r.appendChild(c);let $=n.WPtHw(_0x1822a9,"xt4GQkVIo");$.innerHTML=t.name||_0x5bcd87.d9,c.appendChild($);let h=_0x1822a9("xHQ4s8VGa");n.pbtGz(_0x5852c8,h,t.description||"忘記加上描述了"),c.appendChild(h);let u=n.nrMEd(_0x177177,t.startAt,t.endAt),x=_0x1822a9("xPP6DGDrH");x.innerText=u,r.appendChild(x);let _=_0x1822a9("xxChbQgko"),f=_0x1822a9(n.evzSz);f.innerHTML=_0xc6556b.edit,f.focusable(!0);let v=n.WPtHw(_0x1822a9,n.evzSz);v.innerHTML=_0xc6556b.trash,v.focusable(!0),_0x27d4ab([f,v],n.Qzwbs),v.bindWithCooldown(async function(){r.classList.add(s.suspa);try{v.focusable(!1),v.classList.add(s.suspa),f.focusable(!1),f.classList.add(s.suspa),await s.CanGe(b,p(_0x2d327b,s.klcTc,e.id,"todos",a)),console.log("已成功刪除行程："+a),r.remove(),l.removeItem(r)}catch(t){v.focusable(!0),v.classList.remove("disabled"),f.focusable(!0),f.classList.remove(s.suspa),console.error(s.qRZvQ,t),r.classList.remove(s.suspa)}}),_.appendChild(f),_.appendChild(v),r.appendChild(_),r.focusable(!0),l.addItem(r),o.appendChild(r);let m={};m.name=t.name||"未知",m.startAt=t.startAt||17356608e5,m.endAt=t.endAt||17356608e5,m.description=t.description||"";let g=m;f.bindWithCooldown(function(n){n.stopPropagation(),function n(){let o={muOWt:function(e,t){return e!==t},MuUKB:function(e,t){return e!==t},atAqa:function(e,t){return e!==t},vHyVJ:function(e,t,n,i,a,o){return s.jMYEa(e,t,n,i,a,o)},Rbvqi:s.klcTc,Pifbs:s.xRWbW,wmFWi:"0|3|2|8|1|6|7|5|4",kDUOn:function(e,t,n){return e(t,n)},BCYRp:function(e,t,n){return s.JSYaG(e,t,n)},XiUlo:s.wfAfU},r=_0x1927d8(_0x5bcd87[s.BRbkN],!0,i.Root);r.root.Overlay.classList.add("xOjXmYkxE");let l=s.QJuHG(_0x1822a9,s.TADnN),d="_"+s.uLxrE(_0x4d16a7,12),c=document.createElement(s.ndumx),u=document.createElement(s.pgrTE);c.classList.add(s.QySMr),u.classList.add(s.rnpFF),c.htmlFor=d,c.textContent=_0x5bcd87.b38,u.id=d,u.type="text",u.value=g.name,u.maxLength=30,l.appendChild(c),l.appendChild(u);let x=s.QJuHG(_0x1822a9,s.TADnN),b="_"+s.UEPOC(_0x4d16a7,12),_=document.createElement(s.ndumx),f=document.createElement(s.Wpwnz);_.classList.add("xF37V7xd0"),f.classList.add(s.HSkLz),_.htmlFor=b,_.textContent=_0x5bcd87.b3,f.id=b,f.rows=3,f.value=g.description,f.maxLength=80,x.appendChild(_),x.appendChild(f);let v=_0x1822a9("xGGKUZ7B3");v.classList.add("xFJWlqoGn");let m="_"+_0x4d16a7(12),w=document.createElement("label"),C=s.vQbMh(_0x1822a9,"x9ZwavJjj"),y=document.createElement("input"),L=document.createElement(s.pgrTE);w.classList.add("xF37V7xd0"),y.classList.add("xYvZ9WF6d"),w.htmlFor=m,w.textContent=_0x5bcd87.b39,y.type="date",y.id=m,L.classList.add(s.rnpFF),L.type=s.AXqzw;let E="_"+_0x4d16a7(12),T=s.QJuHG(_0x1822a9,"x9ZwavJjj"),A=document.createElement(s.ndumx),M=document.createElement("input"),H=document.createElement("input");A.classList.add("xF37V7xd0"),M.classList.add("xYvZ9WF6d"),A.htmlFor=E,A.textContent=_0x5bcd87.b40,M.id=E,M.type=s.QFSkB,H.classList.add("xYvZ9WF6d"),H.type=s.AXqzw;let W=_0x1822a9(s.TADnN),I=s.jgGAc(_0x1822a9,"x40AApYkW");I.classList.add("xwtdXtpQT"),I.textContent=_0x5bcd87.b6,I.classList.add("disabled");let S={};function Y(){o.muOWt(u.value.trim(),"")&&y.value&&L.value&&M.value&&H.value&&(o.MuUKB(u.value,S._z)||o.atAqa(y.value,S._a)||L.value!==S._b||M.value!==S._c||H.value!==S._d||f.value!==S._y)?(I.focusable(!0),I.classList.remove("disabled")):(I.focusable(!1),I.classList.add("disabled"))}S._z=t.name,S._y=t.description;let B=[u,y,L,M,H,f];if(B.forEach(e=>{e.oninput=Y}),I.bindWithCooldown(async function(){let t={};t.eRgJP="disabled";let n=t;I.classList.add("disabled"),I.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let i=new Date(y.value+"T"+L.value).getTime(),s=new Date(M.value+"T"+H.value).getTime(),l=u.value,d=f.value;B.forEach(e=>{e.setAttribute(n.eRgJP,!0)});let c=o.vHyVJ(p,_0x2d327b,o.Rbvqi,e.id,o.Pifbs,a);try{let x=o.wmFWi.split("|"),b=0;for(;;){switch(x[b++]){case"0":let _={};_.endAt=s,_.startAt=i,_.name=l,_.description=d,await o.kDUOn(k,c,_);continue;case"1":g.endAt=s;continue;case"2":g.description=d;continue;case"3":g.name=l;continue;case"4":r.root.close();continue;case"5":console.log("已成功更新行程："+a);continue;case"6":$.innerHTML=g.name;continue;case"7":o.BCYRp(_0x5852c8,h,g.description||_0x5bcd87[o.XiUlo]);continue;case"8":g.startAt=i;continue}break}}catch(v){console.error("更新失敗：",v),B.forEach(e=>{e.classList.remove(n.eRgJP)})}}),C.appendChild(w),C.appendChild(y),C.appendChild(L),T.appendChild(A),T.appendChild(M),T.appendChild(H),r.body.appendChild(l),r.body.appendChild(x),r.body.appendChild(v),r.body.appendChild(W),v.appendChild(C),v.appendChild(T),W.appendChild(I),g.startAt){let R=new Date(g.startAt),D=new Date(g.startAt).toISOString().split("T")[0];console.log(D);let z=R.toTimeString().split(":").slice(0,2).join(":");console.log(D),S._a=D,S._b=z,y.value=D,L.value=z}if(g.endAt){let P=new Date(g.endAt),O=new Date(g.endAt).toISOString().split("T")[0],F=P.toTimeString().split(":").slice(0,2).join(":");S._c=O,S._d=F,M.value=O,H.value=F}s.rUVhd(Y),u.focus()}()})}a.appendChild(o);let c=_0x1822a9("xTOLrzGN6");a.appendChild(c);let $=_0x1822a9(t.ZOpYi);c.appendChild($);let h=t.pNHJb(_0x1822a9,"xtG9t2xuE"),_=_0x1822a9("x5FOXvrVK"),f=_0x1822a9(t.kQZLN),m=_0x1822a9(t.HmzkZ);h.appendChild(_),h.appendChild(f),h.appendChild(m);let g=!1;_.innerText=_0x5bcd87.c1,f.innerText=_0x5bcd87.c2,h.focusable(!0),$.appendChild(h);let C=_0x1822a9("xY17x64dw");C.classList.add(t.qabDc),C.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',C.focusable(!0),h.bindWithCooldown(function(){g?(C.classList.remove("hide"),o.classList.remove("xbrV3058R"),h.classList.remove(n.YwAon),g=!1):(C.classList.add(n.bxpID),o.classList.add(n.VBGzW),h.classList.add("xHCo3rIZ7"),g=!0)},0),C.bindWithCooldown(async function(){let n=p(t.anGGT(u,_0x2d327b,"chats",e.id,t.DXYqY)),i={name:"新的行程",description:"",startAt:Date.now(),endAt:Date.now()};await x(n,i),t.BrITH(d,i,n.id)},1e3),$.appendChild(C),o.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x237e5d+"</div>";let y=await t.pNHJb(v,w(u(_0x2d327b,"chats",e.id,"todos")));o.innerHTML='<div class="xmBX2cWRZ">'+_0x5bcd87.d14+"</div>",t.kVLgv(y.docs.length,0)&&y.forEach(e=>{d(e.data(),e.id)})}),s.Content.appendChild(r),s.Content.appendChild(d),c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-door-exit"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0x5bcd87.b23,c.classList.add(n.eDiMS),s.Content.appendChild(c),_0x27d4ab([o,r,c]),s._setPosition()};if(l.bindWithCooldown(function(e){e.stopPropagation(),n.lMPwG($)}),l.focusable(!0),i.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',a.appendChild(s),s.innerText=e.name||_0x5bcd87.a2,t=e.description?e.description:n.cCvQW(e.size,0)?_0x5bcd87.b19:_0x5bcd87.b18.replace("$0",n.uIJzG(_0x3a561d,e.size)),o.innerText=t,a.appendChild(o),_0x310be5.primaryArea.appendChild(i),e.focus){n.lMPwG(d);let h={};h.behavior="smooth",h.block="center",h.inline=n.tkupW,i.scrollIntoView(h)}}function _0x350d04(e){let t={JbxUw:function(e,t){return e/t},eBLll:function(e,t){return e-t},KSLiv:function(e,t){return e<t},DGLmt:"a20",hfqzx:function(e,t){return e<t},uftQp:function(e,t){return e/t},wdUCH:function(e,t){return e/t},AMXDg:"a22",YcWaT:function(e,t){return e(t)},ZyEPj:function(e,t){return e/t}},n=Math.max(Math.floor(t.JbxUw(t.eBLll(Date.now(),e),1e3)),0);return t.KSLiv(n,60)?_0x5bcd87.a18.replace("$0",n):n<3600?_0x5bcd87[t.DGLmt].replace("$0",Math.floor(n/60)):t.hfqzx(n,86400)?_0x5bcd87.a21.replace("$0",Math.floor(n/3600)):t.KSLiv(n,2592e3)?_0x5bcd87.a23.replace("$0",Math.floor(t.uftQp(n,86400))):n<31536e3?_0x5bcd87.a19.replace("$0",Math.floor(t.wdUCH(n,2592e3))):_0x5bcd87[t.AMXDg].replace("$0",t.YcWaT(_0x3a561d,Math.floor(t.ZyEPj(n,31536e3))))}function _0x31b17e(e){let t={};t.fPWFH=function(e,t){return e>=t},t.OZULk=function(e,t){return e-t};let n=t,i=["B","KB","MB","GB","TB","PB"],a=e,s=0;for(;n.fPWFH(a,1024)&&s<n.OZULk(i.length,1);)a/=1024,s++;return a.toFixed(2)+" "+i[s]}async function _0x209a3e(e,t){let n={JJSzi:"users",CQnjO:function(e,t,n){return e(t,n)}};try{let i=p(_0x2d327b,n.JJSzi,e);if(t){await n.CQnjO(k,i,t),_0x472e22[e]&&(_0x472e22[e]={..._0x472e22[e],...t});let a=sessionStorage.getItem("upf_"+e);if(a){let s={...JSON.parse(a),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(s))}}else delete _0x472e22[e],sessionStorage.removeItem("upf_"+e);return!0}catch(o){return console.error("Failed to update user profile:",o),!1}}async function _0x482071(e){if(_0x472e22[e])return _0x472e22[e];let t=sessionStorage.getItem("upf_"+e);if(t){let n=JSON.parse(t);return _0x472e22[e]=n,n}try{let i=await _(p(_0x2d327b,"users",e));if(!i.exists())return null;{let a=i.data();return _0x472e22[e]=a,sessionStorage.setItem("upf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x5987c1(e){let t={eQNmq:function(e,t,n,i){return e(t,n,i)},qTLkS:"chats"};if(_0x442ba0[e])return _0x442ba0[e];let n=sessionStorage.getItem("rpf_"+e);if(n){let i=JSON.parse(n);return _0x442ba0[e]=i,i}try{let a=await _(t.eQNmq(p,_0x2d327b,t.qTLkS,e));if(!a.exists())return null;{let s=a.data();return _0x472e22[e]=s,sessionStorage.setItem("rpf_"+e,JSON.stringify(s)),s}}catch(o){throw o}}async function _0x180f23(e,t){let n={drMTv:function(e,t){return e===t},lBtUX:function(e,t,n,i){return e(t,n,i)},LTvCC:"嘗試加載更多訊息",oXUOe:function(e,t){return e!==t},hIDIj:function(e,t){return e(t)},DcBSt:"chats",zrkJB:"messages",lmlWr:"timestamp",blCaz:"desc",aAgFc:function(e,t){return e===t},WnbLZ:"xWIHJooz8"};if(console.log(n.LTvCC),n.oXUOe(_0xf590cd,void 0)){_0x41acae=!0;let i=await n.hIDIj(v,w(u(_0x2d327b,n.DcBSt,e,n.zrkJB),C(n.lmlWr,n.blCaz),n.hIDIj(m,_0xf590cd),E(10)));if(console.log(i.docs.length+" messages left"),n.aAgFc(i.docs.length,0))return;_0xf590cd=n.aAgFc(i.docs.length,10)?i.docs[9]:void 0;let a=[];i.forEach(e=>{a.push(e)}),a.reverse();let s=0;_0x297bf9=n.hIDIj(_0x1822a9,n.WnbLZ),_0x37c992="";let o=_0x310be5.messageContainer.firstChild;_0x310be5.messageContainer.insertBefore(_0x297bf9,o);let r=_0x310be5.messageContainer.scrollHeight;a.map(e=>{s++;let t=e.data();n.drMTv(_0x2ab9f1.indexOf(e.id),-1)&&(n.drMTv(t.sender,_0x1b31e6)?(_0x2ab9f1.push(e.id),_0x382cf9(t,e.id,"2")):(_0x2ab9f1.push(e.id),n.lBtUX(_0x23685c,t,e.id,"2")),_0x37c992=t)}),_0x41acae=!0,_0x53195a=_0x310be5.messageContainer.scrollHeight-r;let l={};l.top=_0x53195a,l.left=0,l.behavior="instant",_0x310be5.messageContainer.scrollTo(l),_0x53195a=0,setTimeout(function(){_0x41acae=!1},500)}else _0x41acae=!1}function _0x177177(e,t){let n={};n.nrYsV=function(e,t){return e<t},n.ONZLd=function(e,t){return e-t},n.zwXwY=function(e,t){return e*t};let i=n,a=new Date,s=new Date(e),o=new Date(t);if(o<s)return _0x5bcd87.f8;if(a>o)return _0x5bcd87.f7;let r=i.nrYsV(a,s)?s:o,l=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),d=l(r),c=l(a),$=Math.floor(i.ONZLd(d,c)/(24*i.zwXwY(6e4,60))),h;switch($){case -1:h=_0x5bcd87.f4;break;case 0:h=_0x5bcd87.f2;break;case 1:h=_0x5bcd87.f3;break;default:h=$>0?_0x5bcd87.f6.replace("$0",$):_0x5bcd87.f5.replace("$0",Math.abs($))}return h}let _0x2ae233='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x11a30b(e){let t={Uxfnq:function(e,t){return e!==t},yoXwl:"added",AuPWl:function(e,t){return e===t},RYcMT:"hidden",uUxDg:function(e,t,n,i){return e(t,n,i)},DBQeq:"removed",aemQH:function(e,t){return e(t)},SeAIB:"modified",gOAvT:"{sid}",wOuyB:function(e,t,n){return e(t,n)}};if(_0x1a7ef6[e]){console.log("Listener for "+e+" already exists.");return}let n=g(u(_0x2d327b,"chats",e,"messages"),n=>{n.docChanges().forEach(n=>{if(t.Uxfnq(_0xf92e86,e))return;let i=n.doc.data();switch(n.type){case t.yoXwl:t.AuPWl(_0x2ab9f1.indexOf(n.doc.id),-1)&&!n.doc.metadata.fromCache&&(t.AuPWl(document.visibilityState,t.RYcMT)&&(_0x473ba3++,document.title="("+_0x473ba3+") "+_0x5d4f06),console.log(_0x2ab9f1.indexOf(n.doc.id)),_0x2ab9f1.push(n.doc.id),i.sender===_0x1b31e6?t.uUxDg(_0x382cf9,i,n.doc.id,"3"):_0x23685c(i,n.doc.id,"3"));break;case t.DBQeq:let a=t.aemQH(_0x70906b,_0x2ae233.replace("{sid}",n.doc.id));try{a.classList.add("xl4gtQk5f"),setTimeout(function(){a.remove()},3e3)}catch(s){console.log(s)}break;case t.SeAIB:try{let o=_0x70906b(_0x2ae233.replace(t.gOAvT,n.doc.id)).querySelector(".xMyW2iRSH");o?(o.clear(),t.wOuyB(_0x5eabd2,o,i.content)):console.log("找不到匹配的訊息容器")}catch(r){console.log("修改訊息時發生未知錯誤",r)}}})},e=>{console.error("An unknown error occurred",e)});_0x1a7ef6[e]=n}function _0x47bb52(){let e={ToMvL:"xA7y7OLtP",oYmvS:"disabled",UGPIj:"2|4|3|0|1",vSyhH:"User is logged in: ",UFqNX:"auth/invalid-login-credentials",hDwjW:"b14",lbaaQ:"show",LLjgI:function(e,t,n,i){return e(t,n,i)},phYHv:function(e,t){return e(t)},WNFIY:function(e,t,n){return e(t,n)},TkdgI:"5|0|1|2|3|4",LyTHG:"xrYn5ZY3v",QnXhp:"xRRuA0Z3S",CJwUx:"b10",pqoLP:"div",RkLBp:function(e,t){return e(t)},UkbMk:"b27",oTVao:function(e,t){return e(t)},QAjVY:"xWDUelLWA",UkPGy:"xwxpzc3QF",AkFkl:"off",AlmUt:"text",zJghZ:"10px",hkFDM:"label",WaFLV:"xF37V7xd0",QSxCe:"b25",rOQgM:"password",wyyjS:"xw0IanPrC",EqVEZ:"x40AApYkW",Necoq:function(e,t){return e(t)},FFJsD:"b13"},t=_0x1822a9(e.LyTHG);t.innerText=_0x5bcd87.b8;let a=e.phYHv(_0x1822a9,"x4V8Jejrz");a.innerText=_0x5bcd87.b9;let o=_0x1822a9(e.QnXhp),r=document.createElement("div");r.id="x7BYgkdiJ",r.focusable(!0);let l='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0x5bcd87.b11,d='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0x5bcd87[e.CJwUx]+"</span>\n						</div>";r.innerHTML=l;let c=document.createElement(e.pqoLP);c.focusable(!0),c.id="xBnuWNG6V",c.className="actionbtn xYIKBnbHS",r.className="actionbtn xYIKBnbHS",c.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0x5bcd87.b12,o.appendChild(r),o.appendChild(c);let $=new _0xf24f2d;$.Content.classList.add("bt"),$.Root.classList.add("xCmJYJQtp"),$.Content.classList.add("xySmLVr4a"),$.Content.appendChild(t),$.Content.appendChild(a),$.Content.appendChild(o);let h=e.phYHv(_0x1822a9,"xrYn5ZY3v");h.classList.add("lf"),h.classList.add("gc");let u=_0x1822a9("xZyuwxZPZ");u.focusable(!0),u.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',h.appendChild(u);let x=e.RkLBp(_0x1822a9,"x6Y89FynP");x.innerText=_0x5bcd87[e.UkbMk],h.appendChild(x);let p=e.oTVao(_0x1822a9,e.QAjVY);p.classList.add(e.UkPGy),$.Content.appendChild(h),$.Content.appendChild(p);let b=document.createElement(e.pqoLP);p.appendChild(b),b.classList.add("xZdL9CF5M");let _=document.createElement(e.pqoLP);_.classList.add("xGGKUZ7B3"),b.appendChild(_);let f=document.createElement("label");f.classList.add("xF37V7xd0"),f.innerText=_0x5bcd87.b24,_.appendChild(f);let v=document.createElement("input");v.classList.add("xYvZ9WF6d"),v.autocomplete=e.AkFkl,v.type=e.AlmUt,v.disabled=!0,v.spellcheck=!1,_.appendChild(v);let m=document.createElement("div");m.classList.add("xGGKUZ7B3"),m.style.marginTop=e.zJghZ,m.style.marginBottom="5px",b.appendChild(m);let g=document.createElement(e.hkFDM);g.classList.add(e.WaFLV),g.innerText=_0x5bcd87[e.QSxCe],m.appendChild(g);let w=document.createElement("input");w.classList.add("xYvZ9WF6d"),w.type=e.rOQgM,w.disabled=!0,w.autocomplete=e.AkFkl,m.appendChild(w);let C=document.createElement("div");C.classList.add(e.wyyjS),b.appendChild(C);let y=document.createElement(e.pqoLP);y.innerText=_0x5bcd87.b26,y.classList.add(e.oYmvS),y.classList.add(e.EqVEZ),b.appendChild(y);let L=e.Necoq(_0x1822a9,"xPT7rhLdL");L.focusable(!0),L.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M9 14l-4 -4l4 -4" /><path d="M5 10h11a4 4 0 1 1 0 8h-1" /></svg>'+_0x5bcd87[e.FFJsD],L.bindWithCooldown(function(){let t="1|3|2|4|0".split("|"),n=0;for(;;){switch(t[n++]){case"0":w.disabled=!0;continue;case"1":$.Content.classList.remove(e.ToMvL);continue;case"2":y.focusable(!1);continue;case"3":y.classList.add(e.oYmvS);continue;case"4":v.disabled=!0;continue}break}}),b.appendChild(L),u.bindWithCooldown(function(){let t=e.UGPIj.split("|"),n=0;for(;;){switch(t[n++]){case"0":v.disabled=!0;continue;case"1":w.disabled=!0;continue;case"2":$.Content.classList.remove("xA7y7OLtP");continue;case"3":y.focusable(!1);continue;case"4":y.classList.add("disabled");continue}break}});let k=!0,E=function(){let t={GUILi:e.vSyhH,WPMoc:"show",WPaYp:e.UFqNX,jESza:e.hDwjW,FuZGz:"auth/invalid-email",NiGfl:"auth/network-request-failed",VFyPX:"b17",KtJYY:"b26",aYcpS:e.oYmvS,hFkys:function(e,t,n){return e(t,n)}};k&&(k=!1,u.classList.add("disabled"),u.focusable(!1),C.classList.remove(e.lbaaQ),y.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',v.disabled=!0,w.disabled=!0,y.classList.add(e.oYmvS),y.focusable(!1),y.blur(),L.classList.add(e.oYmvS),L.focusable(!1),e.LLjgI(s,_0x5dee87,v.value,w.value).then(e=>{try{$.close(),α.close()}catch(n){}let i=e.user;console.log(t.GUILi,i)}).catch(e=>{t.hFkys(setTimeout,function(){let n=e.code;switch(C.classList.add(t.WPMoc),n){case t.WPaYp:C.innerText=_0x5bcd87[t.jESza];break;case t.FuZGz:C.innerText=_0x5bcd87.b15;break;case t.NiGfl:C.innerText=_0x5bcd87.b16;break;default:C.innerText=_0x5bcd87[t.VFyPX]}y.innerHTML=_0x5bcd87[t.KtJYY],y.classList.remove("disabled"),y.focusable(!0),L.classList.remove("disabled"),L.focusable(!0),v.disabled=!1,w.disabled=!1,u.classList.remove(t.aYcpS),u.focusable(!0),k=!0},3e3)}))};w.onkeydown=function(e){13===e.keyCode&&E()},y.bindWithCooldown(E),r.bindWithCooldown(function(){let t={SqoOE:function(t,n){return e.phYHv(t,n)},TBIRN:e.oYmvS};r.classList.add(e.oYmvS),c.classList.add("disabled"),r.innerHTML=d,r.focusable(!1),c.focusable(!1),e.WNFIY(n,_0x5dee87,_0x279814).then(e=>{i.credentialFromResult(e).accessToken,_0x1b31e6=e.user.uid,t.SqoOE(_0x482071,_0x1b31e6).then(e=>{try{_0x4cbe16(e.avatarUrl,e.name,e.qid||e.id)}catch(t){console.error("無法設置")}$.close()}).catch(e=>{console.error(e)})}).catch(e=>{"auth/popup-closed-by-user"===e.code&&(r.classList.remove(t.TBIRN),c.classList.remove("disabled"),r.focusable(!0),c.focusable(!0),r.innerHTML=l)})}),c.bindWithCooldown(function(){let t=e.TkdgI.split("|"),n=0;for(;;){switch(t[n++]){case"0":v.disabled=!1;continue;case"1":w.disabled=!1;continue;case"2":y.focusable(!0);continue;case"3":y.classList.remove("disabled");continue;case"4":v.focus();continue;case"5":$.Content.classList.add(e.ToMvL);continue}break}})}function _0x243919(e="",t="",...n){let i={XcGrw:function(e,t){return e!==t},GEbWo:function(e,t){return e!==t},ooMgq:"disabled",jPuAl:function(e,t){return e(t)},kClyF:"xMCbxIsn5",RDamY:"xrYn5ZY3v",SjPVG:"x6Y89FynP",zAILb:"xvb5soWNa",PLSzM:"xWDUelLWA",HLegZ:"input",ZNqfk:"true",izKSL:"_Jy2eOVG7",eNXaY:function(e,t){return e(t)},TVsxl:"label",qEmoM:"_rJvAjH9O",Qucqa:"xYvZ9WF6d",EXlWz:"text",XyMUu:function(e,t){return e(t)},oWQAV:"_fM6Qcf9q",KgYPv:"off"},a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0xf24f2d(a);s.Root.classList.add(i.kClyF),s.Content.style.padding="0";let o=_0x1822a9(i.RDamY);o.classList.add("lf");let r=_0x1822a9(i.SjPVG);r.innerText=_0x5bcd87.b5,o.appendChild(r);let l=_0x1822a9(i.zAILb);l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',s.close=s.close.bind(s),l.bindWithCooldown(s.close),o.appendChild(l),s.Content.appendChild(o);let d=_0x1822a9(i.PLSzM);s.Content.appendChild(d);let c=document.createElement(i.HLegZ);c.setAttribute("hidden",i.ZNqfk),c.id=i.izKSL,c.type="file";let $=i.eNXaY(_0x1822a9,"xGGKUZ7B3"),h=document.createElement(i.TVsxl);h.innerText=_0x5bcd87.b4,h.classList.add("xF37V7xd0"),h.htmlFor=i.qEmoM;let u=document.createElement("input");u.value=e,u.classList.add(i.Qucqa),u.id=i.qEmoM,u.type=i.EXlWz,u.maxLength="20",u.autocomplete="off",u.spellcheck=!1,d.appendChild($),$.appendChild(h),$.appendChild(u);let b=i.XyMUu(_0x1822a9,"xGGKUZ7B3"),f=document.createElement("label");f.innerText=_0x5bcd87.b3,f.classList.add("xF37V7xd0"),f.htmlFor=i.oWQAV;let v=document.createElement("textarea");v.maxLength="80",v.value=t,v.classList.add("xGuwEx6qN"),v.id="_fM6Qcf9q",v.rows="3",v.maxLength="50",v.autocomplete=i.KgYPv,v.spellcheck=!1,d.appendChild(b),b.appendChild(f),b.appendChild(v);let m=_0x1822a9("x40AApYkW");function g(){i.XcGrw(v.value,t)||i.GEbWo(u.value,e)?(m.classList.remove("disabled"),m.focusable(!0)):(m.classList.add(i.ooMgq),m.focusable(!1))}async function w(){m.classList.add("disabled"),m.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',m.focusable(!1),u.disabled=!0,v.disabled=!0,c.disabled=!0;let e=u.value,t=v.value.trim();if((await _(p(_0x2d327b,"users",_0x1b31e6))).exists()){let n={};n.name=e,n.signature=t,await _0x209a3e(_0x1b31e6,n)}else await x(p(_0x2d327b,"users",_0x1b31e6),{name:e,signature:t,id:_0x1b31e6,joined:[],deviceInfo:""}),_0x310be5.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x5bcd87.d7+"</div>";_0x310be5.nameLabel.innerText=e,_0x525779.state&&(_0x525779._n=e,_0x525779._a.innerText=e,_0x525779._b.innerHTML=i.jPuAl(_0x53e603,_0x520892(t))||_0x5bcd87.d10,_0x525779._m.forEach(t=>{t.userId===_0x1b31e6&&(t.dom.textContent="@"+e)})),s.close()}m.innerText=_0x5bcd87.b7,m.classList.add(i.ooMgq),m.style.marginTop="0",d.appendChild(m),v.oninput=g,u.oninput=g,m.bindWithCooldown(w),u.focus()}async function _0x2b423e(e,t){let n={};n.JjeNb="messages";let i=await v(u(_0x2d327b,"chats",e.id,n.JjeNb));if(!_0x436d7e.some(t=>t.id===e.id)){let a={};a.name=e.name,a.id=e.id,a.type=e.type,a.tag=e.tag,a.description=e.description,a.size=i.size,a.members=e.members,a.focus=t,a.identity=e.identity,_0x2edae7(a)}}async function _0x10d3a8(){let e={qYwBV:"Error fetching document for ID:",EPeiq:function(e,t,n,i){return e(t,n,i)},bukdb:"users",ILRxq:function(e,t){return e>t}};_0x310be5.primaryArea.classList.add("xuGldtFot");let t=(await _(e.EPeiq(p,_0x2d327b,e.bukdb,_0x1b31e6))).data(),n=new URLSearchParams(window.location.search).get("r"),i=t.joined||[];e.ILRxq(i.length,0)?t.joined.map(async t=>{try{_0x5987c1(t).then(async e=>{let i={};i.id=t,i.name=e.name,i.type=e.type,i.tag=e.tag,i.plugins=e.plugins,i.members=e.members,i.description=e.description,i.identity=e.identity,_0x2b423e(i,n===t)})}catch(i){console.error(e.qYwBV,t,i)}}):_0x310be5.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x5bcd87.d13+"</div>"}a(_0x5dee87,e=>{let t={DgQMP:function(e){return e()},NPzou:function(e,t){return e(t)},aerfI:function(e){return e()}};e?(_0x1b31e6=e.uid,t.NPzou(_0x482071,_0x1b31e6).then(e=>{if(!e){_0x243919();return}_0x4cbe16(e.avatarUrl,e.name,e.qid||e.id)}).catch(e=>{console.error(e),t.DgQMP(_0x4cbe16)}),t.aerfI(_0xd60039)):(_0x1b31e6="",_0x47bb52())});let _0x1029a0={};_0x1029a0.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x1029a0.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x1029a0.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x1029a0.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x1029a0.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x2ec4e1=_0x1029a0;function _0x492ea9(){let e={};e.hPwOE=function(e,t){return e!==t},e.sRRzx=function(e,t){return e<t};let t=e,n=_0x310be5.messageContainer.scrollTop;""!==_0x1b31e6&&t.hPwOE(_0xf92e86,"")&&t.sRRzx(n,120)&&!_0x41acae&&(_0x13e9c4=!0,_0x180f23(_0xf92e86))}function _0x5ee00c(){let e={};e.iKUwf="inert",e.sPKnw="x8VAGH6N2",e.iywou="Structure",e.tyhfr="contenteditable",e.hXwBI="true";let t=e;_0x5dbb6f=!1,_0x310be5.sidebar.removeAttribute(t.iKUwf),_0x4cd245=_0x310be5.sidebar,_0x310be5.backButton.classList.add("disabled"),_0x310be5._mb_att_btn.classList.add("disabled");let n=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x310be5.main.classList.remove(t.sPKnw),_0x41acae=!0,_0x310be5.messageContainer.clear(),_0x41acae=!1,_0xf92e86="",_0x5d4f06=t.iywou,document.title=_0x5d4f06,_0x310be5.messageInput.clear(),_0x310be5.messageInput.setAttribute(t.tyhfr,t.hXwBI),_0x310be5.messageInput.focusable(!1),_0x310be5.sendButton.classList.add("disabled"),_0x310be5.sendButton.focusable(!1)}_0x310be5.fileInput.onchange=async function(e){let t={lPQNG:"2|1|4|3|5|0",GbHaV:"b45",vhryG:function(e,t){return e(t)},ZHlvw:"{u}",HMgsf:function(e,t){return e(t)},DPjaT:function(e,t,n,i,a){return e(t,n,i,a)},CzHLZ:"chats",FEfNk:function(e,t,n,i){return e(t,n,i)},RKZVr:"b46",JreQp:"xOjXmYkxE",XvGNh:function(e,t){return e(t)},gOQRz:"x6Y89FynP",Siuhx:"b49",wzbJx:function(e,t){return e(t)},ASnyS:"xty9qDHrl",SPYTg:"video/",VTRWM:"< video {u}",fIhbp:"< audio {u}",MOdhw:function(e,t){return e!==t},KINyh:"application/x-zip-compressed",hbVYI:"application/zip",lrCop:"< other {u}",dvqdT:function(e,t){return e===t},Rfumx:"div",Jilfz:'<div class="xTGGn7ABj">',XKFWG:function(e,t){return e(t)},CKxXK:"xsoLox5sj",KZDzq:"生成文件名時發生未知錯誤",rOCHN:function(e,t,n){return e(t,n)},mVLYf:function(e,t,n){return e(t,n)}},n=e.target.files[0];if(!n)return;let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0xf24f2d(i);a.Overlay.classList.add(t.JreQp),a.Lock=!0;let s=t.HMgsf(_0x1822a9,"xrYn5ZY3v");s.classList.add("lf");let o=t.HMgsf(_0x1822a9,"xWDUelLWA");o.classList.add("xIOucKmLX"),a.Content.appendChild(s),a.Content.appendChild(o),a.Content.classList.add("gt");let r=t.XvGNh(_0x1822a9,t.gOQRz),$=_0x1822a9("xujSSErs5");s.appendChild(r),o.appendChild($);let h=t.HMgsf(_0x1822a9,"xvb5soWNa");if(h.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',h.focusable(!0),s.appendChild(h),n.size>52428800){r.innerText=_0x5bcd87.b48,$.innerText=_0x5bcd87[t.Siuhx].replace("$0",t.wzbJx(_0x31b17e,n.size)),h.onclick=function(){_0x310be5.fileInput.value="",a.close.bind(a)()},a.Lock=!1;return}r.innerText=_0x5bcd87.b42,$.innerText=_0x5bcd87.b43;let b=document.createElement("div");b.classList.add("xCECpHDwZ"),b.focusable(!0),o.appendChild(b);let _=document.createElement("div");_.classList.add(t.ASnyS),b.appendChild(_);let f=document.createElement("div");f.classList.add("xIEj1ZAnA");let v=t.HMgsf(String,n.type),m="",g="";v.startsWith("image/")?(m=_0x2ec4e1.image,g="< image {u}"):v.startsWith(t.SPYTg)?(m=_0x2ec4e1.video,g=t.VTRWM):v.startsWith("audio/")?(m=_0x2ec4e1.audio,g=t.fIhbp):t.MOdhw([t.KINyh,t.hbVYI,"application/x-rar-compressed","application/vnd.rar","application/x-compressed"].indexOf(v),-1)?(m=_0x2ec4e1.archive,g=t.lrCop):t.dvqdT(v,"application/pdf")?(m=_0x2ec4e1.others,g="< pdf {u}"):(m=_0x2ec4e1.others,g=t.lrCop),f.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+m+"</svg>",_.appendChild(f);let w=document.createElement(t.Rfumx);w.classList.add("xxs4n9nhX"),_.appendChild(w),w.innerHTML=t.Jilfz.concat(n.name).concat('</div><div class="xtyaQiCLO">'+t.XKFWG(_0x31b17e,n.size)+"</div>"),_.appendChild(w);let C=document.createElement("div");C.classList.add(t.CKxXK),_.appendChild(C);let y=document.createElement(t.Rfumx);y.classList.add("xk0osKWCK"),C.appendChild(y);let L="";try{L=t.XKFWG(_0x4d16a7,12)+"-"+n.name}catch(k){console.log(t.KZDzq,k)}let E=t.rOCHN(l,_0x59a4b0,"uploads/"+_0xf92e86+"/attachment/"+L),T=t.mVLYf(d,E,n);h.onclick=function(){let e=t.lPQNG.split("|"),n=0;for(;;){switch(e[n++]){case"0":a.close();continue;case"1":$.innerText=_0x5bcd87[t.GbHaV];continue;case"2":r.innerText=_0x5bcd87.b44;continue;case"3":T.cancel();continue;case"4":a.Lock=!1;continue;case"5":_0x310be5.fileInput.value="";continue}break}},T.on("state_changed",e=>{let t=e.bytesTransferred/e.totalBytes*100;y.style.width=t+"%"},e=>{console.log(e)},async()=>{let e=await t.vhryG(c,T.snapshot.ref),n="";n=g.replace(t.ZHlvw,e);let i=t.HMgsf(p,t.DPjaT(u,_0x2d327b,t.CzHLZ,_0xf92e86,"messages"));_0x2ab9f1.push(i.id),await x(i,{sender:_0x1b31e6,content:n,timestamp:Date.now()});let s={};s.content=n,t.FEfNk(_0x382cf9,s,i.id,"3"),_0x310be5.fileInput.value="",b.remove(),r.innerText=_0x5bcd87[t.RKZVr],$.innerText=_0x5bcd87.b47,h.onclick=()=>{},a.Lock=!1,h.bindWithCooldown(function(){a.close()})})},document.addEventListener("visibilitychange",function(){let e={};e.acFDx="visible",document.visibilityState===e.acFDx&&(console.log("已重新聚焦 清除未讀訊息數"),document.title=_0x5d4f06,_0x473ba3=0)}),_0x310be5.searchInput.oninput=function(){let e={};e.KsNaT="hide",e.IuTQP=function(e,t){return e!==t};let t=e,n=_0x310be5.searchInput.value.toLowerCase().trim();t.IuTQP(n,"")?_0x436d7e.forEach(e=>{e.name.toLowerCase().includes(n)?e.dom.classList.remove(t.KsNaT):e.dom.classList.add("hide")}):_0x436d7e.forEach(e=>{e.dom.classList.remove(t.KsNaT)})},_0x310be5.messageContainer.addEventListener("scroll",function(){({YVeIW:function(e){return e()}}).YVeIW(_0x492ea9)}),_0x310be5.messageInput.oninput=function(){let e={};e.ydCZE=function(e,t){return e==t},e.bTtPO=function(e,t){return e===t},e.lIGLG="DIV",e.nxNUr="disabled";let t=e,n=_0x310be5.messageInput.childNodes;t.ydCZE(n.length,1)&&(t.bTtPO(n[0].nodeName,"BR")||n[0].nodeName===t.lIGLG)&&_0x310be5.messageInput.clear(),""!==_0x310be5.messageInput.innerText.trim()?(_0x310be5.sendButton.classList.remove(t.nxNUr),_0x310be5.sendButton.focusable(!0)):(_0x310be5.sendButton.classList.add("disabled"),_0x310be5.sendButton.focusable(!1))},_0x310be5.messageInput.onfocus=function(){let e={};e.ODwOf="xYIbDcl9T",document.body.classList.add(e.ODwOf)},_0x310be5.messageInput.onblur=function(){let e={};e.brnId="xYIbDcl9T",document.body.classList.remove(e.brnId)},_0x310be5.messageInput.onpaste=function(e){let t={ooUkr:"insertHTML",QygRi:function(e,t){return e(t)},sxkTi:"text/plain"};e.preventDefault(),document.execCommand(t.ooUkr,!0,t.QygRi(_0x520892,(e.clipboardData||window.Clipboard).getData(t.sxkTi)))},_0x310be5.messageInput.ondrop=function(e){let t={};t.hNtEb="insertHTML",e.preventDefault();let n=e.dataTransfer.getData("text/plain");e.target.focus(),document.execCommand(t.hNtEb,!0,_0x520892(n))},_0x310be5.messageInput.oncopy=function(e){let t={};t.kpNBW="text/plain",e.preventDefault();var n=window.getSelection().toString();e.clipboardData.setData(t.kpNBW,n)},_0x310be5.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x580637||e.shiftKey||(e.preventDefault(),({Vhdgi:function(e){return e()}}).Vhdgi(_0x2e1171));break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x310be5.sendButton.bindWithCooldown(_0x2e1171),document.onkeydown=function(e){let t={};t.tlUzv=function(e,t){return e!=t},t.XnTPz="INPUT",t.Tpudq="xYvZ9WF6d";let n=t;switch(e.keyCode){case 191:let i=document.activeElement;i!=_0x310be5.messageInput&&n.tlUzv(i,_0x310be5.searchInput)&&i.tagName.toUpperCase()!=n.XnTPz&&!i.classList.contains("xGuwEx6qN")&&!i.classList.contains(n.Tpudq)&&(e.preventDefault(),_0x310be5.messageInput.focus());break;case 75:e.ctrlKey&&_0x8947b7&&(e.preventDefault(),_0x310be5.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x310be5.backButton.bindWithCooldown(function(){({TNCgd:function(e){return e()}}).TNCgd(_0x5ee00c)}),_0x310be5.profileContainer.bindWithCooldown(function(){let e={MroEa:"a14",UZNNF:"disabled",VLhEk:"a17",vZDtr:function(e,t,n){return e(t,n)},vExQP:"jid",EdMZw:function(e,t){return e===t},sgZIo:"normal",QDyGy:function(e,t){return e!==t},mmRga:function(e){return e()},EvAEs:"users",LyiVZ:"smooth",hycHM:function(e,t,n){return e(t,n)},hTwuF:"xGGKUZ7B3",IyPHg:"xlEirFRi3",erkQb:"input",GjADn:"x4qSHIItt",xnZaa:"off",SNAyR:function(e,t){return e(t)},XKJjG:"x40AApYkW",SXFnw:"top",xSYNL:"xLhiIL2Wm",KHYRR:"xrQdSHI2A",SCvFR:"a15",FobyW:function(e,t){return e(t)}};_0x310be5.sidebar.classList.add("x9EnCPd4S");let t={};t.trigger=_0x310be5.profileContainer,t.placement=e.SXFnw;let n=new _0x33dad2(t);n.Content.classList.add(e.xSYNL);let i=_0x1822a9(e.KHYRR);i.focusable(!0),i.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M16 19h6" /><path d="M19 16v6" /><path d="M6 21v-2a4 4 0 0 1 4 -4h4" /></svg>'+_0x5bcd87.a11,i.bindWithCooldown(function(){let t={FwyRI:function(t,n,i){return e.vZDtr(t,n,i)},yfvNp:function(e,t,n,i){return e(t,n,i)},xJgRe:e.EvAEs,BpeRO:e.LyiVZ,mggzS:function(e,t){return e!==t},FGWJl:"disabled"};n.close();let i=e.hycHM(_0x1927d8,_0x5bcd87.a11,!0);i.Root.classList.add("xUhQpBm2v");let a=_0x1822a9(e.hTwuF);a.classList.add(e.IyPHg);let s="_"+_0x4d16a7(12),o=document.createElement("label");o.textContent=_0x5bcd87.a13,o.htmlFor=s,o.classList.add("xF37V7xd0");let r=document.createElement(e.erkQb);r.classList.add(e.GjADn),r.id=s,r.autocomplete=e.xnZaa,r.autocorrect="off",r.maxLength="8",r.classList.add("xYvZ9WF6d"),r.classList.add("xYvZ9WF6d"),a.appendChild(o),a.appendChild(r);let l=e.SNAyR(_0x1822a9,"xw0IanPrC"),d=_0x1822a9(e.XKJjG);d.classList.add(e.UZNNF),d.textContent=_0x5bcd87[e.MroEa];let c=e.UZNNF;async function $(){let n={};n.ViAuU=e.MroEa,n.lWKsf=e.UZNNF,n.betHc=e.VLhEk,n.ogrVD="show";let a=n;i.root.Lock=!0,i.closebtn.classList.add(e.UZNNF),i.closebtn.focusable(!1),l.classList.remove("show"),d.classList.add(e.UZNNF),r.setAttribute("disabled",!0),d.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let s=await v(e.vZDtr(w,e.vZDtr(u,_0x2d327b,"chats"),f(e.vExQP,"==",r.value.trim())));s.empty?e.vZDtr(setTimeout,function(){let e="0|2|5|6|3|7|4|1".split("|"),t=0;for(;;){switch(e[t++]){case"0":i.root.Lock=!1;continue;case"1":d.innerHTML=_0x5bcd87[a.ViAuU];continue;case"2":i.closebtn.classList.remove(a.lWKsf);continue;case"3":l.innerText=_0x5bcd87[a.betHc];continue;case"4":d.classList.remove("disabled");continue;case"5":i.closebtn.focusable(!0);continue;case"6":l.classList.add(a.ogrVD);continue;case"7":r.removeAttribute(a.lWKsf);continue}break}},3e3):(i.root.Lock=!1,i.root.close());let o=[];s.forEach(e=>{let t={};t.id=e.id,o.push(t)}),o.forEach(async e=>{let n=_0x436d7e.find(t=>t.id===e.id);if(n){if(1===o.length){let i={};i.behavior=t.BpeRO,i.block="center",i.inline="nearest",n.dom.scrollIntoView(i),n.launch()}}else await t.FwyRI(k,t.yfvNp(p,_0x2d327b,t.xJgRe,_0x1b31e6),{joined:y(e.id)}),await k(t.yfvNp(p,_0x2d327b,"chats",e.id),{members:y(_0x1b31e6)}),sessionStorage.removeItem("rpf_"+e.id),_0x5987c1(e.id).then(async t=>{let n={};n.id=e.id,n.name=t.name,n.type=t.type,n.tag=t.tag,n.plugins=t.plugins,n.members=t.members,n.description=t.description,n.identity=t.identity,_0x2b423e(n,!0),console.log("		",e.id)})})}r.oninput=function(){let e;8===(e=r.value.trim()).length&&t.mggzS(e,"")?(d.classList.remove(t.FGWJl),d.focusable(!0),c="normal"):(d.classList.add("disabled"),d.focusable(!1),c=t.FGWJl)},r.onkeydown=function(t){e.EdMZw(t.keyCode,13)&&c===e.sgZIo&&$()},d.bindWithCooldown(async function(){e.QDyGy(c,e.sgZIo)||e.mmRga($)}),i.body.appendChild(a),i.body.appendChild(l),i.body.appendChild(d),r.focus()});let a=e.SNAyR(_0x1822a9,"xrQdSHI2A");a.focusable(!0),a.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0x5bcd87[e.SCvFR],a.bindWithCooldown(function(){n.close(),_0x482071(_0x1b31e6).then(e=>{let t={};t.data=e,t.type=_0x580637?"mobile":"desktop",_0x5cd5ee(_0x310be5.sidebar,t)}).catch(e=>{console.error(e)})});let s=e.FobyW(_0x1822a9,"xcoXgMpFW"),r=_0x1822a9(e.KHYRR);r.focusable(!0),r.bindWithCooldown(function(){let t={PlMYU:function(e,t){return e(t)},acdAX:"cvs",sTyuJ:"xmKH3ad5R",SjIsN:e.UZNNF};n.close(),e.SNAyR(o,_0x5dee87).then(()=>{_0x1b31e6="",_0xf92e86="",_0x436d7e.length=0,_0x2ab9f1.length=0,_0x8947b7=!1;let e=window.location.href.replace(/\?.*$/,"");for(let n in window.history.replaceState(null,"",e),_0x310be5.primaryArea.clear(),_0x310be5.messageContainer.clear(),_0x1a7ef6)_0x1a7ef6[n](),console.log("Listener for "+n+" removed.");Object.keys(_0x1a7ef6).forEach(e=>delete _0x1a7ef6[e]),_0x574d80&&t.PlMYU(clearInterval,_0x574d80),localStorage.setItem(t.acdAX,""),_0x36b91f&&(_0x36b91f.remove(),_0x36b91f=null),document.body.classList.remove(t.sTyuJ),_0x310be5.profileContainer.classList.remove("disabled"),_0x310be5.profileContainer.focusable(!0),_0x310be5.markButton.classList.add("disabled"),_0x310be5.brushButton.classList.add(t.SjIsN),_0x310be5.attachButton.classList.add("disabled"),_0x310be5.stickerButton.classList.add("disabled"),_0x16258d=!1,_0x310be5.avatarWrapper.classList.add("xJd2GT7MI"),_0x310be5.avatarLabel.src="",_0x310be5.nameLabel.innerText="",_0x310be5.signatureLabel.innerText=""}).catch(e=>{console.error("Sign out error",e)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0x5bcd87.a16,_0x27d4ab([i,a,r]),n.Content.appendChild(i),n.Content.appendChild(a),n.Content.appendChild(s),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x310be5.sidebar.classList.remove("x9EnCPd4S")})});class _0x1d8067{constructor({parent:e,title:t}){let n={loVly:"xCr0RyqCg",AQija:"xa2pPtuLq",buCJD:function(e,t){return e(t)},VTBUl:"xB4hVI3El",kNRqF:"xopQXJrX5",FxlKd:"xZz4zYjIm",rrvHA:"xMyenRl7K",enhqy:function(e,t,n){return e(t,n)}},i=e,a=n.buCJD(_0x1822a9,n.VTBUl),s=_0x1822a9(n.kNRqF),o=_0x1822a9(n.FxlKd),r=_0x1822a9(n.rrvHA),l=n.buCJD(_0x1822a9,"x8JU9DbQZ"),d=_0x1822a9("xvwhg72ii");this._parent=i,this.Root=a,this.Content=o,this.Heading=s,this._backButton=l,this._deactivated_elements=document.querySelectorAll("body > *:not(.xEHCrF5Oe, script, [hidden])"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert","true")}),s.appendChild(r),r.appendChild(l),r.appendChild(d),d.textContent=t,l.focusable(!0),l.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',l.bindWithCooldown(this.close.bind(this)),a.appendChild(s),a.appendChild(o),document.body.appendChild(a),n.enhqy(setTimeout,function(){_0x4cd245=a,i.classList.add(n.loVly),a.classList.add(n.AQija)},50)}onClose(e){this.onCloseCallback=e}close(){let e={};e.qxcBE="inert",e.GqeCV="xa2pPtuLq",e.keHST="xCr0RyqCg";let t=e;this.onCloseCallback&&this.onCloseCallback(),this._deactivated_elements.forEach(e=>{e.removeAttribute(t.qxcBE)}),_0x4cd245=this._parent,this.Root.classList.remove(t.GqeCV),this._parent.classList.remove(t.keHST),this._parent.classList.remove("xjv5U11Kz"),this.Root.classList.remove("xjv5U11Kz"),setTimeout(()=>{this.Root.remove()},100)}}async function _0x5cd5ee(e,t){let n={MVOQn:function(e,t,n,i){return e(t,n,i)},WhjwC:"xORN7XV1j",DoQXN:function(e,t,n,i){return e(t,n,i)},kFYZe:"xkyfCNAI0",hGMVD:function(e,t){return e(t)},bfGhU:"x0zSVRG3y",GgfDW:"cache-url",nlQqN:function(e,t){return e===t},PfuGS:"video",UaEoY:"img",YfYxc:function(e,t){return e(t)},jnVGe:function(e,t){return e(t)},Pvrum:"xzCCWGB1D",jPFXp:"xBjZoCxmV",JXhFt:"xodqSvoQM",FHllm:function(e,t){return e(t)},IjYZH:"assets/avatar.png",yNNkH:"lazy",LyVWh:function(e,t){return e(t)},wlXDN:"x2OCp76zA",uACpE:"xokk3UP7N",GEkIU:function(e,t){return e(t)},WbsmD:"x117sdiIx",HQAgD:function(e,t){return e(t)},lsUDX:function(e,t){return e(t)},FEhIj:function(e,t){return e+t},DGHeM:function(e,t){return e+t},ysnHU:function(e,t){return e+t},Bglul:"d11",JqOYH:"xylvbLNlS",LhkHC:"xkRGF6AbD",ZqNXS:"b50",iFfog:function(e,t){return e(t)},GTapO:"b51",DJqPY:"desktop",HOlLA:"xlY0G76Nv",BuIxw:"xjMiLDVEU",dDVGg:function(e,t){return e(t)},veppL:function(e,t){return e(t)},vxSvN:"xhMhXcFlu",XOFtH:"xIl46kG8k",Ncsik:function(e,t){return e===t},ZQFDK:"xnS3FTqjp",TlRkc:"xwMgtrL2x"};_0x525779.state=!0,_0x525779._n||(_0x525779._n=t.data.name),_0x525779._d||(_0x525779._d=t.data.signature);let i=_0x1822a9(n.kFYZe),a=n.hGMVD(_0x1822a9,n.bfGhU),s,o={};o.action="cache-url",o.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(o);let r={};r.action=n.GgfDW,r.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),n.nlQqN(t.data.bannerType,"video")?((s=document.createElement(n.PfuGS)).loop=!0,s.controlslist="nodownload",s.controls=!1,s.setAttribute("muted",""),s.playsInline=!0,s.preload=!0,s.autoplay=!0,s.src=t.data.bannerUrl):((s=document.createElement(n.UaEoY)).draggable=!1,s.src=t.data.bannerUrl||"assets/default-banner.png",s.loading="lazy"),s.classList.add("x96ofpjeu");let l=_0x1822a9("xkKF4v6d2"),d=n.YfYxc(_0x1822a9,"xwvIJoAtO"),c=document.createElement("img");c.classList.add("xVwXc1fhM");let $=n.jnVGe(_0x1822a9,n.Pvrum),h=_0x1822a9("xCYnK7ffo"),u=n.YfYxc(_0x1822a9,"xqYV0G7JT"),x=_0x1822a9(n.jPFXp),p=_0x1822a9(n.JXhFt),b=n.FHllm(_0x1822a9,"xt0pX9m5p");i.appendChild(a),a.appendChild(s),i.appendChild(l),u.appendChild(d),d.appendChild(c),c.draggable=!1,c.src=t.data.avatarUrl||n.IjYZH,c.loading=n.yNNkH,l.appendChild(h),l.appendChild($),$.appendChild(u);let _=n.LyVWh(_0x1822a9,n.wlXDN);$.appendChild(_);let f=_0x1822a9(n.uACpE);u.appendChild(f);let v=_0x525779._n,m=n.GEkIU(_0x1822a9,n.WbsmD);m.textContent=v,x.appendChild(m);let g=n.GEkIU(_0x1822a9,"xxXoB6W0R"),w=1;t.data.qid?(g.textContent=t.data.qid,g.bindWithCooldown(function(){0===w?(w=1,g.textContent=t.data.qid):(w=0,g.textContent=t.data.id)},0)):g.textContent=t.data.id,f.appendChild(x),f.appendChild(g),_0x525779._a=m,_0x525779._b=p,p.innerHTML=n.HQAgD(_0x53e603,n.GEkIU(_0x520892,_0x525779._d||_0x5bcd87.d10)),l.appendChild(b);let C=n.LyVWh(_0x1822a9,"xylvbLNlS");C.textContent=_0x5bcd87.b1,b.appendChild(C),b.appendChild(p);let y=_0x1822a9("xylvbLNlS");y.id="xY3QPRePs",y.textContent=_0x5bcd87.b2;let L=n.lsUDX(_0x1822a9,"xodqSvoQM"),k=new Date(t.data.deviceInfo.lastUpdate),E=n.FEhIj(n.FEhIj(n.DGHeM(n.ysnHU(k.getFullYear()+"/"+(k.getMonth()+1),"/"),k.getDate())+" "+k.getHours().toString(),":"),k.getMinutes().toString().padStart(2,"0"));L.innerText=(n.FHllm(_0x350d04,t.data.deviceInfo.lastUpdate)||_0x5bcd87[n.Bglul])+" ("+(E||_0x5bcd87.d12)+")",b.appendChild(y),b.appendChild(L);let T=_0x1822a9(n.JqOYH);T.id=n.LhkHC,T.textContent=_0x5bcd87[n.ZqNXS];let A=n.iFfog(_0x1822a9,n.JXhFt);if(A.innerHTML=t.data.dynamics||_0x5bcd87[n.GTapO],b.appendChild(T),b.appendChild(A),t.type===n.DJqPY){let M={};M.closeOnEsc=!0,M.closeOnOverlayClick=!0;let H=new _0xf24f2d(M);H.Content.classList.add(n.HOlLA),H.Content.classList.add("lg"),H.Content.classList.add("gb");let W=_0x1822a9(n.BuIxw),I=n.dDVGg(_0x1822a9,"xUHiz9aGO"),S=n.veppL(_0x1822a9,n.vxSvN),Y=n.veppL(_0x1822a9,n.XOFtH),B=_0x1822a9("xjMYgfYFc");Y.appendChild(B),B.textContent=t.data.name,I.appendChild(Y),I.appendChild(S);let R=_0x1822a9("xHPTUCUar");if(R.bindWithCooldown(H.close.bind(H)),R.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',R.focusable(!0),n.nlQqN(t.data.id,_0x1b31e6)){let D=n.HQAgD(_0x1822a9,"xHPTUCUar");D.bindWithCooldown(function(){n.MVOQn(_0x243919,_0x525779._n,_0x525779._d,H.Root)}),D.innerHTML=_0xc6556b.edit,D.focusable(!0),S.appendChild(D),_0x27d4ab([D,R],"horizontal")}S.appendChild(R),W.appendChild(I),H.Content.appendChild(W),W.appendChild(i);let z=H.Content.getBoundingClientRect();if(H.Content.style.setProperty("--xD672nKxG",z.height+"px"),W.onscroll=function(){W.scrollTop>60?W.classList.add(n.WhjwC):W.classList.remove(n.WhjwC)},t.data.verified){let P=_0x1822a9("xTKxbdpu3");P.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',x.appendChild(P)}H.onClose(function(){_0x525779.state=!1,_0x525779._a=null,_0x525779._b=null,_0x525779._n="",_0x525779._d=""})}else{let O={};O.parent=e,O.title=t.data.name;let F=new _0x1d8067(O);if(n.Ncsik(t.data.id,_0x1b31e6)){let U=_0x1822a9("x8JU9DbQZ");U.classList.add(n.ZQFDK),U.bindWithCooldown(function(){n.DoQXN(_0x243919,_0x525779._n,_0x525779._d,F.Root)}),U.innerHTML=_0xc6556b.edit,U.focusable(!0),F.Heading.appendChild(U)}F.Root.classList.add(n.TlRkc),F.onClose(function(){_0x525779.state=!1,_0x525779._a=null,_0x525779._b=null,_0x525779._n="",_0x525779._d=""}),F.Root.onscroll=function(){F.Root.scrollTop>60?F.Root.classList.add("xORN7XV1j"):F.Root.classList.remove(n.WhjwC)},F._backButton.classList.add(n.ZQFDK),F.Content.appendChild(i)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{let t={};t.DDAKg="installed";let n=t;e.onupdatefound=()=>{let t=e.installing;t.onstatechange=()=>{t.state===n.DDAKg&&window.location.reload()}}}).catch(e=>{let t={};t.GvvTv="註冊失敗：";let n=t;console.log(n.GvvTv,e)});
