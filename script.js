/**release 0.1.9*/
let _0x542221=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x44ec3e=_0x542221(this,function(){let e={};return e.naGqh="(((.+)+)+)+$",_0x44ec3e.toString().search(e.naGqh).toString().constructor(_0x44ec3e).search("(((.+)+)+)+$")});_0x44ec3e();let _0x3ca074=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x25ac9b=_0x3ca074(this,function(){let e={jECDk:function(e,t){return e(t)},etbQk:function(e,t){return e+t},HOrVS:"return (function() ",ciwLt:function(e){return e()},AwDBl:"log",ObkoY:"info",RDIBv:"table",vCheE:"trace"},t=function(){let t;try{t=e.jECDk(Function,e.etbQk(e.HOrVS,'{}.constructor("return this")( )')+");")()}catch(n){t=window}return t},n=e.ciwLt(t),i=n.console=n.console||{},a=[e.AwDBl,"warn",e.ObkoY,"error","exception",e.RDIBv,e.vCheE];for(let s=0;s<a.length;s++){let o=_0x3ca074.constructor.prototype.bind(_0x3ca074),r=a[s],l=i[r]||o;o.__proto__=_0x3ca074.bind(_0x3ca074),o.toString=l.toString.bind(l),i[r]=o}});_0x25ac9b();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as i,onAuthStateChanged as a,signInWithEmailAndPassword as s,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as l,uploadBytesResumable as c,getDownloadURL as d}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as $,enableIndexedDbPersistence as h,collection as u,setDoc as x,doc as f,deleteDoc as b,getDoc as p,where as _,getDocs as m,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as L,arrayRemove as y,updateDoc as k,limit as E}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x8a5c7b{constructor(e,t={}){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.logicalWidth=0,this.logicalHeight=0,this.devicePixelRatio=window.devicePixelRatio||1,this.updateCanvasSize();let n={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=n,this.customDrawer=null,this.lastTapTime=0,this.tapTimeout=null,this.scale=1,this.posX=0,this.posY=0,this.isDragging=!1,this.lastX=0,this.lastY=0,this.img=null,this.needsRedraw=!1,this.animationFrameId=null,this.isTouching=!1,this.initialDistance=0,this.initialScale=1,this.touchStartPosX=0,this.touchStartPosY=0,this.touchStartScale=1,this.initialCenterX=0,this.initialCenterY=0,this.rotation=0,this.velocityX=0,this.velocityY=0,this.lastTime=0,this.isInertialMoving=!1,this.decelerationRate=.85,this.minVelocityThreshold=.1,this.setupEventListeners(),this.requestRedraw()}updateCanvasSize(){let e={};e.VkemW=function(e,t){return e+t},e.oLDBd=function(e,t){return e*t},e.IPrRt=function(e,t){return e*t};let t=e,n=this.canvas.parentElement;this.logicalWidth=n.clientWidth,this.logicalHeight=n.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=t.VkemW(this.logicalWidth,"px"),this.canvas.style.height=t.VkemW(this.logicalHeight,"px"),this.canvas.width=Math.floor(t.oLDBd(this.logicalWidth,this.devicePixelRatio)),this.canvas.height=Math.floor(t.IPrRt(this.logicalHeight,this.devicePixelRatio)),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.kfeoK="mouseup",e.wVVkP="mousedown",e.DotaN="touchend",e.PyUYH="mouseleave",e.CCGPq="wheel";let t=e,n="5|0|16|22|8|2|15|14|11|19|13|21|17|6|10|3|12|1|18|7|20|9|4".split("|"),i=0;for(;;){switch(n[i++]){case"0":this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this);continue;case"1":document.addEventListener(t.kfeoK,this.handleMouseUp);continue;case"2":this.handleMouseDown=this.handleMouseDown.bind(this);continue;case"3":this.canvas.addEventListener(t.wVVkP,this.handleMouseDown);continue;case"4":this.canvas.addEventListener(t.DotaN,this.handleTouchEnd);continue;case"5":this.handleCanvasClick=this.handleCanvasClick.bind(this);continue;case"6":this.handleMouseLeave=this.handleMouseLeave.bind(this);continue;case"7":this.canvas.addEventListener(t.PyUYH,this.handleMouseLeave);continue;case"8":this.handleResize=this.handleResize.bind(this);continue;case"9":this.canvas.addEventListener("touchmove",this.handleTouchMove);continue;case"10":window.addEventListener("resize",this.handleResize);continue;case"11":this.handleWheel=this.handleWheel.bind(this);continue;case"12":document.addEventListener("mousemove",this.handleMouseMove);continue;case"13":this.handleTouchMove=this.handleTouchMove.bind(this);continue;case"14":this.handleMouseUp=this.handleMouseUp.bind(this);continue;case"15":this.handleMouseMove=this.handleMouseMove.bind(this);continue;case"16":this.canvas.addEventListener("click",this.handleCanvasClick);continue;case"17":this.draw=this.draw.bind(this);continue;case"18":this.canvas.addEventListener(t.CCGPq,this.handleWheel);continue;case"19":this.handleTouchStart=this.handleTouchStart.bind(this);continue;case"20":this.canvas.addEventListener("touchstart",this.handleTouchStart);continue;case"21":this.handleTouchEnd=this.handleTouchEnd.bind(this);continue;case"22":this.canvas.addEventListener(t.DotaN,this.handleCanvasTouchEnd);continue}break}}getDisplayWidth(){let e={};e.uXYqt=function(e,t){return e===t},e.yHQTo=function(e,t){return e%t};let t=e;return t.uXYqt(t.yHQTo(this.rotation,180),90)?this.img.height:this.img.width}getDisplayHeight(){let e={};return e.PpMIR=function(e,t){return e%t},90===e.PpMIR(this.rotation,180)?this.img.width:this.img.height}calculateInitialScale(){if(!this.img)return;let e=this.getDisplayWidth(),t=this.getDisplayHeight(),n=this.logicalWidth/e,i=this.logicalHeight/t;this.options.minScale=Math.min(n,i,1),this.scale=this.options.minScale}centerImage(){let e={};e.ASPsi=function(e,t){return e*t},e.mDmhp=function(e,t){return e-t},e.zXKFJ=function(e,t){return e/t};let t=e;if(!this.img)return;let n=t.ASPsi(this.getDisplayWidth(),this.scale),i=t.ASPsi(this.getDisplayHeight(),this.scale);this.posX=t.mDmhp(this.logicalWidth,n)/2,this.posY=t.zXKFJ(t.mDmhp(this.logicalHeight,i),2),this.enforceBounds()}setCustomDrawer(e){let t={};t.GjdEI=function(e,t){return e===t},t.tqYug="function";let n=t;n.GjdEI(typeof e,n.tqYug)?this.customDrawer=e:console.error("setCustomDrawer 期望接收一个函数")}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.Pqnom=function(e,t){return e*t},e.JZrIB=function(e,t){return e/t},e.pNDmL=function(e,t){return e/t},e.cuECM=function(e,t){return e*t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=t.Pqnom(this.getDisplayWidth(),this.scale),i=this.getDisplayHeight()*this.scale;this.ctx.translate(this.posX+t.JZrIB(n,2),this.posY+t.JZrIB(i,2)),this.ctx.rotate(t.pNDmL(t.cuECM(this.rotation,Math.PI),180)),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,-this.img.width/2,-this.img.height/2),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){this.rotation=(this.rotation+90)%360,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.RBfkN=function(e,t){return e*t},e.MSfgh=function(e,t){return e*t},e.ryoYQ=function(e,t){return e>t},e.kwwBK=function(e,t){return e-t},e.CkMoo=function(e,t){return e-t},e.AqaRN=function(e,t){return e/t};let t=e;if(!this.img)return;let n=t.RBfkN(this.getDisplayWidth(),this.scale),i=t.MSfgh(this.getDisplayHeight(),this.scale);t.ryoYQ(n,this.logicalWidth)?this.posX=Math.min(Math.max(this.posX,t.kwwBK(this.logicalWidth,n)),0):this.posX=(this.logicalWidth-n)/2,i>this.logicalHeight?this.posY=Math.min(Math.max(this.posY,t.CkMoo(this.logicalHeight,i)),0):this.posY=t.AqaRN(this.logicalHeight-i,2)}isInImageArea(e,t){let n={};n.xMJpt=function(e,t){return e*t},n.ogOHF=function(e,t){return e+t},n.LLvHx=function(e,t){return e>=t},n.DVnDi=function(e,t){return e<=t};let i=n;if(!this.img)return!1;let a=this.getDisplayWidth()*this.scale,s=i.xMJpt(this.getDisplayHeight(),this.scale),o=this.posX,r=i.ogOHF(o,a),l=this.posY,c=Math.min(r,this.logicalWidth),d=Math.min(l+s,this.logicalHeight);return i.LLvHx(e,Math.max(o,0))&&e<=c&&t>=Math.max(l,0)&&i.DVnDi(t,d)}requestRedraw(){this.needsRedraw||(this.needsRedraw=!0,this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(this.draw))}handleMouseDown(e){let t={};t.OdgKR=function(e,t){return e-t};let n=this.canvas.getBoundingClientRect(),i=t.OdgKR(e.clientX,n.left),a=e.clientY-n.top;this.isDraggable()&&this.isInImageArea(i,a)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor="grabbing")}handleMouseLeave(){let e={};e.PvcuN="default",this.canvas.style.cursor=e.PvcuN}handleMouseMove(e){let t={};t.ZcLDP=function(e,t){return e-t},t.Kztfg="grabbing",t.XbGKi="grab",t.yXyuL="default",t.eFBsD=function(e,t){return e-t},t.ZbIpP=function(e,t){return e>t},t.RajFh=function(e,t){return e/t};let n=t,i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=n.ZcLDP(e.clientY,i.top);if(this.isInImageArea(a,s)?this.canvas.style.cursor=this.isDragging?n.Kztfg:n.XbGKi:this.canvas.style.cursor=n.yXyuL,this.isDragging){let o=Date.now(),r=o-this.lastTime;this.lastTime=o;let l=n.eFBsD(e.clientX,this.lastX),c=e.clientY-this.lastY;this.posX+=l,this.posY+=c,n.ZbIpP(r,0)&&(this.velocityX=l/r,this.velocityY=n.RajFh(c,r)),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.iebUB=function(e,t){return e>t},t.XHCTD=function(e,t){return e-t};let n=t;this.isDragging=!1,n.iebUB(Math.abs(this.velocityX),this.minVelocityThreshold)||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0);let i=this.canvas.getBoundingClientRect(),a=n.XHCTD(e.clientX,i.left),s=e.clientY-i.top;this.isInImageArea(a,s)?this.canvas.style.cursor="grab":this.canvas.style.cursor="default"}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={};e.PDDxJ=function(e,t){return e-t},e.CqOEO=function(e,t){return e/t},e.KzGLm=function(e,t){return e*t},e.ezGeY=function(e,t){return e<t};let t=e;if(!this.isInertialMoving)return;let n=Date.now(),i=t.PDDxJ(n,this.lastTime);this.lastTime=n,this.velocityX*=Math.pow(this.decelerationRate,t.CqOEO(i,16)),this.velocityY*=Math.pow(this.decelerationRate,i/16),this.posX+=this.velocityX*i,this.posY+=t.KzGLm(this.velocityY,i),this.enforceBounds(),this.requestRedraw(),t.ezGeY(Math.abs(this.velocityX),this.minVelocityThreshold)&&Math.abs(this.velocityY)<this.minVelocityThreshold?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):requestAnimationFrame(this.animateInertia.bind(this))}handleWheel(e){let t={};t.JnLXK=function(e,t){return e-t},t.Xodyt=function(e,t){return e>t},t.nzaFU=function(e,t){return e/t},t.PPGDt=function(e,t){return e-t},t.TIAHA=function(e,t){return e-t},t.dkvye=function(e,t){return e*t},t.mltyz=function(e,t){return e-t};let n=t;e.preventDefault();let i=this.canvas.getBoundingClientRect(),a=n.JnLXK(e.clientX,i.left),s=n.JnLXK(e.clientY,i.top);if(!this.isInImageArea(a,s))return;let o=n.Xodyt(e.deltaY,0)?.9:1.1,r=n.nzaFU(n.PPGDt(a,this.posX),this.scale),l=n.TIAHA(s,this.posY)/this.scale,c=Math.min(Math.max(n.dkvye(this.scale,o),this.options.minScale),this.options.maxScale);this.posX=n.mltyz(a,r*c),this.posY=s-l*c,this.scale=c,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};t.dtTLq=function(e,t){return e===t},t.bHVsK=function(e,t){return e>=t};let n=t;if(n.dtTLq(e.touches.length,0))return;let i=Array.from(e.touches),a=this.getTouchCenter(i);this.initialCenterX=a.x,this.initialCenterY=a.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,n.bHVsK(e.touches.length,2)&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.WLzeh=function(e,t){return e===t},t.FBDse=function(e,t){return e>=t},t.zWHdK=function(e,t){return e/t},t.hKYpc=function(e,t){return e/t},t.IHGyp=function(e,t){return e-t},t.eBFMA=function(e,t){return e*t},t.EQCKp=function(e,t){return e===t},t.OgKMU=function(e,t){return e-t},t.fsvuq=function(e,t){return e/t},t.uUfke=function(e,t){return e-t};let n=t;if(!this.isTouching)return;e.preventDefault();let i=Array.from(e.touches);if(n.WLzeh(i.length,0))return;let a=this.getTouchCenter(i),s=1;if(n.FBDse(i.length,2)){let o=this.getTouchDistance(i[0],i[1]);this.initialDistance>0&&(s=n.zWHdK(o,this.initialDistance))}let r=Math.min(Math.max(this.touchStartScale*s,this.options.minScale),this.options.maxScale),l=n.hKYpc(this.initialCenterX-this.touchStartPosX,this.touchStartScale),c=n.hKYpc(n.IHGyp(this.initialCenterY,this.touchStartPosY),this.touchStartScale);if(this.posX=n.IHGyp(a.x,n.eBFMA(l,r)),this.posY=n.IHGyp(a.y,c*r),this.scale=r,this.enforceBounds(),this.requestRedraw(),n.EQCKp(i.length,1)){let d=Date.now(),$=d-this.lastTime;this.lastTime=d;let h=this.canvas.getBoundingClientRect(),u=i[0],x=u.clientX-h.left,f=n.OgKMU(u.clientY,h.top);$>0&&(this.velocityX=(x-this.lastX)/$,this.velocityY=n.fsvuq(n.uUfke(f,this.lastY),$)),this.lastX=x,this.lastY=f}}handleTouchEnd(){let e={};e.ZQqYM=function(e,t){return e>t},e.YtHYn=function(e,t){return e>t};let t=e;this.isTouching=!1,this.initialDistance=0,t.ZQqYM(Math.abs(this.velocityX),this.minVelocityThreshold)||t.YtHYn(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.requestRedraw())}handleCanvasClick(e){if(!this.img)return;let t=this.canvas.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;this.isInImageArea(n,i)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={};if(t.HfaDo=function(e,t){return e-t},!this.img||e.touches.length>0)return;let n=this.canvas.getBoundingClientRect(),i=e.changedTouches[0],a=i.clientX-n.left,s=i.clientY-n.top,o=new Date().getTime();if(360>t.HfaDo(o,this.lastTapTime)){clearTimeout(this.tapTimeout);return}this.tapTimeout=setTimeout(()=>{this.isInImageArea(a,s)||this.triggerClickOutside(e),this.lastTapTime=o},200)}getTouchDistance(e,t){let n={};n.KSdfB=function(e,t){return e-t},n.VRYKw=function(e,t){return e*t};let i=n,a=i.KSdfB(e.clientX,t.clientX),s=e.clientY-t.clientY;return Math.sqrt(i.VRYKw(a,a)+s*s)}isDraggable(){let e={};e.VGSTq=function(e,t){return e>t},e.ULuRF=function(e,t){return e*t},e.eEzkJ=function(e,t){return e>t};let t=e;return this.img&&(t.VGSTq(t.ULuRF(this.img.width,this.scale),this.logicalWidth)||t.eEzkJ(this.img.height*this.scale,this.logicalHeight))}triggerClickOutside(e){let t={};t.iMXEm=function(e,t){return e-t},t.WiNAd=function(e,t){return e-t};let n=t;if("function"==typeof this.options.onClickOutside){let i=this.canvas.getBoundingClientRect(),a={x:e.clientX-i.left,y:n.iMXEm(e.clientY,i.top),canvasX:e.clientX-i.left,canvasY:e.clientY-i.top,imageX:-1,imageY:-1};this.img&&(a.imageX=n.iMXEm(a.canvasX,this.posX)/this.scale,a.imageY=n.WiNAd(a.canvasY,this.posY)/this.scale),this.options.onClickOutside(a,e)}}getTouchCenter(e){let t={};t.akQUJ=function(e,t){return e/t};let n=0,i=0,a=this.canvas.getBoundingClientRect();for(let s of e)n+=s.clientX-a.left,i+=s.clientY-a.top;return{x:n/e.length,y:t.akQUJ(i,e.length)}}destroy(){let e={};e.KzLZH="mousemove",e.NQvNx="mouseup",e.ZYUNM="mousedown",e.umDWn="wheel",e.ixUfA="touchend",e.SZyGP="click";let t=e;window.removeEventListener("resize",this.handleResize),document.removeEventListener(t.KzLZH,this.handleMouseMove),document.removeEventListener(t.NQvNx,this.handleMouseUp),this.canvas.removeEventListener("mouseleave",this.handleMouseLeave),this.canvas.removeEventListener(t.ZYUNM,this.handleMouseDown),this.canvas.removeEventListener(t.umDWn,this.handleWheel),this.canvas.removeEventListener("touchstart",this.handleTouchStart),this.canvas.removeEventListener("touchmove",this.handleTouchMove),this.canvas.removeEventListener(t.ixUfA,this.handleTouchEnd),this.canvas.removeEventListener(t.SZyGP,this.handleCanvasClick),this.canvas.removeEventListener(t.ixUfA,this.handleCanvasTouchEnd),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}}function _0x4a5457(e,t,n,i){let a={RNVKT:function(e,t){return e+t},qimvg:function(e,t){return e*t},MxABI:function(e,t){return e+t},WmWqg:function(e,t){return e+t},qAthN:function(e,t){return e(t)},SnliH:function(e,t){return e>t},iJwEW:function(e,t){return e<t},LCnhK:function(e,t){return e>t},bhNpU:function(e,t){return e/t},wEkbb:function(e,t){return e+t},miWMf:function(e,t){return e*t},zLahA:function(e,t){return e*t},YzaJz:function(e,t){return e-t},VVoyt:function(e,t){return e*t},vaeeE:function(e,t){return e*t}},s=a.qimvg(3,e)-a.miWMf(3,n)+1,o=a.zLahA(3,n)-a.zLahA(6,e),r=3*e,l=a.YzaJz(a.qimvg(3,t),a.VVoyt(3,i))+1,c=a.YzaJz(a.vaeeE(3,i),a.vaeeE(6,t)),d=3*t;function $(e){return(a.RNVKT(s*e,o)*e+r)*e}function h(e){return a.WmWqg(a.qimvg(3*s*e+a.qimvg(2,o),e),r)}return e=>{var t;return t=function e(t){let n=0,i=1,s=t;for(let o=0;o<8;o++){let r=a.qAthN($,s)-t;if(1e-6>Math.abs(r))return s;let l=h(s);if(1e-6>Math.abs(l))break;s-=r/l}for(;a.SnliH(i,n);){let c=$(s)-t;if(a.iJwEW(Math.abs(c),1e-6))break;a.LCnhK(c,0)?i=s:n=s,s=a.bhNpU(a.wEkbb(i,n),2)}return s}(e),a.qimvg(a.MxABI(a.qimvg(a.qimvg(l,t)+c,t),d),t)}}function _0x26138f(e,t="vertical"){let n={};n.KgwMR="keydown",n.izjAU=function(e,t){return e===t},n.sKcAf=function(e,t){return e%t},n.HAvXI=function(e,t){return e+t},n.xXcYf=function(e,t){return e===t};let i=n;function a(){let n={cTpwq:function(e,t){return i.izjAU(e,t)},KXUAt:"vertical",DXmaG:function(e,t){return i.sKcAf(e,t)},nLKNr:function(e,t){return e+t},kHkrz:"ArrowUp",JqlxS:function(e,t){return i.HAvXI(e,t)},Ynzra:"ArrowRight",CxYDY:function(e,t){return i.xXcYf(e,t)},KGdcg:function(e,t){return e+t},FuJvX:i.KgwMR};if(e.length<=1){e.forEach(e=>{e._navHandler&&(e.removeEventListener(i.KgwMR,e._navHandler),delete e._navHandler)});return}e.forEach((i,a)=>{i._navHandler&&i.removeEventListener("keydown",i._navHandler),i._navHandler=i=>{let s=a;if(n.cTpwq(t,n.KXUAt)){if("ArrowDown"===i.key)s=n.DXmaG(n.nLKNr(a,1),e.length);else{if(i.key!==n.kHkrz)return;s=n.JqlxS(a-1,e.length)%e.length}}else{if("horizontal"!==t)return;if(n.cTpwq(i.key,n.Ynzra))s=(a+1)%e.length;else{if(!n.CxYDY(i.key,"ArrowLeft"))return;s=n.DXmaG(n.KGdcg(a-1,e.length),e.length)}}e[s].focus()},i.addEventListener(n.FuJvX,i._navHandler)})}a();let s={};return s.removeItem=function t(n){e=e.filter(e=>e!==n),a()},s.addItem=function t(n){e.push(n),a()},s.updateEventListeners=a,s}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.lfnnd="click",n.lYKpm=function(e,t){return e===t},n.gRRRB=function(e,t){return e>=t},n.tthpA=function(e,t){return e-t},n.fENTo="keydown";let i=n,a=this;a._bindWithCooldownHandler&&(a.removeEventListener("click",a._bindWithCooldownHandler),a.removeEventListener("keydown",a._bindWithCooldownHandler));let s=0,o=function(n){let o=Date.now();!a.classList.contains("disabled")&&!a.hasAttribute("disabled")&&(n.type===i.lfnnd||i.lYKpm(n.keyCode,32)||13===n.keyCode)&&(i.gRRRB(i.tthpA(o,s),t)||0===t)&&(s=o,e.call(a,n))};a.addEventListener(i.lfnnd,o),a.addEventListener(i.fENTo,o),a._bindWithCooldownHandler=o};let _0x30a789={set(e,t){try{let n=JSON.stringify(t);localStorage.setItem(e,n)}catch(i){console.error("Error saving to localStorage",i)}},get(e,t=null){let n={};n.NCwhE=function(e,t){return e!==t},n.dcMJS="Error reading from localStorage";let i=n;try{let a=localStorage.getItem(e);return i.NCwhE(a,null)?JSON.parse(a):t}catch(s){return console.error(i.dcMJS,s),t}},remove(e){let t={};t.vQftU="Error removing from localStorage";try{localStorage.removeItem(e)}catch(n){console.error(t.vQftU,n)}},clear(){try{localStorage.clear()}catch(e){console.error("Error clearing localStorage",e)}},has:e=>null!==localStorage.getItem(e),keys:()=>Object.keys(localStorage)};class _0x490a39{constructor({parent:e,text:t,placement:n="top",interactive:i=!0}){let a={};a.dQjfY="5|1|0|2|4|6|3",a.PZtew="mouseenter",a.SjwIK="blur";let s=a,o=s.dQjfY.split("|"),r=0;for(;;){switch(o[r++]){case"0":this._placement=n;continue;case"1":this._content=t;continue;case"2":this._tooltip=null;continue;case"3":i&&(this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this._parent.addEventListener(s.PZtew,this.showTooltip),this._parent.addEventListener("focus",this.showTooltip),this._parent.addEventListener(s.SjwIK,this.hideTooltip),this._parent.addEventListener("mouseleave",this.hideTooltip));continue;case"4":this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9);continue;case"5":this._parent=e;continue;case"6":this._parent.setAttribute("aria-describedby",this._tooltipId);continue}break}}_createTooltipElement(){let e={};e.BgRfO="xuocLuDI6",e.RqQJX="placement";let t=e,n=_0x162030(t.BgRfO);return n.setAttribute(t.RqQJX,this._placement),n.setAttribute("id",this._tooltipId),n.innerText=this._content,n}updatePosition(){let e={};e.zYfcn="top",e.ZcGru=function(e,t){return e-t},e.TTFMz=function(e,t){return e-t},e.NeREn=function(e,t){return e+t},e.CRSqE=function(e,t){return e-t},e.Litry=function(e,t){return e/t},e.ZHxTm="bottom",e.ajFjC="left",e.oNubm=function(e,t){return e/t},e.pCVNN=function(e,t){return e+t},e.CeTUR="right",e.cezyO=function(e,t){return e-t},e.Ihoxg=function(e,t){return e/t},e.oQqTI="Invalid placement value";let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),i=this._tooltip.getBoundingClientRect(),a,s;switch(this._placement){case t.zYfcn:a=t.ZcGru(t.TTFMz(t.NeREn(window.scrollY,n.top),i.height),8),s=t.CRSqE(window.scrollX+n.left+t.Litry(n.width,2),i.width/2);break;case t.ZHxTm:a=window.scrollY+n.bottom+8,s=t.NeREn(window.scrollX,n.left)+n.width/2-t.Litry(i.width,2);break;case t.ajFjC:a=t.NeREn(t.NeREn(window.scrollY,n.top),t.oNubm(n.height,2))-i.height/2,s=t.pCVNN(window.scrollX,n.left)-i.width-8;break;case t.CeTUR:a=t.cezyO(window.scrollY+n.top+t.Ihoxg(n.height,2),i.height/2),s=window.scrollX+n.right+8;break;default:throw Error(t.oQqTI)}this._tooltip.style.top=a+"px",this._tooltip.style.left=s+"px"}showTooltip(){let e={};e.NFJGO="true",this._tooltip||(this._tooltip=this._createTooltipElement(),document.body.appendChild(this._tooltip),this.updatePosition(),this._tooltip.setAttribute("data-state","delayed-open"),this._tooltip.setAttribute("aria-expanded",e.NFJGO))}hideTooltip(){let e={};e.RidUs="false",this._tooltip&&(this._tooltip.setAttribute("data-state","closed"),this._tooltip.setAttribute("aria-expanded",e.RidUs),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};if(e.UmEuz="1|0|3|2|4",this.hideTooltip(),this._parent){let t=e.UmEuz.split("|"),n=0;for(;;){switch(t[n++]){case"0":this._parent.removeEventListener("mouseenter",this.showTooltip);continue;case"1":this._parent.removeAttribute("aria-describedby");continue;case"2":this._parent.removeEventListener("blur",this.hideTooltip);continue;case"3":this._parent.removeEventListener("focus",this.showTooltip);continue;case"4":this._parent.removeEventListener("mouseleave",this.hideTooltip);continue}break}}this._tooltip=null,this._parent=null,this._content=null}}class _0xe1a8aa{constructor({trigger:e,placement:t="bottom"}){let n={ssdlh:"inert",QQajx:function(e,t){return e(t)},lJuLp:function(e,t){return e(t)},FXNXc:"overlay",QRjlS:"open",CNTtl:"role",zgeCC:"popover",SlYlR:"aria-modal",rmvYj:"keydown",IrCnM:"resize"},i="_"+n.QQajx(_0x1cbf6d,12);this.trigger=e,this.placement=t,this.Root=n.lJuLp(_0x162030,"xEHCrF5Oe"),this.Overlay=n.QQajx(_0x162030,n.FXNXc),this.Content=_0x162030("xC3Uih0ex"),this.Root.setAttribute("data-state",n.QRjlS),this.Root.setAttribute(n.CNTtl,n.zgeCC),this.Root.setAttribute(n.SlYlR,"true"),this.Root.id=i,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let a=_0x3f8451(i);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+a+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute(n.ssdlh,"true")}),this.Overlay.addEventListener("click",()=>this.close()),this.Overlay.addEventListener("contextmenu",()=>this.close()),document.addEventListener(n.rmvYj,this._handleKeyDown),this._setPosition(),window.addEventListener(n.IrCnM,this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e=this.trigger.getBoundingClientRect(),t=this.Content.getBoundingClientRect(),n;if(Array.isArray(this.placement)){for(let i of this.placement){let a=this._calculatePosition(i,e,t);if(this._isPositionWithinViewport(a,t)){n=i;break}}n||(n=this.placement[0])}else n=this.placement;let s=this._calculatePosition(n,e,t);this.Content.style.position="absolute",this.Content.style.top=s.top+"px",this.Content.style.left=s.left+"px"}_calculatePosition(e,t,n){let i={};i.uEMDi="top",i.RXglA="bottom",i.ZqXiI=function(e,t){return e-t},i.LGNoW=function(e,t){return e-t},i.vcBdP=function(e,t){return e===t},i.GthQr=function(e,t){return e/t},i.LwqRX=function(e,t){return e-t},i.oXSbs=function(e,t){return e+t};let a=i,s=0,o=0,[r,l]=e.split("-");switch(r){case a.uEMDi:s=t.top-n.height;break;case a.RXglA:s=t.bottom;break;case"left":o=a.ZqXiI(t.left,n.width);break;case"right":o=t.right}switch(l){case"start":o=t.left;break;case"end":o=a.LGNoW(t.left+t.width,n.width);break;default:a.vcBdP(r,a.uEMDi)||r===a.RXglA?o=t.left+a.GthQr(a.LwqRX(t.width,n.width),2):s=a.oXSbs(t.top,a.ZqXiI(t.height,n.height)/2)}let c={};return c.top=s,c.left=o,c}_isPositionWithinViewport(e,t){let n={};n.TmWbK=function(e,t){return e<=t};let i=window.innerWidth,a=window.innerHeight,{top:s,left:o}=e;return s>=0&&o>=0&&s+t.height<=a&&n.TmWbK(o+t.width,i)}_handleKeyDown=e=>{27===e.keyCode&&(this.close(),this.trigger.focus())};_removeListeners(){document.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener("resize",this._handleResize)}onClose(e){this.onCloseCallback=e}close(){this._removeListeners(),this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),this.Root.setAttribute("data-state","closed"),({bbtfZ:function(e,t,n){return e(t,n)}}).bbtfZ(setTimeout,()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x3f8451(e){let t={};t.vICoE="\\$&",t.zsCHK=function(e,t){return e+t};let n=t;return e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,n.vICoE).replace(/^(-?\d)/,n.zsCHK("\\3"+e.charAt(0)," "))}class _0x29ca47{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={BViQC:function(e,t){return e(t)},cQpzi:function(e,t){return e(t)},YCwKR:"content",WnGpa:"data-state",NrBBS:"open",HqRQP:"aria-modal",sdZlw:"show",sAdFZ:"keydown"},a="_"+i.BViQC(_0x1cbf6d,12);this.Root=_0x162030("x54SkYRT0"),this.Overlay=i.cQpzi(_0x162030,"overlay"),this.Content=i.cQpzi(_0x162030,i.YCwKR),this.Root.setAttribute(i.WnGpa,i.NrBBS),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role","dialog"),this.Root.setAttribute(i.HqRQP,"true"),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=a;let s=_0x3f8451(a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.sdZlw),_0x29ca47.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener(i.sAdFZ,this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.eMhKQ=function(e,t){return e-t};let n=t;27===e.keyCode&&_0x29ca47.stack[n.eMhKQ(_0x29ca47.stack.length,1)]===this&&this.close()};onClose(e){this.onCloseCallback=e}close(){let e={};e.InCBW="inert",e.uAGsn="closed";let t=e;if(!this.Lock){let n=_0x29ca47.stack.indexOf(this);n>-1&&_0x29ca47.stack.splice(n,1),this.onCloseCallback&&this.onCloseCallback(),this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>{e instanceof HTMLElement&&e.removeAttribute("inert")}):this._deactivated_elements.forEach(e=>{e.removeAttribute(t.InCBW)}),this.Root.setAttribute("data-state",t.uAGsn),setTimeout(()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){let e={};e.IweTz="keydown",this.Overlay.onclick=null,document.removeEventListener(e.IweTz,this._handleKeyDown)}}_0x29ca47.stack=[];class _0x56fc21 extends _0x29ca47{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:i=!1,closeOnEsc:a=!0,showCloseButton:s=!1}={}){let o={};o.PvHly="0px",o.cfApM="xv1VrMJb6",o.MujRM=function(e,t){return e>t};let r=o,l={};l.closeOnOverlayClick=i,l.closeOnEsc=a,super(l);let c=this._createHeader(e,s),d=this._createBody(t);if(this.Content.style.padding=r.PvHly,this.Content.classList.add(r.cfApM),this.Content.classList.add("xLDQZ1SSl"),this.Content.appendChild(c),this.Content.appendChild(d),r.MujRM(n.length,0)){let $=this._createFooter(n);d.appendChild($)}}_createHeader(e,t){let n={};n.CkZUi="div",n.pIlXv="xrYn5ZY3v lf gn",n.nvcJm="x6Y89FynP",n.gLxvW=function(e,t){return e||t},n.YBROp="xvb5soWNa";let i=n,a=document.createElement(i.CkZUi);a.className=i.pIlXv;let s=document.createElement("div");if(s.className=i.nvcJm,s.textContent=i.gLxvW(e,"Alert"),a.appendChild(s),t){let o=_0x162030(i.YBROp);o.focusable(!0),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',o.bindWithCooldown(()=>{this.close()}),a.appendChild(o)}return a}_createBody(e){let t={};t.AHtrh="div",t.rYopw=function(e,t){return e||t};let n=t,i=document.createElement("div");i.className="xWDUelLWA";let a=document.createElement(n.AHtrh);return a.className="xujSSErs5",a.innerHTML=n.rYopw(e,"Are you sure?"),i.appendChild(a),i}_createFooter(e){let t={WqOOG:"xgw2tzk6r ",jqgot:"xWh2LBcgj",OMhqy:function(e,t,n){return e(t,n)},VQHbp:"horizontal"},n=document.createElement("div");n.className=t.jqgot;let i=t.OMhqy(_0x26138f,[],t.VQHbp);return e.forEach(({text:e,classList:a=[],onClick:s})=>{let o=document.createElement("div");o.className=t.WqOOG+a.join(" "),o.setAttribute("tabindex","0"),o.textContent=e,o.bindWithCooldown(()=>{s&&s(),this.close()}),i.addItem(o),n.appendChild(o)}),n}}let _0x162030=e=>{let t=document.createElement("div");return t.classList.add(e),t},_0x450155=e=>document.querySelector(e);function _0x1cbf6d(e){let t={};t.AwVFu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.kkAmv=function(e,t){return e*t};let n=t,i=n.AwVFu,a="";for(let s=0;s<e;s++)a+=i.charAt(Math.floor(n.kkAmv(Math.random(),i.length)));return a}function _0x3a09c2(e,t,n={}){let i={XFvME:function(e,t){return e/t},bBKTF:function(e,t){return e-t},XbIxt:function(e,t){return e(t)},tUYQu:function(e,t){return e<t},DaxzS:"text/html",ffpFo:function(e){return e()}},{interval:a=24,fadeDuration:s=214,bezierControl:o=[.42,0,1,1]}=n,r=i.XbIxt(_0x4a5457,...o),l=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>",i.DaxzS).body.firstChild.childNodes),c=[];function d(){c.length&&(function e(t){let n=performance.now();function a(e){let o=Math.min(i.XFvME(i.bBKTF(e,n),s),1),l=i.XbIxt(r,o);t.style.opacity=l,i.tUYQu(o,1)&&requestAnimationFrame(a)}requestAnimationFrame(a)}(c.shift()),setTimeout(d,a))}l.forEach(t=>(function e(t,n){if(t.nodeType===Node.TEXT_NODE){let i=t.textContent.split("");for(let a of i){let s=document.createElement("span");s.classList.add("xSwoj5Cx2"),s.textContent=a,n.appendChild(s),c.push(s)}}else if(t.nodeType===Node.ELEMENT_NODE){let o=t.cloneNode(!1);n.appendChild(o),Array.from(t.childNodes).forEach(t=>e(t,o))}})(t,e)),i.ffpFo(d)}function _0x348c3c(e,t){let n={};n.iKvSq=function(e,t){return e>=t},n.CezEg=function(e,t){return e<=t},n.vNXef=function(e,t){return e<t},n.rRUPB=function(e,t){return e<t},n.IgcXu=function(e,t){return e/t},n.ZeGPv=function(e,t){return e-t},n.XbPhb=function(e,t){return e*t},n.IaHHu=function(e,t){return e+t};let i=n,a=new Date,s=new Date(e),o=new Date(t);if(i.iKvSq(a,s)&&i.CezEg(a,o))return"現在";let r=a<s?s:o,l=r.getHours(),c;c=l>=0&&i.vNXef(l,6)?"清晨":l<12?"早上":i.rRUPB(l,18)?"下午":"晚上";let d=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),$=d(r),h=d(a),u=Math.round(i.IgcXu(i.ZeGPv($,h),24*i.XbPhb(i.XbPhb(1e3,60),60))),x;switch(u){case -2:x="前天";break;case -1:x="昨天";break;case 0:x="今天";break;case 1:x="明天";break;case 2:x="後天";break;default:x=i.IaHHu(r.getMonth(),1)+"/"+r.getDate()}return x+" "+c}function _0x430bf8(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0x4b1013(){let e={};e.DcHSo=function(e,t){return e===t},e.AfqWq=function(e,t){return e>t},e.OIAjq="iOS",e.VkMjU="Mobile",e.IxOau="Android",e.BetYV="Windows",e.tnLLR="Desktop",e.NfbGz="macOS",e.dVgRP="Linux",e.mPAga="Unknown";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,i=navigator.platform,a=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||t.DcHSo(i,"MacIntel")&&t.AfqWq(a,1)){let s=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(s){let o=s[1]||"0",r=s[2]||"0",l=s[3]||"0";return{os:t.OIAjq,version:o+"."+r+"."+l,deviceType:/iPad/.test(n)?"Tablet":t.VkMjU}}}if(/Android/.test(n)){let c=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(c){let d=c[1]||"0",$=c[2]||"0",h=c[3]||"0";return{os:t.IxOau,version:d+"."+$+"."+h,deviceType:/Mobile/.test(n)?t.VkMjU:"Tablet"}}}if(/Win/.test(i)){let u=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(u){let x=u[1]||"0",f=u[2]||"0",b={};return b.os=t.BetYV,b.version=x+"."+f,b.deviceType=t.tnLLR,b}let p={};return p.os=t.BetYV,p.version=null,p.deviceType="Desktop",p}if(/Mac/.test(i)){let _=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(_){let m=_[1]||"0",v=_[2]||"0",g=_[3]||"0",C={};return C.os=t.NfbGz,C.version=m+"."+v+"."+g,C.deviceType="Desktop",C}let w={};return w.os=t.NfbGz,w.version=null,w.deviceType=t.tnLLR,w}if(/Linux/.test(i)){let L={};return L.os=t.dVgRP,L.version=null,L.deviceType="Desktop",L}let y={};return y.os="Unknown",y.version=null,y.deviceType=t.mPAga,y}function _0x3416f5(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x298b38={};_0x298b38.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x298b38.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x298b38.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x3bd310=_0x298b38;class _0x1342f4{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={UeQGK:function(e,t){return e(t)},oqQul:"drawer-header",BFfmO:"div",QLfdk:function(e,t){return e(t)},TZvgm:"drawer-body",AeyxT:"data-state",gfYzi:"open",PtjmT:"role",ziZPN:"aria-modal",WlpRX:"true",TFRjb:"show",UJiVB:"click"},a="_"+i.UeQGK(_0x1cbf6d,12);this.Root=i.UeQGK(_0x162030,"drawer-root"),this.Overlay=_0x162030("drawer-overlay"),this.Content=_0x162030("drawer-content"),this.Header=_0x162030(i.oqQul),this.Handle=document.createElement(i.BFfmO),this.Handle.className="drawer-drag-handle",this.Header.appendChild(this.Handle),this.Body=i.QLfdk(_0x162030,i.TZvgm),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute(i.AeyxT,i.gfYzi),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(i.PtjmT,"dialog"),this.Root.setAttribute(i.ziZPN,i.WlpRX),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=a;let s=_0x3f8451(a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.TFRjb),_0x1342f4.stack.push(this),e&&this.Overlay.addEventListener(i.UJiVB,this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.tfAap=function(e,t){return e-t},t.VTcsB=function(e,t){return e===t};let n=t;if(27===e.keyCode){let i=_0x1342f4.stack[n.tfAap(_0x1342f4.stack.length,1)];n.VTcsB(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={};e.LEBhl=function(e,t){return e>t},e.gWveK=function(e,t){return e>t};let t=e,n=_0x1342f4.stack.indexOf(this);t.gWveK(n,-1)&&_0x1342f4.stack.splice(n,1),this.onCloseCallback&&this.onCloseCallback();let i=()=>{t.LEBhl(this._exclude_for_restore.length,0)?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},a=window.getComputedStyle(this.Content).transform;"none"===a||a.includes("matrix")?(this.Content.classList.remove("x9GmoP75O"),this.Content.style.transform="translateY(100%)",setTimeout(()=>{i(),this.Root.remove()},300)):(i(),this.Root.remove()),this._removeListeners()}_removeListeners(){let e={};e.wToLW="keydown",this.Overlay.onclick=null,document.removeEventListener(e.wToLW,this._handleKeyDown)}_setupDrag(){let e={vWvXE:".xBWmlKrN2 *",baadj:"x9GmoP75O",srDPV:function(e,t){return e-t},adXpI:function(e,t){return e/t},EKGdJ:function(e,t){return e*t},DLchy:"translateY(0)",vASOS:function(e){return e()},koHAL:"mousemove",jCCtR:"mouseup",HnPxF:"touchend"},t=0,n=0,i=0,a=!1,s=n=>{0!==n.target.scrollTop||n.target.closest(e.vWvXE)||(t=n.touches?n.touches[0].clientY:n.clientY,i=Date.now(),a=!0,this.Content.classList.add(e.baadj))},o=i=>{if(!a)return;n=i.touches?i.touches[0].clientY:i.clientY;let s=e.srDPV(n,t);s>0&&(this.Content.style.transform="translateY("+s+"px)")},r=()=>{if(!a)return;let s=e.srDPV(n,t),o=e.adXpI(Date.now()-i,1e3),r=this.Content.offsetHeight,l=e.EKGdJ(r,.5);this.Content.classList.remove(e.baadj),s>l||s/o>600?this.close():this.Content.style.transform=e.DLchy,a=!1},l={};l.passive=!0,this.Content.addEventListener("touchstart",s,l);let c={};c.passive=!0,this.Content.addEventListener("touchmove",o,c),this.Content.addEventListener(e.HnPxF,r),this.Content.addEventListener("mousedown",t=>{s(t);let n=e=>o(e),i=()=>{e.vASOS(r),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)};document.addEventListener(e.koHAL,n),document.addEventListener(e.jCCtR,i)})}}_0x1342f4.stack=[];let _0xd3b8ed=_0x30a789.get("lang"),_0x51e95d="zh";_0xd3b8ed?_0x51e95d=_0xd3b8ed:(_0x51e95d="zh",_0x30a789.set("lang","zh"));let _0x3f5d4f={};_0x3f5d4f.a1="搜尋…",_0x3f5d4f.a2="未知",_0x3f5d4f.a3="在這裡輸入訊息…",_0x3f5d4f.a4="更新了什麼",_0x3f5d4f.a5="私人",_0x3f5d4f.a6="說明",_0x3f5d4f.a7="公開",_0x3f5d4f.a8="展開全部",_0x3f5d4f.a9="顯示較少",_0x3f5d4f.a10="查看全部",_0x3f5d4f.a11="加入聊天室",_0x3f5d4f.a12="加入聊天室",_0x3f5d4f.a13="邀請碼",_0x3f5d4f.a14="送出",_0x3f5d4f.a15="查看個人資料",_0x3f5d4f.a16="登出",_0x3f5d4f.a17="無效的邀請碼，請重新嘗試",_0x3f5d4f.a18="$0 秒前",_0x3f5d4f.a19="$0 個月前",_0x3f5d4f.a20="$0 分鐘前",_0x3f5d4f.a21="$0 小時前",_0x3f5d4f.a22="$0 年前",_0x3f5d4f.a23="$0 天前",_0x3f5d4f.a24="無法預覽這個文件",_0x3f5d4f.a25="下載",_0x3f5d4f.a26="你",_0x3f5d4f.b1="描述",_0x3f5d4f.b2="最後上線",_0x3f5d4f.b3="描述",_0x3f5d4f.b4="暱稱",_0x3f5d4f.b5="編輯個人資料",_0x3f5d4f.b6="完成",_0x3f5d4f.b7="完成",_0x3f5d4f.b8="歡迎回來",_0x3f5d4f.b9="登入帳號後即可使用我們的服務",_0x3f5d4f.b10="等待中…",_0x3f5d4f.b11="使用 Google 繼續",_0x3f5d4f.b12="使用 電子郵件 登入",_0x3f5d4f.b13="返回上一頁",_0x3f5d4f.b14="密碼錯誤，請重新嘗試",_0x3f5d4f.b15="找不到這個帳號，請重新嘗試",_0x3f5d4f.b16="網路請求錯誤，請檢查網路連線",_0x3f5d4f.b17="發生未知的錯誤",_0x3f5d4f.b18="$0 則訊息",_0x3f5d4f.b19="沒有訊息",_0x3f5d4f.b20="所有成員",_0x3f5d4f.b21="查看所有成員",_0x3f5d4f.b22="查看行程安排",_0x3f5d4f.b23="退出",_0x3f5d4f.b24="電子郵件地址",_0x3f5d4f.b25="密碼",_0x3f5d4f.b26="送出",_0x3f5d4f.b27="電子郵件登入",_0x3f5d4f.b28="@未知",_0x3f5d4f.b29="未知",_0x3f5d4f.b30="已成功清除緩存，重新載入後即生效",_0x3f5d4f.b31="未知的指令，請重新嘗試",_0x3f5d4f.b32="載入中…",_0x3f5d4f.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0x3f5d4f.b34="退出",_0x3f5d4f.b35="取消",_0x3f5d4f.b36="確定",_0x3f5d4f.b37="行程安排",_0x3f5d4f.b38="標題",_0x3f5d4f.b39="開始",_0x3f5d4f.b40="結束",_0x3f5d4f.b41="編輯行程",_0x3f5d4f.c1="編輯模式",_0x3f5d4f.c2="預覽模式",_0x3f5d4f.c3="已更新介面語言為：$0",_0x3f5d4f.c4="英語",_0x3f5d4f.c5="中文",_0x3f5d4f.z0='<li class="xcKqXW8uF">修復了一些錯誤</li><li class="xcKqXW8uF">未來可能不會再更新了，看情況</li>',_0x3f5d4f.b42="上傳中",_0x3f5d4f.b43="正在上傳中，請耐心等待",_0x3f5d4f.b44="上傳遭中斷",_0x3f5d4f.b45="已取消上傳",_0x3f5d4f.b46="上傳完成",_0x3f5d4f.b47="這個文件已經成功上傳了",_0x3f5d4f.b48="上傳失敗",_0x3f5d4f.b49="這個文件有 $0 ，我們無法負擔",_0x3f5d4f.b50="動態",_0x3f5d4f.b51="暫無動態",_0x3f5d4f.b52="點擊查看",_0x3f5d4f.d0="附加文件",_0x3f5d4f.d1="發送",_0x3f5d4f.d2="加入貼圖",_0x3f5d4f.d3="標記為重要",_0x3f5d4f.d4="取消標記",_0x3f5d4f.d5="任何人都能加入這個聊天室",_0x3f5d4f.d6="只有受邀人能加入本聊天室",_0x3f5d4f.d7="重新載入後方可完整更新您的資料",_0x3f5d4f.d8="這裡還沒有訊息，現在就開始聊天吧",_0x3f5d4f.d9="未知",_0x3f5d4f.d10="暫時還沒有描述哦",_0x3f5d4f.d11="未知",_0x3f5d4f.d12="未知",_0x3f5d4f.d13="尚未加入任何聊天室",_0x3f5d4f.d14="還沒有任何行程，現在就創建一個吧";let _0x5e37b5={};_0x5e37b5.a1="Search…",_0x5e37b5.a2="Unknown",_0x5e37b5.a3="Enter message here…",_0x5e37b5.a4="What's new",_0x5e37b5.a5="Private",_0x5e37b5.a6="Illustrate",_0x5e37b5.a7="Public",_0x5e37b5.a8="Show more",_0x5e37b5.a9="Show less",_0x5e37b5.a10="Show all",_0x5e37b5.a11="Join groups",_0x5e37b5.a12="Join Groups",_0x5e37b5.a13="Invitation code",_0x5e37b5.a14="Submit",_0x5e37b5.a15="View profile",_0x5e37b5.a16="Logout",_0x5e37b5.a17="Invalid invitation code, please try again",_0x5e37b5.a18="$0 seconds ago",_0x5e37b5.a19="$0 months ago",_0x5e37b5.a20="$0 minutes ago",_0x5e37b5.a21="$0 hours ago",_0x5e37b5.a22="$0 years ago",_0x5e37b5.a23="$0 days ago",_0x5e37b5.a24="Unable to preview this file",_0x5e37b5.a25="Download",_0x5e37b5.a26="You",_0x5e37b5.b1="Description",_0x5e37b5.b2="Last online",_0x5e37b5.b3="Description",_0x5e37b5.b4="Nickname",_0x5e37b5.b5="Edit Profile",_0x5e37b5.b6="Save",_0x5e37b5.b7="Save",_0x5e37b5.b8="Welcome back",_0x5e37b5.b9="Log in to your account to use our services",_0x5e37b5.b10="Waiting…",_0x5e37b5.b11="Continue with Google",_0x5e37b5.b12="Continue with Email",_0x5e37b5.b13="Return to previous page",_0x5e37b5.b14="Wrong password, please try again",_0x5e37b5.b15="The account could not be found. Please try again.",_0x5e37b5.b16="Network request error, please check the network connection",_0x5e37b5.b17="An unknown error occurred",_0x5e37b5.b18="$0 messages",_0x5e37b5.b19="No message",_0x5e37b5.b20="All members",_0x5e37b5.b21="View members",_0x5e37b5.b22="View itinerary",_0x5e37b5.b23="Leave",_0x5e37b5.b24="Email Address",_0x5e37b5.b25="Password",_0x5e37b5.b26="Submit",_0x5e37b5.b27="Login with Email",_0x5e37b5.b28="@unknown",_0x5e37b5.b29="unknown",_0x5e37b5.b30="The cache has been successfully cleared and will take effect after reloading",_0x5e37b5.b31="Unknown command, please try again",_0x5e37b5.b32="Loading…",_0x5e37b5.b33="Are you sure you want to leave this group? You can rejoin later.",_0x5e37b5.b34="Leave",_0x5e37b5.b35="Cancel",_0x5e37b5.b36="Comfirm",_0x5e37b5.b37="All itinerary",_0x5e37b5.b38="Title",_0x5e37b5.b39="Start",_0x5e37b5.b40="End",_0x5e37b5.b41="Edit itinerary",_0x5e37b5.c1="編輯模式",_0x5e37b5.c2="預覽模式",_0x5e37b5.c3="Updated language: $0",_0x5e37b5.c4="English",_0x5e37b5.c5="Chinese",_0x5e37b5.z0='<li class="xcKqXW8uF">Fixed some bugs.</li><li class="xcKqXW8uF">There may be no more updates in the future.</li>',_0x5e37b5.b42="Uploading",_0x5e37b5.b43="Uploading, please wait patiently",_0x5e37b5.b44="Upload interrupted",_0x5e37b5.b45="Upload canceled",_0x5e37b5.b46="Upload completed",_0x5e37b5.b47="The file has been uploaded successfully",_0x5e37b5.b48="Upload failed",_0x5e37b5.b49="This file is $0 and we can't afford it",_0x5e37b5.b50="Dynamics",_0x5e37b5.b51="No dynamic",_0x5e37b5.b52="Click here to view",_0x5e37b5.d0="Attach files",_0x5e37b5.d1="Send",_0x5e37b5.d2="Add stickers",_0x5e37b5.d3="Mark as important",_0x5e37b5.d4="Unmark",_0x5e37b5.d5="Anyone can join this group",_0x5e37b5.d6="Only invited people can join this group",_0x5e37b5.d7="Reload to fully update your information",_0x5e37b5.d8="There are no messages here yet. Start chatting now.",_0x5e37b5.d9="Unknown",_0x5e37b5.d10="There is no description yet",_0x5e37b5.d11="Unknown",_0x5e37b5.d12="Unknown",_0x5e37b5.d13="Not joined any chat room yet",_0x5e37b5.d14="No itinerary yet";let _0x51732d={};_0x51732d.zh=_0x3f5d4f,_0x51732d.en=_0x5e37b5;let _0x589441=_0x51732d;function _0x367a1c(e){return _0x589441[e]}let _0x3fb336={};_0x3fb336.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x3fb336.authDomain="smiling-theory-397204.firebaseapp.com",_0x3fb336.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x3fb336.projectId="smiling-theory-397204",_0x3fb336.storageBucket="smiling-theory-397204.appspot.com",_0x3fb336.messagingSenderId="360479398694",_0x3fb336.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x3fb336.measurementId="G-6BKTT1K7D1";let _0x31fe6d=e(_0x3fb336),_0x379b2a=_0x367a1c(_0x51e95d),_0x5b0ce4=$(_0x31fe6d),_0x385246=r(_0x31fe6d),_0x33b9e0=new i,_0x1717be=t();h(_0x5b0ce4).then(()=>{console.log("離線緩存功能已啟用")}).catch(e=>{let t={};t.JdWdJ="已開啟多個分頁，無法啟用離線緩存功能",t.OZOUq="當前瀏覽器不支持離線緩存";let n=t;"failed-precondition"===e.code?console.error(n.JdWdJ):"unimplemented"===e.code&&console.error(n.OZOUq)});let _0x2c53c7=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x4c936c=[],_0x5c0e7b={sidebar:_0x450155(".xFz8bwNFr"),main:_0x450155(".x8o58HttN"),messageInput:_0x450155(".xtsARDHTI"),searchInput:_0x450155(".xujXllYgW"),messageContainer:_0x450155(".xikyLwDf4"),sendButton:_0x450155(".xuwRtDpu4"),fileInput:_0x450155(".xVEJA40Qh"),attachButton:_0x450155(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x450155(".xpbRox0hO#xbXZpIWEa"),markButton:_0x450155(".xpbRox0hO#xsVrze5YA"),brushButton:_0x450155(".xpbRox0hO#xrfvUzMAG"),heading:_0x450155(".xehdiGgBv"),backButton:_0x450155(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x450155(".xemr1y6ie"),spinnerContainer:_0x450155(".xemr1y6ie .spinner"),spinnerLabel:_0x450155(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x450155(".xDADAUUv4"),roomNameLabel:_0x450155(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x450155(".xlKSJ67AP"),nameLabel:_0x450155(".xt4GQkVIo"),avatarLabel:_0x450155(".xbVHF6S6B"),avatarWrapper:_0x450155(".xaoteDJh4"),profileContainer:_0x450155(".xQ6gFUtqT"),layoutResizer:_0x450155(".xrFP6D2e1"),layoutResizer2:_0x450155(".xZddo7wlf"),statusLabel:_0x450155(".xOJE48BLX"),activityBar:_0x450155(".pS2na74a"),sidebarOverlay:_0x450155(".xgUJeGeNl")},_0x1b957c='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0x379b2a.b32,_0x2c71dd={};_0x2c71dd.current="0.1.8",_0x2c71dd.cacheId="x0n0HCjlj",_0x2c71dd.directions='<ul class="xxmjDL5xB xbH7v2Hbn">'+_0x379b2a.z0+"</ul>";let _0x45bb52=_0x2c71dd,_0x52d118=[],_0x1c1f85={},_0x47026e={},_0x52d0fa={},_0x46ff83,_0xbee9fe=!1,_0x32eee1="",_0x3882f8,_0x2b45c9=0,_0x5710b0,_0x5edf41=!1,_0x528358=!1,_0x5da073=!1,_0x271792=_0x5c0e7b.messageContainer,_0x41a906={};_0x41a906.state=!1,_0x41a906._a=null,_0x41a906._b=null,_0x41a906._n="",_0x41a906._d="",_0x41a906._m=[];let _0x29183b=_0x41a906,_0x4d909c="",_0x26a1e1=null,_0x287fe8=!1;if(_0x2c53c7)document.body.classList.add("mobile"),_0x5c0e7b._mb_att_btn.bindWithCooldown(function(){_0x5c0e7b.fileInput.click()});else{document.body.classList.add("desktop");let T={};T.parent=_0x5c0e7b.attachButton,T.text=_0x379b2a.d0,T.placement="top",new _0x490a39(T),_0x5c0e7b.attachButton.bindWithCooldown(function(){_0x5c0e7b.fileInput.click()});let H={};H.parent=_0x5c0e7b.sendButton,H.text=_0x379b2a.d1,H.placement="top",H.interactive=!0,new _0x490a39(H);let M={};M.parent=_0x5c0e7b.stickerButton,M.text=_0x379b2a.d2,M.placement="top",M.interactive=!0,new _0x490a39(M);let I={};I.parent=_0x5c0e7b.markButton,I.text=_0x379b2a.d3,I.placement="top",I.interactive=!0;let R=new _0x490a39(I),A={};A.parent=_0x5c0e7b.brushButton,A.text="潤色文本",A.placement="top",A.interactive=!0,new _0x490a39(A),_0x26138f([_0x5c0e7b.attachButton,_0x5c0e7b.brushButton,_0x5c0e7b.markButton,_0x5c0e7b.stickerButton],"horizontal"),_0x5c0e7b.brushButton.bindWithCooldown(function(){let e={qRbnL:function(e,t,n){return e(t,n)},QpEmS:"xDLwiKdTE"},t=e.qRbnL(_0x1faf50,"潤色文本",!0);t.content.classList.add("lg"),t.body.classList.add(e.QpEmS)}),_0x5c0e7b.markButton.bindWithCooldown(function(){let e={};e.pwSyF="x3zdxRXQ6";let t=e;_0x5da073?(_0x5da073=!1,_0x5c0e7b.markButton.classList.remove(t.pwSyF),R.setText(_0x379b2a.d3)):(_0x5da073=!0,_0x5c0e7b.markButton.classList.add(t.pwSyF),R.setText(_0x379b2a.d4))},0);let B=!1,W=0,Y=0,D=e=>{B=!0,document.body.classList.add("xz7kq9zLe");let t=e.target.getBoundingClientRect();Y=e.clientX-t.left,document.addEventListener("mousemove",S),document.addEventListener("mouseup",z)},S=e=>{if(!B)return;let t=_0x5c0e7b.sidebar.getBoundingClientRect().left,n=e.clientX-t-Y;W=n,_0x5c0e7b.sidebar.style.width=n+"px"},z=()=>{let e={};e.EfppU="mousemove";let t=e;B=!1,_0x30a789.set("xjS4MkN99",W),document.body.classList.remove("xz7kq9zLe"),document.removeEventListener(t.EfppU,S),document.removeEventListener("mouseup",z)};window.addEventListener("blur",()=>{let e={};e.ejDLi="resizing";let t=e;document.body.classList.remove(t.ejDLi),B=!1}),_0x5c0e7b.layoutResizer.addEventListener("mousedown",e=>{D(e)})}function _0x1faf50(e,t=!1,...n){let i={diHVd:function(e,t){return e(t)},WUlHO:"xrYn5ZY3v",iXUKk:"xWDUelLWA",rDbXf:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',ZfUvw:function(e,t){return e(t)},ibohe:"xvb5soWNa"};console.log(n);let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x29ca47(a),o=i.diHVd(_0x162030,i.WUlHO);o.classList.add("lf"),s.Content.style.padding="0";let r=i.diHVd(_0x162030,"x6Y89FynP");o.appendChild(r),r.innerText=e,s.Content.appendChild(o);let l=_0x162030(i.iXUKk);s.Content.appendChild(l);let c;if(t){let d="4|1|3|2|5|0".split("|"),$=0;for(;;){switch(d[$++]){case"0":o.appendChild(c);continue;case"1":c.focusable(!0);continue;case"2":s.close=s.close.bind(s);continue;case"3":c.innerHTML=i.rDbXf;continue;case"4":c=i.ZfUvw(_0x162030,i.ibohe);continue;case"5":c.bindWithCooldown(s.close);continue}break}}let h=o.getBoundingClientRect();o.style.minHeight=h.height+"px";let u={};return u.root=s,u.body=l,u.content=s.Content,u.closebtn=c,u.Root=s.Root,u.Content=s.Content,u}async function _0x49ba0(e,t){let n={OtnUw:"canvas",eEmWG:"instant",ffNdb:function(e,t){return e+t},DoOuh:"loaded",wLhIP:"xFIqZCKV3",bVsfW:"xAQPbc7N3",KHRQm:"xBWmlKrN2",NxCEu:function(e,t,n){return e(t,n)},SxakZ:"x2y08yFOH",dMfJX:function(e,t){return e===t},PhTsz:"image",jLtzr:"cache-url",ZSLmo:"video",oRtLL:"muted",Whqkn:"true",sIstg:"nodownload",nmZGc:"xGsec9lFd",BexXl:"controls",oJGqo:"a24",twxIK:"a25",rIwwL:"xDVzL7FIt",bxaDC:"x6EwJGLAa"};if(t.startsWith("<")){let i=t.match(/<\s*(\w+)\s+(\S+)/),a=i[1],s=i[2];if(n.dMfJX(a,n.PhTsz)){let o=document.createElement("img");o.focusable(!0),o.classList.add("xGsec9lFd"),o.classList.add("xUSR4cuWD"),o.setAttribute("data-state","loading"),_0x287fe8||_0x5c0e7b.messageContainer.scrollTo({top:_0x5c0e7b.messageContainer.scrollHeight,behavior:n.eEmWG}),o.onerror=function(){o.setAttribute("data-state","failed"),o.classList.remove("xUSR4cuWD")},o.onload=function(){let t={HBOZl:"xPSnkbRat",WLjoV:n.OtnUw,cNbpp:"x8o1OSu71",ZLXZb:function(e,t){return e(t)},JEkAA:"xHZuqwWhI"};_0x287fe8||_0x5c0e7b.messageContainer.scrollTo({top:_0x5c0e7b.messageContainer.scrollHeight,behavior:n.eEmWG});let i=_0x52d0fa["_"+s];if(i)o.style.width=n.ffNdb(i.width,"px"),o.style.height=i.height+"px";else{let a=o.getBoundingClientRect(),r={};r.width=a.width,r.height=a.height,_0x52d0fa["_"+s]=r}o.setAttribute("data-state",n.DoOuh),o.classList.remove("xUSR4cuWD"),e.classList.add(n.wLhIP),o.bindWithCooldown(function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let n=new _0x29ca47(e);n.Content.classList.add(t.HBOZl);let i=document.createElement(t.WLjoV);i.classList.add("xWuhDLG1C"),n.Content.appendChild(i);let a=new _0x8a5c7b(i,{maxScale:2,onClickOutside(e,t){o(e,t)}});function o(){a.destroy(),n.close()}a.loadImage(s);let r=_0x162030(t.cNbpp);r.focusable(!0),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',r.bindWithCooldown(o),n.Content.appendChild(r);let l=t.ZLXZb(_0x162030,"x8o1OSu71");l.classList.add(t.JEkAA),l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',l.bindWithCooldown(function(){a.rotate()},0),n.Content.appendChild(l)},0)};let r={};r.action=n.jLtzr,r.url=s,navigator.serviceWorker?.controller?.postMessage(r),o.src=s,e.appendChild(o)}else if(n.dMfJX(a,n.ZSLmo)){let l=document.createElement(n.ZSLmo);l.setAttribute(n.oRtLL,""),l.focusable(!0),l.playsInline=!0,l.setAttribute("controls",n.Whqkn),l.setAttribute("controlslist",n.sIstg),l.onloadedmetadata=function(){_0x5c0e7b.messageContainer.scrollTo({top:_0x5c0e7b.messageContainer.scrollHeight,behavior:n.eEmWG})};let c={};c.action=n.jLtzr,c.url=s,navigator.serviceWorker?.controller?.postMessage(c),l.src=s,l.classList.add(n.nmZGc),e.appendChild(l)}else if(n.dMfJX(a,"audio")){let d=document.createElement("audio");d.focusable(!0),d.setAttribute(n.BexXl,"true");let $={};$.action=n.jLtzr,$.url=s,navigator.serviceWorker?.controller?.postMessage($),d.src=s,d.classList.add(n.nmZGc),e.appendChild(d)}else e.innerHTML='<div class="xUiYNFhtR">'+_0x379b2a[n.oJGqo]+' <a class="x0ciSQShX no-wrap" href="'+s+'" target="_blank" rel="noreferrer noopener">'+_0x379b2a[n.twxIK]+"</a></div>"}else{let h=document.createElement("span"),u=_0x162030("xYj7x2KZ4");if(h.classList.add("xVlceg4Ab"),_0x39e021(h,t),e.appendChild(h),e.appendChild(u),h.getBoundingClientRect().height>125){e.classList.add(n.rIwwL);let x=_0x162030(n.bxaDC),f={};f["0"]='<span class="xNM56JYdv">'+_0x379b2a.a8+"</span>",f["1"]='<span class="xNM56JYdv">'+_0x379b2a.a9+"</span>",f["2"]='<span class="xNM56JYdv">'+_0x379b2a.a10+"</span>";let b=f;x.innerHTML=b[_0x2c53c7?2:0],x.focusable(!0);let p=0;x.bindWithCooldown(function(){if(_0x2c53c7){let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x1342f4(i);a.Root.classList.add(n.bVsfW);let s=_0x162030(n.KHRQm);a.Body.appendChild(s),n.NxCEu(_0x39e021,s,t)}else{let o={};o.top=0,o.behavior="instant",h.scrollTo(o),0===p?(p=1,e.classList.add(n.SxakZ),x.innerHTML=b[1]):(p=0,e.classList.remove(n.SxakZ),x.innerHTML=b[0])}},0),u.appendChild(x)}}}function _0x39e021(e,t){let n={JPNkZ:"desktop",UMOhJ:"x0ciSQShX",kEOfB:function(e,t,n){return e(t,n)}},i=/@(\w+)/g,a=0,s;for(e.clear();null!==(s=i.exec(t));){let{index:o}=s,r=s[1];o>a&&_0x59f2df(e,t.slice(a,o));let l=document.createElement("a");l.classList.add(n.UMOhJ),l.focusable(!0),l.dataset.userId=r;let c={};c.userId=r,c.dom=l,_0x29183b._m.push(c),n.kEOfB(_0x24a155,r,!0).then(function(e){let t={};t.Paqmk=n.JPNkZ;let i=t;e?(l.textContent="@"+(e.name||_0x379b2a.b29),l.bindWithCooldown(function(){let t={};t.data=e,t.type=_0x2c53c7?"mobile":i.Paqmk,_0x4812a9(_0x26a1e1,t)},0)):l.textContent=_0x379b2a.b28}).catch(function(e){l.textContent="@"+r,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(l),a=i.lastIndex}a<t.length&&_0x59f2df(e,t.slice(a))}function _0x59f2df(e,t){let n={};n.lpSjx=function(e,t){return e<t};let i=n,a=t.split("\n");a.forEach((t,n)=>{if(t){let s=_0x8141dc(t),o=document.createElement("div");o.innerHTML=s,Array.from(o.childNodes).forEach(t=>{e.appendChild(t)})}i.lpSjx(n,a.length-1)&&e.appendChild(document.createElement("br"))})}function _0x8141dc(e){let t={opICZ:function(e,t){return e+t},uzPdb:'<span class="xCe4Btdzm"><a class="x0ciSQShX" translate="no" href="',ZRgwu:function(e,t){return e(t)}};return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let n=e.replace(/^https?:\/\//,"");return t.opICZ(t.uzPdb,e)+'" target="_blank" rel="noreferrer noopener">'+t.ZRgwu(decodeURIComponent,n)+"</a></span>"})}async function _0x2add45(){let e={WlPJO:function(e,t){return e||t},OpXml:function(e,t){return e===t},jULlU:"disabled",TMkPH:"task",bWcUO:"1358",kCMDC:"b30",RAAta:function(e,t){return e(t)},tvNEz:function(e,t){return e===t},kyrjS:function(e,t,n,i){return e(t,n,i)},dIewU:function(e,t){return e(t)},PAkvx:"1242",rVqyl:function(e,t,n,i){return e(t,n,i)},JfzrH:"&lt;",bAdir:"x3zdxRXQ6",Tiylq:"chats"},t=_0x5c0e7b.messageInput.innerText.trim();if(e.WlPJO(!t,!_0x32eee1)||e.OpXml(t,""))return;_0x5c0e7b.sendButton.classList.add(e.jULlU),_0x5c0e7b.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let i=n[1],a=n[2];if(i===e.TMkPH){if(e.OpXml(a,e.bWcUO)){_0x5c0e7b.messageInput.clear();let s={};s.action="clear-all-caches",navigator.serviceWorker?.controller?.postMessage(s);let o={};o.content=_0x379b2a[e.kCMDC],o.tag="2",_0x4cc0d0(o,e.RAAta(_0x1cbf6d,20),"3");return}if(e.tvNEz(a,"1241")){_0x5c0e7b.messageInput.clear(),e.kyrjS(_0x4cc0d0,{content:_0x379b2a.c3.replace("$0",_0x379b2a.c5),tag:"2"},e.dIewU(_0x1cbf6d,20),"3"),_0x30a789.set("lang","zh");return}if(a===e.PAkvx){_0x5c0e7b.messageInput.clear(),e.rVqyl(_0x4cc0d0,{content:_0x379b2a.c3.replace("$0",_0x379b2a.c4),tag:"2"},e.dIewU(_0x1cbf6d,20),"3"),_0x30a789.set("lang","en");return}{_0x5c0e7b.messageInput.clear();let r={};r.tag="2",r.content=_0x379b2a.b31,_0x4cc0d0(r,_0x1cbf6d(20),"3");return}}}t=t.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<",e.JfzrH).replaceAll(">","&gt;").replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x5c0e7b.messageInput.clear();let l=_0x5da073?"1":null;_0x5c0e7b.markButton.classList.remove(e.bAdir),_0x5da073=!1;let c=f(u(_0x5b0ce4,e.Tiylq,_0x32eee1,"messages"));_0x52d118.push(c.id),await x(c,{sender:_0x5710b0,content:t,timestamp:Date.now(),tag:l});let d={};d.content=t,d.tag=l,_0x4cc0d0(d,c.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={jWMWM:"cacheSizeResult",rNBcC:function(e,t){return e(t)}};if("cache-size-result"===e.data.type){let n=document.getElementById(t.jWMWM);if(e.data.error){n.innerHTML="錯誤: "+e.data.error;return}_0x4cc0d0({content:t.rNBcC(_0xd80ef2,e.data.bytes)},t.rNBcC(_0x1cbf6d,20),"3")}});let _0x7449fe=0;function _0x4cc0d0(e,t,n="1"){let i={ACltl:"xVC8gtuyS",AsQfv:function(e,t){return e(t)},VxKuH:function(e,t){return e(t)},DIoCF:"xu4Celbbq",Nqpoh:"xc4iCj2Gy",zdpwK:"xRHoYYwoZ",LfKiz:"a26",GmQjG:"xOmVIOA3e",dNdad:function(e,t){return e===t},dvysL:"x4rKxFxLl",Uxcqr:"xHJfZfjT1"},a=_0x162030(i.ACltl),s=_0x162030("xMyW2iRSH"),o=i.AsQfv(_0x162030,"xKljxgVJA"),r=i.VxKuH(_0x162030,i.DIoCF),l=_0x162030(i.Nqpoh),c=_0x162030(i.zdpwK);switch(a.setAttribute("data-visible","true"),a.setAttribute("data-message-id",t),a.classList.add("xiOw4dg0O"),a.appendChild(o),o.appendChild(c),c.appendChild(r),r.appendChild(l),c.appendChild(s),l.innerText=_0x379b2a[i.LfKiz],_0x4d909c.sender===e.sender&&a.classList.add(i.GmQjG),i.dNdad(e.tag,"1")?s.classList.add(i.dvysL):i.dNdad(e.tag,"2")&&s.classList.add(i.Uxcqr),_0x46ff83&&(_0x46ff83.remove(),_0x46ff83=null),n){case"1":_0x5c0e7b.messageContainer.appendChild(a);break;case"2":_0x271792.appendChild(a),_0x7449fe+=a.offsetHeight;break;case"3":_0x5c0e7b.messageContainer.appendChild(a),_0x5edf41=!0,_0x5c0e7b.messageContainer.scrollTo({top:_0x5c0e7b.messageContainer.scrollHeight,behavior:"smooth"})}_0x49ba0(s,e.content)}function _0x22034c(e,t,n="1"){let i={aLHmY:"mobile",PEPmK:"desktop",lyHEE:function(e,t){return e(t)},zrfDe:"d11",Mybgn:"true",KbIPa:"xt8fROB2L",DZyxx:"lazy",MRJcU:"data-message-id",njBxF:function(e,t){return e===t},GCaQF:"x4rKxFxLl",KeCAo:"xOmVIOA3e",dGwLw:"smooth"},a=_0x162030("xVC8gtuyS"),s=i.lyHEE(_0x162030,"xMyW2iRSH"),o=_0x162030("xSYcbYqTG"),r=_0x162030("xKljxgVJA"),l=i.lyHEE(_0x162030,"xu4Celbbq"),c=i.lyHEE(_0x162030,"xc4iCj2Gy"),d=i.lyHEE(_0x162030,"xt8fROB2L"),$=i.lyHEE(_0x162030,"xRHoYYwoZ"),h=document.createElement("img");switch(a.setAttribute("data-visible",i.Mybgn),d.classList.add(i.KbIPa),h.loading=i.DZyxx,a.appendChild(o),a.appendChild(r),r.appendChild($),$.appendChild(l),l.appendChild(c),$.appendChild(s),l.appendChild(d),o.appendChild(h),a.setAttribute(i.MRJcU,t),i.njBxF(e.tag,"1")&&s.classList.add(i.GCaQF),d.innerText="0s",c.innerText=_0x379b2a.d9,h.draggable=!1,_0x46ff83&&(_0x46ff83.remove(),_0x46ff83=null),i.njBxF(_0x4d909c.sender,e.sender)&&a.classList.add(i.KeCAo),n){case"1":_0x5c0e7b.messageContainer.appendChild(a);break;case"2":_0x271792.appendChild(a),_0x7449fe+=a.offsetHeight;break;case"3":_0x5c0e7b.messageContainer.appendChild(a),_0x5edf41=!0,_0x5c0e7b.messageContainer.scrollTo({top:_0x5c0e7b.messageContainer.scrollHeight,behavior:i.dGwLw}),_0x5edf41=!1}_0x49ba0(s,e.content),_0x24a155(e.sender).then(t=>{function n(){let e={};e.data=t,e.type=_0x2c53c7?i.aLHmY:i.PEPmK,_0x4812a9(_0x5c0e7b.main,e)}d.innerText=i.lyHEE(_0x58e9df,e.timestamp),h.src=t.avatarUrl||"/assets/avatar.png",h.onload=function(){o.classList.add("xWzeTGC6P")},c.onclick=n,o.focusable(!0),o.bindWithCooldown(n),c.innerText=t.name||_0x379b2a[i.zrfDe]}).catch(e=>{console.error(e)})}function _0x3efe69(e,t,n){let i={};i.rneiR=function(e,t){return e||t},i.iBWxj="xJd2GT7MI",i.ZHzcY="d11";let a=i;_0x5c0e7b.signatureLabel.textContent=a.rneiR(n,"unknown"),_0x5c0e7b.avatarWrapper.classList.remove(a.iBWxj),_0x5c0e7b.avatarLabel.src=e||"assets/avatar.png",_0x5c0e7b.nameLabel.textContent=t||_0x379b2a[a.ZHzcY]}let _0x338e20;async function _0x478c24(){let e={xWWyF:function(e,t){return e>t},DHXpx:function(e,t){return e-t},MXqUJ:"mouseup",DOwTd:"touchmove",fMihS:"xgu6pGjzk",SqbIq:function(e,t){return e*t},PVzzN:"mousemove",TXCTj:"touchend",uAFNo:"xp4HXkJGa",OkcyO:function(e,t){return e(t)},POkht:function(e,t){return e(t)},mMoEv:"正在初始化應用程序",BgHMY:"b32",UKYXQ:function(e,t){return e&&t},QNphF:function(e,t){return e+t},QLzTZ:function(e){return e()},MywZs:function(e,t){return e(t)},HDRCp:"blur",dELne:function(e){return e()},BQhjk:function(e,t,n){return e(t,n)},FIHHt:function(e,t){return e!==t},Gmhca:"cvs"};if(_0xbee9fe)return;console.log(e.mMoEv),_0x5c0e7b.roomNameLabel.innerText=_0x379b2a.a2,_0x5c0e7b.searchInput.placeholder=_0x379b2a.a1,_0x5c0e7b.messageInput.setAttribute("placeholder",_0x379b2a.a3),_0x5c0e7b.spinnerLabel.innerText=_0x379b2a[e.BgHMY];let t=_0x30a789.get("xjS4MkN99");e.UKYXQ(t,!_0x2c53c7)&&(_0x5c0e7b.sidebar.style.width=e.QNphF(t,"px")),document.body.classList.add("xmKH3ad5R");let n=e.QLzTZ(_0x4b1013),i=_0x430bf8();e.QLzTZ(_0x1ac8b4);try{e.MywZs(_0x24a155,_0x5710b0).then(async t=>{(!t.deviceInfo||e.xWWyF(Date.now()-t.deviceInfo.lastUpdate,36e5))&&(await _0x1213a0(_0x5710b0,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:i.screenWidth+"x"+i.screenHeight+" @"+i.devicePixelRatio+"x"}}),console.log("已上傳裝置信息"))})}catch(a){console.error("發生未知錯誤",a)}let s=!1,o=0,r=0,l=0,c=t=>{s=!0,o=0,r=t.touches?t.touches[0].clientX:t.clientX;let n=t.target.getBoundingClientRect();l=e.DHXpx(r,n.left),document.addEventListener("mousemove",d),document.addEventListener(e.MXqUJ,$);let i={};i.passive=!0,document.addEventListener(e.DOwTd,d,i),document.addEventListener("touchend",$)},d=t=>{if(!s)return;let n=t.touches?t.touches[0].clientX:t.clientX,i=e.DHXpx(n,l),a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o=i,_0x5c0e7b.main.classList.add("xp4HXkJGa"),_0x5c0e7b.sidebar.classList.add(e.fMihS),_0x5c0e7b.main.style.transform="translate3d("+i+"px, 0, 0)",_0x5c0e7b.sidebar.style.transform="translate3d("+Math.min(e.SqbIq(-30,e.DHXpx(1,i/a)),0)+"%, 0, 0)"},$=()=>{if(!s)return;s=!1;let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;_0x5c0e7b.main.classList.remove("xp4HXkJGa"),_0x5c0e7b.sidebar.classList.remove("xgu6pGjzk"),document.removeEventListener("mousemove",d),document.removeEventListener(e.MXqUJ,$);let n={};n.passive=!0,document.removeEventListener(e.DOwTd,d,n),document.removeEventListener("touchend",$),o/t>.5&&_0x2842d0()};window.addEventListener(e.HDRCp,()=>{let t="0|4|6|1|5|2|3".split("|"),n=0;for(;;){switch(t[n++]){case"0":s=!1;continue;case"1":document.removeEventListener(e.PVzzN,d);continue;case"2":let i={};i.passive=!0,document.removeEventListener(e.DOwTd,d,i);continue;case"3":document.removeEventListener(e.TXCTj,$);continue;case"4":_0x5c0e7b.main.classList.remove(e.uAFNo);continue;case"5":document.removeEventListener(e.MXqUJ,$);continue;case"6":_0x5c0e7b.sidebar.classList.remove("xgu6pGjzk");continue}break}}),_0x5c0e7b.layoutResizer2.addEventListener("mousedown",t=>{e.OkcyO(c,t)});let h={};h.passive=!0,_0x5c0e7b.layoutResizer2.addEventListener("touchstart",c,h);try{function u(){let t=_0x5c0e7b.messageContainer.getBoundingClientRect();_0x5c0e7b.messageContainer.style.setProperty("--x9LFHiVqv",e.POkht(Number,(.6*t.height-24).toFixed(2))+"px"),_0x5c0e7b.messageContainer.style.setProperty("--xVizV2ybq",Number((.72*t.height).toFixed(2))-24+"px")}e.dELne(u),window.addEventListener("resize",u)}catch(x){console.log("設置布局時發生錯誤")}if(_0x338e20=e.BQhjk(setInterval,function(){_0x5c5744()},1e3),_0x5c0e7b.searchInput.removeAttribute("disabled"),_0x5c0e7b.searchInput.focusable(!0),_0x5c0e7b.profileContainer.classList.remove("disabled"),_0x5c0e7b.profileContainer.focusable(!0),e.FIHHt(localStorage.getItem(e.Gmhca),_0x45bb52.current)){if(_0x2c53c7){let f={};f.closeOnEsc=!0,f.closeOnOverlayClick=!0;let b=new _0x1342f4(f);b.Overlay.classList.add("x5RtiEC9k"),b.Body.innerHTML='<div class="xa6f2dQXX">'+_0x379b2a.a4+'</div><div class="x68JrA5Ak">'+_0x45bb52.directions+"</div>"}else _0x1faf50(_0x379b2a.a4,!0).body.innerHTML='<div class="xeUKJgV96">'+_0x45bb52.directions+"</div>";localStorage.setItem("cvs",_0x45bb52.current)}_0xbee9fe=!0}function _0x5a10f4(e){let t={};t.ieUwg="&amp;$1",t.vsmJp="&lt;",t.IPHLI="<br>";let n=t;return e.replace(/&([^;]+)/g,n.ieUwg).replaceAll("<",n.vsmJp).replaceAll(">","&gt;").replaceAll(" ","&nbsp;").replaceAll("\n",n.IPHLI)}function _0x408292(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x4f469a="Structure",_0x34dab3;function _0x298553(e){var t;let n={FGnyC:function(e,t){return e===t},wHusr:function(e,t,n,i){return e(t,n,i)},hfaAn:function(e,t){return e!==t},JaxRN:"d12",NHbXf:function(e,t){return e===t},eJCih:function(e,t){return e(t)},bDLfm:"xYARRkCjq",ZbKvL:function(e,t){return e===t},vOgsU:"privacy",ehBPP:"xxC3C39Oc",qsIoj:"disabled",KCNUQ:"true",pqhUP:function(e,t){return e(t)},xQMSd:"x8VAGH6N2",RWTOb:function(e,t){return e(t)},fafHN:"contenteditable",GJsxl:"xqBX9i6rZ",earxa:function(e,t){return e(t)},kbIlP:"chats",bswlJ:"messages",dhBvb:"timestamp",qzBeY:"instant",DBqah:"img",jQMuf:"cache-url",YsJqy:"xlKSJ67AP",IEowP:function(e,t){return e(t)},FQRzh:"b20",fIzVS:"xU2hUavXh",VYjuD:"xb4MnocjO",MNRms:"xyS4vzBWG",wQyLx:"b35",aHWIq:"A5o980bj",lFTta:"todos",mQVlg:"d10",IrbxZ:"xFJWlqoGn",dvwpi:"date",YYIha:"input",cUDka:"time",gQFee:"xwtdXtpQT",CLqWb:function(e,t){return e===t},RMJvg:"xHQ4s8VGa",LuZNY:function(e,t,n){return e(t,n)},lNkJP:"horizontal",jBEhV:"xNu1Upzh6",SjqCV:"x5FOXvrVK",QKuYU:"x7ho7YfuM",sTujR:function(e,t,n,i,a){return e(t,n,i,a)},MVvKC:"d14",iaHVR:"xoV8hdbgt",ZIzpq:"xrQdSHI2A",JRRSa:function(e,t){return e(t)},aTpuz:function(e,t){return e(t)},tSlTv:"xUdcoAHYM",wtgpr:"b23",HBSIH:"x2fP9fkxS",TkrGF:function(e,t){return e(t)},yDtUi:"xQ65c0Nkc",tDbJP:"xT3Ta8vKw",PBEVC:"x6HyfOZS7",KzZtU:function(e,t){return e(t)},TRJto:"xQkxrD9ZA",PIEKs:"b18",heNLh:function(e,t){return e(t)},SqyPP:function(e){return e()},aBSeX:"nearest"},i=_0x162030(n.HBSIH),a=n.TkrGF(_0x162030,n.yDtUi),s=n.RWTOb(_0x162030,"xybvM5cRF"),o=n.IEowP(_0x162030,n.tDbJP),r=_0x162030(n.PBEVC),l=n.KzZtU(_0x162030,n.TRJto);async function c(){let t={ZXRHn:"取得用户名称时发生错误：",LgnxL:function(e,t){return n.FGnyC(e,t)},psoRQ:function(e,t,i,a){return n.wHusr(e,t,i,a)},GmnLn:function(e,t,n,i){return e(t,n,i)}};if(n.hfaAn(_0x32eee1,e.id)||_0x2c53c7&&!contextOpeneds){_0x5c0e7b.messageInput.innerHTML="",_0x32eee1=e.id,_0x29183b._m.length=0,_0x26a1e1=_0x5c0e7b.main,_0x528358=!0,_0x4d909c="",_0x287fe8=!1;let a=[];e.members.forEach(e=>{_0x24a155(e).then(t=>{let n={};n.id=e,n.name=t.name,a.push(n)}).catch(e=>{console.error(t.ZXRHn,e)})}),_0x4f469a=(e.name||_0x379b2a[n.JaxRN])+" - Structure",document.title=_0x4f469a,_0x5c0e7b.roomNameLabel.innerText=e.name,_0x52d118.length=0,_0x34dab3&&_0x34dab3.remove(),n.NHbXf(e.tag,"public")?((_0x34dab3=n.eJCih(_0x162030,"xjrgLBAlF")).focusable(!0),_0x34dab3.classList.add(n.bDLfm),_0x34dab3.textContent=_0x379b2a.a7,_0x34dab3.bindWithCooldown(function(){_0x1faf50(_0x379b2a.a6,!0).body.innerHTML='<div class="xrrfDPLS2">'+_0x379b2a.d5+"</div>"}),_0x5c0e7b.statusLabel.appendChild(_0x34dab3)):n.ZbKvL(e.tag,n.vOgsU)&&((_0x34dab3=_0x162030("xjrgLBAlF")).focusable(!0),_0x34dab3.classList.add(n.ehBPP),_0x34dab3.textContent=_0x379b2a.a5,_0x34dab3.bindWithCooldown(function(){_0x1faf50(_0x379b2a.a6,!0).body.innerHTML='<div class="xrrfDPLS2">'+_0x379b2a.d6+"</div>"}),_0x5c0e7b.statusLabel.appendChild(_0x34dab3));let s=new URLSearchParams(window.location.search);if(s.set("r",e.id),window.history.replaceState({},"","?"+s.toString()),_0x5c0e7b.messageContainer.classList.remove("xVjpzmyej"),_0x5c0e7b.fileInput.removeAttribute("disabled"),_0x5c0e7b.attachButton.classList.remove("disabled"),_0x5c0e7b.attachButton.focusable(!0),_0x5c0e7b.stickerButton.classList.remove("disabled"),_0x5c0e7b.stickerButton.focusable(!0),_0x5c0e7b.markButton.classList.remove(n.qsIoj),_0x5c0e7b.markButton.focusable(!0),_0x5c0e7b.markButton.classList.remove("x3zdxRXQ6"),_0x5da073=!1,_0x5c0e7b.brushButton.classList.remove(n.qsIoj),_0x5c0e7b.brushButton.focusable(!0),_0x5c0e7b.messageInput.setAttribute("contenteditable",n.KCNUQ),_0x2c53c7){let o="3|1|2|4|0".split("|"),r=0;for(;;){switch(o[r++]){case"0":_0x5c0e7b.main.classList.add(n.xQMSd);continue;case"1":_0x5c0e7b._mb_att_btn.focusable(!0);continue;case"2":_0x5c0e7b.backButton.classList.remove(n.qsIoj);continue;case"3":_0x5c0e7b._mb_att_btn.classList.remove("disabled");continue;case"4":n.RWTOb(_0x450155,".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").focusable(!0);continue}break}}else n.pqhUP(_0x450155,".x2fP9fkxS.active")&&n.pqhUP(_0x450155,".x2fP9fkxS.active").classList.remove("active"),i.classList.add("active");_0x5c0e7b.messageInput.setAttribute(n.fafHN,"true"),_0x5c0e7b.messageInput.focusable(!0),_0x5c0e7b.messageContainer.clear(),(_0x46ff83=_0x162030(n.GJsxl)).classList.add("spinner"),_0x46ff83.innerHTML=_0x1b957c,_0x5c0e7b.messageContainer.appendChild(_0x46ff83);let l=await n.earxa(m,C(u(_0x5b0ce4,n.kbIlP,e.id,n.bswlJ),w(n.dhBvb,"desc"),n.earxa(E,10)));_0x3882f8=l.docs[9];let c=[];l.forEach(e=>{c.push(e)}),0===c.length&&_0x46ff83&&(_0x46ff83.innerHTML=_0x379b2a.d8),c.reverse(),c.map(e=>{var n=e.data();-1===_0x52d118.indexOf(e.id)&&(t.LgnxL(n.sender,_0x5710b0)?(_0x52d118.push(e.id),console.log(_0x4d909c.sender,n.content),t.psoRQ(_0x4cc0d0,n,e.id,"1")):(_0x52d118.push(e.id),t.GmnLn(_0x22034c,n,e.id,"1")),_0x4d909c=n)}),_0x5edf41=!0,_0x5c0e7b.messageContainer.scrollTo({top:_0x5c0e7b.messageContainer.scrollHeight,behavior:n.qzBeY}),_0x5edf41=!1}}_0x5cfc1e(e.id),i.bindWithCooldown(c);let d={};d.id=e.id,d.length=e.size,d.name=e.name||_0x379b2a.d9,d.launch=c,d.dom=i,_0x4c936c.push(d),i.appendChild(a),i.appendChild(r),r.appendChild(l);let $=function(){let t={EwrhH:function(e,t,i,a){return n.wHusr(e,t,i,a)},uQSpb:"b33",fWolj:n.wQyLx,bbUoS:n.aHWIq,CkLny:"xTJA9U7y9",evRre:n.lFTta,uomni:function(e,t){return e!==t},EzfPV:n.mQVlg,PiKHf:function(e,t){return e(t)},YKtkI:"textarea",QCOmR:n.IrbxZ,ISyUt:n.dvwpi,VOpvL:n.YYIha,yihIn:"b40",jPcVu:n.cUDka,kTDgk:n.gQFee,aETVD:function(e,t){return n.CLqWb(e,t)},MzsJU:"xHxVtIAsn",rZTgi:n.RMJvg,FcDoH:function(e,t,i){return n.LuZNY(e,t,i)},pnebq:"忘記加上描述了",PemjC:"xPP6DGDrH",iTZxx:"xaTPzRSCY",rzmax:n.lNkJP,UIVuy:function(e,t,n,i,a){return e(t,n,i,a)},Cumra:"chats",iEIyZ:"新的行程",XeTCV:"hide",BOubt:"xtx2Cn8cK",ptWqw:n.jBEhV,uGsyY:"xU2hUavXh",sHMPw:"xTOLrzGN6",xMHpQ:n.SjqCV,VvmGu:n.QKuYU,PQRvx:function(e,t){return n.pqhUP(e,t)},wvctu:function(e,t){return e(t)},FEYGt:function(e,t,i,a,s){return n.sTujR(e,t,i,a,s)},hQfiT:n.MVvKC},a={};a.trigger=l,a.placement=["bottom-start","bottom-end","top-start","top-end"];let s=new _0xe1a8aa(a);s.Content.classList.add(n.iaHVR);let o=_0x162030(n.ZIzpq),r=n.JRRSa(_0x162030,n.ZIzpq),c=n.aTpuz(_0x162030,"xcoXgMpFW"),d=_0x162030("xrQdSHI2A");o.bindWithCooldown(function(){let t={rExNw:function(e,t){return n.earxa(e,t)},HtMxH:"xZHdsOFDz",ncLBO:n.DBqah,xsbkr:"xxnnTDIPC",QufSY:"assets/avatar.png",JQRdY:n.jQMuf,giGsZ:function(e,t){return n.earxa(e,t)},BksFD:"xs8tjkwHJ",ZFHZv:"xt4GQkVIo",meOnt:function(e,t){return e(t)},LqcHf:n.YsJqy};s.close();let i=n.IEowP(_0x162030,"xPAY7PmDq"),a;if(_0x2c53c7){let o={};o.parent=_0x5c0e7b.sidebar,o.title=_0x379b2a[n.FQRzh],(a=new _0x437e2b(o)).Content.classList.add(n.fIzVS),a.Content.appendChild(i)}else(a=_0x1faf50(_0x379b2a.b20,!0)).content.classList.add("lg"),a.content.classList.add(n.VYjuD),a.body.appendChild(i);let r=0;e.members.forEach(e=>{r++,function e(n){_0x24a155(n).then(e=>{let n={dikLi:function(e,t,n){return e(t,n)},rGkGa:"mobile"},s=_0x162030("xScefCkPw"),o=t.rExNw(_0x162030,t.HtMxH),r=document.createElement(t.ncLBO);r.classList.add(t.xsbkr),r.src=e.avatarUrl||t.QufSY,r.draggable=!1,r.loading="lazy";let l={};l.action=t.JQRdY,l.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(l),o.appendChild(r);let c=t.giGsZ(_0x162030,t.BksFD),d=t.giGsZ(_0x162030,t.ZFHZv),$=t.meOnt(_0x162030,t.LqcHf);d.innerText=e.name,$.innerText=e.id,s.focusable(!0),c.appendChild(d),c.appendChild($),s.appendChild(o),s.appendChild(c),s.bindWithCooldown(function(){if(_0x2c53c7)n.dikLi(_0x4812a9,a.Root,{data:e,type:n.rGkGa});else{a.root.close();let t={};t.data=e,t.type="desktop",n.dikLi(_0x4812a9,_0x5c0e7b.main,t)}}),i.appendChild(s)}).catch(e=>{console.error(e)})}(e)}),1==r&&i.classList.add(n.MNRms)}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0x379b2a.b21,o.classList.add(n.tSlTv),[o,r,d].forEach(e=>{e.focusable(!0)}),d.bindWithCooldown(function(){let n={XXWGC:function(e,t){return e!==t},durbY:function(e,n,i,a){return t.EwrhH(e,n,i,a)},ouvDS:function(e,t,n){return e(t,n)},ZUXqz:function(e,n,i,a){return t.EwrhH(e,n,i,a)},AIdAS:"chats",ShvmP:function(e,t){return e(t)},OhrMF:function(e,t){return e===t},Wtsza:"d13"};s.close(),new _0x56fc21({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0x379b2a.b34,message:_0x379b2a[t.uQSpb],buttons:[{text:_0x379b2a[t.fWolj],classList:[t.bbUoS]},{text:_0x379b2a.b36,classList:[t.CkLny],onClick:async function(){let t=_0x4c936c.findIndex(t=>t.id===e.id);if(n.XXWGC(t,-1))try{await k(n.durbY(f,_0x5b0ce4,"users",_0x5710b0),{joined:y(e.id)}),await n.ouvDS(k,n.ZUXqz(f,_0x5b0ce4,n.AIdAS,e.id),{members:n.ShvmP(y,_0x5710b0)}),_0x4c936c.splice(t,1),i.remove(),_0x32eee1===e.id&&(_0x32eee1=null,_0x5c0e7b.statusLabel.innerHTML="",_0x5c0e7b.roomNameLabel.innerText=_0x379b2a.d12,_0x5c0e7b.messageContainer.clear()),n.OhrMF(_0x4c936c.length,0)&&(_0x5c0e7b.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x379b2a[n.Wtsza]+"</div>")}catch(a){console.error("Error while deleting item:",a)}}}]})}),s.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /></svg>'+_0x379b2a.b22,r.bindWithCooldown(async function(){let n={};n.HaiyC=t.XeTCV,n.lGYEe="xbrV3058R";let i=n;s.close();let a,o=_0x162030(t.BOubt),r=_0x162030(t.ptWqw);if(_0x2c53c7){let l={};l.parent=_0x5c0e7b.sidebar,l.title=_0x379b2a.b37,(a=new _0x437e2b(l)).Content.classList.add("x6q2Zh2QF"),a.Content.classList.add(t.uGsyY),a.Content.appendChild(o)}else(a=_0x1faf50(_0x379b2a.b37,!0)).content.classList.add("xb4MnocjO"),a.content.classList.add("lg"),a.body.appendChild(o);let c=t.PiKHf(_0x26138f,[]);function d(n,i){let s={zLGfY:"disabled",QLPMd:"chats",pKhCn:t.evRre,JjHoG:function(e,n){return t.uomni(e,n)},UirkJ:function(e,t,n,i,a,s){return e(t,n,i,a,s)},hIlUG:"8|0|3|5|4|2|6|7|1",HHdXZ:t.EzfPV,cPgWV:"更新失敗：",uXHqE:function(e,n){return t.PiKHf(e,n)},lXXIn:"xGGKUZ7B3",XRZLe:"label",tfwex:"xF37V7xd0",ofAgq:t.YKtkI,RrgFC:t.QCOmR,kVyVo:function(e,n){return t.PiKHf(e,n)},COKrj:t.ISyUt,GyQzM:t.VOpvL,TTGpU:t.yihIn,UTlrM:t.jPcVu,qZNfp:function(e,n){return t.PiKHf(e,n)},daoIL:t.kTDgk},o=_0x162030("xTIlpY4Et"),l=_0x162030("xA9JMbz3o");o.appendChild(l),"green"===n.theme?l.classList.add("x9hGI5hex"):t.aETVD(n.theme,"pink")&&l.classList.add("x0eVQzH93");let d=_0x162030(t.MzsJU);o.appendChild(d);let $=t.PiKHf(_0x162030,"xt4GQkVIo");$.innerHTML=n.name||_0x379b2a.d9,d.appendChild($);let h=_0x162030(t.rZTgi);t.FcDoH(_0x39e021,h,n.description||t.pnebq),d.appendChild(h);let u=_0x348c3c(n.startAt,n.endAt),x=t.PiKHf(_0x162030,t.PemjC);x.innerText=u,o.appendChild(x);let p=_0x162030("xxChbQgko"),_=t.PiKHf(_0x162030,"xaTPzRSCY");_.innerHTML=_0x3bd310.edit,_.focusable(!0);let m=_0x162030(t.iTZxx);m.innerHTML=_0x3bd310.trash,m.focusable(!0),_0x26138f([_,m],t.rzmax),m.bindWithCooldown(async function(){o.classList.add("disabled");try{m.focusable(!1),m.classList.add("disabled"),_.focusable(!1),_.classList.add(s.zLGfY),await b(f(_0x5b0ce4,s.QLPMd,e.id,s.pKhCn,i)),console.log("已成功刪除行程："+i),o.remove(),c.removeItem(o)}catch(t){m.focusable(!0),m.classList.remove(s.zLGfY),_.focusable(!0),_.classList.remove(s.zLGfY),console.error("刪除失敗：",t),o.classList.remove("disabled")}}),p.appendChild(_),p.appendChild(m),o.appendChild(p),o.focusable(!0),c.addItem(o),r.appendChild(o);let v={};v.name=n.name||"未知",v.startAt=n.startAt||17356608e5,v.endAt=n.endAt||17356608e5,v.description=n.description||"";let g=v;_.bindWithCooldown(function(t){t.stopPropagation(),function t(){let o={};o.gWAWe=s.zLGfY;let r=o,l=_0x1faf50(_0x379b2a.b41,!0,a.Root);l.root.Overlay.classList.add("xOjXmYkxE");let c=s.uXHqE(_0x162030,s.lXXIn),d="_"+_0x1cbf6d(12),u=document.createElement(s.XRZLe),x=document.createElement("input");u.classList.add(s.tfwex),x.classList.add("xYvZ9WF6d"),u.htmlFor=d,u.textContent=_0x379b2a.b38,x.id=d,x.type="text",x.value=g.name,x.maxLength=30,c.appendChild(u),c.appendChild(x);let b=s.uXHqE(_0x162030,s.lXXIn),p="_"+_0x1cbf6d(12),_=document.createElement("label"),m=document.createElement(s.ofAgq);_.classList.add("xF37V7xd0"),m.classList.add("xGuwEx6qN"),_.htmlFor=p,_.textContent=_0x379b2a.b3,m.id=p,m.rows=3,m.value=g.description,m.maxLength=80,b.appendChild(_),b.appendChild(m);let v=s.uXHqE(_0x162030,"xGGKUZ7B3");v.classList.add(s.RrgFC);let C="_"+_0x1cbf6d(12),w=document.createElement("label"),L=s.kVyVo(_0x162030,"x9ZwavJjj"),y=document.createElement("input"),E=document.createElement("input");w.classList.add("xF37V7xd0"),y.classList.add("xYvZ9WF6d"),w.htmlFor=C,w.textContent=_0x379b2a.b39,y.type=s.COKrj,y.id=C,E.classList.add("xYvZ9WF6d"),E.type="time";let T="_"+_0x1cbf6d(12),H=s.uXHqE(_0x162030,"x9ZwavJjj"),M=document.createElement("label"),I=document.createElement(s.GyQzM),R=document.createElement("input");M.classList.add(s.tfwex),I.classList.add("xYvZ9WF6d"),M.htmlFor=T,M.textContent=_0x379b2a[s.TTGpU],I.id=T,I.type="date",R.classList.add("xYvZ9WF6d"),R.type=s.UTlrM;let A=s.kVyVo(_0x162030,"xGGKUZ7B3"),B=s.qZNfp(_0x162030,"x40AApYkW");B.classList.add(s.daoIL),B.textContent=_0x379b2a.b6,B.classList.add(s.zLGfY);let W={};function Y(){""!==x.value.trim()&&y.value&&E.value&&I.value&&R.value&&(x.value!==W._z||y.value!==W._a||E.value!==W._b||I.value!==W._c||s.JjHoG(R.value,W._d)||m.value!==W._y)?(B.focusable(!0),B.classList.remove("disabled")):(B.focusable(!1),B.classList.add("disabled"))}W._z=n.name,W._y=n.description;let D=[x,y,E,I,R,m];if(D.forEach(e=>{e.oninput=Y}),B.bindWithCooldown(async function(){B.classList.add("disabled"),B.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let t=new Date(y.value+"T"+E.value).getTime(),n=new Date(I.value+"T"+R.value).getTime(),a=x.value,o=m.value;D.forEach(e=>{e.setAttribute("disabled",!0)});let c=s.UirkJ(f,_0x5b0ce4,"chats",e.id,"todos",i);try{let d=s.hIlUG.split("|"),u=0;for(;;){switch(d[u++]){case"0":g.name=a;continue;case"1":l.root.close();continue;case"2":$.innerHTML=g.name;continue;case"3":g.description=o;continue;case"4":g.endAt=n;continue;case"5":g.startAt=t;continue;case"6":_0x39e021(h,g.description||_0x379b2a[s.HHdXZ]);continue;case"7":console.log("已成功更新行程："+i);continue;case"8":let b={};b.endAt=n,b.startAt=t,b.name=a,b.description=o,await k(c,b);continue}break}}catch(p){console.error(s.cPgWV,p),D.forEach(e=>{e.classList.remove(r.gWAWe)})}}),L.appendChild(w),L.appendChild(y),L.appendChild(E),H.appendChild(M),H.appendChild(I),H.appendChild(R),l.body.appendChild(c),l.body.appendChild(b),l.body.appendChild(v),l.body.appendChild(A),v.appendChild(L),v.appendChild(H),A.appendChild(B),g.startAt){let S=new Date(g.startAt),z=new Date(g.startAt).toISOString().split("T")[0];console.log(z);let X=S.toTimeString().split(":").slice(0,2).join(":");console.log(z),W._a=z,W._b=X,y.value=z,E.value=X}if(g.endAt){let P=new Date(g.endAt),U=new Date(g.endAt).toISOString().split("T")[0],j=P.toTimeString().split(":").slice(0,2).join(":");W._c=U,W._d=j,I.value=U,R.value=j}Y(),x.focus()}()})}o.appendChild(r);let $=_0x162030(t.sHMPw);o.appendChild($);let h=t.PiKHf(_0x162030,"xCgVOK4ur");$.appendChild(h);let p=_0x162030("xtG9t2xuE"),_=_0x162030("x5FOXvrVK"),v=_0x162030(t.xMHpQ),g=_0x162030(t.VvmGu);p.appendChild(_),p.appendChild(v),p.appendChild(g);let w=!1;_.innerText=_0x379b2a.c1,v.innerText=_0x379b2a.c2,p.focusable(!0),h.appendChild(p);let L=t.PiKHf(_0x162030,"xY17x64dw");L.classList.add("xmiEvp5FV"),L.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',L.focusable(!0),p.bindWithCooldown(function(){w?(L.classList.remove(i.HaiyC),r.classList.remove(i.lGYEe),p.classList.remove("xHCo3rIZ7"),w=!1):(L.classList.add(i.HaiyC),r.classList.add("xbrV3058R"),p.classList.add("xHCo3rIZ7"),w=!0)},0),L.bindWithCooldown(async function(){let n=t.PiKHf(f,t.UIVuy(u,_0x5b0ce4,t.Cumra,e.id,"todos")),i={name:t.iEIyZ,description:"",startAt:Date.now(),endAt:Date.now()};await x(n,i),t.FcDoH(d,i,n.id)},1e3),h.appendChild(L),r.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x1b957c+"</div>";let y=await t.PQRvx(m,t.wvctu(C,t.FEYGt(u,_0x5b0ce4,"chats",e.id,t.evRre)));r.innerHTML='<div class="xmBX2cWRZ">'+_0x379b2a[t.hQfiT]+"</div>",t.uomni(y.docs.length,0)&&y.forEach(e=>{d(e.data(),e.id)})}),s.Content.appendChild(r),s.Content.appendChild(c),d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-door-exit"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0x379b2a[n.wtgpr],d.classList.add("xGy5QqsmI"),s.Content.appendChild(d),n.pqhUP(_0x26138f,[o,r,d]),s._setPosition()};if(l.bindWithCooldown(function(e){e.stopPropagation(),$()}),l.focusable(!0),i.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',a.appendChild(s),s.innerText=e.name||_0x379b2a.a2,t=e.description?e.description:0===e.size?_0x379b2a.b19:_0x379b2a[n.PIEKs].replace("$0",n.heNLh(_0x408292,e.size)),o.innerText=t,a.appendChild(o),_0x5c0e7b.primaryArea.appendChild(i),e.focus){n.SqyPP(c);let h={};h.behavior="smooth",h.block="center",h.inline=n.aBSeX,i.scrollIntoView(h)}}function _0x58e9df(e){let t={};t.OEUSA=function(e,t){return e<t},t.eqojM="a21",t.daUXm="a23",t.tPpiB=function(e,t){return e/t},t.JPpwX="a19",t.uekJx="a22";let n=t,i=Math.max(Math.floor((Date.now()-e)/1e3),0);return i<60?_0x379b2a.a18.replace("$0",i):i<3600?_0x379b2a.a20.replace("$0",Math.floor(i/60)):n.OEUSA(i,86400)?_0x379b2a[n.eqojM].replace("$0",Math.floor(i/3600)):i<2592e3?_0x379b2a[n.daUXm].replace("$0",Math.floor(n.tPpiB(i,86400))):i<31536e3?_0x379b2a[n.JPpwX].replace("$0",Math.floor(i/2592e3)):_0x379b2a[n.uekJx].replace("$0",_0x408292(Math.floor(i/31536e3)))}function _0xd80ef2(e){let t={};t.nwhRw=function(e,t){return e-t};let n=t,i=["B","KB","MB","GB","TB","PB"],a=e,s=0;for(;a>=1024&&s<n.nwhRw(i.length,1);)a/=1024,s++;return a.toFixed(2)+" "+i[s]}async function _0x1213a0(e,t){try{let n=({kLbKV:function(e,t,n,i){return e(t,n,i)}}).kLbKV(f,_0x5b0ce4,"users",e);if(t){await k(n,t),_0x1c1f85[e]&&(_0x1c1f85[e]={..._0x1c1f85[e],...t});let i=sessionStorage.getItem("upf_"+e);if(i){let a={...JSON.parse(i),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(a))}}else delete _0x1c1f85[e],sessionStorage.removeItem("upf_"+e);return!0}catch(s){return console.error("Failed to update user profile:",s),!1}}async function _0x24a155(e){let t={ZPyvt:function(e,t,n,i){return e(t,n,i)},HFKcj:"users",hgyJL:function(e,t){return e(t)}};if(_0x1c1f85[e])return _0x1c1f85[e];let n=sessionStorage.getItem("upf_"+e);if(n){let i=JSON.parse(n);return _0x1c1f85[e]=i,i}try{let a=await t.hgyJL(p,t.ZPyvt(f,_0x5b0ce4,t.HFKcj,e));if(!a.exists())return null;{let s=a.data();return _0x1c1f85[e]=s,sessionStorage.setItem("upf_"+e,JSON.stringify(s)),s}}catch(o){throw o}}async function _0x4e72ab(e){let t={fApBI:function(e,t,n,i){return e(t,n,i)},aZEje:"chats"};if(_0x47026e[e])return _0x47026e[e];let n=sessionStorage.getItem("rpf_"+e);if(n){let i=JSON.parse(n);return _0x47026e[e]=i,i}try{let a=await p(t.fApBI(f,_0x5b0ce4,t.aZEje,e));if(!a.exists())return null;{let s=a.data();return _0x1c1f85[e]=s,sessionStorage.setItem("rpf_"+e,JSON.stringify(s)),s}}catch(o){throw o}}async function _0x3365e0(e,t){let n={IiSHa:function(e,t){return e===t},DzHtF:function(e,t,n,i){return e(t,n,i)},fmKxl:"嘗試加載更多訊息",DnYfz:function(e,t,n,i,a){return e(t,n,i,a)},oRwFb:"timestamp",oGeZw:function(e,t){return e(t)},jtbPo:function(e,t){return e(t)},ylMpA:function(e,t){return e===t},piRyL:"instant"};if(console.log(n.fmKxl),void 0!==_0x3882f8){_0x5edf41=!0;let i=await m(n.DnYfz(C,n.DnYfz(u,_0x5b0ce4,"chats",e,"messages"),w(n.oRwFb,"desc"),n.oGeZw(v,_0x3882f8),n.jtbPo(E,10)));if(console.log(i.docs.length+" messages left"),0===i.docs.length)return;_0x3882f8=n.ylMpA(i.docs.length,10)?i.docs[9]:void 0;let a=[];i.forEach(e=>{a.push(e)}),a.reverse();let s=0;_0x271792=_0x162030("xWIHJooz8"),_0x4d909c="";let o=_0x5c0e7b.messageContainer.firstChild;_0x5c0e7b.messageContainer.insertBefore(_0x271792,o);let r=_0x5c0e7b.messageContainer.scrollHeight;a.map(e=>{s++;let t=e.data();n.IiSHa(_0x52d118.indexOf(e.id),-1)&&(n.IiSHa(t.sender,_0x5710b0)?(_0x52d118.push(e.id),n.DzHtF(_0x4cc0d0,t,e.id,"2")):(_0x52d118.push(e.id),n.DzHtF(_0x22034c,t,e.id,"2")),_0x4d909c=t)}),_0x5edf41=!0,_0x7449fe=_0x5c0e7b.messageContainer.scrollHeight-r;let l={};l.top=_0x7449fe,l.left=0,l.behavior=n.piRyL,_0x5c0e7b.messageContainer.scrollTo(l),_0x7449fe=0,setTimeout(function(){_0x5edf41=!1},500)}else _0x5edf41=!1}let _0x9b50fe='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x5cfc1e(e){let t={kzGnF:function(e,t){return e!==t},tQKuu:"added",YFShH:"hidden",iFifn:function(e,t,n,i){return e(t,n,i)},njmYB:"removed",wqQzp:"{sid}",atEWj:"modified",cbVgR:function(e,t){return e(t)},hBuIt:"找不到匹配的訊息容器",aYCkK:"修改訊息時發生未知錯誤",WCgpc:"An unknown error occurred",AzQzS:function(e,t,n,i,a){return e(t,n,i,a)}};g(t.AzQzS(u,_0x5b0ce4,"chats",e,"messages"),n=>{n.docChanges().forEach(n=>{if(t.kzGnF(_0x32eee1,e))return;let i=n.doc.data();switch(n.type){case t.tQKuu:-1!==_0x52d118.indexOf(n.doc.id)||n.doc.metadata.fromCache||(document.visibilityState===t.YFShH&&(_0x2b45c9++,document.title="("+_0x2b45c9+") "+_0x4f469a),console.log(_0x52d118.indexOf(n.doc.id)),_0x52d118.push(n.doc.id),i.sender===_0x5710b0?_0x4cc0d0(i,n.doc.id,"3"):t.iFifn(_0x22034c,i,n.doc.id,"3"));break;case t.njmYB:let a=_0x450155(_0x9b50fe.replace(t.wqQzp,n.doc.id));try{a.classList.add("xl4gtQk5f"),setTimeout(function(){a.remove()},3e3)}catch(s){console.log(s)}break;case t.atEWj:try{let o=t.cbVgR(_0x450155,_0x9b50fe.replace("{sid}",n.doc.id)).querySelector(".xMyW2iRSH");o?(o.clear(),_0x49ba0(o,i.content)):console.log(t.hBuIt)}catch(r){console.log(t.aYCkK,r)}}})},e=>{console.error(t.WCgpc,e)})}function _0x236817(){let e={rLsHJ:"xA7y7OLtP",iZkIb:"0|4|2|1|3",fUdFp:"auth/invalid-login-credentials",VTScU:"auth/network-request-failed",sMYjR:function(e,t,n){return e(t,n)},eSBTs:function(e,t){return e===t},FZfLk:function(e,t){return e===t},DaELG:"disabled",vLOrb:function(e,t){return e(t)},sksKr:"x4V8Jejrz",xcfDe:function(e,t){return e(t)},vKiJj:"xRRuA0Z3S",qKWYY:"x7BYgkdiJ",JmwTo:"b11",CpSwi:"b10",nDxXE:"div",tAHjG:"xBnuWNG6V",JYopP:"actionbtn xYIKBnbHS",rgFUo:"b12",uKKDV:"x6Y89FynP",gfIBL:"xZdL9CF5M",SXQVs:"xGGKUZ7B3",iXYsz:"xF37V7xd0",QzRLz:"input",fypIm:"off",PZXUi:"xw0IanPrC",dibdc:"b26",nBHnf:function(e,t){return e(t)},ktYEP:"xPT7rhLdL"},t=e.vLOrb(_0x162030,"xrYn5ZY3v");t.innerText=_0x379b2a.b8;let a=e.vLOrb(_0x162030,e.sksKr);a.innerText=_0x379b2a.b9;let o=e.xcfDe(_0x162030,e.vKiJj),r=document.createElement("div");r.id=e.qKWYY,r.focusable(!0);let l='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0x379b2a[e.JmwTo],c='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0x379b2a[e.CpSwi]+"</span>\n						</div>";r.innerHTML=l;let d=document.createElement(e.nDxXE);d.focusable(!0),d.id=e.tAHjG,d.className="actionbtn xYIKBnbHS",r.className=e.JYopP,d.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0x379b2a[e.rgFUo],o.appendChild(r),o.appendChild(d);let $=new _0x29ca47;$.Content.classList.add("bt"),$.Root.classList.add("xCmJYJQtp"),$.Content.classList.add("xySmLVr4a"),$.Content.appendChild(t),$.Content.appendChild(a),$.Content.appendChild(o);let h=_0x162030("xrYn5ZY3v");h.classList.add("lf"),h.classList.add("gc");let u=e.vLOrb(_0x162030,"xZyuwxZPZ");u.focusable(!0),u.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',h.appendChild(u);let x=_0x162030(e.uKKDV);x.innerText=_0x379b2a.b27,h.appendChild(x);let f=_0x162030("xWDUelLWA");f.classList.add("xwxpzc3QF"),$.Content.appendChild(h),$.Content.appendChild(f);let b=document.createElement(e.nDxXE);f.appendChild(b),b.classList.add(e.gfIBL);let p=document.createElement(e.nDxXE);p.classList.add(e.SXQVs),b.appendChild(p);let _=document.createElement("label");_.classList.add(e.iXYsz),_.innerText=_0x379b2a.b24,p.appendChild(_);let m=document.createElement(e.QzRLz);m.classList.add("xYvZ9WF6d"),m.autocomplete=e.fypIm,m.type="text",m.disabled=!0,m.spellcheck=!1,p.appendChild(m);let v=document.createElement("div");v.classList.add("xGGKUZ7B3"),v.style.marginTop="10px",v.style.marginBottom="5px",b.appendChild(v);let g=document.createElement("label");g.classList.add(e.iXYsz),g.innerText=_0x379b2a.b25,v.appendChild(g);let C=document.createElement(e.QzRLz);C.classList.add("xYvZ9WF6d"),C.type="password",C.disabled=!0,C.autocomplete="off",v.appendChild(C);let w=document.createElement(e.nDxXE);w.classList.add(e.PZXUi),b.appendChild(w);let L=document.createElement("div");L.innerText=_0x379b2a[e.dibdc],L.classList.add(e.DaELG),L.classList.add("x40AApYkW"),b.appendChild(L);let y=e.nBHnf(_0x162030,e.ktYEP);y.focusable(!0),y.innerHTML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12l14 0"></path><path d="M5 12l6 6"></path><path d="M5 12l6 -6"></path></svg>'+_0x379b2a.b13,y.bindWithCooldown(function(){$.Content.classList.remove(e.rLsHJ),L.classList.add("disabled"),L.focusable(!1),m.disabled=!0,C.disabled=!0}),b.appendChild(y),u.bindWithCooldown(function(){let t=e.iZkIb.split("|"),n=0;for(;;){switch(t[n++]){case"0":$.Content.classList.remove("xA7y7OLtP");continue;case"1":m.disabled=!0;continue;case"2":L.focusable(!1);continue;case"3":C.disabled=!0;continue;case"4":L.classList.add("disabled");continue}break}});let k=!0,E=function(){let t={koLtb:"User is logged in: ",hIVal:"show",jqHNK:e.fUdFp,mhxEY:"auth/invalid-email",uLRGj:e.VTScU,MZFKK:"b17",Aszep:"b26",tHhsZ:"disabled",TuEGP:function(t,n,i){return e.sMYjR(t,n,i)}};k&&(k=!1,u.classList.add("disabled"),u.focusable(!1),w.classList.remove("show"),L.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,C.disabled=!0,L.classList.add("disabled"),L.focusable(!1),L.blur(),y.classList.add("disabled"),y.focusable(!1),s(_0x1717be,m.value,C.value).then(e=>{try{$.close(),α.close()}catch(n){}let i=e.user;console.log(t.koLtb,i)}).catch(e=>{t.TuEGP(setTimeout,function(){let n=e.code;switch(w.classList.add(t.hIVal),n){case t.jqHNK:w.innerText=_0x379b2a.b14;break;case t.mhxEY:w.innerText=_0x379b2a.b15;break;case t.uLRGj:w.innerText=_0x379b2a.b16;break;default:w.innerText=_0x379b2a[t.MZFKK]}L.innerHTML=_0x379b2a[t.Aszep],L.classList.remove("disabled"),L.focusable(!0),y.classList.remove("disabled"),y.focusable(!0),m.disabled=!1,C.disabled=!1,u.classList.remove(t.tHhsZ),u.focusable(!0),k=!0},3e3)}))};C.onkeydown=function(t){e.eSBTs(t.keyCode,13)&&E()},L.bindWithCooldown(E),r.bindWithCooldown(function(){let t={Akltq:function(t,n){return e.FZfLk(t,n)},qmbZh:"auth/popup-closed-by-user",LKQHY:"0|4|1|2|3"};r.classList.add(e.DaELG),d.classList.add("disabled"),r.innerHTML=c,r.focusable(!1),d.focusable(!1),n(_0x1717be,_0x33b9e0).then(e=>{let t={fEfZl:function(e,t,n,i){return e(t,n,i)}};i.credentialFromResult(e).accessToken,_0x24a155(_0x5710b0=e.user.uid).then(e=>{try{t.fEfZl(_0x3efe69,e.avatarUrl,e.name,e.qid||e.id)}catch(n){console.error("無法設置")}$.close()}).catch(e=>{console.error(e)})}).catch(e=>{if(t.Akltq(e.code,t.qmbZh)){let n=t.LKQHY.split("|"),i=0;for(;;){switch(n[i++]){case"0":r.classList.remove("disabled");continue;case"1":r.focusable(!0);continue;case"2":d.focusable(!0);continue;case"3":r.innerHTML=l;continue;case"4":d.classList.remove("disabled");continue}break}}})}),d.bindWithCooldown(function(){$.Content.classList.add("xA7y7OLtP"),m.disabled=!1,C.disabled=!1,L.focusable(!0),L.classList.remove(e.DaELG),m.focus()})}function _0x2368d0(e="",t="",...n){let i={eARqO:function(e,t){return e!==t},xuYuY:"disabled",QCmVV:function(e,t){return e===t},nMWIY:function(e,t,n,i){return e(t,n,i)},xlUNo:"users",TcEOB:function(e,t,n){return e(t,n)},UHKqW:function(e,t,n,i){return e(t,n,i)},SdUkB:function(e,t){return e(t)},lTXaO:function(e,t){return e(t)},AnHyb:function(e,t){return e(t)},JOhGi:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',jSSDv:"xWDUelLWA",WsTkO:"true",VJkGR:"file",XcYBf:"xGGKUZ7B3",yKHbD:"xF37V7xd0",gOWzw:"off",mDPdj:"_fM6Qcf9q",hHhCh:"textarea"},a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x29ca47(a);s.Root.classList.add("xMCbxIsn5"),s.Content.style.padding="0";let o=i.lTXaO(_0x162030,"xrYn5ZY3v");o.classList.add("lf");let r=i.AnHyb(_0x162030,"x6Y89FynP");r.innerText=_0x379b2a.b5,o.appendChild(r);let l=_0x162030("xvb5soWNa");l.focusable(!0),l.innerHTML=i.JOhGi,s.close=s.close.bind(s),l.bindWithCooldown(s.close),o.appendChild(l),s.Content.appendChild(o);let c=_0x162030(i.jSSDv);s.Content.appendChild(c);let d=document.createElement("input");d.setAttribute("hidden",i.WsTkO),d.id="_Jy2eOVG7",d.type=i.VJkGR;let $=_0x162030(i.XcYBf),h=document.createElement("label");h.innerText=_0x379b2a.b4,h.classList.add(i.yKHbD),h.htmlFor="_rJvAjH9O";let u=document.createElement("input");u.value=e,u.classList.add("xYvZ9WF6d"),u.id="_rJvAjH9O",u.type="text",u.maxLength="20",u.autocomplete=i.gOWzw,u.spellcheck=!1,c.appendChild($),$.appendChild(h),$.appendChild(u);let b=i.AnHyb(_0x162030,"xGGKUZ7B3"),_=document.createElement("label");_.innerText=_0x379b2a.b3,_.classList.add("xF37V7xd0"),_.htmlFor=i.mDPdj;let m=document.createElement(i.hHhCh);m.maxLength="80",m.value=t,m.classList.add("xGuwEx6qN"),m.id=i.mDPdj,m.rows="3",m.maxLength="50",m.autocomplete=i.gOWzw,m.spellcheck=!1,c.appendChild(b),b.appendChild(_),b.appendChild(m);let v=i.lTXaO(_0x162030,"x40AApYkW");function g(){m.value!==t||i.eARqO(u.value,e)?(v.classList.remove("disabled"),v.focusable(!0)):(v.classList.add(i.xuYuY),v.focusable(!1))}async function C(){let e={BJRSH:function(e,t){return i.QCmVV(e,t)}};v.classList.add("disabled"),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),u.disabled=!0,m.disabled=!0,d.disabled=!0;let t=u.value,n=m.value.trim();if((await p(i.nMWIY(f,_0x5b0ce4,i.xlUNo,_0x5710b0))).exists()){let a={};a.name=t,a.signature=n,await i.TcEOB(_0x1213a0,_0x5710b0,a)}else await x(i.UHKqW(f,_0x5b0ce4,i.xlUNo,_0x5710b0),{name:t,signature:n,id:_0x5710b0,joined:[],deviceInfo:""}),_0x5c0e7b.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x379b2a.d7+"</div>";_0x5c0e7b.nameLabel.innerText=t,_0x29183b.state&&(_0x29183b._n=t,_0x29183b._a.innerText=t,_0x29183b._b.innerHTML=i.SdUkB(_0x8141dc,_0x5a10f4(n))||_0x379b2a.d10,_0x29183b._m.forEach(n=>{e.BJRSH(n.userId,_0x5710b0)&&(n.dom.textContent="@"+t)})),s.close()}v.innerText=_0x379b2a.b7,v.classList.add(i.xuYuY),v.style.marginTop="0",c.appendChild(v),m.oninput=g,u.oninput=g,v.bindWithCooldown(C),u.focus()}async function _0x37d99d(e,t){let n={Eqkqi:function(e,t,n,i,a){return e(t,n,i,a)},xXfDk:"chats",TVtvE:"messages",fHTXi:function(e,t){return e(t)}},i=await m(n.Eqkqi(u,_0x5b0ce4,n.xXfDk,e.id,n.TVtvE));if(!_0x4c936c.some(t=>t.id===e.id)){let a={};a.name=e.name,a.id=e.id,a.type=e.type,a.tag=e.tag,a.description=e.description,a.size=i.size,a.members=e.members,a.focus=t,a.identity=e.identity,n.fHTXi(_0x298553,a)}}async function _0x1ac8b4(){let e={EUqZC:function(e,t){return e(t)},ofYWl:"d13"};_0x5c0e7b.primaryArea.classList.add("xuGldtFot");let t=(await p(f(_0x5b0ce4,"users",_0x5710b0))).data(),n=new URLSearchParams(window.location.search).get("r");(t.joined||[]).length>0?t.joined.map(async t=>{let i={HlGqe:function(e,t,n){return e(t,n)},DUpxj:function(e,t){return e===t}};try{e.EUqZC(_0x4e72ab,t).then(async e=>{let a={};a.id=t,a.name=e.name,a.type=e.type,a.tag=e.tag,a.plugins=e.plugins,a.members=e.members,a.description=e.description,a.identity=e.identity,i.HlGqe(_0x37d99d,a,i.DUpxj(n,t))})}catch(a){console.error("Error fetching document for ID:",t,a)}}):_0x5c0e7b.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x379b2a[e.ofYWl]+"</div>"}a(_0x1717be,e=>{let t={RNggm:function(e,t,n,i){return e(t,n,i)},YNNDi:function(e){return e()},ZJrhC:function(e,t){return e(t)}};e?(_0x5710b0=e.uid,t.ZJrhC(_0x24a155,_0x5710b0).then(e=>{if(!e){_0x2368d0();return}t.RNggm(_0x3efe69,e.avatarUrl,e.name,e.id)}).catch(e=>{console.error(e),t.YNNDi(_0x3efe69)}),t.YNNDi(_0x478c24)):(_0x5710b0="",_0x236817())});let _0x10877a={};_0x10877a.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x10877a.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x10877a.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x10877a.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x10877a.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x908ae=_0x10877a;function _0x5c5744(){let e={};e.oovTP=function(e,t){return e!==t};let t=_0x5c0e7b.messageContainer.scrollTop;e.oovTP(_0x5710b0,"")&&""!==_0x32eee1&&t<120&&!_0x5edf41&&(_0x287fe8=!0,_0x3365e0(_0x32eee1))}function _0x2842d0(){let e={};e.VXnJM="x8VAGH6N2",_0x528358=!1,_0x26a1e1=_0x5c0e7b.sidebar,_0x5c0e7b.backButton.classList.add("disabled"),_0x5c0e7b._mb_att_btn.classList.add("disabled");let t=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",t),_0x5c0e7b.main.classList.remove(e.VXnJM),_0x5edf41=!0,_0x5c0e7b.messageContainer.clear(),_0x5edf41=!1,_0x32eee1="",_0x4f469a="Structure",document.title=_0x4f469a,_0x5c0e7b.messageInput.clear(),_0x5c0e7b.messageInput.setAttribute("contenteditable","true"),_0x5c0e7b.messageInput.focusable(!1),_0x5c0e7b.sendButton.classList.add("disabled"),_0x5c0e7b.sendButton.focusable(!1)}_0x5c0e7b.fileInput.onchange=async function(e){let t={pQNRx:function(e,t){return e*t},qPStG:"{u}",vwkOi:function(e,t,n,i,a){return e(t,n,i,a)},usvkS:function(e,t,n){return e(t,n)},WAxJL:"b46",xvjOK:function(e,t){return e(t)},zyllf:"xWDUelLWA",WXyCW:"xIOucKmLX",BZCrC:function(e,t){return e(t)},CrxCA:"x6Y89FynP",IkoGM:function(e,t){return e(t)},xdRBz:"xvb5soWNa",WDOzw:"b43",pOObY:"div",uaXir:"xIEj1ZAnA",vSgDA:"image/",omVTE:"< video {u}",jsicA:"audio/",vvfKZ:"< audio {u}",jzXQc:function(e,t){return e!==t},SKtKE:"application/x-rar-compressed",LGhJC:"application/vnd.rar",wGerk:function(e,t){return e===t},firqS:"< pdf {u}",IVfkf:"xsoLox5sj",XbKYt:"xk0osKWCK",rVvew:"生成文件名時發生未知錯誤"},n=e.target.files[0];if(!n)return;let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x29ca47(i);a.Overlay.classList.add("xOjXmYkxE"),a.Lock=!0;let s=_0x162030("xrYn5ZY3v");s.classList.add("lf");let o=t.xvjOK(_0x162030,t.zyllf);o.classList.add(t.WXyCW),a.Content.appendChild(s),a.Content.appendChild(o),a.Content.classList.add("gt");let r=t.BZCrC(_0x162030,t.CrxCA),$=t.BZCrC(_0x162030,"xujSSErs5");s.appendChild(r),o.appendChild($);let h=t.IkoGM(_0x162030,t.xdRBz);if(h.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',h.focusable(!0),s.appendChild(h),n.size>52428800){r.innerText=_0x379b2a.b48,$.innerText=_0x379b2a.b49.replace("$0",t.IkoGM(_0xd80ef2,n.size)),h.onclick=function(){_0x5c0e7b.fileInput.value="",a.close.bind(a)()},a.Lock=!1;return}r.innerText=_0x379b2a.b42,$.innerText=_0x379b2a[t.WDOzw];let b=document.createElement("div");b.classList.add("xCECpHDwZ"),b.focusable(!0),o.appendChild(b);let p=document.createElement("div");p.classList.add("xty9qDHrl"),b.appendChild(p);let _=document.createElement(t.pOObY);_.classList.add(t.uaXir);let m=t.IkoGM(String,n.type),v="",g="";m.startsWith(t.vSgDA)?(v=_0x908ae.image,g="< image {u}"):m.startsWith("video/")?(v=_0x908ae.video,g=t.omVTE):m.startsWith(t.jsicA)?(v=_0x908ae.audio,g=t.vvfKZ):t.jzXQc(["application/x-zip-compressed","application/zip",t.SKtKE,t.LGhJC,"application/x-compressed"].indexOf(m),-1)?(v=_0x908ae.archive,g="< other {u}"):t.wGerk(m,"application/pdf")?(v=_0x908ae.others,g=t.firqS):(v=_0x908ae.others,g="< other {u}"),_.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+v+"</svg>",p.appendChild(_);let C=document.createElement("div");C.classList.add("xxs4n9nhX"),p.appendChild(C),C.innerHTML='<div class="xTGGn7ABj">'.concat(n.name).concat('</div><div class="xtyaQiCLO">'+t.xvjOK(_0xd80ef2,n.size)+"</div>"),p.appendChild(C);let w=document.createElement("div");w.classList.add(t.IVfkf),p.appendChild(w);let L=document.createElement("div");L.classList.add(t.XbKYt),w.appendChild(L);let y="";try{y=_0x1cbf6d(12)+"-"+n.name}catch(k){console.log(t.rVvew,k)}let E=l(_0x385246,"uploads/"+_0x32eee1+"/attachment/"+y),T=c(E,n);h.onclick=function(){r.innerText=_0x379b2a.b44,$.innerText=_0x379b2a.b45,a.Lock=!1,T.cancel(),_0x5c0e7b.fileInput.value="",a.close()},T.on("state_changed",e=>{let n=t.pQNRx(e.bytesTransferred/e.totalBytes,100);L.style.width=n+"%"},e=>{console.log(e)},async()=>{let e=await d(T.snapshot.ref),n="";n=g.replace(t.qPStG,e);let i=f(t.vwkOi(u,_0x5b0ce4,"chats",_0x32eee1,"messages"));_0x52d118.push(i.id),await t.usvkS(x,i,{sender:_0x5710b0,content:n,timestamp:Date.now()});let s={};s.content=n,_0x4cc0d0(s,i.id,"3"),_0x5c0e7b.fileInput.value="",b.remove(),r.innerText=_0x379b2a[t.WAxJL],$.innerText=_0x379b2a.b47,h.onclick=()=>{},a.Lock=!1,h.bindWithCooldown(function(){a.close()})})},document.addEventListener("visibilitychange",function(){let e={};e.Mzzwp=function(e,t){return e===t},e.Mzzwp(document.visibilityState,"visible")&&(console.log("已重新聚焦 清除未讀訊息數"),document.title=_0x4f469a,_0x2b45c9=0)}),_0x5c0e7b.searchInput.oninput=function(){let e=_0x5c0e7b.searchInput.value.toLowerCase().trim();""!==e?_0x4c936c.forEach(t=>{t.name.toLowerCase().includes(e)?t.dom.classList.remove("hide"):t.dom.classList.add("hide")}):_0x4c936c.forEach(e=>{e.dom.classList.remove("hide")})},_0x5c0e7b.messageContainer.addEventListener("scroll",function(){_0x5c5744()}),_0x5c0e7b.messageInput.oninput=function(){let e={};e.ZgYwo=function(e,t){return e==t},e.SuSTZ=function(e,t){return e===t},e.cgyml="DIV",e.YRNqd="disabled";let t=e,n=_0x5c0e7b.messageInput.childNodes;t.ZgYwo(n.length,1)&&(t.SuSTZ(n[0].nodeName,"BR")||n[0].nodeName===t.cgyml)&&_0x5c0e7b.messageInput.clear(),""!==_0x5c0e7b.messageInput.innerText.trim()?(_0x5c0e7b.sendButton.classList.remove(t.YRNqd),_0x5c0e7b.sendButton.focusable(!0)):(_0x5c0e7b.sendButton.classList.add(t.YRNqd),_0x5c0e7b.sendButton.focusable(!1))},_0x5c0e7b.messageInput.onfocus=function(){let e={};e.CdPgd="xYIbDcl9T",document.body.classList.add(e.CdPgd)},_0x5c0e7b.messageInput.onblur=function(){let e={};e.LKnbk="xYIbDcl9T",document.body.classList.remove(e.LKnbk)},_0x5c0e7b.messageInput.onpaste=function(e){e.preventDefault(),document.execCommand("insertHTML",!0,_0x5a10f4((e.clipboardData||window.Clipboard).getData("text/plain")))},_0x5c0e7b.messageInput.ondrop=function(e){let t={};t.IehQF="text/plain",e.preventDefault();let n=e.dataTransfer.getData(t.IehQF);e.target.focus(),document.execCommand("insertHTML",!0,_0x5a10f4(n))},_0x5c0e7b.messageInput.oncopy=function(e){e.preventDefault();var t=window.getSelection().toString();e.clipboardData.setData("text/plain",t)},_0x5c0e7b.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x2c53c7||e.shiftKey||(e.preventDefault(),({HPnMX:function(e){return e()}}).HPnMX(_0x2add45));break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x5c0e7b.sendButton.bindWithCooldown(_0x2add45),document.onkeydown=function(e){let t={};t.ziUif=function(e,t){return e!=t},t.tRtHe=function(e,t){return e!=t},t.bxWyd="xYvZ9WF6d";let n=t;switch(e.keyCode){case 191:let i=document.activeElement;n.ziUif(i,_0x5c0e7b.messageInput)&&n.ziUif(i,_0x5c0e7b.searchInput)&&n.tRtHe(i.tagName.toUpperCase(),"INPUT")&&!i.classList.contains("xGuwEx6qN")&&!i.classList.contains(n.bxWyd)&&(e.preventDefault(),_0x5c0e7b.messageInput.focus());break;case 75:e.ctrlKey&&_0xbee9fe&&(e.preventDefault(),_0x5c0e7b.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x5c0e7b.backButton.bindWithCooldown(function(){({WqDud:function(e){return e()}}).WqDud(_0x2842d0)}),_0x5c0e7b.profileContainer.bindWithCooldown(function(){let e={UJcqI:function(e,t,n){return e(t,n)},bZUgl:function(e,t,n,i){return e(t,n,i)},huqlG:"nearest",SkhIU:"disabled",jYbbV:"成功加入",Inyhf:"normal",kqbHD:function(e,t,n){return e(t,n)},RiaGM:"a11",EYRFL:function(e,t){return e(t)},MnNuj:"label",DnjmD:"a13",foCGO:"xF37V7xd0",EXRlg:"input",bCSRw:"x4qSHIItt",xnqAA:"off",Zwwum:"xYvZ9WF6d",zbdBM:function(e,t){return e(t)},TmXUE:"x40AApYkW",vnXGO:"a14",ktCxx:"cvs",ZNaWa:"xmKH3ad5R",MRRIa:"xJd2GT7MI",MDHtN:"x9EnCPd4S",sMLXo:function(e,t){return e(t)},hjmQY:"xrQdSHI2A",IYSYZ:"a15"},t={};t.trigger=_0x5c0e7b.profileContainer,t.placement="top";let n=new _0xe1a8aa(t);n.Content.classList.add("xLhiIL2Wm"),_0x5c0e7b.profileContainer.classList.add("x9EnCPd4S");let i=e.EYRFL(_0x162030,"xrQdSHI2A");i.focusable(!0),i.innerHTML='<svg style="min-width: 24px" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 9h8" /><path d="M8 13h6" /><path d="M12.01 18.594l-4.01 2.406v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v5.5" /><path d="M16 19h6" /><path d="M19 16v6" /></svg>'+_0x379b2a.a11,i.bindWithCooldown(function(){let t={uUJvs:function(t,n,i){return e.UJcqI(t,n,i)},xcGtP:function(t,n,i,a){return e.bZUgl(t,n,i,a)},WEBkj:function(e,t){return e(t)},kQqNI:e.huqlG,xzpwW:e.SkhIU,tXjNg:e.jYbbV,KKlXU:"show",fcIjD:function(t,n,i,a){return e.bZUgl(t,n,i,a)},Tltit:function(e,t){return e===t},GBdWO:function(e,t){return e!==t},tyiJd:e.Inyhf,eQCzU:function(e){return e()}};n.close();let i=e.kqbHD(_0x1faf50,_0x379b2a[e.RiaGM],!0);i.Root.classList.add("xUhQpBm2v");let a=e.EYRFL(_0x162030,"xGGKUZ7B3");a.classList.add("xlEirFRi3");let s="_"+_0x1cbf6d(12),o=document.createElement(e.MnNuj);o.textContent=_0x379b2a[e.DnjmD],o.htmlFor=s,o.classList.add(e.foCGO);let r=document.createElement(e.EXRlg);r.classList.add(e.bCSRw),r.id=s,r.autocomplete="off",r.autocorrect=e.xnqAA,r.maxLength="8",r.classList.add("xYvZ9WF6d"),r.classList.add(e.Zwwum),a.appendChild(o),a.appendChild(r);let l=e.EYRFL(_0x162030,"xw0IanPrC"),c=e.zbdBM(_0x162030,e.TmXUE);c.classList.add(e.SkhIU),c.textContent=_0x379b2a[e.vnXGO];let d="disabled";async function $(){let e={LlSdj:"2|6|0|4|5|7|1|3",HlcHB:t.xzpwW,UYWwF:"a14",kEEOb:"show",QZYIg:function(e,t,n){return e(t,n)},EltmP:t.tXjNg};i.root.Lock=!0,i.closebtn.classList.add("disabled"),i.closebtn.focusable(!1),l.classList.remove(t.KKlXU),c.classList.add(t.xzpwW),r.setAttribute("disabled",!0),c.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let n=await m(C(t.uUJvs(u,_0x5b0ce4,"chats"),t.fcIjD(_,"jid","==",r.value.trim())));n.empty?t.uUJvs(setTimeout,function(){let t=e.LlSdj.split("|"),n=0;for(;;){switch(t[n++]){case"0":i.closebtn.focusable(!0);continue;case"1":c.classList.remove(e.HlcHB);continue;case"2":i.root.Lock=!1;continue;case"3":c.innerHTML=_0x379b2a[e.UYWwF];continue;case"4":l.classList.add(e.kEEOb);continue;case"5":l.innerText=_0x379b2a.a17;continue;case"6":i.closebtn.classList.remove(e.HlcHB);continue;case"7":r.removeAttribute("disabled");continue}break}},3e3):(i.root.Lock=!1,i.root.close());let a=[];n.forEach(e=>{let t={};t.id=e.id,a.push(t)}),a.forEach(async n=>{let i=_0x4c936c.find(e=>e.id===n.id);if(i){if(1===a.length){let s={};s.behavior="smooth",s.block="center",s.inline=t.kQqNI,i.dom.scrollIntoView(s),i.launch()}}else await t.uUJvs(k,t.xcGtP(f,_0x5b0ce4,"users",_0x5710b0),{joined:t.WEBkj(L,n.id)}),await t.uUJvs(k,t.xcGtP(f,_0x5b0ce4,"chats",n.id),{members:L(_0x5710b0)}),sessionStorage.removeItem("rpf_"+n.id),_0x4e72ab(n.id).then(async t=>{let i={};i.id=n.id,i.name=t.name,i.type=t.type,i.tag=t.tag,i.plugins=t.plugins,i.members=t.members,i.description=t.description,i.identity=t.identity,e.QZYIg(_0x37d99d,i,!0),console.log(e.EltmP,n.id)})})}r.oninput=function(){let e;e=r.value.trim(),t.Tltit(e.length,8)&&t.GBdWO(e,"")?(c.classList.remove("disabled"),c.focusable(!0),d=t.tyiJd):(c.classList.add(t.xzpwW),c.focusable(!1),d="disabled")},r.onkeydown=function(e){13===e.keyCode&&"normal"===d&&$()},c.bindWithCooldown(async function(){"normal"===d&&t.eQCzU($)}),i.body.appendChild(a),i.body.appendChild(l),i.body.appendChild(c),r.focus()});let a=e.sMLXo(_0x162030,e.hjmQY);a.focusable(!0),a.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0x379b2a[e.IYSYZ],a.bindWithCooldown(function(){let t={LbOyo:function(e,t,n){return e(t,n)},LDMUE:"desktop"};n.close(),e.zbdBM(_0x24a155,_0x5710b0).then(e=>{t.LbOyo(_0x4812a9,_0x5c0e7b.sidebar,{data:e,type:_0x2c53c7?"mobile":t.LDMUE})}).catch(e=>{console.error(e)})});let s=_0x162030("xcoXgMpFW"),r=e.EYRFL(_0x162030,"xrQdSHI2A");r.focusable(!0),r.bindWithCooldown(function(){n.close(),e.zbdBM(o,_0x1717be).then(()=>{_0x5710b0="",_0x32eee1="",_0x4c936c.length=0,_0x52d118.length=0,_0xbee9fe=!1;let t=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",t),_0x5c0e7b.primaryArea.clear(),_0x5c0e7b.messageContainer.clear(),_0x338e20&&clearInterval(_0x338e20),localStorage.setItem(e.ktCxx,""),_0x46ff83&&(_0x46ff83.remove(),_0x46ff83=null),document.body.classList.remove(e.ZNaWa),_0x5c0e7b.profileContainer.classList.remove(e.SkhIU),_0x5c0e7b.profileContainer.focusable(!0),_0x5c0e7b.markButton.classList.add("disabled"),_0x5c0e7b.brushButton.classList.add(e.SkhIU),_0x5c0e7b.attachButton.classList.add("disabled"),_0x5c0e7b.stickerButton.classList.add(e.SkhIU),_0x5da073=!1,_0x5c0e7b.avatarWrapper.classList.add(e.MRRIa),_0x5c0e7b.avatarLabel.src="",_0x5c0e7b.nameLabel.innerText="",_0x5c0e7b.signatureLabel.innerText=""}).catch(e=>{console.error("Sign out error",e)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0x379b2a.a16,e.zbdBM(_0x26138f,[i,a,r]),n.Content.appendChild(i),n.Content.appendChild(a),n.Content.appendChild(s),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x5c0e7b.profileContainer.classList.remove(e.MDHtN)})});class _0x437e2b{constructor({parent:e,title:t}){let n={ZCJvd:"inert",nvIod:"true",IQTio:function(e,t){return e(t)},LYaVG:"xMyenRl7K",sFtac:"body > *:not(.xEHCrF5Oe, script, [hidden])"},i=e,a=n.IQTio(_0x162030,"xB4hVI3El"),s=_0x162030("xopQXJrX5"),o=_0x162030("xZz4zYjIm"),r=_0x162030(n.LYaVG),l=_0x162030("x8JU9DbQZ"),c=n.IQTio(_0x162030,"xvwhg72ii");this._parent=i,this.Root=a,this.Content=o,this.Heading=s,this._backButton=l,this._deactivated_elements=document.querySelectorAll(n.sFtac),this._deactivated_elements.forEach(e=>{e.setAttribute(n.ZCJvd,n.nvIod)}),s.appendChild(r),r.appendChild(l),r.appendChild(c),c.textContent=t,l.focusable(!0),l.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',l.bindWithCooldown(this.close.bind(this)),a.appendChild(s),a.appendChild(o),document.body.appendChild(a),setTimeout(function(){_0x26a1e1=a,i.classList.add("xCr0RyqCg"),a.classList.add("xa2pPtuLq")},50)}onClose(e){this.onCloseCallback=e}close(){let e={};e.EdrBP="inert",e.PSllB="xCr0RyqCg";let t=e;this.onCloseCallback&&this.onCloseCallback(),this._deactivated_elements.forEach(e=>{e.removeAttribute(t.EdrBP)}),_0x26a1e1=this._parent,this.Root.classList.remove("xa2pPtuLq"),this._parent.classList.remove(t.PSllB),this._parent.classList.remove("xjv5U11Kz"),this.Root.classList.remove("xjv5U11Kz"),setTimeout(()=>{this.Root.remove()},100)}}async function _0x4812a9(e,t){let n={DoiLD:function(e,t){return e===t},ojTeR:function(e,t){return e>t},HrSgz:"xORN7XV1j",KKlZB:"xkyfCNAI0",tUDas:function(e,t){return e(t)},mNrcN:"cache-url",PqaKt:"3|4|6|1|0|8|7|5|2",vRVli:"img",hRNhS:"assets/default-banner.png",HIChM:"lazy",ihDuJ:"x96ofpjeu",joVTU:function(e,t){return e(t)},dUwuz:"xwvIJoAtO",UmeJJ:"xVwXc1fhM",HBKQJ:"xzCCWGB1D",pYoIF:function(e,t){return e(t)},GdUsp:"xBjZoCxmV",tWVRw:function(e,t){return e(t)},BsCHo:"x117sdiIx",OZqbt:function(e,t){return e(t)},CCxns:"xylvbLNlS",iedfq:function(e,t){return e(t)},bFXDE:"xodqSvoQM",dGmpW:function(e,t){return e+t},hsWHl:function(e,t){return e+t},dAbGd:"b50",qgFRb:"b51",bOsIf:function(e,t){return e===t},pPEEk:"xUHiz9aGO",CpVda:"xhMhXcFlu",sWBad:function(e,t){return e(t)},GcMNr:"xHPTUCUar",ybXNL:function(e,t,n){return e(t,n)},HJUTn:"horizontal",HWwAF:"xTKxbdpu3",MyzfA:"xwMgtrL2x",qVbtc:"xnS3FTqjp"};_0x29183b.state=!0,_0x29183b._n||(_0x29183b._n=t.data.name),_0x29183b._d||(_0x29183b._d=t.data.signature);let i=_0x162030(n.KKlZB),a=n.tUDas(_0x162030,"x0zSVRG3y"),s,o={};o.action="cache-url",o.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(o);let r={};if(r.action=n.mNrcN,r.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),n.DoiLD(t.data.bannerType,"video")){let l=n.PqaKt.split("|"),c=0;for(;;){switch(l[c++]){case"0":s.setAttribute("muted","");continue;case"1":s.controls=!1;continue;case"2":s.src=t.data.bannerUrl;continue;case"3":s=document.createElement("video");continue;case"4":s.loop=!0;continue;case"5":s.autoplay=!0;continue;case"6":s.controlslist="nodownload";continue;case"7":s.preload=!0;continue;case"8":s.playsInline=!0;continue}break}}else(s=document.createElement(n.vRVli)).draggable=!1,s.src=t.data.bannerUrl||n.hRNhS,s.loading=n.HIChM;s.classList.add(n.ihDuJ);let d=n.tUDas(_0x162030,"xkKF4v6d2"),$=n.joVTU(_0x162030,n.dUwuz),h=document.createElement("img");h.classList.add(n.UmeJJ);let u=_0x162030(n.HBKQJ),x=_0x162030("xCYnK7ffo"),f=_0x162030("xqYV0G7JT"),b=n.pYoIF(_0x162030,n.GdUsp),p=n.tWVRw(_0x162030,"xodqSvoQM"),_=_0x162030("xt0pX9m5p");i.appendChild(a),a.appendChild(s),i.appendChild(d),f.appendChild($),$.appendChild(h),h.draggable=!1,h.src=t.data.avatarUrl||"assets/avatar.png",h.loading="lazy",d.appendChild(x),d.appendChild(u),u.appendChild(f);let m=_0x162030("x2OCp76zA");u.appendChild(m);let v=n.tUDas(_0x162030,"xokk3UP7N");f.appendChild(v);let g=_0x29183b._n,C=n.tWVRw(_0x162030,n.BsCHo);C.textContent=g,b.appendChild(C);let w=n.pYoIF(_0x162030,"xxXoB6W0R");w.textContent=t.data.id;let L=0;t.data.qid&&w.bindWithCooldown(function(){n.DoiLD(L,0)?(L=1,w.textContent=t.data.qid):(L=0,w.textContent=t.data.id)},0),v.appendChild(b),v.appendChild(w),_0x29183b._a=C,_0x29183b._b=p,p.innerHTML=n.tUDas(_0x8141dc,_0x5a10f4(_0x29183b._d||_0x379b2a.d10)),d.appendChild(_);let y=n.OZqbt(_0x162030,n.CCxns);y.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M3 17c3.333 -3.333 5 -6 5 -8c0 -3 -1 -3 -2 -3s-2.032 1.085 -2 3c.034 2.048 1.658 4.877 2.5 6c1.5 2 2.5 2.5 3.5 1l2 -3c.333 2.667 1.333 4 3 4c.53 0 2.639 -2 3 -2c.517 0 1.517 .667 3 2" /></svg>'+_0x379b2a.b1,_.appendChild(y),_.appendChild(p);let k=_0x162030("xylvbLNlS");k.id="xY3QPRePs",k.innerHTML='<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-trending-up"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 17l6 -6l4 4l8 -8" /><path d="M14 7l7 0l0 7" /></svg>'+_0x379b2a.b2;let E=n.iedfq(_0x162030,n.bFXDE),T=new Date(t.data.deviceInfo.lastUpdate),H=n.dGmpW(n.dGmpW(n.hsWHl(T.getFullYear()+"/",n.hsWHl(T.getMonth(),1))+"/"+T.getDate()," ")+T.getHours().toString()+":",T.getMinutes().toString().padStart(2,"0"));E.innerText=(n.tUDas(_0x58e9df,t.data.deviceInfo.lastUpdate)||_0x379b2a.d11)+" ("+(H||_0x379b2a.d12)+")",_.appendChild(k),_.appendChild(E);let M=_0x162030("xylvbLNlS");M.id="xkRGF6AbD",M.innerHTML='<svg aria-hidden="true" style="min-width: 24px;" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M15 4.5l-4 4l-4 1.5l-1.5 1.5l7 7l1.5 -1.5l1.5 -4l4 -4" /><path d="M9 15l-4.5 4.5" /><path d="M14.5 4l5.5 5.5" /></svg>'+_0x379b2a[n.dAbGd];let I=_0x162030(n.bFXDE);if(I.innerHTML=t.data.dynamics||_0x379b2a[n.qgFRb],_.appendChild(M),_.appendChild(I),n.bOsIf(t.type,"desktop")){let R={};R.closeOnEsc=!0,R.closeOnOverlayClick=!0;let A=new _0x29ca47(R);A.Content.classList.add("xlY0G76Nv"),A.Content.classList.add("lg"),A.Content.classList.add("gb");let B=_0x162030("xjMiLDVEU"),W=_0x162030(n.pPEEk),Y=n.tUDas(_0x162030,n.CpVda),D=n.tWVRw(_0x162030,"xIl46kG8k"),S=n.sWBad(_0x162030,"xjMYgfYFc");D.appendChild(S),S.textContent=t.data.name,W.appendChild(D),W.appendChild(Y);let z=n.pYoIF(_0x162030,"xHPTUCUar");if(z.bindWithCooldown(A.close.bind(A)),z.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',z.focusable(!0),t.data.id===_0x5710b0){let X=_0x162030(n.GcMNr);X.bindWithCooldown(function(){_0x2368d0(_0x29183b._n,_0x29183b._d,A.Root)}),X.innerHTML=_0x3bd310.edit,X.focusable(!0),Y.appendChild(X),n.ybXNL(_0x26138f,[X,z],n.HJUTn)}Y.appendChild(z),B.appendChild(W),A.Content.appendChild(B),B.appendChild(i);let P=A.Content.getBoundingClientRect();if(A.Content.style.setProperty("--xD672nKxG",P.height+"px"),B.onscroll=function(){n.ojTeR(B.scrollTop,60)?B.classList.add(n.HrSgz):B.classList.remove("xORN7XV1j")},t.data.verified){let U=n.sWBad(_0x162030,n.HWwAF);U.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',b.appendChild(U)}A.onClose(function(){_0x29183b.state=!1,_0x29183b._a=null,_0x29183b._b=null,_0x29183b._n="",_0x29183b._d=""})}else{let j={};j.parent=e,j.title=t.data.name;let O=new _0x437e2b(j);if(t.data.id===_0x5710b0){let q=_0x162030("x8JU9DbQZ");q.classList.add("xnS3FTqjp"),q.bindWithCooldown(function(){_0x2368d0(_0x29183b._n,_0x29183b._d,O.Root)}),q.innerHTML=_0x3bd310.edit,q.focusable(!0),O.Heading.appendChild(q)}O.Root.classList.add(n.MyzfA),O.onClose(function(){_0x29183b.state=!1,_0x29183b._a=null,_0x29183b._b=null,_0x29183b._n="",_0x29183b._d=""}),O.Root.onscroll=function(){O.Root.scrollTop>60?O.Root.classList.add("xORN7XV1j"):O.Root.classList.remove("xORN7XV1j")},O._backButton.classList.add(n.qVbtc),O.Content.appendChild(i)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{let t={};t.EwBPE=function(e,t){return e===t};let n=t;e.onupdatefound=()=>{let t=e.installing;t.onstatechange=()=>{n.EwBPE(t.state,"installed")&&window.location.reload()}}}).catch(e=>{console.log("註冊失敗：",e)});
