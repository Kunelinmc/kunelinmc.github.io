/**release 0.1.8*/
let _0x29a560=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x1e32c4=_0x29a560(this,function(){let e={};return e.rHcuW="(((.+)+)+)+$",_0x1e32c4.toString().search(e.rHcuW).toString().constructor(_0x1e32c4).search("(((.+)+)+)+$")});_0x1e32c4();let _0x3f7b1f=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x166bdf=_0x3f7b1f(this,function(){let e={};e.Zntwq="return (function() ",e.mOTzT='{}.constructor("return this")( )',e.dpSqI="log",e.BAsDR="exception",e.NmyVx="table";let t=e,n=function(){let e;try{e=Function(t.Zntwq+t.mOTzT+");")()}catch(n){e=window}return e}(),i=n.console=n.console||{},a=[t.dpSqI,"warn","info","error",t.BAsDR,t.NmyVx,"trace"];for(let s=0;s<a.length;s++){let o=_0x3f7b1f.constructor.prototype.bind(_0x3f7b1f),r=a[s],l=i[r]||o;o.__proto__=_0x3f7b1f.bind(_0x3f7b1f),o.toString=l.toString.bind(l),i[r]=o}});_0x166bdf();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as i,onAuthStateChanged as a,signInWithEmailAndPassword as s,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as l,uploadBytesResumable as c,getDownloadURL as d}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as $,enableIndexedDbPersistence as u,collection as h,setDoc as x,doc as p,deleteDoc as f,getDoc as b,where as _,getDocs as m,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as y,arrayRemove as L,updateDoc as k,limit as T}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x28708c{constructor(e,t={}){let n="21|6|8|34|13|19|11|31|10|7|12|23|1|27|15|20|33|2|28|4|30|35|22|29|0|9|5|18|26|3|24|16|25|32|17|14".split("|"),i=0;for(;;){switch(n[i++]){case"0":this.touchStartScale=1;continue;case"1":this.posY=0;continue;case"2":this.needsRedraw=!1;continue;case"3":this.velocityY=0;continue;case"4":this.isTouching=!1;continue;case"5":this.initialCenterY=0;continue;case"6":this.ctx=this.canvas.getContext("2d");continue;case"7":this.tapTimeout=null;continue;case"8":this.logicalWidth=0;continue;case"9":this.initialCenterX=0;continue;case"10":this.lastTapTime=0;continue;case"11":let a={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=a;continue;case"12":this.scale=1;continue;case"13":this.devicePixelRatio=window.devicePixelRatio||1;continue;case"14":this.requestRedraw();continue;case"15":this.lastX=0;continue;case"16":this.isInertialMoving=!1;continue;case"17":this.setupEventListeners();continue;case"18":this.rotation=0;continue;case"19":this.updateCanvasSize();continue;case"20":this.lastY=0;continue;case"21":this.canvas=e;continue;case"22":this.touchStartPosX=0;continue;case"23":this.posX=0;continue;case"24":this.lastTime=0;continue;case"25":this.decelerationRate=.85;continue;case"26":this.velocityX=0;continue;case"27":this.isDragging=!1;continue;case"28":this.animationFrameId=null;continue;case"29":this.touchStartPosY=0;continue;case"30":this.initialDistance=0;continue;case"31":this.customDrawer=null;continue;case"32":this.minVelocityThreshold=.1;continue;case"33":this.img=null;continue;case"34":this.logicalHeight=0;continue;case"35":this.initialScale=1;continue}break}}updateCanvasSize(){let e={};e.fOUdi=function(e,t){return e*t};let t=this.canvas.parentElement;this.logicalWidth=t.clientWidth,this.logicalHeight=t.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=this.logicalWidth+"px",this.canvas.style.height=this.logicalHeight+"px",this.canvas.width=Math.floor(e.fOUdi(this.logicalWidth,this.devicePixelRatio)),this.canvas.height=Math.floor(this.logicalHeight*this.devicePixelRatio),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.IiOLD="5|2|16|13|4|1|7|12|0|10|17|14|18|8|21|3|20|11|22|19|6|15|9",e.jxiim="touchstart",e.QYODq="touchend",e.YVxTR="mouseup";let t=e,n=t.IiOLD.split("|"),i=0;for(;;){switch(n[i++]){case"0":this.handleWheel=this.handleWheel.bind(this);continue;case"1":this.handleMouseDown=this.handleMouseDown.bind(this);continue;case"2":this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this);continue;case"3":this.canvas.addEventListener("mousedown",this.handleMouseDown);continue;case"4":this.handleResize=this.handleResize.bind(this);continue;case"5":this.handleCanvasClick=this.handleCanvasClick.bind(this);continue;case"6":this.canvas.addEventListener(t.jxiim,this.handleTouchStart);continue;case"7":this.handleMouseMove=this.handleMouseMove.bind(this);continue;case"8":this.handleMouseLeave=this.handleMouseLeave.bind(this);continue;case"9":this.canvas.addEventListener(t.QYODq,this.handleTouchEnd);continue;case"10":this.handleTouchStart=this.handleTouchStart.bind(this);continue;case"11":document.addEventListener(t.YVxTR,this.handleMouseUp);continue;case"12":this.handleMouseUp=this.handleMouseUp.bind(this);continue;case"13":this.canvas.addEventListener(t.QYODq,this.handleCanvasTouchEnd);continue;case"14":this.handleTouchEnd=this.handleTouchEnd.bind(this);continue;case"15":this.canvas.addEventListener("touchmove",this.handleTouchMove);continue;case"16":this.canvas.addEventListener("click",this.handleCanvasClick);continue;case"17":this.handleTouchMove=this.handleTouchMove.bind(this);continue;case"18":this.draw=this.draw.bind(this);continue;case"19":this.canvas.addEventListener("mouseleave",this.handleMouseLeave);continue;case"20":document.addEventListener("mousemove",this.handleMouseMove);continue;case"21":window.addEventListener("resize",this.handleResize);continue;case"22":this.canvas.addEventListener("wheel",this.handleWheel);continue}break}}getDisplayWidth(){let e={};return e.nQeDa=function(e,t){return e%t},90===e.nQeDa(this.rotation,180)?this.img.height:this.img.width}getDisplayHeight(){let e={};e.woIFz=function(e,t){return e===t},e.yEwJR=function(e,t){return e%t};let t=e;return t.woIFz(t.yEwJR(this.rotation,180),90)?this.img.width:this.img.height}calculateInitialScale(){let e={};if(e.bJQfM=function(e,t){return e/t},!this.img)return;let t=this.getDisplayWidth(),n=this.getDisplayHeight(),i=e.bJQfM(this.logicalWidth,t),a=this.logicalHeight/n;this.options.minScale=Math.min(i,a,1),this.scale=this.options.minScale}centerImage(){let e={};e.PZkYp=function(e,t){return e*t},e.gmLDZ=function(e,t){return e-t},e.lKrcp=function(e,t){return e/t};let t=e;if(!this.img)return;let n=this.getDisplayWidth()*this.scale,i=t.PZkYp(this.getDisplayHeight(),this.scale);this.posX=t.gmLDZ(this.logicalWidth,n)/2,this.posY=t.lKrcp(this.logicalHeight-i,2),this.enforceBounds()}setCustomDrawer(e){let t={};t.pvaQM="function",typeof e===t.pvaQM?this.customDrawer=e:console.error("setCustomDrawer 期望接收一个函数")}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.mraft=function(e,t){return e+t},e.bUwUS=function(e,t){return e/t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=this.getDisplayWidth()*this.scale,i=this.getDisplayHeight()*this.scale;this.ctx.translate(this.posX+n/2,t.mraft(this.posY,t.bUwUS(i,2))),this.ctx.rotate(this.rotation*Math.PI/180),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,-this.img.width/2,-this.img.height/2),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){this.rotation=(this.rotation+90)%360,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.KdZkA=function(e,t){return e*t},e.xjAel=function(e,t){return e*t},e.BGKhD=function(e,t){return e>t},e.sLKDZ=function(e,t){return e-t},e.dxtsq=function(e,t){return e/t};let t=e;if(!this.img)return;let n=t.KdZkA(this.getDisplayWidth(),this.scale),i=t.xjAel(this.getDisplayHeight(),this.scale);t.BGKhD(n,this.logicalWidth)?this.posX=Math.min(Math.max(this.posX,t.sLKDZ(this.logicalWidth,n)),0):this.posX=t.dxtsq(this.logicalWidth-n,2),i>this.logicalHeight?this.posY=Math.min(Math.max(this.posY,this.logicalHeight-i),0):this.posY=(this.logicalHeight-i)/2}isInImageArea(e,t){let n={};n.XjYyv=function(e,t){return e*t},n.inHvp=function(e,t){return e+t},n.QZrAW=function(e,t){return e<=t};let i=n;if(!this.img)return!1;let a=this.getDisplayWidth()*this.scale,s=i.XjYyv(this.getDisplayHeight(),this.scale),o=this.posX,r=i.inHvp(o,a),l=this.posY,c=Math.min(r,this.logicalWidth),d=Math.min(l+s,this.logicalHeight);return e>=Math.max(o,0)&&e<=c&&t>=Math.max(l,0)&&i.QZrAW(t,d)}requestRedraw(){let e={GqJRu:"mousemove",YeKDr:function(e,t){return e(t)}};this.needsRedraw||(this.needsRedraw=!0,this.canvas.dispatchEvent(new MouseEvent(e.GqJRu)),this.animationFrameId&&e.YeKDr(cancelAnimationFrame,this.animationFrameId),this.animationFrameId=e.YeKDr(requestAnimationFrame,this.draw))}handleMouseDown(e){let t={};t.clNrR=function(e,t){return e-t};let n=this.canvas.getBoundingClientRect(),i=t.clNrR(e.clientX,n.left),a=e.clientY-n.top;this.isDraggable()&&this.isInImageArea(i,a)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor="grabbing")}handleMouseLeave(){let e={};e.ruQEd="default",this.canvas.style.cursor=e.ruQEd}handleMouseMove(e){let t={};t.UhASl=function(e,t){return e-t},t.wCWsK="grabbing",t.urWmR="grab",t.SdeJQ="default",t.tCvyY=function(e,t){return e-t},t.gETxp=function(e,t){return e/t};let n=t,i=this.canvas.getBoundingClientRect(),a=n.UhASl(e.clientX,i.left),s=e.clientY-i.top;if(this.isInImageArea(a,s)?this.canvas.style.cursor=this.isDragging?n.wCWsK:n.urWmR:this.canvas.style.cursor=n.SdeJQ,this.isDragging){let o=Date.now(),r=n.UhASl(o,this.lastTime);this.lastTime=o;let l=n.tCvyY(e.clientX,this.lastX),c=e.clientY-this.lastY;this.posX+=l,this.posY+=c,r>0&&(this.velocityX=l/r,this.velocityY=n.gETxp(c,r)),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.FCPEu=function(e,t){return e>t},t.CoIqu=function(e,t){return e-t};let n=t;this.isDragging=!1,n.FCPEu(Math.abs(this.velocityX),this.minVelocityThreshold)||n.FCPEu(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0);let i=this.canvas.getBoundingClientRect(),a=n.CoIqu(e.clientX,i.left),s=n.CoIqu(e.clientY,i.top);this.isInImageArea(a,s)?this.canvas.style.cursor="grab":this.canvas.style.cursor="default"}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={};e.EGWTA=function(e,t){return e-t},e.vIrGx=function(e,t){return e/t},e.YAoGy=function(e,t){return e*t},e.rOHyl=function(e,t){return e<t};let t=e;if(!this.isInertialMoving)return;let n=Date.now(),i=t.EGWTA(n,this.lastTime);this.lastTime=n,this.velocityX*=Math.pow(this.decelerationRate,t.vIrGx(i,16)),this.velocityY*=Math.pow(this.decelerationRate,t.vIrGx(i,16)),this.posX+=this.velocityX*i,this.posY+=t.YAoGy(this.velocityY,i),this.enforceBounds(),this.requestRedraw(),Math.abs(this.velocityX)<this.minVelocityThreshold&&t.rOHyl(Math.abs(this.velocityY),this.minVelocityThreshold)?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):requestAnimationFrame(this.animateInertia.bind(this))}handleWheel(e){let t={};t.MKNRf=function(e,t){return e-t},t.oHemz=function(e,t){return e>t},t.VDFhY=function(e,t){return e/t},t.ZAMQm=function(e,t){return e-t},t.ZChih=function(e,t){return e*t};let n=t;e.preventDefault();let i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=n.MKNRf(e.clientY,i.top);if(!this.isInImageArea(a,s))return;let o=n.oHemz(e.deltaY,0)?.9:1.1,r=n.VDFhY(a-this.posX,this.scale),l=n.ZAMQm(s,this.posY)/this.scale,c=Math.min(Math.max(this.scale*o,this.options.minScale),this.options.maxScale);this.posX=n.MKNRf(a,r*c),this.posY=s-n.ZChih(l,c),this.scale=c,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};if(t.DrqGV=function(e,t){return e>=t},0===e.touches.length)return;let n=Array.from(e.touches),i=this.getTouchCenter(n);this.initialCenterX=i.x,this.initialCenterY=i.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,t.DrqGV(e.touches.length,2)&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.vnVvB=function(e,t){return e===t},t.ZJdYk=function(e,t){return e/t},t.rqvrm=function(e,t){return e-t},t.Ljyjy=function(e,t){return e-t};let n=t;if(!this.isTouching)return;e.preventDefault();let i=Array.from(e.touches);if(n.vnVvB(i.length,0))return;let a=this.getTouchCenter(i),s=1;if(i.length>=2){let o=this.getTouchDistance(i[0],i[1]);this.initialDistance>0&&(s=o/this.initialDistance)}let r=Math.min(Math.max(this.touchStartScale*s,this.options.minScale),this.options.maxScale),l=n.ZJdYk(this.initialCenterX-this.touchStartPosX,this.touchStartScale),c=n.ZJdYk(this.initialCenterY-this.touchStartPosY,this.touchStartScale);if(this.posX=a.x-l*r,this.posY=n.rqvrm(a.y,c*r),this.scale=r,this.enforceBounds(),this.requestRedraw(),1===i.length){let d=Date.now(),$=d-this.lastTime;this.lastTime=d;let u=this.canvas.getBoundingClientRect(),h=i[0],x=h.clientX-u.left,p=n.Ljyjy(h.clientY,u.top);$>0&&(this.velocityX=n.ZJdYk(x-this.lastX,$),this.velocityY=n.ZJdYk(p-this.lastY,$)),this.lastX=x,this.lastY=p}}handleTouchEnd(){let e={};e.tNfCB=function(e,t){return e>t};let t=e;this.isTouching=!1,this.initialDistance=0,t.tNfCB(Math.abs(this.velocityX),this.minVelocityThreshold)||t.tNfCB(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){let e={};e.HSthQ="mousemove",this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent(e.HSthQ)),this.requestRedraw())}handleCanvasClick(e){let t={};if(t.TUZxC=function(e,t){return e-t},!this.img)return;let n=this.canvas.getBoundingClientRect(),i=e.clientX-n.left,a=t.TUZxC(e.clientY,n.top);this.isInImageArea(i,a)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={ODzze:function(e,t){return e>t},nzfRs:function(e,t){return e-t},kfmLf:function(e,t){return e(t)}};if(!this.img||t.ODzze(e.touches.length,0))return;let n=this.canvas.getBoundingClientRect(),i=e.changedTouches[0],a=i.clientX-n.left,s=t.nzfRs(i.clientY,n.top),o=new Date().getTime();if(o-this.lastTapTime<360){t.kfmLf(clearTimeout,this.tapTimeout);return}this.tapTimeout=setTimeout(()=>{this.isInImageArea(a,s)||this.triggerClickOutside(e),this.lastTapTime=o},200)}getTouchDistance(e,t){let n={};n.llowb=function(e,t){return e*t};let i=e.clientX-t.clientX,a=e.clientY-t.clientY;return Math.sqrt(n.llowb(i,i)+a*a)}isDraggable(){let e={};e.syjKJ=function(e,t){return e>t},e.HEvwq=function(e,t){return e*t},e.AxRKM=function(e,t){return e>t};let t=e;return this.img&&(t.syjKJ(t.HEvwq(this.img.width,this.scale),this.logicalWidth)||t.AxRKM(this.img.height*this.scale,this.logicalHeight))}triggerClickOutside(e){let t={};t.ZxKTI="function",t.VXIzm=function(e,t){return e-t};let n=t;if(typeof this.options.onClickOutside===n.ZxKTI){let i=this.canvas.getBoundingClientRect(),a={x:n.VXIzm(e.clientX,i.left),y:n.VXIzm(e.clientY,i.top),canvasX:e.clientX-i.left,canvasY:n.VXIzm(e.clientY,i.top),imageX:-1,imageY:-1};this.img&&(a.imageX=(a.canvasX-this.posX)/this.scale,a.imageY=(a.canvasY-this.posY)/this.scale),this.options.onClickOutside(a,e)}}getTouchCenter(e){let t={};t.syNcm=function(e,t){return e-t},t.Oioal=function(e,t){return e-t},t.qrXrK=function(e,t){return e/t};let n=t,i=0,a=0,s=this.canvas.getBoundingClientRect();for(let o of e)i+=n.syNcm(o.clientX,s.left),a+=n.Oioal(o.clientY,s.top);return{x:n.qrXrK(i,e.length),y:n.qrXrK(a,e.length)}}destroy(){let e={pJqRo:"mousemove",SUTow:"mouseleave",jayAM:"wheel",vFssm:"touchmove",BqYgc:"touchend",mcOcj:function(e,t){return e(t)}};window.removeEventListener("resize",this.handleResize),document.removeEventListener(e.pJqRo,this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.canvas.removeEventListener(e.SUTow,this.handleMouseLeave),this.canvas.removeEventListener("mousedown",this.handleMouseDown),this.canvas.removeEventListener(e.jayAM,this.handleWheel),this.canvas.removeEventListener("touchstart",this.handleTouchStart),this.canvas.removeEventListener(e.vFssm,this.handleTouchMove),this.canvas.removeEventListener(e.BqYgc,this.handleTouchEnd),this.canvas.removeEventListener("click",this.handleCanvasClick),this.canvas.removeEventListener(e.BqYgc,this.handleCanvasTouchEnd),this.animationFrameId&&e.mcOcj(cancelAnimationFrame,this.animationFrameId)}}function _0x4e37ad(e,t,n,i){let a={yUuEZ:function(e,t){return e+t},MLITa:function(e,t){return e*t},TSxoa:function(e,t){return e+t},TMFJc:function(e,t){return e+t},UxMfF:function(e,t){return e-t},jZKpu:function(e,t){return e(t)},gVXYY:function(e,t){return e<t},KHtoG:function(e,t){return e>t},evcSc:function(e,t){return e<t},WGjMy:function(e,t){return e>t},JiFHK:function(e,t){return e+t},ZlOGj:function(e,t){return e-t},jFYvM:function(e,t){return e*t},vHBlU:function(e,t){return e*t},aoEAx:function(e,t){return e*t}},s=a.JiFHK(a.ZlOGj(a.jFYvM(3,e),a.vHBlU(3,n)),1),o=a.MLITa(3,n)-6*e,r=3*e,l=a.vHBlU(3,t)-3*i+1,c=a.ZlOGj(3*i,a.aoEAx(6,t)),d=3*t;function $(e){return a.yUuEZ(a.MLITa(a.TSxoa(a.MLITa(s,e),o),e),r)*e}function u(e){return(a.MLITa(3*s,e)+2*o)*e+r}return e=>{var t;return t=function e(t){let n=0,i=1,s=t;for(let o=0;o<8;o++){let r=a.UxMfF($(s),t);if(1e-6>Math.abs(r))return s;let l=a.jZKpu(u,s);if(a.gVXYY(Math.abs(l),1e-6))break;s-=r/l}for(;a.KHtoG(i,n);){let c=a.UxMfF($(s),t);if(a.evcSc(Math.abs(c),1e-6))break;a.WGjMy(c,0)?i=s:n=s,s=(i+n)/2}return s}(e),(a.MLITa(a.TMFJc(a.MLITa(l,t),c),t)+d)*t}}function _0x297dfa(e,t="vertical"){let n={};n.VwaLn=function(e,t){return e%t},n.xhrMf="ArrowRight",n.CadwH=function(e,t){return e+t},n.LJBZz="keydown",n.pBfrO=function(e,t){return e<=t};let i=n;function a(){let n={GztzP:function(e,t){return e===t},Kkjba:"ArrowDown",lcGRE:function(e,t){return i.VwaLn(e,t)},KRBWg:i.xhrMf,qCJff:function(e,t){return i.CadwH(e,t)},OksFV:i.LJBZz};if(i.pBfrO(e.length,1)){e.forEach(e=>{e._navHandler&&(e.removeEventListener("keydown",e._navHandler),delete e._navHandler)});return}e.forEach((i,a)=>{let s={THFCn:function(e,t){return n.GztzP(e,t)},DzbqV:n.Kkjba,VFORa:function(e,t){return n.lcGRE(e,t)},ybpLA:"ArrowUp",STeRI:function(e,t){return e===t},iBipg:function(e,t){return n.GztzP(e,t)},QPMhH:n.KRBWg,mZtaH:function(e,t){return n.qCJff(e,t)}};i._navHandler&&i.removeEventListener(n.OksFV,i._navHandler),i._navHandler=n=>{let i=a;if("vertical"===t){if(s.THFCn(n.key,s.DzbqV))i=s.VFORa(a+1,e.length);else{if(n.key!==s.ybpLA)return;i=s.VFORa(a-1+e.length,e.length)}}else{if(!s.STeRI(t,"horizontal"))return;if(s.iBipg(n.key,s.QPMhH))i=(a+1)%e.length;else{if("ArrowLeft"!==n.key)return;i=s.mZtaH(a-1,e.length)%e.length}}e[i].focus()},i.addEventListener(n.OksFV,i._navHandler)})}a();let s={};return s.removeItem=function t(n){e=e.filter(e=>e!==n),a()},s.addItem=function t(n){e.push(n),a()},s.updateEventListeners=a,s}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.WFHbz="disabled",n.LmNQE=function(e,t){return e===t},n.MWmGf=function(e,t){return e===t},n.iQmUt="keydown";let i=n,a=this;a._bindWithCooldownHandler&&(a.removeEventListener("click",a._bindWithCooldownHandler),a.removeEventListener(i.iQmUt,a._bindWithCooldownHandler));let s=0,o=function(n){let o=Date.now();!a.classList.contains("disabled")&&!a.hasAttribute(i.WFHbz)&&("click"===n.type||i.LmNQE(n.keyCode,32)||i.LmNQE(n.keyCode,13))&&(o-s>=t||i.MWmGf(t,0))&&(s=o,e.call(a,n))};a.addEventListener("click",o),a.addEventListener(i.iQmUt,o),a._bindWithCooldownHandler=o};let _0x14ef21={set(e,t){try{let n=JSON.stringify(t);localStorage.setItem(e,n)}catch(i){console.error("Error saving to localStorage",i)}},get(e,t=null){let n={};n.wjadB="Error reading from localStorage";try{let i=localStorage.getItem(e);return null!==i?JSON.parse(i):t}catch(a){return console.error(n.wjadB,a),t}},remove(e){let t={};t.LGUyH="Error removing from localStorage";try{localStorage.removeItem(e)}catch(n){console.error(t.LGUyH,n)}},clear(){try{localStorage.clear()}catch(e){console.error("Error clearing localStorage",e)}},has(e){let t={};return t.puRYs=function(e,t){return e!==t},t.puRYs(localStorage.getItem(e),null)},keys:()=>Object.keys(localStorage)};class _0x186580{constructor({parent:e,text:t,placement:n="top",interactive:i=!0}){let a={};a.iSToi="aria-describedby",a.xqnAs="focus",a.CFaQw="blur",a.IDEkH="mouseleave";let s=a;this._parent=e,this._content=t,this._placement=n,this._tooltip=null,this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9),this._parent.setAttribute(s.iSToi,this._tooltipId),i&&(this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this._parent.addEventListener("mouseenter",this.showTooltip),this._parent.addEventListener(s.xqnAs,this.showTooltip),this._parent.addEventListener(s.CFaQw,this.hideTooltip),this._parent.addEventListener(s.IDEkH,this.hideTooltip))}_createTooltipElement(){let e=({aESuv:function(e,t){return e(t)}}).aESuv(_0x2b4877,"xuocLuDI6");return e.setAttribute("placement",this._placement),e.setAttribute("id",this._tooltipId),e.innerText=this._content,e}updatePosition(){let e={};e.ThLkS="top",e.POTbJ=function(e,t){return e-t},e.eTSAX=function(e,t){return e+t},e.XDOFV=function(e,t){return e+t},e.mPhyH=function(e,t){return e-t},e.fksiy=function(e,t){return e+t},e.OVLoZ=function(e,t){return e/t},e.uOirL=function(e,t){return e/t},e.JPlWf=function(e,t){return e+t},e.riKyi=function(e,t){return e/t},e.fWxCT=function(e,t){return e-t},e.aNGze=function(e,t){return e/t},e.vwNnN="Invalid placement value";let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),i=this._tooltip.getBoundingClientRect(),a,s;switch(this._placement){case t.ThLkS:a=t.POTbJ(t.eTSAX(window.scrollY,n.top)-i.height,8),s=t.POTbJ(t.eTSAX(t.eTSAX(window.scrollX,n.left),n.width/2),i.width/2);break;case"bottom":a=t.XDOFV(window.scrollY,n.bottom)+8,s=t.mPhyH(t.eTSAX(t.fksiy(window.scrollX,n.left),t.OVLoZ(n.width,2)),t.uOirL(i.width,2));break;case"left":a=t.JPlWf(t.fksiy(window.scrollY,n.top),t.riKyi(n.height,2))-i.height/2,s=window.scrollX+n.left-i.width-8;break;case"right":a=t.fWxCT(window.scrollY+n.top+t.aNGze(n.height,2),t.aNGze(i.height,2)),s=window.scrollX+n.right+8;break;default:throw Error(t.vwNnN)}this._tooltip.style.top=a+"px",this._tooltip.style.left=s+"px"}showTooltip(){let e={};e.sUajt="aria-expanded",e.UpEQO="true",e.xfltb="data-state",e.bxuGk="delayed-open";let t=e,n="2|1|5|4|3|0".split("|"),i=0;for(;;){switch(n[i++]){case"0":this._tooltip.setAttribute(t.sUajt,t.UpEQO);continue;case"1":this._tooltip=this._createTooltipElement();continue;case"2":if(this._tooltip)return;continue;case"3":this._tooltip.setAttribute(t.xfltb,t.bxuGk);continue;case"4":this.updatePosition();continue;case"5":document.body.appendChild(this._tooltip);continue}break}}hideTooltip(){let e={};e.VUHPB="closed",e.OlbPs="aria-expanded",e.EWUWF="false";let t=e;this._tooltip&&(this._tooltip.setAttribute("data-state",t.VUHPB),this._tooltip.setAttribute(t.OlbPs,t.EWUWF),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.LwkOO="0|3|2|4|1",e.BqnxK="aria-describedby",e.YiqGO="mouseleave",e.ZvDzx="focus",e.CpyPq="mouseenter",e.LWDXt="blur";let t=e;if(this.hideTooltip(),this._parent){let n=t.LwkOO.split("|"),i=0;for(;;){switch(n[i++]){case"0":this._parent.removeAttribute(t.BqnxK);continue;case"1":this._parent.removeEventListener(t.YiqGO,this.hideTooltip);continue;case"2":this._parent.removeEventListener(t.ZvDzx,this.showTooltip);continue;case"3":this._parent.removeEventListener(t.CpyPq,this.showTooltip);continue;case"4":this._parent.removeEventListener(t.LWDXt,this.hideTooltip);continue}break}}this._tooltip=null,this._parent=null,this._content=null}}class _0x236282{constructor({trigger:e,placement:t="bottom"}){let n={};n.SxTPb="xEHCrF5Oe",n.zvyNA="data-state",n.RMrOc="open",n.GiwRe="click",n.WUVEg="keydown";let i=n,a="_"+_0x5950fc(12);this.trigger=e,this.placement=t,this.Root=_0x2b4877(i.SxTPb),this.Overlay=_0x2b4877("overlay"),this.Content=_0x2b4877("xC3Uih0ex"),this.Root.setAttribute(i.zvyNA,i.RMrOc),this.Root.setAttribute("role","popover"),this.Root.setAttribute("aria-modal","true"),this.Root.id=a,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let s=_0x42451f(a);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+s+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert","true")}),this.Overlay.addEventListener(i.GiwRe,()=>this.close()),this.Overlay.addEventListener("contextmenu",()=>this.close()),document.addEventListener(i.WUVEg,this._handleKeyDown),this._setPosition(),window.addEventListener("resize",this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e={};e.tXewg="absolute";let t=this.trigger.getBoundingClientRect(),n=this.Content.getBoundingClientRect(),i;if(Array.isArray(this.placement)){for(let a of this.placement){let s=this._calculatePosition(a,t,n);if(this._isPositionWithinViewport(s,n)){i=a;break}}i||(i=this.placement[0])}else i=this.placement;let o=this._calculatePosition(i,t,n);this.Content.style.position=e.tXewg,this.Content.style.top=o.top+"px",this.Content.style.left=o.left+"px"}_calculatePosition(e,t,n){let i={};i.EYcxp="top",i.LmQfJ=function(e,t){return e-t},i.iKPWF="left",i.xUTsw="right",i.xiFCX="start",i.Jizue="end",i.JUQtM=function(e,t){return e-t},i.SNcXy=function(e,t){return e-t};let a=i,s=0,o=0,[r,l]=e.split("-");switch(r){case a.EYcxp:s=a.LmQfJ(t.top,n.height);break;case"bottom":s=t.bottom;break;case a.iKPWF:o=t.left-n.width;break;case a.xUTsw:o=t.right}switch(l){case a.xiFCX:o=t.left;break;case a.Jizue:o=a.JUQtM(t.left+t.width,n.width);break;default:"top"===r||"bottom"===r?o=t.left+a.SNcXy(t.width,n.width)/2:s=t.top+(t.height-n.height)/2}let c={};return c.top=s,c.left=o,c}_isPositionWithinViewport(e,t){let n={};n.YAkbG=function(e,t){return e>=t},n.dyABz=function(e,t){return e<=t},n.wHomK=function(e,t){return e<=t},n.FEuvh=function(e,t){return e+t};let i=n,a=window.innerWidth,s=window.innerHeight,{top:o,left:r}=e;return i.YAkbG(o,0)&&r>=0&&i.dyABz(o+t.height,s)&&i.wHomK(i.FEuvh(r,t.width),a)}_handleKeyDown=e=>{27===e.keyCode&&(this.close(),this.trigger.focus())};_removeListeners(){let e={};e.qQfkC="resize",document.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener(e.qQfkC,this._handleResize)}onClose(e){this.onCloseCallback=e}close(){let e={fJydp:"closed",UaHhS:function(e,t,n){return e(t,n)}};this._removeListeners(),this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),this.Root.setAttribute("data-state",e.fJydp),e.UaHhS(setTimeout,()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x42451f(e){let t={};return t.gLUBZ=function(e,t){return e+t},e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,"\\$&").replace(/^(-?\d)/,t.gLUBZ("\\3"+e.charAt(0)," "))}class _0x536845{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={vMGTQ:function(e,t){return e(t)},xQeuT:"x54SkYRT0",vNcak:"overlay",cSagC:"content",PnNNG:"role",zeaMp:"aria-modal",tTyqD:"true",TuJhc:"click",wWtGQ:"keydown"},a="_"+_0x5950fc(12);this.Root=i.vMGTQ(_0x2b4877,i.xQeuT),this.Overlay=i.vMGTQ(_0x2b4877,i.vNcak),this.Content=_0x2b4877(i.cSagC),this.Root.setAttribute("data-state","open"),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(i.PnNNG,"dialog"),this.Root.setAttribute(i.zeaMp,i.tTyqD),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=a;let s=_0x42451f(a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add("show"),_0x536845.stack.push(this),e&&this.Overlay.addEventListener(i.TuJhc,this._handleOverlayClick),t&&document.addEventListener(i.wWtGQ,this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.IYKQv=function(e,t){return e===t};let n=t;if(n.IYKQv(e.keyCode,27)){let i=_0x536845.stack[_0x536845.stack.length-1];n.IYKQv(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={Fiyxa:function(e,t){return e instanceof t},rlYPQ:function(e,t){return e>t},qOhiU:"data-state",pjtkm:function(e,t,n){return e(t,n)}};if(!this.Lock){let t=_0x536845.stack.indexOf(this);e.rlYPQ(t,-1)&&_0x536845.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback(),e.rlYPQ(this._exclude_for_restore.length,0)?this._exclude_for_restore.forEach(t=>{e.Fiyxa(t,HTMLElement)&&t.removeAttribute("inert")}):this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),this.Root.setAttribute(e.qOhiU,"closed"),e.pjtkm(setTimeout,()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}}_0x536845.stack=[];class _0x2a195f extends _0x536845{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:i=!1,closeOnEsc:a=!0,showCloseButton:s=!1}={}){let o={};o.sDgpA="xv1VrMJb6",o.lmBNc="xLDQZ1SSl",o.uFuYQ=function(e,t){return e>t};let r=o,l={};l.closeOnOverlayClick=i,l.closeOnEsc=a,super(l);let c=this._createHeader(e,s),d=this._createBody(t);if(this.Content.style.padding="0px",this.Content.classList.add(r.sDgpA),this.Content.classList.add(r.lmBNc),this.Content.appendChild(c),this.Content.appendChild(d),r.uFuYQ(n.length,0)){let $=this._createFooter(n);d.appendChild($)}}_createHeader(e,t){let n={};n.QlHgT="x6Y89FynP",n.ZzmQP='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>';let i=n,a=document.createElement("div");a.className="xrYn5ZY3v lf gn";let s=document.createElement("div");if(s.className=i.QlHgT,s.textContent=e||"Alert",a.appendChild(s),t){let o=_0x2b4877("xvb5soWNa");o.focusable(!0),o.innerHTML=i.ZzmQP,o.bindWithCooldown(()=>{this.close()}),a.appendChild(o)}return a}_createBody(e){let t={};t.NlAOz="xWDUelLWA",t.FlpoL="div";let n=t,i=document.createElement("div");i.className=n.NlAOz;let a=document.createElement(n.FlpoL);return a.className="xujSSErs5",a.innerHTML=e||"Are you sure?",i.appendChild(a),i}_createFooter(e){let t={TvOLB:function(e){return e()},HMgOR:function(e,t){return e+t},lfpCZ:"xgw2tzk6r ",DbAJc:"div",mUsPC:"xWh2LBcgj",WcAtI:"horizontal"},n=document.createElement(t.DbAJc);n.className=t.mUsPC;let i=_0x297dfa([],t.WcAtI);return e.forEach(({text:e,classList:a=[],onClick:s})=>{let o=document.createElement("div");o.className=t.HMgOR(t.lfpCZ,a.join(" ")),o.setAttribute("tabindex","0"),o.textContent=e,o.bindWithCooldown(()=>{s&&t.TvOLB(s),this.close()}),i.addItem(o),n.appendChild(o)}),n}}let _0x2b4877=e=>{let t=document.createElement("div");return t.classList.add(e),t},_0x1d5717=e=>document.querySelector(e);function _0x5950fc(e){let t={};t.TSquC=function(e,t){return e<t},t.YZFJM=function(e,t){return e*t};let n=t,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a="";for(let s=0;n.TSquC(s,e);s++)a+=i.charAt(Math.floor(n.YZFJM(Math.random(),i.length)));return a}function _0x4c078f(e,t,n={}){let i={jsKzx:"span",OpLTu:function(e,t){return e===t},MBwmO:function(e,t){return e-t},UzupA:function(e,t){return e(t)},ZcWTI:function(e,...t){return e(...t)},BcZog:"text/html"},{interval:a=24,fadeDuration:s=214,bezierControl:o=[.42,0,1,1]}=n,r=i.ZcWTI(_0x4e37ad,...o),l=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>",i.BcZog).body.firstChild.childNodes),c=[];l.forEach(t=>(function e(t,n){if(t.nodeType===Node.TEXT_NODE){let a=t.textContent.split("");for(let s of a){let o=document.createElement(i.jsKzx);o.classList.add("xSwoj5Cx2"),o.textContent=s,n.appendChild(o),c.push(o)}}else if(i.OpLTu(t.nodeType,Node.ELEMENT_NODE)){let r=t.cloneNode(!1);n.appendChild(r),Array.from(t.childNodes).forEach(t=>e(t,r))}})(t,e)),function e(){c.length&&(function e(t){let n={mzTDd:function(e,t){return i.MBwmO(e,t)},SIHOJ:function(e,t){return i.UzupA(e,t)}},a=performance.now();function o(e){let i=Math.min(n.mzTDd(e,a)/s,1),l=r(i);t.style.opacity=l,i<1&&n.SIHOJ(requestAnimationFrame,o)}requestAnimationFrame(o)}(c.shift()),setTimeout(e,a))}()}function _0x589c59(e,t){let n={};n.EOdsu=function(e,t){return e<t},n.ZVeIt=function(e,t){return e>=t},n.UlJeS=function(e,t){return e<t},n.UTrtE=function(e,t){return e*t},n.xpLyC=function(e,t){return e+t};let i=n,a=new Date,s=new Date(e),o=new Date(t);if(a>=s&&a<=o)return"現在";let r=i.EOdsu(a,s)?s:o,l=r.getHours(),c;c=i.ZVeIt(l,0)&&i.UlJeS(l,6)?"清晨":l<12?"早上":i.UlJeS(l,18)?"下午":"晚上";let d=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),$=d(r),u=d(a),h=Math.round(($-u)/i.UTrtE(i.UTrtE(6e4,60),24)),x;switch(h){case -2:x="前天";break;case -1:x="昨天";break;case 0:x="今天";break;case 1:x="明天";break;case 2:x="後天";break;default:x=i.xpLyC(r.getMonth(),1)+"/"+r.getDate()}return x+" "+c}function _0x18d977(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0x33aa67(){let e={};e.wzASx="MacIntel",e.ZBlEm=function(e,t){return e>t},e.rcEtT="iOS",e.gTVsi="Mobile",e.nOgDe="Tablet",e.xAaAj="Windows",e.ZXPYx="Desktop",e.QVQoA="macOS",e.GVMLM="Linux",e.AqaNn="Unknown";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,i=navigator.platform,a=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||i===t.wzASx&&t.ZBlEm(a,1)){let s=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(s){let o=s[1]||"0",r=s[2]||"0",l=s[3]||"0";return{os:t.rcEtT,version:o+"."+r+"."+l,deviceType:/iPad/.test(n)?"Tablet":t.gTVsi}}}if(/Android/.test(n)){let c=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(c)return{os:"Android",version:(c[1]||"0")+"."+(c[2]||"0")+"."+(c[3]||"0"),deviceType:/Mobile/.test(n)?t.gTVsi:t.nOgDe}}if(/Win/.test(i)){let d=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(d){let $=d[1]||"0",u=d[2]||"0",h={};return h.os="Windows",h.version=$+"."+u,h.deviceType="Desktop",h}let x={};return x.os=t.xAaAj,x.version=null,x.deviceType=t.ZXPYx,x}if(/Mac/.test(i)){let p=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(p){let f=p[1]||"0",b=p[2]||"0",_=p[3]||"0",m={};return m.os="macOS",m.version=f+"."+b+"."+_,m.deviceType=t.ZXPYx,m}let v={};return v.os=t.QVQoA,v.version=null,v.deviceType=t.ZXPYx,v}if(/Linux/.test(i)){let g={};return g.os=t.GVMLM,g.version=null,g.deviceType=t.ZXPYx,g}let C={};return C.os=t.AqaNn,C.version=null,C.deviceType="Unknown",C}function _0x278c44(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x5360af={};_0x5360af.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x5360af.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x5360af.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x2efa95=_0x5360af;class _0x41900f{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={dKKdX:function(e,t){return e(t)},SMfkg:"drawer-root",jiHQn:"drawer-drag-handle",ZfQvZ:"data-state",zZPYd:"open",QhvXU:"dialog",vLNjP:"aria-modal",HPere:"true",EAhzy:function(e,t){return e(t)},iAKrp:"show",pcKAk:"click"},a="_"+_0x5950fc(12);this.Root=i.dKKdX(_0x2b4877,i.SMfkg),this.Overlay=i.dKKdX(_0x2b4877,"drawer-overlay"),this.Content=_0x2b4877("drawer-content"),this.Header=_0x2b4877("drawer-header"),this.Handle=document.createElement("div"),this.Handle.className=i.jiHQn,this.Header.appendChild(this.Handle),this.Body=_0x2b4877("drawer-body"),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute(i.ZfQvZ,i.zZPYd),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role",i.QhvXU),this.Root.setAttribute(i.vLNjP,i.HPere),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=a;let s=i.EAhzy(_0x42451f,a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.iAKrp),_0x41900f.stack.push(this),e&&this.Overlay.addEventListener(i.pcKAk,this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.AAvaL=function(e,t){return e===t};let n=t;if(27===e.keyCode){let i=_0x41900f.stack[_0x41900f.stack.length-1];n.AAvaL(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={pQUjq:function(e,t){return e>t},IXXxz:"none",oAHaf:"matrix",BOHcF:"translateY(100%)",JXUte:function(e,t,n){return e(t,n)},ROlCX:function(e){return e()}},t=_0x41900f.stack.indexOf(this);t>-1&&_0x41900f.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback();let n=()=>{e.pQUjq(this._exclude_for_restore.length,0)?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},i=window.getComputedStyle(this.Content).transform;i===e.IXXxz||i.includes(e.oAHaf)?(this.Content.classList.remove("x9GmoP75O"),this.Content.style.transform=e.BOHcF,e.JXUte(setTimeout,()=>{n(),this.Root.remove()},300)):(e.ROlCX(n),this.Root.remove()),this._removeListeners()}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}_setupDrag(){let e={sWlVa:".xBWmlKrN2 *",fsWaV:"x9GmoP75O",kbcIS:function(e,t){return e-t},khAmx:function(e,t){return e/t},utpRs:function(e,t){return e*t},qoqcG:function(e,t){return e>t},TdqWH:function(e,t){return e>t},OcLiX:"mouseup",bUeNe:function(e,t){return e(t)},tsQdl:"touchstart",znXQL:"touchmove",AvEtS:"touchend"},t=0,n=0,i=0,a=!1,s=n=>{0!==n.target.scrollTop||n.target.closest(e.sWlVa)||(t=n.touches?n.touches[0].clientY:n.clientY,i=Date.now(),a=!0,this.Content.classList.add(e.fsWaV))},o=i=>{if(!a)return;n=i.touches?i.touches[0].clientY:i.clientY;let s=e.kbcIS(n,t);s>0&&(this.Content.style.transform="translateY("+s+"px)")},r=()=>{if(!a)return;let s=e.kbcIS(n,t),o=e.khAmx(Date.now()-i,1e3),r=this.Content.offsetHeight,l=e.utpRs(r,.5);this.Content.classList.remove(e.fsWaV),e.qoqcG(s,l)||e.TdqWH(s/o,600)?this.close():this.Content.style.transform="translateY(0)",a=!1},l={};l.passive=!0,this.Content.addEventListener(e.tsQdl,s,l);let c={};c.passive=!0,this.Content.addEventListener(e.znXQL,o,c),this.Content.addEventListener(e.AvEtS,r),this.Content.addEventListener("mousedown",t=>{e.bUeNe(s,t);let n=e=>o(e),i=()=>{r(),document.removeEventListener("mousemove",n),document.removeEventListener(e.OcLiX,i)};document.addEventListener("mousemove",n),document.addEventListener(e.OcLiX,i)})}}_0x41900f.stack=[];let _0x403ce0=_0x14ef21.get("lang"),_0x426948="zh";_0x403ce0?_0x426948=_0x403ce0:(_0x426948="zh",_0x14ef21.set("lang","zh"));let _0x45470d={};_0x45470d.a1="搜尋…",_0x45470d.a2="未知",_0x45470d.a3="在這裡輸入訊息…",_0x45470d.a4="更新了什麼",_0x45470d.a5="私人",_0x45470d.a6="說明",_0x45470d.a7="公開",_0x45470d.a8="展開全部",_0x45470d.a9="顯示較少",_0x45470d.a10="查看全部",_0x45470d.a11="加入聊天室",_0x45470d.a12="加入聊天室",_0x45470d.a13="邀請碼",_0x45470d.a14="送出",_0x45470d.a15="查看個人資料",_0x45470d.a16="登出",_0x45470d.a17="無效的邀請碼，請重新嘗試",_0x45470d.a18="$0 秒前",_0x45470d.a19="$0 個月前",_0x45470d.a20="$0 分鐘前",_0x45470d.a21="$0 小時前",_0x45470d.a22="$0 年前",_0x45470d.a23="$0 天前",_0x45470d.a24="無法預覽這個文件",_0x45470d.a25="下載",_0x45470d.a26="你",_0x45470d.b1="描述",_0x45470d.b2="最後上線",_0x45470d.b3="描述",_0x45470d.b4="暱稱",_0x45470d.b5="編輯個人資料",_0x45470d.b6="完成",_0x45470d.b7="完成",_0x45470d.b8="歡迎回來",_0x45470d.b9="登入帳號後即可使用我們的服務",_0x45470d.b10="等待中…",_0x45470d.b11="使用 Google 繼續",_0x45470d.b12="使用 電子郵件 登入",_0x45470d.b13="返回上一頁",_0x45470d.b14="密碼錯誤，請重新嘗試",_0x45470d.b15="找不到這個帳號，請重新嘗試",_0x45470d.b16="網路請求錯誤，請檢查網路連線",_0x45470d.b17="發生未知的錯誤",_0x45470d.b18="$0 則訊息",_0x45470d.b19="沒有訊息",_0x45470d.b20="所有成員",_0x45470d.b21="查看所有成員",_0x45470d.b22="查看行程安排",_0x45470d.b23="退出",_0x45470d.b24="電子郵件地址",_0x45470d.b25="密碼",_0x45470d.b26="送出",_0x45470d.b27="電子郵件登入",_0x45470d.b28="@未知",_0x45470d.b29="未知",_0x45470d.b30="已成功清除緩存，重新載入後即生效",_0x45470d.b31="未知的指令，請重新嘗試",_0x45470d.b32="載入中…",_0x45470d.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0x45470d.b34="退出",_0x45470d.b35="取消",_0x45470d.b36="確定",_0x45470d.b37="行程安排",_0x45470d.b38="標題",_0x45470d.b39="開始",_0x45470d.b40="結束",_0x45470d.b41="編輯行程",_0x45470d.c1="編輯模式",_0x45470d.c2="預覽模式",_0x45470d.c3="已更新介面語言為：$0",_0x45470d.c4="英語",_0x45470d.c5="中文",_0x45470d.z0='<li class="xcKqXW8uF">修復了一些錯誤</li><li class="xcKqXW8uF">未來可能不會再更新了，看情況</li>',_0x45470d.b42="上傳中",_0x45470d.b43="正在上傳中，請耐心等待",_0x45470d.b44="上傳遭中斷",_0x45470d.b45="已取消上傳",_0x45470d.b46="上傳完成",_0x45470d.b47="這個文件已經成功上傳了",_0x45470d.b48="上傳失敗",_0x45470d.b49="這個文件有 $0 ，我們無法負擔",_0x45470d.d0="附加文件",_0x45470d.d1="發送",_0x45470d.d2="加入貼圖",_0x45470d.d3="標記為重要",_0x45470d.d4="取消標記",_0x45470d.d5="任何人都能加入這個聊天室",_0x45470d.d6="只有受邀人能加入本聊天室",_0x45470d.d7="重新載入後方可完整更新您的資料",_0x45470d.d8="這裡還沒有訊息，現在就開始聊天吧",_0x45470d.d9="未知",_0x45470d.d10="暫時還沒有描述哦",_0x45470d.d11="未知",_0x45470d.d12="未知",_0x45470d.d13="尚未加入任何聊天室",_0x45470d.d14="還沒有任何行程，現在就創建一個吧";let _0x5677e3={};_0x5677e3.a1="Search…",_0x5677e3.a2="Unknown",_0x5677e3.a3="Enter message here…",_0x5677e3.a4="What's new",_0x5677e3.a5="Private",_0x5677e3.a6="Illustrate",_0x5677e3.a7="Public",_0x5677e3.a8="Show more",_0x5677e3.a9="Show less",_0x5677e3.a10="Show all",_0x5677e3.a11="Join groups",_0x5677e3.a12="Join Groups",_0x5677e3.a13="Invitation code",_0x5677e3.a14="Submit",_0x5677e3.a15="View profile",_0x5677e3.a16="Logout",_0x5677e3.a17="Invalid invitation code, please try again",_0x5677e3.a18="$0 seconds ago",_0x5677e3.a19="$0 months ago",_0x5677e3.a20="$0 minutes ago",_0x5677e3.a21="$0 hours ago",_0x5677e3.a22="$0 years ago",_0x5677e3.a23="$0 days ago",_0x5677e3.a24="Unable to preview this file",_0x5677e3.a25="Download",_0x5677e3.a26="You",_0x5677e3.b1="Description",_0x5677e3.b2="Last online",_0x5677e3.b3="Description",_0x5677e3.b4="Nickname",_0x5677e3.b5="Edit Profile",_0x5677e3.b6="Save",_0x5677e3.b7="Save",_0x5677e3.b8="Welcome back",_0x5677e3.b9="Log in to your account to use our services",_0x5677e3.b10="Waiting…",_0x5677e3.b11="Continue with Google",_0x5677e3.b12="Continue with Email",_0x5677e3.b13="Return to previous page",_0x5677e3.b14="Wrong password, please try again",_0x5677e3.b15="The account could not be found. Please try again.",_0x5677e3.b16="Network request error, please check the network connection",_0x5677e3.b17="An unknown error occurred",_0x5677e3.b18="$0 messages",_0x5677e3.b19="No message",_0x5677e3.b20="All members",_0x5677e3.b21="View members",_0x5677e3.b22="View itinerary",_0x5677e3.b23="Leave",_0x5677e3.b24="Email Address",_0x5677e3.b25="Password",_0x5677e3.b26="Submit",_0x5677e3.b27="Login with Email",_0x5677e3.b28="@unknown",_0x5677e3.b29="unknown",_0x5677e3.b30="The cache has been successfully cleared and will take effect after reloading",_0x5677e3.b31="Unknown command, please try again",_0x5677e3.b32="Loading…",_0x5677e3.b33="Are you sure you want to leave this group? You can rejoin later.",_0x5677e3.b34="Leave",_0x5677e3.b35="Cancel",_0x5677e3.b36="Comfirm",_0x5677e3.b37="All itinerary",_0x5677e3.b38="Title",_0x5677e3.b39="Start",_0x5677e3.b40="End",_0x5677e3.b41="Edit itinerary",_0x5677e3.c1="編輯模式",_0x5677e3.c2="預覽模式",_0x5677e3.c3="Updated language: $0",_0x5677e3.c4="English",_0x5677e3.c5="Chinese",_0x5677e3.z0='<li class="xcKqXW8uF">Fixed some bugs.</li><li class="xcKqXW8uF">There may be no more updates in the future.</li>',_0x5677e3.b42="Uploading",_0x5677e3.b43="Uploading, please wait patiently",_0x5677e3.b44="Upload interrupted",_0x5677e3.b45="Upload canceled",_0x5677e3.b46="Upload completed",_0x5677e3.b47="The file has been uploaded successfully",_0x5677e3.b48="Upload failed",_0x5677e3.b49="This file is $0 and we can't afford it",_0x5677e3.d0="Attach files",_0x5677e3.d1="Send",_0x5677e3.d2="Add stickers",_0x5677e3.d3="Mark as important",_0x5677e3.d4="Unmark",_0x5677e3.d5="Anyone can join this group",_0x5677e3.d6="Only invited people can join this group",_0x5677e3.d7="Reload to fully update your information",_0x5677e3.d8="There are no messages here yet. Start chatting now.",_0x5677e3.d9="Unknown",_0x5677e3.d10="There is no description yet",_0x5677e3.d11="Unknown",_0x5677e3.d12="Unknown",_0x5677e3.d13="Not joined any chat room yet",_0x5677e3.d14="No itinerary yet";let _0x24af89={};_0x24af89.zh=_0x45470d,_0x24af89.en=_0x5677e3;let _0x323bcd=_0x24af89;function _0x18e213(e){return _0x323bcd[e]}let _0x36db6d={};_0x36db6d.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x36db6d.authDomain="smiling-theory-397204.firebaseapp.com",_0x36db6d.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x36db6d.projectId="smiling-theory-397204",_0x36db6d.storageBucket="smiling-theory-397204.appspot.com",_0x36db6d.messagingSenderId="360479398694",_0x36db6d.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x36db6d.measurementId="G-6BKTT1K7D1";let _0xe59b27=e(_0x36db6d),_0x1cdced=_0x18e213(_0x426948),_0x5d5351=$(_0xe59b27),_0x196bbb=r(_0xe59b27),_0x4851f8=new i,_0x34d672=t();u(_0x5d5351).then(()=>{let e={};e.chcRg="離線緩存功能已啟用";let t=e;console.log(t.chcRg)}).catch(e=>{let t={};t.iOgir=function(e,t){return e===t},t.vEIzI="已開啟多個分頁，無法啟用離線緩存功能",t.nayAi="unimplemented",t.yKUuH="當前瀏覽器不支持離線緩存";let n=t;n.iOgir(e.code,"failed-precondition")?console.error(n.vEIzI):e.code===n.nayAi&&console.error(n.yKUuH)});let _0x33aef3=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x3916fb=[],_0x265c80={sidebar:_0x1d5717(".xFz8bwNFr"),main:_0x1d5717(".x8o58HttN"),messageInput:_0x1d5717(".xtsARDHTI"),searchInput:_0x1d5717(".xujXllYgW"),messageContainer:_0x1d5717(".xikyLwDf4"),sendButton:_0x1d5717(".xuwRtDpu4"),fileInput:_0x1d5717(".xVEJA40Qh"),attachButton:_0x1d5717(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x1d5717(".xpbRox0hO#xbXZpIWEa"),markButton:_0x1d5717(".xpbRox0hO#xsVrze5YA"),brushButton:_0x1d5717(".xpbRox0hO#xrfvUzMAG"),heading:_0x1d5717(".xehdiGgBv"),backButton:_0x1d5717(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x1d5717(".xemr1y6ie"),spinnerContainer:_0x1d5717(".xemr1y6ie .spinner"),spinnerLabel:_0x1d5717(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x1d5717(".xDADAUUv4"),roomNameLabel:_0x1d5717(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x1d5717(".xlKSJ67AP"),nameLabel:_0x1d5717(".xt4GQkVIo"),avatarLabel:_0x1d5717(".xbVHF6S6B"),avatarWrapper:_0x1d5717(".xaoteDJh4"),profileContainer:_0x1d5717(".xQ6gFUtqT"),layoutResizer:_0x1d5717(".xrFP6D2e1"),layoutResizer2:_0x1d5717(".xZddo7wlf"),statusLabel:_0x1d5717(".xOJE48BLX"),activityBar:_0x1d5717(".pS2na74a"),sidebarOverlay:_0x1d5717(".xgUJeGeNl")},_0x84935='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0x1cdced.b32,_0x378898={};_0x378898.current="0.1.8",_0x378898.cacheId="x0n0HCjlj",_0x378898.directions='<ul class="xxmjDL5xB xbH7v2Hbn">'+_0x1cdced.z0+"</ul>";let _0x4aaa95=_0x378898,_0x3ab847=[],_0x70d158={},_0x187298={},_0x3834a5={},_0x15090d,_0xd925ce=!1,_0x5133fa="",_0x1e32d8,_0x4a54dd=0,_0x1f5b88,_0x13a2ee=!1,_0x275e6a=!1,_0x5c20dd=!1,_0xaefbf8=_0x265c80.messageContainer,_0x4fab53={};_0x4fab53.state=!1,_0x4fab53._a=null,_0x4fab53._b=null,_0x4fab53._n="",_0x4fab53._d="",_0x4fab53._m=[];let _0x54c20a=_0x4fab53,_0x4e54b4="",_0x8bc54c=null,_0x42ab0a=!1;if(_0x33aef3)document.body.classList.add("mobile"),_0x265c80._mb_att_btn.bindWithCooldown(function(){_0x265c80.fileInput.click()});else{document.body.classList.add("desktop");let E={};E.parent=_0x265c80.attachButton,E.text=_0x1cdced.d0,E.placement="top",new _0x186580(E),_0x265c80.attachButton.bindWithCooldown(function(){_0x265c80.fileInput.click()});let M={};M.parent=_0x265c80.sendButton,M.text=_0x1cdced.d1,M.placement="top",M.interactive=!0,new _0x186580(M);let H={};H.parent=_0x265c80.stickerButton,H.text=_0x1cdced.d2,H.placement="top",H.interactive=!0,new _0x186580(H);let I={};I.parent=_0x265c80.markButton,I.text=_0x1cdced.d3,I.placement="top",I.interactive=!0;let A=new _0x186580(I),W={};W.parent=_0x265c80.brushButton,W.text="潤色文本",W.placement="top",W.interactive=!0,new _0x186580(W),_0x297dfa([_0x265c80.attachButton,_0x265c80.brushButton,_0x265c80.markButton,_0x265c80.stickerButton],"horizontal"),_0x265c80.brushButton.bindWithCooldown(function(){let e={};e.xjqYA="xDLwiKdTE";let t=_0x171d54("潤色文本",!0);t.content.classList.add("lg"),t.body.classList.add(e.xjqYA)}),_0x265c80.markButton.bindWithCooldown(function(){let e={};e.izTKR="x3zdxRXQ6",_0x5c20dd?(_0x5c20dd=!1,_0x265c80.markButton.classList.remove("x3zdxRXQ6"),A.setText(_0x1cdced.d3)):(_0x5c20dd=!0,_0x265c80.markButton.classList.add(e.izTKR),A.setText(_0x1cdced.d4))},0);let Y=!1,R=0,O=0,B=e=>{let t={};t.IJQKe="xz7kq9zLe",t.BTndG="mouseup";let n=t;Y=!0,document.body.classList.add(n.IJQKe);let i=e.target.getBoundingClientRect();O=e.clientX-i.left,document.addEventListener("mousemove",S),document.addEventListener(n.BTndG,D)},S=e=>{let t={};t.nzgMv=function(e,t){return e-t},t.PApSJ=function(e,t){return e+t};let n=t;if(!Y)return;let i=_0x265c80.sidebar.getBoundingClientRect().left,a=n.nzgMv(e.clientX,i)-O;R=a,_0x265c80.sidebar.style.width=n.PApSJ(a,"px")},D=()=>{let e={};e.GyHCk="xz7kq9zLe",e.NqzhZ="xjS4MkN99";let t=e,n="4|3|1|0|2".split("|"),i=0;for(;;){switch(n[i++]){case"0":document.removeEventListener("mousemove",S);continue;case"1":document.body.classList.remove(t.GyHCk);continue;case"2":document.removeEventListener("mouseup",D);continue;case"3":_0x14ef21.set(t.NqzhZ,R);continue;case"4":Y=!1;continue}break}};window.addEventListener("blur",()=>{document.body.classList.remove("resizing"),Y=!1}),_0x265c80.layoutResizer.addEventListener("mousedown",e=>{B(e)})}function _0x171d54(e,t=!1,...n){let i={Jywsy:"xrYn5ZY3v",mfgDa:function(e,t){return e(t)},wiflA:"xWDUelLWA",vzzmg:function(e,t){return e(t)},WEEXc:"xvb5soWNa",cbYKF:function(e,t){return e+t}};console.log(n);let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x536845(a),o=_0x2b4877(i.Jywsy);o.classList.add("lf"),s.Content.style.padding="0";let r=i.mfgDa(_0x2b4877,"x6Y89FynP");o.appendChild(r),r.innerText=e,s.Content.appendChild(o);let l=_0x2b4877(i.wiflA);s.Content.appendChild(l);let c;t&&((c=i.vzzmg(_0x2b4877,i.WEEXc)).focusable(!0),c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',s.close=s.close.bind(s),c.bindWithCooldown(s.close),o.appendChild(c));let d=o.getBoundingClientRect();o.style.minHeight=i.cbYKF(d.height,"px");let $={};return $.root=s,$.body=l,$.content=s.Content,$.closebtn=c,$.Root=s.Root,$.Content=s.Content,$}async function _0x4e7489(e,t){let n={RGPoJ:"data-state",MvcTc:"failed",whGvB:"xUSR4cuWD",bLrns:function(e,t,n){return e(t,n)},pNQBN:"xPSnkbRat",IhNOe:"canvas",TdPTS:"xWuhDLG1C",GKTeS:function(e,t){return e(t)},oshxx:"x8o1OSu71",piRBv:function(e,t){return e+t},iICOP:"loaded",gNwQY:"instant",XbcDw:"xAQPbc7N3",tjvvc:"xBWmlKrN2",DJtsb:function(e,t,n){return e(t,n)},jnmAk:"x2y08yFOH",cfCmT:function(e,t){return e===t},aGxBs:"img",fIGTt:"loading",UbLpU:"cache-url",QRrGV:"video",EZNWe:"true",xqXZS:"controlslist",mzAKY:"nodownload",HzGjd:"xGsec9lFd",HwusR:"audio",ddxqG:"a24",zePhR:"xYj7x2KZ4",JhLej:function(e,t){return e>t},HfhQq:"a10"};if(t.startsWith("<")){let i=t.match(/<\s*(\w+)\s+(\S+)/),a=i[1],s=i[2];if(n.cfCmT(a,"image")){let o=document.createElement(n.aGxBs);o.focusable(!0),o.classList.add("xGsec9lFd"),o.classList.add("xUSR4cuWD"),o.setAttribute(n.RGPoJ,n.fIGTt),_0x42ab0a||_0x265c80.messageContainer.scrollTo({top:_0x265c80.messageContainer.scrollHeight,behavior:n.gNwQY}),o.onerror=function(){o.setAttribute(n.RGPoJ,n.MvcTc),o.classList.remove(n.whGvB)},o.onload=function(){_0x42ab0a||_0x265c80.messageContainer.scrollTo({top:_0x265c80.messageContainer.scrollHeight,behavior:"instant"});let t=_0x3834a5["_"+s];if(t)o.style.width=t.width+"px",o.style.height=n.piRBv(t.height,"px");else{let i=o.getBoundingClientRect(),a={};a.width=i.width,a.height=i.height,_0x3834a5["_"+s]=a}o.setAttribute(n.RGPoJ,n.iICOP),o.classList.remove("xUSR4cuWD"),e.classList.add("xFIqZCKV3"),o.bindWithCooldown(function(){let e={GRZjL:function(e,t,i){return n.bLrns(e,t,i)}},t={};t.closeOnEsc=!0,t.closeOnOverlayClick=!0;let i=new _0x536845(t);i.Content.classList.add(n.pNQBN);let a=document.createElement(n.IhNOe);a.classList.add(n.TdPTS),i.Content.appendChild(a);let o=new _0x28708c(a,{maxScale:2,onClickOutside(t,n){e.GRZjL(r,t,n)}});function r(){o.destroy(),i.close()}o.loadImage(s);let l=n.GKTeS(_0x2b4877,n.oshxx);l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',l.bindWithCooldown(r),i.Content.appendChild(l);let c=_0x2b4877(n.oshxx);c.classList.add("xHZuqwWhI"),c.focusable(!0),c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',c.bindWithCooldown(function(){o.rotate()},0),i.Content.appendChild(c)},0)};let r={};r.action=n.UbLpU,r.url=s,navigator.serviceWorker?.controller?.postMessage(r),o.src=s,e.appendChild(o)}else if(n.cfCmT(a,"video")){let l=document.createElement(n.QRrGV);l.setAttribute("muted",""),l.focusable(!0),l.playsInline=!0,l.setAttribute("controls",n.EZNWe),l.setAttribute(n.xqXZS,n.mzAKY),l.onloadedmetadata=function(){_0x265c80.messageContainer.scrollTo({top:_0x265c80.messageContainer.scrollHeight,behavior:n.gNwQY})};let c={};c.action="cache-url",c.url=s,navigator.serviceWorker?.controller?.postMessage(c),l.src=s,l.classList.add(n.HzGjd),e.appendChild(l)}else if(n.cfCmT(a,"audio")){let d=document.createElement(n.HwusR);d.focusable(!0),d.setAttribute("controls","true");let $={};$.action="cache-url",$.url=s,navigator.serviceWorker?.controller?.postMessage($),d.src=s,d.classList.add(n.HzGjd),e.appendChild(d)}else e.innerHTML='<div class="xUiYNFhtR">'+_0x1cdced[n.ddxqG]+' <a class="x0ciSQShX no-wrap" href="'+s+'" target="_blank" rel="noreferrer noopener">'+_0x1cdced.a25+"</a></div>"}else{let u=document.createElement("span"),h=_0x2b4877(n.zePhR);u.classList.add("xVlceg4Ab"),_0x13ddaa(u,t),e.appendChild(u),e.appendChild(h);let x=u.getBoundingClientRect().height;if(n.JhLej(x,125)){e.classList.add("xDVzL7FIt");let p=_0x2b4877("x6EwJGLAa"),f={};f["0"]='<span class="xNM56JYdv">'+_0x1cdced.a8+"</span>",f["1"]='<span class="xNM56JYdv">'+_0x1cdced.a9+"</span>",f["2"]='<span class="xNM56JYdv">'+_0x1cdced[n.HfhQq]+"</span>";let b=f;p.innerHTML=b[_0x33aef3?2:0],p.focusable(!0);let _=0;p.bindWithCooldown(function(){if(_0x33aef3){let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x41900f(i);a.Root.classList.add(n.XbcDw);let s=_0x2b4877(n.tjvvc);a.Body.appendChild(s),n.DJtsb(_0x13ddaa,s,t)}else{let o={};o.top=0,o.behavior=n.gNwQY,u.scrollTo(o),0===_?(_=1,e.classList.add(n.jnmAk),p.innerHTML=b[1]):(_=0,e.classList.remove("x2y08yFOH"),p.innerHTML=b[0])}},0),h.appendChild(p)}}}function _0x13ddaa(e,t){let n={RyqGW:"b29",qXiTu:"b28",tlGEM:function(e,t){return e!==t},UNFZQ:function(e,t,n){return e(t,n)},uIHYs:"x0ciSQShX",YdVbr:function(e,t){return e<t}},i=/@(\w+)/g,a=0,s;for(e.clear();n.tlGEM(s=i.exec(t),null);){let{index:o}=s,r=s[1];if(o>a){let l=t.slice(a,o);n.UNFZQ(_0x25cf86,e,l)}let c=document.createElement("a");c.classList.add(n.uIHYs),c.focusable(!0),c.dataset.userId=r;let d={};d.userId=r,d.dom=c,_0x54c20a._m.push(d),_0x2d00b4(r,!0).then(function(e){e?(c.textContent="@"+(e.name||_0x1cdced[n.RyqGW]),c.bindWithCooldown(function(){let t={};t.data=e,t.type=_0x33aef3?"mobile":"desktop",_0x5cddb9(_0x8bc54c,t)},0)):c.textContent=_0x1cdced[n.qXiTu]}).catch(function(e){c.textContent="@"+r,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(c),a=i.lastIndex}n.YdVbr(a,t.length)&&_0x25cf86(e,t.slice(a))}function _0x25cf86(e,t){let n={};n.PntKR=function(e,t){return e-t};let i=n,a=t.split("\n");a.forEach((t,n)=>{if(t){let s=_0x585d5b(t),o=document.createElement("div");o.innerHTML=s,Array.from(o.childNodes).forEach(t=>{e.appendChild(t)})}n<i.PntKR(a.length,1)&&e.appendChild(document.createElement("br"))})}function _0x585d5b(e){let t={mwLPJ:function(e,t){return e+t},VYoCZ:function(e,t){return e(t)}};return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let n=e.replace(/^https?:\/\//,"");return t.mwLPJ('<span class="xCe4Btdzm"><a class="x0ciSQShX" translate="no" href="'+e+'" target="_blank" rel="noreferrer noopener">'+t.VYoCZ(decodeURIComponent,n),"</a></span>")})}async function _0x419a5f(){let e={Kgbue:function(e,t){return e===t},UDFRs:"1358",cJsaG:"clear-all-caches",xyhsn:"b30",oQgjq:function(e,t){return e===t},uGhvz:"1241",thMQd:function(e,t,n,i){return e(t,n,i)},bhuiY:"1242",OMKee:"&amp;$1",MovlT:"&lt;",RxcGR:function(e,t){return e(t)},xYIox:"messages",YAhGf:function(e,t,n){return e(t,n)}},t=_0x265c80.messageInput.innerText.trim();if(!t||!_0x5133fa||e.Kgbue(t,""))return;_0x265c80.sendButton.classList.add("disabled"),_0x265c80.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let i=n[1],a=n[2];if("task"===i){if(e.Kgbue(a,e.UDFRs)){_0x265c80.messageInput.clear();let s={};s.action=e.cJsaG,navigator.serviceWorker?.controller?.postMessage(s);let o={};o.content=_0x1cdced[e.xyhsn],o.tag="2",_0x37a5d7(o,_0x5950fc(20),"3");return}if(e.oQgjq(a,e.uGhvz)){_0x265c80.messageInput.clear(),e.thMQd(_0x37a5d7,{content:_0x1cdced.c3.replace("$0",_0x1cdced.c5),tag:"2"},_0x5950fc(20),"3"),_0x14ef21.set("lang","zh");return}if(a===e.bhuiY){_0x265c80.messageInput.clear(),e.thMQd(_0x37a5d7,{content:_0x1cdced.c3.replace("$0",_0x1cdced.c4),tag:"2"},_0x5950fc(20),"3"),_0x14ef21.set("lang","en");return}{_0x265c80.messageInput.clear();let r={};r.tag="2",r.content=_0x1cdced.b31,e.thMQd(_0x37a5d7,r,_0x5950fc(20),"3");return}}}t=t.replace(/&([^;]+)/g,e.OMKee).replaceAll("<",e.MovlT).replaceAll(">","&gt;").replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x265c80.messageInput.clear();let l=_0x5c20dd?"1":null;_0x265c80.markButton.classList.remove("x3zdxRXQ6"),_0x5c20dd=!1;let c=e.RxcGR(p,h(_0x5d5351,"chats",_0x5133fa,e.xYIox));_0x3ab847.push(c.id),await e.YAhGf(x,c,{sender:_0x1f5b88,content:t,timestamp:Date.now(),tag:l});let d={};d.content=t,d.tag=l,_0x37a5d7(d,c.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={mdasO:function(e,t){return e===t},SMJzl:function(e,t){return e(t)}};if(t.mdasO(e.data.type,"cache-size-result")){let n=document.getElementById("cacheSizeResult");if(e.data.error){n.innerHTML="錯誤: "+e.data.error;return}_0x37a5d7({content:t.SMJzl(_0x232c5a,e.data.bytes)},_0x5950fc(20),"3")}});let _0x216a00=0;function _0x37a5d7(e,t,n="1"){let i={UfVIA:function(e,t){return e(t)},zSlHg:"xKljxgVJA",fVRvk:function(e,t){return e(t)},wgmzN:"xRHoYYwoZ",salUw:"data-visible",tyEpq:"data-message-id",qKTxc:"xOmVIOA3e",ONHzZ:function(e,t,n){return e(t,n)}},a=i.UfVIA(_0x2b4877,"xVC8gtuyS"),s=_0x2b4877("xMyW2iRSH"),o=i.UfVIA(_0x2b4877,i.zSlHg),r=i.fVRvk(_0x2b4877,"xu4Celbbq"),l=_0x2b4877("xc4iCj2Gy"),c=i.UfVIA(_0x2b4877,i.wgmzN);switch(a.setAttribute(i.salUw,"true"),a.setAttribute(i.tyEpq,t),a.classList.add("xiOw4dg0O"),a.appendChild(o),o.appendChild(c),c.appendChild(r),r.appendChild(l),c.appendChild(s),l.innerText=_0x1cdced.a26,_0x4e54b4.sender===e.sender&&a.classList.add(i.qKTxc),"1"===e.tag?s.classList.add("x4rKxFxLl"):"2"===e.tag&&s.classList.add("xHJfZfjT1"),_0x15090d&&(_0x15090d.remove(),_0x15090d=null),n){case"1":_0x265c80.messageContainer.appendChild(a);break;case"2":_0xaefbf8.appendChild(a),_0x216a00+=a.offsetHeight;break;case"3":_0x265c80.messageContainer.appendChild(a),_0x13a2ee=!0,_0x265c80.messageContainer.scrollTo({top:_0x265c80.messageContainer.scrollHeight,behavior:"smooth"})}i.ONHzZ(_0x4e7489,s,e.content)}function _0xec0f61(e,t,n="1"){let i={oozhN:"mobile",xluEN:function(e,t){return e(t)},QULvz:"/assets/avatar.png",bgpkE:"d11",Yrllr:"xVC8gtuyS",mPXwF:"xKljxgVJA",jWsGG:"xu4Celbbq",KOOYM:"xt8fROB2L",Kaqln:function(e,t){return e(t)},UgELp:function(e,t){return e===t},LbUni:"x4rKxFxLl",aWCms:function(e,t){return e===t},UEfTg:"xOmVIOA3e",WfScR:"smooth",WzAEf:function(e,t,n){return e(t,n)}},a=_0x2b4877(i.Yrllr),s=i.xluEN(_0x2b4877,"xMyW2iRSH"),o=_0x2b4877("xSYcbYqTG"),r=_0x2b4877(i.mPXwF),l=i.xluEN(_0x2b4877,i.jWsGG),c=i.xluEN(_0x2b4877,"xc4iCj2Gy"),d=_0x2b4877(i.KOOYM),$=i.Kaqln(_0x2b4877,"xRHoYYwoZ"),u=document.createElement("img");switch(a.setAttribute("data-visible","true"),d.classList.add(i.KOOYM),u.loading="lazy",a.appendChild(o),a.appendChild(r),r.appendChild($),$.appendChild(l),l.appendChild(c),$.appendChild(s),l.appendChild(d),o.appendChild(u),a.setAttribute("data-message-id",t),i.UgELp(e.tag,"1")&&s.classList.add(i.LbUni),d.innerText="0s",c.innerText=_0x1cdced.d9,u.draggable=!1,_0x15090d&&(_0x15090d.remove(),_0x15090d=null),i.aWCms(_0x4e54b4.sender,e.sender)&&a.classList.add(i.UEfTg),n){case"1":_0x265c80.messageContainer.appendChild(a);break;case"2":_0xaefbf8.appendChild(a),_0x216a00+=a.offsetHeight;break;case"3":_0x265c80.messageContainer.appendChild(a),_0x13a2ee=!0,_0x265c80.messageContainer.scrollTo({top:_0x265c80.messageContainer.scrollHeight,behavior:i.WfScR}),_0x13a2ee=!1}i.WzAEf(_0x4e7489,s,e.content),_0x2d00b4(e.sender).then(t=>{let n={};n.hivwY=i.oozhN;let a=n;function s(){let e={};e.data=t,e.type=_0x33aef3?a.hivwY:"desktop",_0x5cddb9(_0x265c80.main,e)}d.innerText=i.xluEN(_0x38b998,e.timestamp),u.src=t.avatarUrl||i.QULvz,u.onload=function(){o.classList.add("xWzeTGC6P")},c.onclick=s,o.focusable(!0),o.bindWithCooldown(s),c.innerText=t.name||_0x1cdced[i.bgpkE]}).catch(e=>{console.error(e)})}function _0x734a(e,t,n){let i={};i.BcQpT="unknown",i.hjIpn="xJd2GT7MI",i.lhMGO="assets/avatar.png",i.JyVqD="d11";let a=i;_0x265c80.signatureLabel.textContent=n||a.BcQpT,_0x265c80.avatarWrapper.classList.remove(a.hjIpn),_0x265c80.avatarLabel.src=e||a.lhMGO,_0x265c80.nameLabel.textContent=t||_0x1cdced[a.JyVqD]}async function _0x20057c(){let e={GkCQx:function(e,t){return e-t},nCIIV:function(e,t,n){return e(t,n)},rouVs:function(e,t){return e-t},gYupU:"mousemove",TMQOf:"touchend",kzowj:"xgu6pGjzk",IUQTR:function(e,t){return e/t},ZWReT:function(e,t){return e>t},LTDhP:function(e){return e()},SZJbw:"touchmove",uPHOR:function(e,t){return e(t)},GEaKu:function(e,t){return e*t},LltgS:"正在初始化應用程序",NthaN:"placeholder",YZTYM:"b32",FraSo:"xjS4MkN99",CGXby:function(e,t){return e&&t},blrFH:"xmKH3ad5R",oeIhA:function(e){return e()},dLmsR:"blur",kUOHh:function(e){return e()},yyrwq:"resize",UkAFO:"設置布局時發生錯誤",JfYUO:"cvs",BdaPO:"x5RtiEC9k"};if(_0xd925ce)return;console.log(e.LltgS),_0x265c80.roomNameLabel.innerText=_0x1cdced.a2,_0x265c80.searchInput.placeholder=_0x1cdced.a1,_0x265c80.messageInput.setAttribute(e.NthaN,_0x1cdced.a3),_0x265c80.spinnerLabel.innerText=_0x1cdced[e.YZTYM];let t=_0x14ef21.get(e.FraSo);e.CGXby(t,!_0x33aef3)&&(_0x265c80.sidebar.style.width=t+"px"),document.body.classList.add(e.blrFH);let n=e.LTDhP(_0x33aa67),i=_0x18d977();e.oeIhA(_0x5e7f4c);try{_0x2d00b4(_0x1f5b88).then(async t=>{(!t.deviceInfo||e.GkCQx(Date.now(),t.deviceInfo.lastUpdate)>36e5)&&(await e.nCIIV(_0x31281c,_0x1f5b88,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:i.screenWidth+"x"+i.screenHeight+" @"+i.devicePixelRatio+"x"}}),console.log("已上傳裝置信息"))})}catch(a){console.error("發生未知錯誤",a)}let s=!1,o=0,r=0,l=0,c=t=>{s=!0,o=0,r=t.touches?t.touches[0].clientX:t.clientX;let n=t.target.getBoundingClientRect();l=e.rouVs(r,n.left),document.addEventListener(e.gYupU,d),document.addEventListener("mouseup",$);let i={};i.passive=!0,document.addEventListener("touchmove",d,i),document.addEventListener(e.TMQOf,$)},d=t=>{if(!s)return;let n=(t.touches?t.touches[0].clientX:t.clientX)-l,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o=n,_0x265c80.main.classList.add("xp4HXkJGa"),_0x265c80.sidebar.classList.add(e.kzowj),_0x265c80.main.style.transform="translate3d("+n+"px, 0, 0)",_0x265c80.sidebar.style.transform="translate3d("+Math.min(-30*(1-e.IUQTR(n,i)),0)+"%, 0, 0)"},$=()=>{if(!s)return;s=!1;let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;_0x265c80.main.classList.remove("xp4HXkJGa"),_0x265c80.sidebar.classList.remove("xgu6pGjzk"),document.removeEventListener(e.gYupU,d),document.removeEventListener("mouseup",$);let n={};n.passive=!0,document.removeEventListener("touchmove",d,n),document.removeEventListener("touchend",$),e.ZWReT(o/t,.5)&&e.LTDhP(_0x676705)};window.addEventListener(e.dLmsR,()=>{let t="0|4|5|3|2|1|6".split("|"),n=0;for(;;){switch(t[n++]){case"0":s=!1;continue;case"1":let i={};i.passive=!0,document.removeEventListener(e.SZJbw,d,i);continue;case"2":document.removeEventListener("mouseup",$);continue;case"3":document.removeEventListener("mousemove",d);continue;case"4":_0x265c80.main.classList.remove("xp4HXkJGa");continue;case"5":_0x265c80.sidebar.classList.remove("xgu6pGjzk");continue;case"6":document.removeEventListener(e.TMQOf,$);continue}break}}),_0x265c80.layoutResizer2.addEventListener("mousedown",t=>{e.uPHOR(c,t)});let u={};u.passive=!0,_0x265c80.layoutResizer2.addEventListener("touchstart",c,u);try{function h(){let t=_0x265c80.messageContainer.getBoundingClientRect();_0x265c80.messageContainer.style.setProperty("--x9LFHiVqv",Number((e.GEaKu(t.height,.6)-24).toFixed(2))+"px"),_0x265c80.messageContainer.style.setProperty("--xVizV2ybq",e.uPHOR(Number,(.72*t.height).toFixed(2))-24+"px")}e.kUOHh(h),window.addEventListener(e.yyrwq,h)}catch(x){console.log(e.UkAFO)}if(_0x265c80.searchInput.removeAttribute("disabled"),_0x265c80.searchInput.focusable(!0),_0x265c80.profileContainer.classList.remove("disabled"),_0x265c80.profileContainer.focusable(!0),localStorage.getItem(e.JfYUO)!==_0x4aaa95.current){if(_0x33aef3){let p={};p.closeOnEsc=!0,p.closeOnOverlayClick=!0;let f=new _0x41900f(p);f.Overlay.classList.add(e.BdaPO),f.Body.innerHTML='<div class="xa6f2dQXX">'+_0x1cdced.a4+'</div><div class="x68JrA5Ak">'+_0x4aaa95.directions+"</div>"}else e.nCIIV(_0x171d54,_0x1cdced.a4,!0).body.innerHTML='<div class="xeUKJgV96">'+_0x4aaa95.directions+"</div>";localStorage.setItem(e.JfYUO,_0x4aaa95.current)}_0xd925ce=!0}function _0x2286f7(e){let t={};t.diVwU="&lt;",t.AYpAf="&nbsp;";let n=t;return e.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<",n.diVwU).replaceAll(">","&gt;").replaceAll(" ",n.AYpAf).replaceAll("\n","<br>")}function _0x17557e(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x31a4e6="Structure",_0x1e44f2;function _0x179005(e){var t;let n={QKAtJ:function(e,t){return e(t)},xOdbi:function(e,t,n){return e(t,n)},Wbrpb:function(e,t){return e===t},MmhKD:function(e,t,n,i){return e(t,n,i)},JlMVK:"d12",gmTWJ:"public",sbeny:"xjrgLBAlF",FNJbE:"xYARRkCjq",LtoJc:"privacy",aeeOI:function(e,t){return e+t},VfXyK:"disabled",KeYWd:"x3zdxRXQ6",vxhnT:"contenteditable",PkHvS:"true",YyFQI:"active",iRsnd:".xehdiGgBv .xMyenRl7K .x8JU9DbQZ",ZtHeB:function(e,t){return e(t)},QycRy:"xqBX9i6rZ",lSEsV:function(e,t,n,i,a){return e(t,n,i,a)},NDGmp:"messages",iwGrw:"timestamp",VpAjf:"instant",ScAMt:"xScefCkPw",XdrsD:"xxnnTDIPC",fZjpq:"xPAY7PmDq",SHzJZ:function(e,t){return e==t},LbUzn:"xyS4vzBWG",LEopW:"A5o980bj",RhfQW:"b36",NMRos:function(e,t,n,i,a,s){return e(t,n,i,a,s)},KRuDp:"更新失敗：",ZmKtt:function(e,t,n,i){return e(t,n,i)},XooCD:"xYvZ9WF6d",sIayf:function(e,t){return e(t)},ZCuKq:"input",VWHaP:"date",BYFlf:"b40",WIyHD:function(e,t){return e(t)},TpgsF:function(e){return e()},dbHLt:function(e){return e()},APoFv:"新的行程",KlqEe:"b37",PANEn:"x6q2Zh2QF",DvENa:"xb4MnocjO",PvOcw:"xCgVOK4ur",JDeIk:"xtG9t2xuE",FbYLq:"x7ho7YfuM",hPaWs:function(e,t){return e(t)},IxVBH:"chats",Fmccc:"todos",bsbxg:"d14",oWEla:"5|0|2|3|1|4",oDjYn:function(e,t,n,i){return e(t,n,i)},FVLlv:"xTIlpY4Et",ywuCu:"x9hGI5hex",nrXMX:function(e,t){return e(t)},eLPcs:"horizontal",uZsxI:"xbrV3058R",tmUnr:"bottom-start",aRROC:"top-start",lgBIv:"top-end",cWkxD:"xoV8hdbgt",LTeNK:"xcoXgMpFW",creey:"xUdcoAHYM",rCTEa:"b23",EHyHx:function(e,t){return e(t)},qEXBf:function(e,t){return e(t)},ZcLFK:"x2fP9fkxS",lQTtT:function(e,t){return e(t)},IZEXm:"xybvM5cRF",Zgrwx:"x6HyfOZS7",ztgeJ:"xQkxrD9ZA",HDTIZ:"center",OPyfE:"nearest"},i=n.qEXBf(_0x2b4877,n.ZcLFK),a=_0x2b4877("xQ65c0Nkc"),s=n.lQTtT(_0x2b4877,n.IZEXm),o=_0x2b4877("xT3Ta8vKw"),r=_0x2b4877(n.Zgrwx),l=_0x2b4877(n.ztgeJ);async function c(){let t={fqeUw:function(e,t){return e===t},OtLsM:function(e,t){return n.Wbrpb(e,t)},GEuiK:function(e,t,i,a){return n.MmhKD(e,t,i,a)}};if(_0x5133fa!==e.id||_0x33aef3&&!contextOpeneds){_0x265c80.messageInput.innerHTML="",_0x5133fa=e.id,_0x54c20a._m.length=0,_0x8bc54c=_0x265c80.main,_0x275e6a=!0,_0x42ab0a=!1;let a=[];e.members.forEach(e=>{n.QKAtJ(_0x2d00b4,e).then(t=>{let n={};n.id=e,n.name=t.name,a.push(n)}).catch(e=>{console.error("取得用户名称时发生错误：",e)})}),_0x31a4e6=(e.name||_0x1cdced[n.JlMVK])+" - Structure",document.title=_0x31a4e6,_0x265c80.roomNameLabel.innerText=e.name,_0x3ab847.length=0,_0x1e44f2&&_0x1e44f2.remove(),e.tag===n.gmTWJ?((_0x1e44f2=n.QKAtJ(_0x2b4877,n.sbeny)).focusable(!0),_0x1e44f2.classList.add(n.FNJbE),_0x1e44f2.textContent=_0x1cdced.a7,_0x1e44f2.bindWithCooldown(function(){n.xOdbi(_0x171d54,_0x1cdced.a6,!0).body.innerHTML='<div class="xrrfDPLS2">'+_0x1cdced.d5+"</div>"}),_0x265c80.statusLabel.appendChild(_0x1e44f2)):n.Wbrpb(e.tag,n.LtoJc)&&((_0x1e44f2=_0x2b4877("xjrgLBAlF")).focusable(!0),_0x1e44f2.classList.add("xxC3C39Oc"),_0x1e44f2.textContent=_0x1cdced.a5,_0x1e44f2.bindWithCooldown(function(){_0x171d54(_0x1cdced.a6,!0).body.innerHTML='<div class="xrrfDPLS2">'+_0x1cdced.d6+"</div>"}),_0x265c80.statusLabel.appendChild(_0x1e44f2));let s=new URLSearchParams(window.location.search);s.set("r",e.id),window.history.replaceState({},"",n.aeeOI("?",s.toString())),_0x265c80.messageContainer.classList.remove("xVjpzmyej"),_0x265c80.fileInput.removeAttribute("disabled"),_0x265c80.attachButton.classList.remove(n.VfXyK),_0x265c80.attachButton.focusable(!0),_0x265c80.stickerButton.classList.remove("disabled"),_0x265c80.stickerButton.focusable(!0),_0x265c80.markButton.classList.remove(n.VfXyK),_0x265c80.markButton.focusable(!0),_0x265c80.markButton.classList.remove(n.KeYWd),_0x5c20dd=!1,_0x265c80.brushButton.classList.remove(n.VfXyK),_0x265c80.brushButton.focusable(!0),_0x265c80.messageInput.setAttribute(n.vxhnT,n.PkHvS),_0x33aef3?(_0x265c80._mb_att_btn.classList.remove("disabled"),_0x265c80._mb_att_btn.focusable(!0),_0x265c80.backButton.classList.remove(n.VfXyK),n.QKAtJ(_0x1d5717,n.iRsnd).focusable(!0),_0x265c80.main.classList.add("x8VAGH6N2")):(_0x1d5717(".x2fP9fkxS.active")&&n.QKAtJ(_0x1d5717,".x2fP9fkxS.active").classList.remove("active"),i.classList.add(n.YyFQI)),_0x265c80.messageInput.setAttribute(n.vxhnT,n.PkHvS),_0x265c80.messageInput.focusable(!0),_0x265c80.messageContainer.clear(),(_0x15090d=n.ZtHeB(_0x2b4877,n.QycRy)).classList.add("spinner"),_0x15090d.innerHTML=_0x84935,_0x265c80.messageContainer.appendChild(_0x15090d);let o=await m(n.MmhKD(C,n.lSEsV(h,_0x5d5351,"chats",e.id,n.NDGmp),w(n.iwGrw,"desc"),T(10)));_0x1e32d8=o.docs[9];let r=[];o.forEach(e=>{r.push(e)}),n.Wbrpb(r.length,0)&&_0x15090d&&(_0x15090d.innerHTML=_0x1cdced.d8),r.reverse(),r.map(e=>{var n=e.data();t.fqeUw(_0x3ab847.indexOf(e.id),-1)&&(t.OtLsM(n.sender,_0x1f5b88)?(_0x3ab847.push(e.id),t.GEuiK(_0x37a5d7,n,e.id,"1")):(_0x3ab847.push(e.id),_0xec0f61(n,e.id,"1"))),_0x4e54b4=n}),_0x13a2ee=!0,_0x265c80.messageContainer.scrollTo({top:_0x265c80.messageContainer.scrollHeight,behavior:n.VpAjf}),_0x13a2ee=!1}}_0x3e4115(e.id),i.bindWithCooldown(c);let d={};d.id=e.id,d.length=e.size,d.name=e.name||_0x1cdced.d9,d.launch=c,d.dom=i,_0x3916fb.push(d),i.appendChild(a),i.appendChild(r),r.appendChild(l);let $=function(){let t={QCMZh:function(e,t){return e(t)},HxwIy:function(e,t){return n.sIayf(e,t)},bGalo:n.oWEla,CDdWV:function(e,t,i){return n.xOdbi(e,t,i)},yqdEu:function(e,t,i,a){return n.oDjYn(e,t,i,a)},VFVYN:"chats",FmvCA:"d13",gXDcZ:function(e,t,i,a){return n.ZmKtt(e,t,i,a)},gaCJI:function(e,t){return e(t)},CXfzo:"刪除失敗：",ohaHa:function(e,t){return e(t)},lfBCm:n.FVLlv,Fdalh:"xA9JMbz3o",PrXXe:"green",OhrmS:n.ywuCu,diwqu:function(e,t){return n.Wbrpb(e,t)},vpRpW:"pink",xWamM:function(e,t){return n.WIyHD(e,t)},agkay:"xt4GQkVIo",WyXMW:function(e,t,i){return n.xOdbi(e,t,i)},iEvzt:"忘記加上描述了",JjOry:function(e,t,n){return e(t,n)},yNIYm:function(e,t){return n.nrXMX(e,t)},SeWcS:n.eLPcs,eITJs:n.uZsxI,qKdkw:"hide",MfdfL:"xHCo3rIZ7"},a={};a.trigger=l,a.placement=[n.tmUnr,"bottom-end",n.aRROC,n.lgBIv];let s=new _0x236282(a);s.Content.classList.add(n.cWkxD);let o=_0x2b4877("xrQdSHI2A"),r=_0x2b4877("xrQdSHI2A"),c=_0x2b4877(n.LTeNK),d=_0x2b4877("xrQdSHI2A");o.bindWithCooldown(function(){let i={mwajP:"mobile",CogLD:n.ScAMt,dwyRN:function(e,t){return e(t)},EPMak:n.XdrsD,gCJWc:"xs8tjkwHJ"};s.close();let a=_0x2b4877(n.fZjpq),o;if(_0x33aef3){let r={};r.parent=_0x265c80.sidebar,r.title=_0x1cdced.b20,(o=new _0x1df62b(r)).Content.classList.add("xU2hUavXh"),o.Content.appendChild(a)}else(o=n.xOdbi(_0x171d54,_0x1cdced.b20,!0)).content.classList.add("lg"),o.content.classList.add("xb4MnocjO"),o.body.appendChild(a);function l(e){t.QCMZh(_0x2d00b4,e).then(e=>{let t={ZzVfq:i.mwajP,JlIXM:function(e,t,n){return e(t,n)},mWBiv:"desktop"},n=_0x2b4877(i.CogLD),s=i.dwyRN(_0x2b4877,"xZHdsOFDz"),r=document.createElement("img");r.classList.add(i.EPMak),r.src=e.avatarUrl||"assets/avatar.png",r.draggable=!1,r.loading="lazy";let l={};l.action="cache-url",l.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(l),s.appendChild(r);let c=_0x2b4877(i.gCJWc),d=i.dwyRN(_0x2b4877,"xt4GQkVIo"),$=_0x2b4877("xlKSJ67AP");d.innerText=e.name,$.innerText=e.id,n.focusable(!0),c.appendChild(d),c.appendChild($),n.appendChild(s),n.appendChild(c),n.bindWithCooldown(function(){if(_0x33aef3){let n={};n.data=e,n.type=t.ZzVfq,_0x5cddb9(o.Root,n)}else o.root.close(),t.JlIXM(_0x5cddb9,_0x265c80.main,{data:e,type:t.mWBiv})}),a.appendChild(n)}).catch(e=>{console.error(e)})}let c=0;e.members.forEach(e=>{c++,t.HxwIy(l,e)}),n.SHzJZ(c,1)&&a.classList.add(n.LbUzn)}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0x1cdced.b21,o.classList.add(n.creey),[o,r,d].forEach(e=>{e.focusable(!0)}),d.bindWithCooldown(function(){s.close(),new _0x2a195f({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0x1cdced.b34,message:_0x1cdced.b33,buttons:[{text:_0x1cdced.b35,classList:[n.LEopW]},{text:_0x1cdced[n.RhfQW],classList:["xTJA9U7y9"],onClick:async function(){let n=_0x3916fb.findIndex(t=>t.id===e.id);if(-1!==n)try{let a=t.bGalo.split("|"),s=0;for(;;){switch(a[s++]){case"0":await t.CDdWV(k,t.yqdEu(p,_0x5d5351,t.VFVYN,e.id),{members:t.QCMZh(L,_0x1f5b88)});continue;case"1":_0x5133fa===e.id&&(_0x5133fa=null,_0x265c80.statusLabel.innerHTML="",_0x265c80.roomNameLabel.innerText=_0x1cdced.d12,_0x265c80.messageContainer.clear());continue;case"2":_0x3916fb.splice(n,1);continue;case"3":i.remove();continue;case"4":0===_0x3916fb.length&&(_0x265c80.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x1cdced[t.FmvCA]+"</div>");continue;case"5":await k(t.gXDcZ(p,_0x5d5351,"users",_0x1f5b88),{joined:t.gaCJI(L,e.id)});continue}break}}catch(o){console.error("Error while deleting item:",o)}}}]})}),s.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /></svg>'+_0x1cdced.b22,r.bindWithCooldown(async function(){let i={kJnDi:"disabled",vPUUG:function(e,t,i,a,s,o){return n.NMRos(e,t,i,a,s,o)},oHhPX:"todos",qtjTC:n.KRuDp,jmVsK:function(e,t,i,a){return n.ZmKtt(e,t,i,a)},UWGaf:n.XooCD,TPKmV:"label",apjwx:function(e,t){return n.sIayf(e,t)},JtOqR:"x9ZwavJjj",ouzid:n.ZCuKq,gGdbO:n.VWHaP,pPaqu:function(e,t){return n.sIayf(e,t)},VYGQe:n.BYFlf,sLCsO:function(e,t){return n.WIyHD(e,t)},BZVZZ:"xwtdXtpQT",uPeqo:function(e){return n.TpgsF(e)},PGohy:function(e){return n.dbHLt(e)},SWtPC:n.APoFv,ubeut:function(e,t,n){return e(t,n)}};s.close();let a,o=_0x2b4877("xtx2Cn8cK"),r=_0x2b4877("xNu1Upzh6");if(_0x33aef3){let l={};l.parent=_0x265c80.sidebar,l.title=_0x1cdced[n.KlqEe],(a=new _0x1df62b(l)).Content.classList.add(n.PANEn),a.Content.classList.add("xU2hUavXh"),a.Content.appendChild(o)}else(a=n.xOdbi(_0x171d54,_0x1cdced[n.KlqEe],!0)).content.classList.add(n.DvENa),a.content.classList.add("lg"),a.body.appendChild(o);let c=_0x297dfa([]);function d(n,s){let o={SxQOi:"disabled",XYbLX:"chats",WWPuJ:function(e,n){return t.gaCJI(e,n)},UYagu:"5|2|1|0|4|3",fsiYn:t.CXfzo},l=t.ohaHa(_0x2b4877,t.lfBCm),d=t.HxwIy(_0x2b4877,t.Fdalh);l.appendChild(d),n.theme===t.PrXXe?d.classList.add(t.OhrmS):t.diwqu(n.theme,t.vpRpW)&&d.classList.add("x0eVQzH93");let $=_0x2b4877("xHxVtIAsn");l.appendChild($);let u=t.xWamM(_0x2b4877,t.agkay);u.innerHTML=n.name||_0x1cdced.d9,$.appendChild(u);let h=t.xWamM(_0x2b4877,"xHQ4s8VGa");t.WyXMW(_0x13ddaa,h,n.description||t.iEvzt),$.appendChild(h);let x=t.JjOry(_0x589c59,n.startAt,n.endAt),b=t.yNIYm(_0x2b4877,"xPP6DGDrH");b.innerText=x,l.appendChild(b);let _=_0x2b4877("xxChbQgko"),m=_0x2b4877("xaTPzRSCY");m.innerHTML=_0x2efa95.edit,m.focusable(!0);let v=t.ohaHa(_0x2b4877,"xaTPzRSCY");v.innerHTML=_0x2efa95.trash,v.focusable(!0),_0x297dfa([m,v],t.SeWcS),v.bindWithCooldown(async function(){l.classList.add("disabled");try{v.focusable(!1),v.classList.add(o.SxQOi),m.focusable(!1),m.classList.add(o.SxQOi),await o.WWPuJ(f,p(_0x5d5351,o.XYbLX,e.id,"todos",s)),console.log("已成功刪除行程："+s),l.remove(),c.removeItem(l)}catch(t){let n=o.UYagu.split("|"),i=0;for(;;){switch(n[i++]){case"0":m.classList.remove(o.SxQOi);continue;case"1":m.focusable(!0);continue;case"2":v.classList.remove(o.SxQOi);continue;case"3":l.classList.remove(o.SxQOi);continue;case"4":console.error(o.fsiYn,t);continue;case"5":v.focusable(!0);continue}break}}}),_.appendChild(m),_.appendChild(v),l.appendChild(_),l.focusable(!0),c.addItem(l),r.appendChild(l);let g={};g.name=n.name||"未知",g.startAt=n.startAt||17356608e5,g.endAt=n.endAt||17356608e5,g.description=n.description||"";let C=g;function w(){let t={JMJGW:function(e,t){return e!==t},NzHuQ:function(e,t){return e!==t},ZLZHx:function(e,t){return e!==t},cmpOz:i.kJnDi,Gccso:function(e,t,n,a,s,o){return i.vPUUG(e,t,n,a,s,o)},cLptl:i.oHhPX,ipqzm:function(e,t,n){return e(t,n)},zFNcr:"d10",CWVqk:i.qtjTC},o=i.jmVsK(_0x171d54,_0x1cdced.b41,!0,a.Root);o.root.Overlay.classList.add("xOjXmYkxE");let r=_0x2b4877("xGGKUZ7B3"),l="_"+_0x5950fc(12),c=document.createElement("label"),d=document.createElement("input");c.classList.add("xF37V7xd0"),d.classList.add(i.UWGaf),c.htmlFor=l,c.textContent=_0x1cdced.b38,d.id=l,d.type="text",d.value=C.name,d.maxLength=30,r.appendChild(c),r.appendChild(d);let $=_0x2b4877("xGGKUZ7B3"),x="_"+_0x5950fc(12),f=document.createElement("label"),b=document.createElement("textarea");f.classList.add("xF37V7xd0"),b.classList.add("xGuwEx6qN"),f.htmlFor=x,f.textContent=_0x1cdced.b3,b.id=x,b.rows=3,b.value=C.description,b.maxLength=80,$.appendChild(f),$.appendChild(b);let _=_0x2b4877("xGGKUZ7B3");_.classList.add("xFJWlqoGn");let m="_"+_0x5950fc(12),v=document.createElement(i.TPKmV),g=i.apjwx(_0x2b4877,i.JtOqR),w=document.createElement(i.ouzid),y=document.createElement("input");v.classList.add("xF37V7xd0"),w.classList.add("xYvZ9WF6d"),v.htmlFor=m,v.textContent=_0x1cdced.b39,w.type=i.gGdbO,w.id=m,y.classList.add("xYvZ9WF6d"),y.type="time";let L="_"+i.pPaqu(_0x5950fc,12),T=i.pPaqu(_0x2b4877,i.JtOqR),E=document.createElement(i.TPKmV),M=document.createElement(i.ouzid),H=document.createElement("input");E.classList.add("xF37V7xd0"),M.classList.add("xYvZ9WF6d"),E.htmlFor=L,E.textContent=_0x1cdced[i.VYGQe],M.id=L,M.type="date",H.classList.add("xYvZ9WF6d"),H.type="time";let I=i.sLCsO(_0x2b4877,"xGGKUZ7B3"),A=_0x2b4877("x40AApYkW");A.classList.add(i.BZVZZ),A.textContent=_0x1cdced.b6,A.classList.add(i.kJnDi);let W={};function Y(){t.JMJGW(d.value.trim(),"")&&w.value&&y.value&&M.value&&H.value&&(d.value!==W._z||w.value!==W._a||t.NzHuQ(y.value,W._b)||M.value!==W._c||t.NzHuQ(H.value,W._d)||t.ZLZHx(b.value,W._y))?(A.focusable(!0),A.classList.remove(t.cmpOz)):(A.focusable(!1),A.classList.add("disabled"))}W._z=n.name,W._y=n.description;let R=[d,w,y,M,H,b];if(R.forEach(e=>{e.oninput=Y}),A.bindWithCooldown(async function(){let n={};n.gAlWA="disabled";let i=n;A.classList.add("disabled"),A.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let a=new Date(w.value+"T"+y.value).getTime(),r=new Date(M.value+"T"+H.value).getTime(),l=d.value,c=b.value;R.forEach(e=>{e.setAttribute(i.gAlWA,!0)});let $=t.Gccso(p,_0x5d5351,"chats",e.id,t.cLptl,s);try{let x={};x.endAt=r,x.startAt=a,x.name=l,x.description=c,await k($,x),C.name=l,C.description=c,C.startAt=a,C.endAt=r,u.innerHTML=C.name,t.ipqzm(_0x13ddaa,h,C.description||_0x1cdced[t.zFNcr]),console.log("已成功更新行程："+s),o.root.close()}catch(f){console.error(t.CWVqk,f),R.forEach(e=>{e.classList.remove("disabled")})}}),g.appendChild(v),g.appendChild(w),g.appendChild(y),T.appendChild(E),T.appendChild(M),T.appendChild(H),o.body.appendChild(r),o.body.appendChild($),o.body.appendChild(_),o.body.appendChild(I),_.appendChild(g),_.appendChild(T),I.appendChild(A),C.startAt){let O=new Date(C.startAt),B=new Date(C.startAt).toISOString().split("T")[0];console.log(B);let S=O.toTimeString().split(":").slice(0,2).join(":");console.log(B),W._a=B,W._b=S,w.value=B,y.value=S}if(C.endAt){let D=new Date(C.endAt),U=new Date(C.endAt).toISOString().split("T")[0],P=D.toTimeString().split(":").slice(0,2).join(":");W._c=U,W._d=P,M.value=U,H.value=P}i.uPeqo(Y),d.focus()}m.bindWithCooldown(function(e){e.stopPropagation(),i.PGohy(w)})}o.appendChild(r);let $=_0x2b4877("xTOLrzGN6");o.appendChild($);let u=_0x2b4877(n.PvOcw);$.appendChild(u);let b=n.sIayf(_0x2b4877,n.JDeIk),_=_0x2b4877("x5FOXvrVK"),v=_0x2b4877("x5FOXvrVK"),g=_0x2b4877(n.FbYLq);b.appendChild(_),b.appendChild(v),b.appendChild(g);let w=!1;_.innerText=_0x1cdced.c1,v.innerText=_0x1cdced.c2,b.focusable(!0),u.appendChild(b);let y=n.hPaWs(_0x2b4877,"xY17x64dw");y.classList.add("xmiEvp5FV"),y.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',y.focusable(!0),b.bindWithCooldown(function(){w?(y.classList.remove("hide"),r.classList.remove(t.eITJs),b.classList.remove("xHCo3rIZ7"),w=!1):(y.classList.add(t.qKdkw),r.classList.add("xbrV3058R"),b.classList.add(t.MfdfL),w=!0)},0),y.bindWithCooldown(async function(){let t=i.pPaqu(p,h(_0x5d5351,"chats",e.id,"todos")),n={name:i.SWtPC,description:"",startAt:Date.now(),endAt:Date.now()};await x(t,n),i.ubeut(d,n,t.id)},1e3),u.appendChild(y),r.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x84935+"</div>";let L=await m(C(h(_0x5d5351,n.IxVBH,e.id,n.Fmccc)));r.innerHTML='<div class="xmBX2cWRZ">'+_0x1cdced[n.bsbxg]+"</div>",0!==L.docs.length&&L.forEach(e=>{d(e.data(),e.id)})}),s.Content.appendChild(r),s.Content.appendChild(c),d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-door-exit"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0x1cdced[n.rCTEa],d.classList.add("xGy5QqsmI"),s.Content.appendChild(d),n.EHyHx(_0x297dfa,[o,r,d]),s._setPosition()};if(l.bindWithCooldown(function(e){e.stopPropagation(),$()}),l.focusable(!0),i.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',a.appendChild(s),s.innerText=e.name||_0x1cdced.a2,t=e.description?e.description:0===e.size?_0x1cdced.b19:_0x1cdced.b18.replace("$0",_0x17557e(e.size)),o.innerText=t,a.appendChild(o),_0x265c80.primaryArea.appendChild(i),e.focus){n.TpgsF(c);let u={};u.behavior="smooth",u.block=n.HDTIZ,u.inline=n.OPyfE,i.scrollIntoView(u)}}function _0x38b998(e){let t={loguP:function(e,t){return e-t},MMWmX:"a20",yCdsv:function(e,t){return e<t},lUONX:function(e,t){return e/t},Dakli:"a19",wAvvK:function(e,t){return e(t)}},n=Math.max(Math.floor(t.loguP(Date.now(),e)/1e3),0);return n<60?_0x1cdced.a18.replace("$0",n):n<3600?_0x1cdced[t.MMWmX].replace("$0",Math.floor(n/60)):n<86400?_0x1cdced.a21.replace("$0",Math.floor(n/3600)):t.yCdsv(n,2592e3)?_0x1cdced.a23.replace("$0",Math.floor(t.lUONX(n,86400))):n<31536e3?_0x1cdced[t.Dakli].replace("$0",Math.floor(t.lUONX(n,2592e3))):_0x1cdced.a22.replace("$0",t.wAvvK(_0x17557e,Math.floor(t.lUONX(n,31536e3))))}function _0x232c5a(e){let t={};t.GsNDK=function(e,t){return e<t},t.EQPZv=function(e,t){return e-t};let n=t,i=["B","KB","MB","GB","TB","PB"],a=e,s=0;for(;a>=1024&&n.GsNDK(s,n.EQPZv(i.length,1));)a/=1024,s++;return a.toFixed(2)+" "+i[s]}async function _0x31281c(e,t){let n={IWhEn:"users",kqkFu:function(e,t,n){return e(t,n)}};try{let i=p(_0x5d5351,n.IWhEn,e);if(t){await n.kqkFu(k,i,t),_0x70d158[e]&&(_0x70d158[e]={..._0x70d158[e],...t});let a=sessionStorage.getItem("upf_"+e);if(a){let s={...JSON.parse(a),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(s))}}else delete _0x70d158[e],sessionStorage.removeItem("upf_"+e);return!0}catch(o){return console.error("Failed to update user profile:",o),!1}}async function _0x2d00b4(e){if(_0x70d158[e])return _0x70d158[e];let t=sessionStorage.getItem("upf_"+e);if(t){let n=JSON.parse(t);return _0x70d158[e]=n,n}try{let i=await ({vpGJa:function(e,t){return e(t)}}).vpGJa(b,p(_0x5d5351,"users",e));if(!i.exists())return null;{let a=i.data();return _0x70d158[e]=a,sessionStorage.setItem("upf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x57fb69(e){let t={PGVuq:"chats",oHUGA:function(e,t){return e(t)}};if(_0x187298[e])return _0x187298[e];let n=sessionStorage.getItem("rpf_"+e);if(n){let i=JSON.parse(n);return _0x187298[e]=i,i}try{let a=await t.oHUGA(b,p(_0x5d5351,t.PGVuq,e));if(!a.exists())return null;{let s=a.data();return _0x70d158[e]=s,sessionStorage.setItem("rpf_"+e,JSON.stringify(s)),s}}catch(o){throw o}}async function _0x400387(e,t){let n={WpYkN:function(e,t,n,i){return e(t,n,i)},bdwhn:function(e,t,n,i,a){return e(t,n,i,a)},bneDS:function(e,t,n,i,a){return e(t,n,i,a)},zXaUu:"timestamp",kgWIQ:"desc",EsBmZ:function(e,t){return e(t)},hKIDL:function(e,t){return e===t},infhs:"xWIHJooz8",wosmq:function(e,t){return e-t},eyjpT:"instant",VuPKY:function(e,t,n){return e(t,n)}};if(console.log("嘗試加載更多訊息"),void 0!==_0x1e32d8){_0x13a2ee=!0;let i=await m(n.bdwhn(C,n.bneDS(h,_0x5d5351,"chats",e,"messages"),w(n.zXaUu,n.kgWIQ),n.EsBmZ(v,_0x1e32d8),T(10)));if(console.log(i.docs.length+" messages left"),n.hKIDL(i.docs.length,0))return;_0x1e32d8=n.hKIDL(i.docs.length,10)?i.docs[9]:void 0;let a=[];i.forEach(e=>{a.push(e)}),a.reverse();let s=0;_0xaefbf8=_0x2b4877(n.infhs),_0x4e54b4="";let o=_0x265c80.messageContainer.firstChild;_0x265c80.messageContainer.insertBefore(_0xaefbf8,o);let r=_0x265c80.messageContainer.scrollHeight;a.map(e=>{s++;let t=e.data();-1===_0x3ab847.indexOf(e.id)&&(t.sender===_0x1f5b88?(_0x3ab847.push(e.id),n.WpYkN(_0x37a5d7,t,e.id,"2")):(_0x3ab847.push(e.id),_0xec0f61(t,e.id,"2")),_0x4e54b4=t)});let l=_0x265c80.messageContainer.scrollHeight;_0x13a2ee=!0,_0x216a00=n.wosmq(l,r);let c={};c.top=_0x216a00,c.left=0,c.behavior=n.eyjpT,_0x265c80.messageContainer.scrollTo(c),_0x216a00=0,n.VuPKY(setTimeout,function(){_0x13a2ee=!1},500)}else _0x13a2ee=!1}let _0x3dfbdb='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x3e4115(e){let t={rtDtE:"added",egrKT:function(e,t){return e===t},LPzZU:"hidden",QUwqt:function(e,t){return e(t)},yAZvi:function(e,t,n){return e(t,n)},sVKiO:"modified",teTCY:function(e,t){return e(t)},cxPkA:".xMyW2iRSH",DqRoH:"修改訊息時發生未知錯誤",wuVJH:"An unknown error occurred",kBOSm:"chats"};g(h(_0x5d5351,t.kBOSm,e,"messages"),n=>{n.docChanges().forEach(n=>{if(_0x5133fa!==e)return;let i=n.doc.data();switch(n.type){case t.rtDtE:-1!==_0x3ab847.indexOf(n.doc.id)||n.doc.metadata.fromCache||(t.egrKT(document.visibilityState,t.LPzZU)&&(_0x4a54dd++,document.title="("+_0x4a54dd+") "+_0x31a4e6),console.log(_0x3ab847.indexOf(n.doc.id)),_0x3ab847.push(n.doc.id),t.egrKT(i.sender,_0x1f5b88)?_0x37a5d7(i,n.doc.id,"3"):_0xec0f61(i,n.doc.id,"3"));break;case"removed":let a=t.QUwqt(_0x1d5717,_0x3dfbdb.replace("{sid}",n.doc.id));try{a.classList.add("xl4gtQk5f"),t.yAZvi(setTimeout,function(){a.remove()},3e3)}catch(s){console.log(s)}break;case t.sVKiO:try{let o=t.teTCY(_0x1d5717,_0x3dfbdb.replace("{sid}",n.doc.id)).querySelector(t.cxPkA);o?(o.clear(),_0x4e7489(o,i.content)):console.log("找不到匹配的訊息容器")}catch(r){console.log(t.DqRoH,r)}}})},e=>{console.error(t.wuVJH,e)})}function _0x4cf4bb(){let e={sxcIn:"disabled",QrGPd:"auth/invalid-login-credentials",EhLqX:"b16",PrQqE:"show",kNWxy:function(e,t){return e===t},xmJuS:function(e){return e()},GMQLS:function(e,t){return e(t)},kVXNX:function(e,t){return e(t)},aEGlu:"x4V8Jejrz",HWabw:"xRRuA0Z3S",HWiWp:"div",mSwFj:"b11",TNvZx:"actionbtn xYIKBnbHS",xYhvo:function(e,t){return e(t)},Ckesn:"xrYn5ZY3v",TgCgl:"xZyuwxZPZ",oMwmT:"x6Y89FynP",Fcaxs:"b27",RgTdm:"xWDUelLWA",tdOPs:"xwxpzc3QF",bCEok:"xZdL9CF5M",qFYhR:"label",xjADC:"b24",pFVLF:"input",DsbpC:"5px",VQHRV:"b25",HFDLM:"xYvZ9WF6d",AWYTI:"password",nBVHy:"off",wUZMT:"xw0IanPrC",dSlZR:"b13"},t=e.kVXNX(_0x2b4877,"xrYn5ZY3v");t.innerText=_0x1cdced.b8;let a=_0x2b4877(e.aEGlu);a.innerText=_0x1cdced.b9;let o=_0x2b4877(e.HWabw),r=document.createElement(e.HWiWp);r.id="x7BYgkdiJ",r.focusable(!0);let l='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0x1cdced[e.mSwFj],c='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0x1cdced.b10+"</span>\n						</div>";r.innerHTML=l;let d=document.createElement("div");d.focusable(!0),d.id="xBnuWNG6V",d.className="actionbtn xYIKBnbHS",r.className=e.TNvZx,d.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0x1cdced.b12,o.appendChild(r),o.appendChild(d);let $=new _0x536845;$.Content.classList.add("bt"),$.Root.classList.add("xCmJYJQtp"),$.Content.classList.add("xySmLVr4a"),$.Content.appendChild(t),$.Content.appendChild(a),$.Content.appendChild(o);let u=e.xYhvo(_0x2b4877,e.Ckesn);u.classList.add("lf"),u.classList.add("gc");let h=_0x2b4877(e.TgCgl);h.focusable(!0),h.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',u.appendChild(h);let x=_0x2b4877(e.oMwmT);x.innerText=_0x1cdced[e.Fcaxs],u.appendChild(x);let p=_0x2b4877(e.RgTdm);p.classList.add(e.tdOPs),$.Content.appendChild(u),$.Content.appendChild(p);let f=document.createElement(e.HWiWp);p.appendChild(f),f.classList.add(e.bCEok);let b=document.createElement(e.HWiWp);b.classList.add("xGGKUZ7B3"),f.appendChild(b);let _=document.createElement(e.qFYhR);_.classList.add("xF37V7xd0"),_.innerText=_0x1cdced[e.xjADC],b.appendChild(_);let m=document.createElement(e.pFVLF);m.classList.add("xYvZ9WF6d"),m.autocomplete="off",m.type="text",m.disabled=!0,m.spellcheck=!1,b.appendChild(m);let v=document.createElement("div");v.classList.add("xGGKUZ7B3"),v.style.marginTop="10px",v.style.marginBottom=e.DsbpC,f.appendChild(v);let g=document.createElement("label");g.classList.add("xF37V7xd0"),g.innerText=_0x1cdced[e.VQHRV],v.appendChild(g);let C=document.createElement("input");C.classList.add(e.HFDLM),C.type=e.AWYTI,C.disabled=!0,C.autocomplete=e.nBVHy,v.appendChild(C);let w=document.createElement(e.HWiWp);w.classList.add(e.wUZMT),f.appendChild(w);let y=document.createElement("div");y.innerText=_0x1cdced.b26,y.classList.add("disabled"),y.classList.add("x40AApYkW"),f.appendChild(y);let L=e.kVXNX(_0x2b4877,"xPT7rhLdL");L.focusable(!0),L.innerHTML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12l14 0"></path><path d="M5 12l6 6"></path><path d="M5 12l6 -6"></path></svg>'+_0x1cdced[e.dSlZR],L.bindWithCooldown(function(){let e="0|2|1|3|4".split("|"),t=0;for(;;){switch(e[t++]){case"0":$.Content.classList.remove("xA7y7OLtP");continue;case"1":y.focusable(!1);continue;case"2":y.classList.add("disabled");continue;case"3":m.disabled=!0;continue;case"4":C.disabled=!0;continue}break}}),f.appendChild(L),h.bindWithCooldown(function(){let t="3|4|2|1|0".split("|"),n=0;for(;;){switch(t[n++]){case"0":C.disabled=!0;continue;case"1":m.disabled=!0;continue;case"2":y.focusable(!1);continue;case"3":$.Content.classList.remove("xA7y7OLtP");continue;case"4":y.classList.add(e.sxcIn);continue}break}});let k=!0,T=function(){let t={KLyDk:e.QrGPd,Zjlin:"b15",HkqHe:e.EhLqX,Ylebm:function(e,t,n){return e(t,n)}};k&&(k=!1,h.classList.add("disabled"),h.focusable(!1),w.classList.remove(e.PrQqE),y.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,C.disabled=!0,y.classList.add(e.sxcIn),y.focusable(!1),y.blur(),L.classList.add(e.sxcIn),L.focusable(!1),s(_0x34d672,m.value,C.value).then(e=>{try{$.close(),α.close()}catch(t){}let n=e.user;console.log("User is logged in: ",n)}).catch(e=>{let n={};n.wSRGt="show",n.XLGGx=t.KLyDk,n.rAkKI=t.Zjlin,n.enrPT=t.HkqHe,n.ZqurV="disabled";let i=n;t.Ylebm(setTimeout,function(){let t=e.code;switch(w.classList.add(i.wSRGt),t){case i.XLGGx:w.innerText=_0x1cdced.b14;break;case"auth/invalid-email":w.innerText=_0x1cdced[i.rAkKI];break;case"auth/network-request-failed":w.innerText=_0x1cdced[i.enrPT];break;default:w.innerText=_0x1cdced.b17}y.innerHTML=_0x1cdced.b26,y.classList.remove("disabled"),y.focusable(!0),L.classList.remove(i.ZqurV),L.focusable(!0),m.disabled=!1,C.disabled=!1,h.classList.remove("disabled"),h.focusable(!0),k=!0},3e3)}))};C.onkeydown=function(t){e.kNWxy(t.keyCode,13)&&e.xmJuS(T)},y.bindWithCooldown(T),r.bindWithCooldown(function(){r.classList.add("disabled"),d.classList.add("disabled"),r.innerHTML=c,r.focusable(!1),d.focusable(!1),n(_0x34d672,_0x4851f8).then(t=>{i.credentialFromResult(t).accessToken,_0x1f5b88=t.user.uid,e.GMQLS(_0x2d00b4,_0x1f5b88).then(e=>{try{_0x734a(e.avatarUrl,e.name,e.qid||e.id)}catch(t){console.error("無法設置")}$.close()}).catch(e=>{console.error(e)})}).catch(t=>{e.kNWxy(t.code,"auth/popup-closed-by-user")&&(r.classList.remove("disabled"),d.classList.remove("disabled"),r.focusable(!0),d.focusable(!0),r.innerHTML=l)})}),d.bindWithCooldown(function(){$.Content.classList.add("xA7y7OLtP"),m.disabled=!1,C.disabled=!1,y.focusable(!0),y.classList.remove("disabled"),m.focus()})}function _0x41ee54(e="",t="",...n){let i={gcwqY:function(e,t){return e!==t},JLhQq:"disabled",xLHSU:function(e,t){return e(t)},NYOvy:"users",EEFra:function(e,t,n){return e(t,n)},tqezf:function(e,t,n){return e(t,n)},hicUO:"xMCbxIsn5",XCNhC:"xrYn5ZY3v",MOhgX:function(e,t){return e(t)},jYioP:"x6Y89FynP",bHVRB:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',GhodF:"true",DTEfO:"file",goqPD:"label",BJUUz:"input",hhNBs:"_rJvAjH9O",NUZuk:"text",lTtDb:"xF37V7xd0",lBpId:"textarea",tyJml:"xGuwEx6qN",mxHmF:"_fM6Qcf9q",EcSLe:function(e,t){return e(t)}},a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x536845(a);s.Root.classList.add(i.hicUO),s.Content.style.padding="0";let o=i.xLHSU(_0x2b4877,i.XCNhC);o.classList.add("lf");let r=i.MOhgX(_0x2b4877,i.jYioP);r.innerText=_0x1cdced.b5,o.appendChild(r);let l=_0x2b4877("xvb5soWNa");l.focusable(!0),l.innerHTML=i.bHVRB,s.close=s.close.bind(s),l.bindWithCooldown(s.close),o.appendChild(l),s.Content.appendChild(o);let c=_0x2b4877("xWDUelLWA");s.Content.appendChild(c);let d=document.createElement("input");d.setAttribute("hidden",i.GhodF),d.id="_Jy2eOVG7",d.type=i.DTEfO;let $=_0x2b4877("xGGKUZ7B3"),u=document.createElement(i.goqPD);u.innerText=_0x1cdced.b4,u.classList.add("xF37V7xd0"),u.htmlFor="_rJvAjH9O";let h=document.createElement(i.BJUUz);h.value=e,h.classList.add("xYvZ9WF6d"),h.id=i.hhNBs,h.type=i.NUZuk,h.maxLength="20",h.autocomplete="off",h.spellcheck=!1,c.appendChild($),$.appendChild(u),$.appendChild(h);let f=_0x2b4877("xGGKUZ7B3"),_=document.createElement(i.goqPD);_.innerText=_0x1cdced.b3,_.classList.add(i.lTtDb),_.htmlFor="_fM6Qcf9q";let m=document.createElement(i.lBpId);m.maxLength="80",m.value=t,m.classList.add(i.tyJml),m.id=i.mxHmF,m.rows="3",m.maxLength="50",m.autocomplete="off",m.spellcheck=!1,c.appendChild(f),f.appendChild(_),f.appendChild(m);let v=i.EcSLe(_0x2b4877,"x40AApYkW");function g(){i.gcwqY(m.value,t)||h.value!==e?(v.classList.remove("disabled"),v.focusable(!0)):(v.classList.add("disabled"),v.focusable(!1))}async function C(){v.classList.add(i.JLhQq),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),h.disabled=!0,m.disabled=!0,d.disabled=!0;let e=h.value,t=m.value.trim();if((await i.xLHSU(b,p(_0x5d5351,i.NYOvy,_0x1f5b88))).exists()){let n={};n.name=e,n.signature=t,await i.EEFra(_0x31281c,_0x1f5b88,n)}else await i.tqezf(x,p(_0x5d5351,i.NYOvy,_0x1f5b88),{name:e,signature:t,id:_0x1f5b88,joined:[],deviceInfo:""}),_0x265c80.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x1cdced.d7+"</div>";_0x265c80.nameLabel.innerText=e,_0x54c20a.state&&(_0x54c20a._n=e,_0x54c20a._a.innerText=e,_0x54c20a._b.innerHTML=_0x585d5b(_0x2286f7(t))||_0x1cdced.d10,_0x54c20a._m.forEach(t=>{t.userId===_0x1f5b88&&(t.dom.textContent="@"+e)})),s.close()}v.innerText=_0x1cdced.b7,v.classList.add("disabled"),v.style.marginTop="0",c.appendChild(v),m.oninput=g,h.oninput=g,v.bindWithCooldown(C),h.focus()}async function _0x1c82e5(e,t){let n={ssbfi:function(e,t){return e(t)},dTras:function(e,t,n,i,a){return e(t,n,i,a)},fKpkQ:"messages"},i=await n.ssbfi(m,n.dTras(h,_0x5d5351,"chats",e.id,n.fKpkQ));if(!_0x3916fb.some(t=>t.id===e.id)){let a={};a.name=e.name,a.id=e.id,a.type=e.type,a.tag=e.tag,a.description=e.description,a.size=i.size,a.members=e.members,a.focus=t,a.identity=e.identity,_0x179005(a)}}async function _0x5e7f4c(){let e={IehMP:function(e,t,n){return e(t,n)},MybtM:function(e,t){return e===t},RaQWe:"Error fetching document for ID:",VjADD:function(e,t,n,i){return e(t,n,i)},leGOC:"users",mjoMq:function(e,t){return e>t},VLTIu:"d13"};_0x265c80.primaryArea.classList.add("xuGldtFot");let t=(await b(e.VjADD(p,_0x5d5351,e.leGOC,_0x1f5b88))).data(),n=new URLSearchParams(window.location.search).get("r"),i=t.joined||[];e.mjoMq(i.length,0)?t.joined.map(async t=>{let i={JNPgY:function(t,n,i){return e.IehMP(t,n,i)},TmEeI:function(t,n){return e.MybtM(t,n)}};try{_0x57fb69(t).then(async e=>{let a={};a.id=t,a.name=e.name,a.type=e.type,a.tag=e.tag,a.plugins=e.plugins,a.members=e.members,a.description=e.description,a.identity=e.identity,i.JNPgY(_0x1c82e5,a,i.TmEeI(n,t))})}catch(a){console.error(e.RaQWe,t,a)}}):_0x265c80.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x1cdced[e.VLTIu]+"</div>"}a(_0x34d672,e=>{let t={BicHp:function(e,t,n,i){return e(t,n,i)},CbkfY:function(e){return e()},QUPqQ:function(e,t){return e(t)},CbZLX:function(e){return e()}};e?(_0x1f5b88=e.uid,t.QUPqQ(_0x2d00b4,_0x1f5b88).then(e=>{if(!e){_0x41ee54();return}t.BicHp(_0x734a,e.avatarUrl,e.name,e.id)}).catch(e=>{console.error(e),t.CbkfY(_0x734a)}),t.CbZLX(_0x20057c)):(_0x1f5b88="",_0x4cf4bb())});let _0x35dd02={};_0x35dd02.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x35dd02.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x35dd02.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x35dd02.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x35dd02.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x30b740=_0x35dd02;function _0x676705(){let e={};e.nCJUh="x8VAGH6N2",e.sXibi="Structure",e.gMkUQ="disabled";let t=e;_0x275e6a=!1,_0x8bc54c=_0x265c80.sidebar,_0x265c80.backButton.classList.add("disabled"),_0x265c80._mb_att_btn.classList.add("disabled");let n=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x265c80.main.classList.remove(t.nCJUh),_0x13a2ee=!0,_0x265c80.messageContainer.clear(),_0x13a2ee=!1,_0x5133fa="",_0x31a4e6=t.sXibi,document.title=_0x31a4e6,_0x265c80.messageInput.clear(),_0x265c80.messageInput.setAttribute("contenteditable","true"),_0x265c80.messageInput.focusable(!1),_0x265c80.sendButton.classList.add(t.gMkUQ),_0x265c80.sendButton.focusable(!1)}_0x265c80.fileInput.onchange=async function(e){let t={OBriw:"b44",cAUpj:function(e,t){return e*t},FbgyN:function(e,t,n,i){return e(t,n,i)},MuYTO:"b46",MkgxQ:"xOjXmYkxE",hChYT:function(e,t){return e(t)},rHoWo:function(e,t){return e(t)},vowpg:"xIOucKmLX",ClotW:"x6Y89FynP",bgEoY:function(e,t){return e(t)},hCIsr:"2|1|0|4|3",oRDPy:"b49",IFRwA:"b42",yEwYm:"b43",llDpN:"xCECpHDwZ",QXpsI:"div",VotOc:"xty9qDHrl",VVAsU:function(e,t){return e(t)},KNjCp:"video/",nonqA:"application/x-rar-compressed",cXvCD:"application/vnd.rar",nwYut:function(e,t){return e===t},QWGYX:"< other {u}",QDnEF:function(e,t){return e(t)},XMLEG:"xk0osKWCK",bisZK:"生成文件名時發生未知錯誤"},n=e.target.files[0];if(!n)return;let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x536845(i);a.Overlay.classList.add(t.MkgxQ),a.Lock=!0;let s=t.hChYT(_0x2b4877,"xrYn5ZY3v");s.classList.add("lf");let o=t.rHoWo(_0x2b4877,"xWDUelLWA");o.classList.add(t.vowpg),a.Content.appendChild(s),a.Content.appendChild(o),a.Content.classList.add("gt");let r=_0x2b4877(t.ClotW),$=t.bgEoY(_0x2b4877,"xujSSErs5");s.appendChild(r),o.appendChild($);let u=_0x2b4877("xvb5soWNa");if(u.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',u.focusable(!0),s.appendChild(u),n.size>52428800){let f=t.hCIsr.split("|"),b=0;for(;;){switch(f[b++]){case"0":u.onclick=function(){_0x265c80.fileInput.value="",a.close.bind(a)()};continue;case"1":$.innerText=_0x1cdced[t.oRDPy].replace("$0",_0x232c5a(n.size));continue;case"2":r.innerText=_0x1cdced.b48;continue;case"3":return;case"4":a.Lock=!1;continue}break}}r.innerText=_0x1cdced[t.IFRwA],$.innerText=_0x1cdced[t.yEwYm];let _=document.createElement("div");_.classList.add(t.llDpN),_.focusable(!0),o.appendChild(_);let m=document.createElement(t.QXpsI);m.classList.add(t.VotOc),_.appendChild(m);let v=document.createElement("div");v.classList.add("xIEj1ZAnA");let g=t.VVAsU(String,n.type),C="",w="";g.startsWith("image/")?(C=_0x30b740.image,w="< image {u}"):g.startsWith(t.KNjCp)?(C=_0x30b740.video,w="< video {u}"):g.startsWith("audio/")?(C=_0x30b740.audio,w="< audio {u}"):-1!==["application/x-zip-compressed","application/zip",t.nonqA,t.cXvCD,"application/x-compressed"].indexOf(g)?(C=_0x30b740.archive,w="< other {u}"):t.nwYut(g,"application/pdf")?(C=_0x30b740.others,w="< pdf {u}"):(C=_0x30b740.others,w=t.QWGYX),v.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+C+"</svg>",m.appendChild(v);let y=document.createElement("div");y.classList.add("xxs4n9nhX"),m.appendChild(y),y.innerHTML='<div class="xTGGn7ABj">'.concat(n.name).concat('</div><div class="xtyaQiCLO">'+t.QDnEF(_0x232c5a,n.size)+"</div>"),m.appendChild(y);let L=document.createElement("div");L.classList.add("xsoLox5sj"),m.appendChild(L);let k=document.createElement("div");k.classList.add(t.XMLEG),L.appendChild(k);let T="";try{T=_0x5950fc(12)+"-"+n.name}catch(E){console.log(t.bisZK,E)}let M=l(_0x196bbb,"uploads/"+_0x5133fa+"/attachment/"+T),H=c(M,n);u.onclick=function(){r.innerText=_0x1cdced[t.OBriw],$.innerText=_0x1cdced.b45,a.Lock=!1,H.cancel(),_0x265c80.fileInput.value="",a.close()},H.on("state_changed",e=>{let n=t.cAUpj(e.bytesTransferred/e.totalBytes,100);k.style.width=n+"%"},e=>{console.log(e)},async()=>{let e=await d(H.snapshot.ref),n="";n=w.replace("{u}",e);let i=p(h(_0x5d5351,"chats",_0x5133fa,"messages"));_0x3ab847.push(i.id),await x(i,{sender:_0x1f5b88,content:n,timestamp:Date.now()});let s={};s.content=n,t.FbgyN(_0x37a5d7,s,i.id,"3"),_0x265c80.fileInput.value="",_.remove(),r.innerText=_0x1cdced[t.MuYTO],$.innerText=_0x1cdced.b47,u.onclick=()=>{},a.Lock=!1,u.bindWithCooldown(function(){a.close()})})},document.addEventListener("visibilitychange",function(){let e={};e.Iwpgt=function(e,t){return e===t},e.EBiPD="visible",e.Itjwz="已重新聚焦 清除未讀訊息數";let t=e;t.Iwpgt(document.visibilityState,t.EBiPD)&&(console.log(t.Itjwz),document.title=_0x31a4e6,_0x4a54dd=0)}),_0x265c80.searchInput.oninput=function(){let e={};e.KvpXL="hide",e.wikwU=function(e,t){return e!==t};let t=e,n=_0x265c80.searchInput.value.toLowerCase().trim();t.wikwU(n,"")?_0x3916fb.forEach(e=>{e.name.toLowerCase().includes(n)?e.dom.classList.remove(t.KvpXL):e.dom.classList.add("hide")}):_0x3916fb.forEach(e=>{e.dom.classList.remove(t.KvpXL)})},_0x265c80.messageContainer.addEventListener("scroll",function(){let e={};e.JeVyt=function(e,t){return e!==t};let t=_0x265c80.messageContainer.scrollTop;e.JeVyt(_0x1f5b88,"")&&""!==_0x5133fa&&t<120&&!_0x13a2ee&&(_0x42ab0a=!0,_0x400387(_0x5133fa))}),_0x265c80.messageInput.oninput=function(){let e={};e.fyWwY=function(e,t){return e==t},e.eHAxX=function(e,t){return e===t},e.teazb="disabled";let t=e,n=_0x265c80.messageInput.childNodes;t.fyWwY(n.length,1)&&(t.eHAxX(n[0].nodeName,"BR")||"DIV"===n[0].nodeName)&&_0x265c80.messageInput.clear(),""!==_0x265c80.messageInput.innerText.trim()?(_0x265c80.sendButton.classList.remove("disabled"),_0x265c80.sendButton.focusable(!0)):(_0x265c80.sendButton.classList.add(t.teazb),_0x265c80.sendButton.focusable(!1))},_0x265c80.messageInput.onfocus=function(){document.body.classList.add("xYIbDcl9T")},_0x265c80.messageInput.onblur=function(){document.body.classList.remove("xYIbDcl9T")},_0x265c80.messageInput.onpaste=function(e){let t={};t.hiNxm="insertHTML",t.tNEwA="text/plain";let n=t;e.preventDefault(),document.execCommand(n.hiNxm,!0,_0x2286f7((e.clipboardData||window.Clipboard).getData(n.tNEwA)))},_0x265c80.messageInput.ondrop=function(e){e.preventDefault();let t=e.dataTransfer.getData("text/plain");e.target.focus(),document.execCommand("insertHTML",!0,_0x2286f7(t))},_0x265c80.messageInput.oncopy=function(e){let t={};t.aCdMz="text/plain",e.preventDefault();var n=window.getSelection().toString();e.clipboardData.setData(t.aCdMz,n)},_0x265c80.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x33aef3||e.shiftKey||(e.preventDefault(),_0x419a5f());break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x265c80.sendButton.bindWithCooldown(_0x419a5f),document.onkeydown=function(e){let t={};t.cHggM=function(e,t){return e!=t},t.XgasS=function(e,t){return e!=t},t.dfvMn="xGuwEx6qN";let n=t;switch(e.keyCode){case 191:let i=document.activeElement;n.cHggM(i,_0x265c80.messageInput)&&n.XgasS(i,_0x265c80.searchInput)&&"INPUT"!=i.tagName.toUpperCase()&&!i.classList.contains(n.dfvMn)&&!i.classList.contains("xYvZ9WF6d")&&(e.preventDefault(),_0x265c80.messageInput.focus());break;case 75:e.ctrlKey&&_0xd925ce&&(e.preventDefault(),_0x265c80.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x265c80.backButton.bindWithCooldown(function(){({HWVEg:function(e){return e()}}).HWVEg(_0x676705)}),_0x265c80.profileContainer.bindWithCooldown(function(){let e={SaNJL:"a14",UeAVM:"disabled",DvFls:function(e,t,n){return e(t,n)},QNNvF:"chats",HzdmB:"jid",XlzlP:function(e,t,n){return e(t,n)},ERvol:function(e,t){return e===t},RSvNh:"normal",HkHuw:function(e,t){return e!==t},ynpBt:function(e,t,n,i){return e(t,n,i)},ZnEFI:function(e,t){return e(t)},hTrwz:"smooth",epgWI:"center",wqlMx:"a11",RyNsG:"xUhQpBm2v",MoyCn:function(e,t){return e(t)},yjtXn:"xlEirFRi3",xVjJP:"label",ffFYt:"a13",cKBej:"xF37V7xd0",AulmH:"xYvZ9WF6d",BHOHc:"mobile",hPqTB:function(e,t){return e(t)},DLFYQ:"Sign out error",rHYqu:function(e,t){return e(t)},jPhrT:"top",HHYxn:"xLhiIL2Wm",PNLFr:"xrQdSHI2A",RQZDQ:function(e,t){return e(t)},VUlVH:"a16"},t={};t.trigger=_0x265c80.profileContainer,t.placement=e.jPhrT;let n=new _0x236282(t);n.Content.classList.add(e.HHYxn),_0x265c80.profileContainer.classList.add("x9EnCPd4S");let i=_0x2b4877(e.PNLFr);i.focusable(!0),i.innerHTML='<svg style="min-width: 24px" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 9h8" /><path d="M8 13h6" /><path d="M12.01 18.594l-4.01 2.406v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v5.5" /><path d="M16 19h6" /><path d="M19 16v6" /></svg>'+_0x1cdced.a11,i.bindWithCooldown(function(){let t={NOpir:function(t,n,i,a){return e.ynpBt(t,n,i,a)},tpCQu:function(e,t){return e(t)},TkdNf:function(t,n){return e.ZnEFI(t,n)},cEmyD:function(t,n){return e.ERvol(t,n)},wupRK:e.hTrwz,WTiQB:e.epgWI,FdOYY:function(e){return e()}};n.close();let i=_0x171d54(_0x1cdced[e.wqlMx],!0);i.Root.classList.add(e.RyNsG);let a=e.MoyCn(_0x2b4877,"xGGKUZ7B3");a.classList.add(e.yjtXn);let s="_"+_0x5950fc(12),o=document.createElement(e.xVjJP);o.textContent=_0x1cdced[e.ffFYt],o.htmlFor=s,o.classList.add(e.cKBej);let r=document.createElement("input");r.classList.add("x4qSHIItt"),r.id=s,r.autocomplete="off",r.autocorrect="off",r.maxLength="8",r.classList.add("xYvZ9WF6d"),r.classList.add(e.AulmH),a.appendChild(o),a.appendChild(r);let l=e.ZnEFI(_0x2b4877,"xw0IanPrC"),c=_0x2b4877("x40AApYkW");c.classList.add(e.UeAVM),c.textContent=_0x1cdced.a14;let d=e.UeAVM;async function $(){let n={pjMMh:"a17",NaghB:"disabled",NCdpU:e.SaNJL,KJYcw:function(e,t,n){return e(t,n)},TTgRS:"成功加入"};i.root.Lock=!0,i.closebtn.classList.add(e.UeAVM),i.closebtn.focusable(!1),l.classList.remove("show"),c.classList.add(e.UeAVM),r.setAttribute(e.UeAVM,!0),c.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let a=await m(C(e.DvFls(h,_0x5d5351,e.QNNvF),_(e.HzdmB,"==",r.value.trim())));a.empty?e.XlzlP(setTimeout,function(){i.root.Lock=!1,i.closebtn.classList.remove("disabled"),i.closebtn.focusable(!0),l.classList.add("show"),l.innerText=_0x1cdced[n.pjMMh],r.removeAttribute(n.NaghB),c.classList.remove("disabled"),c.innerHTML=_0x1cdced[n.NCdpU]},3e3):(i.root.Lock=!1,i.root.close());let s=[];a.forEach(e=>{let t={};t.id=e.id,s.push(t)}),s.forEach(async e=>{let i=_0x3916fb.find(t=>t.id===e.id);if(i){if(t.cEmyD(s.length,1)){let a={};a.behavior=t.wupRK,a.block=t.WTiQB,a.inline="nearest",i.dom.scrollIntoView(a),i.launch()}}else await k(t.NOpir(p,_0x5d5351,"users",_0x1f5b88),{joined:t.tpCQu(y,e.id)}),await k(t.NOpir(p,_0x5d5351,"chats",e.id),{members:y(_0x1f5b88)}),sessionStorage.removeItem("rpf_"+e.id),t.TkdNf(_0x57fb69,e.id).then(async t=>{let i={};i.id=e.id,i.name=t.name,i.type=t.type,i.tag=t.tag,i.plugins=t.plugins,i.members=t.members,i.description=t.description,i.identity=t.identity,n.KJYcw(_0x1c82e5,i,!0),console.log(n.TTgRS,e.id)})})}r.oninput=function(){let t;t=r.value.trim(),e.ERvol(t.length,8)&&""!==t?(c.classList.remove(e.UeAVM),c.focusable(!0),d=e.RSvNh):(c.classList.add("disabled"),c.focusable(!1),d="disabled")},r.onkeydown=function(e){13===e.keyCode&&t.cEmyD(d,"normal")&&t.FdOYY($)},c.bindWithCooldown(async function(){e.HkHuw(d,"normal")||$()}),i.body.appendChild(a),i.body.appendChild(l),i.body.appendChild(c),r.focus()});let a=e.rHYqu(_0x2b4877,e.PNLFr);a.focusable(!0),a.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0x1cdced.a15,a.bindWithCooldown(function(){n.close(),e.hPqTB(_0x2d00b4,_0x1f5b88).then(t=>{let n={};n.data=t,n.type=_0x33aef3?e.BHOHc:"desktop",_0x5cddb9(_0x265c80.sidebar,n)}).catch(e=>{console.error(e)})});let s=e.ZnEFI(_0x2b4877,"xcoXgMpFW"),r=e.RQZDQ(_0x2b4877,e.PNLFr);r.focusable(!0),r.bindWithCooldown(function(){let t={};t.MHixu=e.UeAVM,t.UCUNq="xJd2GT7MI";let i=t;n.close(),e.rHYqu(o,_0x34d672).then(()=>{_0x1f5b88="",_0x5133fa="",_0x3916fb.length=0,_0x3ab847.length=0,_0xd925ce=!1;let e=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",e),_0x265c80.primaryArea.clear(),_0x265c80.messageContainer.clear(),localStorage.setItem("cvs",""),_0x15090d&&(_0x15090d.remove(),_0x15090d=null),document.body.classList.remove("xmKH3ad5R"),_0x265c80.profileContainer.classList.remove(i.MHixu),_0x265c80.profileContainer.focusable(!0),_0x265c80.markButton.classList.add("disabled"),_0x265c80.brushButton.classList.add(i.MHixu),_0x265c80.attachButton.classList.add(i.MHixu),_0x265c80.stickerButton.classList.add(i.MHixu),_0x5c20dd=!1,_0x265c80.avatarWrapper.classList.add(i.UCUNq),_0x265c80.avatarLabel.src="",_0x265c80.nameLabel.innerText="",_0x265c80.signatureLabel.innerText=""}).catch(t=>{console.error(e.DLFYQ,t)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0x1cdced[e.VUlVH],e.MoyCn(_0x297dfa,[i,a,r]),n.Content.appendChild(i),n.Content.appendChild(a),n.Content.appendChild(s),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x265c80.profileContainer.classList.remove("x9EnCPd4S")})});class _0x1df62b{constructor({parent:e,title:t}){let n={bqdPF:"inert",KXiXR:"true",oOYJy:"xa2pPtuLq",EPKoi:function(e,t){return e(t)},jwonh:"xZz4zYjIm",QfzHy:function(e,t){return e(t)},zLdMO:"x8JU9DbQZ",xbeKM:"xvwhg72ii",zMguy:"body > *:not(.xEHCrF5Oe, script, [hidden])",IGozD:function(e,t,n){return e(t,n)}},i=e,a=_0x2b4877("xB4hVI3El"),s=n.EPKoi(_0x2b4877,"xopQXJrX5"),o=n.EPKoi(_0x2b4877,n.jwonh),r=_0x2b4877("xMyenRl7K"),l=n.QfzHy(_0x2b4877,n.zLdMO),c=_0x2b4877(n.xbeKM);this._parent=i,this.Root=a,this.Content=o,this.Heading=s,this._backButton=l,this._deactivated_elements=document.querySelectorAll(n.zMguy),this._deactivated_elements.forEach(e=>{e.setAttribute(n.bqdPF,n.KXiXR)}),s.appendChild(r),r.appendChild(l),r.appendChild(c),c.textContent=t,l.focusable(!0),l.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',l.bindWithCooldown(this.close.bind(this)),a.appendChild(s),a.appendChild(o),document.body.appendChild(a),n.IGozD(setTimeout,function(){_0x8bc54c=a,i.classList.add("xCr0RyqCg"),a.classList.add(n.oOYJy)},50)}onClose(e){this.onCloseCallback=e}close(){let e={Btdcg:"xa2pPtuLq",YjeOk:"xjv5U11Kz",UmRaW:function(e,t,n){return e(t,n)}};this.onCloseCallback&&this.onCloseCallback(),this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),_0x8bc54c=this._parent,this.Root.classList.remove(e.Btdcg),this._parent.classList.remove("xCr0RyqCg"),this._parent.classList.remove(e.YjeOk),this.Root.classList.remove(e.YjeOk),e.UmRaW(setTimeout,()=>{this.Root.remove()},100)}}async function _0x5cddb9(e,t){let n={JzIsQ:function(e,t){return e>t},saaUu:"xORN7XV1j",xUxNO:function(e,t,n,i){return e(t,n,i)},zycrI:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',IhZDu:function(e,t){return e(t)},iVTXF:"cache-url",UzbXs:"video",jngfO:"assets/default-banner.png",yxwRI:"lazy",IYmvm:"x96ofpjeu",olXjG:function(e,t){return e(t)},SitHV:"xqYV0G7JT",TQyWl:"xBjZoCxmV",dOqoB:function(e,t){return e(t)},fEFlB:"xt0pX9m5p",FAPat:function(e,t){return e(t)},pBLiP:"xokk3UP7N",nDJBp:"x117sdiIx",AqpSo:"xylvbLNlS",lIsWe:"xY3QPRePs",MiegI:"xodqSvoQM",YxsfS:function(e,t){return e+t},ILozx:function(e,t){return e+t},TXkBY:function(e,t){return e+t},qqmEN:"d12",bDKZQ:function(e,t){return e(t)},KeDTI:"xjMiLDVEU",CZUjk:"xhMhXcFlu",KiJrN:"xIl46kG8k",oeFxJ:function(e,t){return e(t)},bEjvw:"xjMYgfYFc",eBAWB:"xHPTUCUar",NYGSg:function(e,t){return e(t)},ElFnE:"horizontal",lZose:"x8JU9DbQZ",NVhUD:"xnS3FTqjp"};_0x54c20a.state=!0,_0x54c20a._n||(_0x54c20a._n=t.data.name),_0x54c20a._d||(_0x54c20a._d=t.data.signature);let i=n.zycrI,a=n.IhZDu(_0x2b4877,"xkyfCNAI0"),s=_0x2b4877("x0zSVRG3y"),o,r={};r.action=n.iVTXF,r.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(r);let l={};if(l.action=n.iVTXF,l.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(l),"video"===t.data.bannerType){let c="7|3|8|4|2|1|5|0|6".split("|"),d=0;for(;;){switch(c[d++]){case"0":o.autoplay=!0;continue;case"1":o.playsInline=!0;continue;case"2":o.setAttribute("muted","");continue;case"3":o.loop=!0;continue;case"4":o.controls=!1;continue;case"5":o.preload=!0;continue;case"6":o.src=t.data.bannerUrl;continue;case"7":o=document.createElement(n.UzbXs);continue;case"8":o.controlslist="nodownload";continue}break}}else(o=document.createElement("img")).draggable=!1,o.src=t.data.bannerUrl||n.jngfO,o.loading=n.yxwRI;o.classList.add(n.IYmvm);let $=_0x2b4877("xkKF4v6d2"),u=n.olXjG(_0x2b4877,"xwvIJoAtO"),h=document.createElement("img");h.classList.add("xVwXc1fhM");let x=_0x2b4877("xzCCWGB1D"),p=_0x2b4877(n.SitHV),f=n.olXjG(_0x2b4877,n.TQyWl),b=n.dOqoB(_0x2b4877,"xodqSvoQM"),_=n.dOqoB(_0x2b4877,n.fEFlB);a.appendChild(s),s.appendChild(o),a.appendChild($),p.appendChild(u),u.appendChild(h),h.draggable=!1,h.src=t.data.avatarUrl||"assets/avatar.png",h.loading="lazy",$.appendChild(x),x.appendChild(p);let m=_0x2b4877("x2OCp76zA");x.appendChild(m);let v=n.FAPat(_0x2b4877,n.pBLiP);p.appendChild(v);let g=_0x54c20a._n,C=_0x2b4877(n.nDJBp);C.textContent=g,f.appendChild(C);let w=_0x2b4877("xxXoB6W0R");w.textContent=t.data.id,v.appendChild(f),v.appendChild(w),_0x54c20a._a=C,_0x54c20a._b=b,b.innerHTML=_0x585d5b(_0x2286f7(_0x54c20a._d||_0x1cdced.d10)),$.appendChild(_);let y=_0x2b4877("xylvbLNlS");y.innerText=_0x1cdced.b1,_.appendChild(y),_.appendChild(b);let L=n.olXjG(_0x2b4877,n.AqpSo);L.id=n.lIsWe,L.textContent=_0x1cdced.b2;let k=_0x2b4877(n.MiegI),T=new Date(t.data.deviceInfo.lastUpdate),E=n.YxsfS(n.YxsfS(n.ILozx(n.TXkBY(T.getFullYear()+"/",T.getMonth()+1)+"/"+T.getDate()," ")+T.getHours().toString(),":"),T.getMinutes().toString().padStart(2,"0"));if(k.innerText=(n.dOqoB(_0x38b998,t.data.deviceInfo.lastUpdate)||_0x1cdced.d11)+" ("+(E||_0x1cdced[n.qqmEN])+")",_.appendChild(L),_.appendChild(k),"desktop"===t.type){let M={};M.closeOnEsc=!0,M.closeOnOverlayClick=!0;let H=new _0x536845(M);H.Content.classList.add("xlY0G76Nv"),H.Content.classList.add("lg"),H.Content.classList.add("gb");let I=n.bDKZQ(_0x2b4877,n.KeDTI),A=n.IhZDu(_0x2b4877,"xUHiz9aGO"),W=n.dOqoB(_0x2b4877,n.CZUjk),Y=_0x2b4877(n.KiJrN),R=n.oeFxJ(_0x2b4877,n.bEjvw);Y.appendChild(R),R.textContent=t.data.name,A.appendChild(Y),A.appendChild(W);let O=_0x2b4877(n.eBAWB);if(O.bindWithCooldown(H.close.bind(H)),O.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',O.focusable(!0),t.data.id===_0x1f5b88){let B=n.NYGSg(_0x2b4877,"xHPTUCUar");B.bindWithCooldown(function(){_0x41ee54(_0x54c20a._n,_0x54c20a._d,H.Root)}),B.innerHTML=_0x2efa95.edit,B.focusable(!0),W.appendChild(B),_0x297dfa([B,O],n.ElFnE)}W.appendChild(O),I.appendChild(A),H.Content.appendChild(I),I.appendChild(a);let S=H.Content.getBoundingClientRect();if(H.Content.style.setProperty("--xD672nKxG",S.height+"px"),I.onscroll=function(){n.JzIsQ(I.scrollTop,60)?I.classList.add(n.saaUu):I.classList.remove("xORN7XV1j")},t.data.verified){let D=n.bDKZQ(_0x2b4877,"xTKxbdpu3");D.innerHTML=i,f.appendChild(D)}H.onClose(function(){_0x54c20a.state=!1,_0x54c20a._a=null,_0x54c20a._b=null,_0x54c20a._n="",_0x54c20a._d=""})}else{let U={};U.parent=e,U.title=t.data.name;let P=new _0x1df62b(U);if(t.data.id===_0x1f5b88){let X=_0x2b4877(n.lZose);X.bindWithCooldown(function(){n.xUxNO(_0x41ee54,_0x54c20a._n,_0x54c20a._d,P.Root)}),X.innerHTML=_0x2efa95.edit,X.focusable(!0),P.Heading.appendChild(X)}P.Root.classList.add("xwMgtrL2x"),P.onClose(function(){_0x54c20a.state=!1,_0x54c20a._a=null,_0x54c20a._b=null,_0x54c20a._n="",_0x54c20a._d=""}),P.Root.onscroll=function(){P.Root.scrollTop>60?P.Root.classList.add(n.saaUu):P.Root.classList.remove(n.saaUu)},P._backButton.classList.add(n.NVhUD),P.Content.appendChild(a)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{let t={};t.qpvuR=function(e,t){return e===t},t.RMRED="installed";let n=t;e.onupdatefound=()=>{let t=e.installing;t.onstatechange=()=>{n.qpvuR(t.state,n.RMRED)&&window.location.reload()}}}).catch(e=>{let t={};t.BaQtM="註冊失敗：";let n=t;console.log(n.BaQtM,e)});
