/**release 0.1.1*/
let _0x4e42fd=function(){let e=!0;return function(t,n){let a=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,a}}(),_0x1755dc=_0x4e42fd(this,function(){return _0x1755dc.toString().search("(((.+)+)+)+$").toString().constructor(_0x1755dc).search("(((.+)+)+)+$")});_0x1755dc();let _0x2d906d=function(){let e=!0;return function(t,n){let a=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,a}}(),_0x2aabd0=_0x2d906d(this,function(){let e={};e.lkqpl="return (function() ",e.JZuIQ='{}.constructor("return this")( )',e.TGrbO="log",e.BLrFx="warn",e.nNfMj="error",e.dytkY="exception";let t=e,n;try{n=Function(t.lkqpl+t.JZuIQ+");")()}catch(a){n=window}let i=n.console=n.console||{},s=[t.TGrbO,t.BLrFx,"info",t.nNfMj,t.dytkY,"table","trace"];for(let o=0;o<s.length;o++){let r=_0x2d906d.constructor.prototype.bind(_0x2d906d),l=s[o],c=i[l]||r;r.__proto__=_0x2d906d.bind(_0x2d906d),r.toString=c.toString.bind(c),i[l]=r}});_0x2aabd0();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as a,onAuthStateChanged as i,signInWithEmailAndPassword as s,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as l,uploadBytesResumable as c,getDownloadURL as d}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as $,enableIndexedDbPersistence as h,collection as u,setDoc as x,doc as f,deleteDoc as p,getDoc as _,where as b,getDocs as m,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as L,arrayRemove as y,updateDoc as k,limit as E}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x3ff6c0{constructor(e,t={}){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.logicalWidth=0,this.logicalHeight=0,this.devicePixelRatio=window.devicePixelRatio||1,this.updateCanvasSize();let n={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=n,this.customDrawer=null,this.lastTapTime=0,this.tapTimeout=null,this.scale=1,this.posX=0,this.posY=0,this.isDragging=!1,this.lastX=0,this.lastY=0,this.img=null,this.needsRedraw=!1,this.animationFrameId=null,this.isTouching=!1,this.initialDistance=0,this.initialScale=1,this.touchStartPosX=0,this.touchStartPosY=0,this.touchStartScale=1,this.initialCenterX=0,this.initialCenterY=0,this.rotation=0,this.velocityX=0,this.velocityY=0,this.lastTime=0,this.isInertialMoving=!1,this.decelerationRate=.85,this.minVelocityThreshold=.1,this.setupEventListeners(),this.requestRedraw()}updateCanvasSize(){let e=this.canvas.parentElement;this.logicalWidth=e.clientWidth,this.logicalHeight=e.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=this.logicalWidth+"px",this.canvas.style.height=this.logicalHeight+"px",this.canvas.width=Math.floor(this.logicalWidth*this.devicePixelRatio),this.canvas.height=Math.floor(this.logicalHeight*this.devicePixelRatio),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.AaYsa="touchstart",e.XOQsV="mouseleave",e.EBuER="touchend",e.sZHkO="mouseup",e.gLhxy="click",e.cvGWX="wheel",e.QZysa="mousemove";let t=e,n="8|21|13|4|10|14|16|2|15|5|7|17|3|20|11|22|19|9|18|1|0|12|6".split("|"),a=0;for(;;){switch(n[a++]){case"0":this.canvas.addEventListener(t.AaYsa,this.handleTouchStart);continue;case"1":this.canvas.addEventListener(t.XOQsV,this.handleMouseLeave);continue;case"2":this.handleMouseUp=this.handleMouseUp.bind(this);continue;case"3":this.draw=this.draw.bind(this);continue;case"4":this.canvas.addEventListener(t.EBuER,this.handleCanvasTouchEnd);continue;case"5":this.handleTouchStart=this.handleTouchStart.bind(this);continue;case"6":this.canvas.addEventListener(t.EBuER,this.handleTouchEnd);continue;case"7":this.handleTouchMove=this.handleTouchMove.bind(this);continue;case"8":this.handleCanvasClick=this.handleCanvasClick.bind(this);continue;case"9":document.addEventListener(t.sZHkO,this.handleMouseUp);continue;case"10":this.handleResize=this.handleResize.bind(this);continue;case"11":window.addEventListener("resize",this.handleResize);continue;case"12":this.canvas.addEventListener("touchmove",this.handleTouchMove);continue;case"13":this.canvas.addEventListener(t.gLhxy,this.handleCanvasClick);continue;case"14":this.handleMouseDown=this.handleMouseDown.bind(this);continue;case"15":this.handleWheel=this.handleWheel.bind(this);continue;case"16":this.handleMouseMove=this.handleMouseMove.bind(this);continue;case"17":this.handleTouchEnd=this.handleTouchEnd.bind(this);continue;case"18":this.canvas.addEventListener(t.cvGWX,this.handleWheel);continue;case"19":document.addEventListener(t.QZysa,this.handleMouseMove);continue;case"20":this.handleMouseLeave=this.handleMouseLeave.bind(this);continue;case"21":this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this);continue;case"22":this.canvas.addEventListener("mousedown",this.handleMouseDown);continue}break}}getDisplayWidth(){return this.rotation%180==90?this.img.height:this.img.width}getDisplayHeight(){let e={};return e.vJdVz=function(e,t){return e%t},90===e.vJdVz(this.rotation,180)?this.img.width:this.img.height}calculateInitialScale(){let e={};if(e.Pokeo=function(e,t){return e/t},!this.img)return;let t=this.getDisplayWidth(),n=this.getDisplayHeight(),a=e.Pokeo(this.logicalWidth,t),i=this.logicalHeight/n;this.options.minScale=Math.min(a,i,1),this.scale=this.options.minScale}centerImage(){let e={};e.hJxNs=function(e,t){return e*t},e.uosad=function(e,t){return e/t};let t=e;if(!this.img)return;let n=t.hJxNs(this.getDisplayWidth(),this.scale),a=this.getDisplayHeight()*this.scale;this.posX=t.uosad(this.logicalWidth-n,2),this.posY=(this.logicalHeight-a)/2,this.enforceBounds()}setCustomDrawer(e){let t={};t.lRFKT=function(e,t){return e===t},t.tnNXT="function";let n=t;n.lRFKT(typeof e,n.tnNXT)?this.customDrawer=e:console.error("setCustomDrawer 期望接收一个函数")}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.GbzoX=function(e,t){return e*t},e.zRsuQ=function(e,t){return e+t},e.IRaiS=function(e,t){return e/t},e.QViaL=function(e,t){return e+t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=this.getDisplayWidth()*this.scale,a=t.GbzoX(this.getDisplayHeight(),this.scale);this.ctx.translate(t.zRsuQ(this.posX,t.IRaiS(n,2)),t.QViaL(this.posY,t.IRaiS(a,2))),this.ctx.rotate(t.GbzoX(this.rotation,Math.PI)/180),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,t.IRaiS(-this.img.width,2),t.IRaiS(-this.img.height,2)),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){let e={};e.tCRrR=function(e,t){return e+t},this.rotation=e.tCRrR(this.rotation,90)%360,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.fYGRb=function(e,t){return e*t},e.MIbxE=function(e,t){return e/t},e.lVeBh=function(e,t){return e-t},e.SMGWO=function(e,t){return e>t},e.oAkyk=function(e,t){return e-t};let t=e;if(!this.img)return;let n=t.fYGRb(this.getDisplayWidth(),this.scale),a=this.getDisplayHeight()*this.scale;n>this.logicalWidth?this.posX=Math.min(Math.max(this.posX,this.logicalWidth-n),0):this.posX=t.MIbxE(t.lVeBh(this.logicalWidth,n),2),t.SMGWO(a,this.logicalHeight)?this.posY=Math.min(Math.max(this.posY,this.logicalHeight-a),0):this.posY=t.oAkyk(this.logicalHeight,a)/2}isInImageArea(e,t){let n={};n.RVPfA=function(e,t){return e*t},n.jAUHJ=function(e,t){return e+t},n.vyyQc=function(e,t){return e<=t};let a=n;if(!this.img)return!1;let i=this.getDisplayWidth()*this.scale,s=a.RVPfA(this.getDisplayHeight(),this.scale),o=this.posX,r=a.jAUHJ(o,i),l=this.posY,c=Math.min(r,this.logicalWidth),d=Math.min(l+s,this.logicalHeight);return e>=Math.max(o,0)&&a.vyyQc(e,c)&&t>=Math.max(l,0)&&a.vyyQc(t,d)}requestRedraw(){let e={WZcRL:function(e,t){return e(t)}},t="3|4|1|2|0".split("|"),n=0;for(;;){switch(t[n++]){case"0":this.animationFrameId=requestAnimationFrame(this.draw);continue;case"1":this.canvas.dispatchEvent(new MouseEvent("mousemove"));continue;case"2":this.animationFrameId&&e.WZcRL(cancelAnimationFrame,this.animationFrameId);continue;case"3":if(this.needsRedraw)return;continue;case"4":this.needsRedraw=!0;continue}break}}handleMouseDown(e){let t={};t.vzDCY=function(e,t){return e-t};let n=this.canvas.getBoundingClientRect(),a=e.clientX-n.left,i=t.vzDCY(e.clientY,n.top);this.isDraggable()&&this.isInImageArea(a,i)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor="grabbing")}handleMouseLeave(){this.canvas.style.cursor="default"}handleMouseMove(e){let t={};t.pNHTy=function(e,t){return e-t},t.mJVhf="default",t.coRew=function(e,t){return e-t};let n=t,a=this.canvas.getBoundingClientRect(),i=e.clientX-a.left,s=n.pNHTy(e.clientY,a.top);if(this.isInImageArea(i,s)?this.canvas.style.cursor=this.isDragging?"grabbing":"grab":this.canvas.style.cursor=n.mJVhf,this.isDragging){let o=Date.now(),r=o-this.lastTime;this.lastTime=o;let l=e.clientX-this.lastX,c=n.coRew(e.clientY,this.lastY);this.posX+=l,this.posY+=c,r>0&&(this.velocityX=l/r,this.velocityY=c/r),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.LxIfm=function(e,t){return e-t},t.NOBdJ=function(e,t){return e-t},t.ugkBp="grab",t.Rdgwz="default";let n=t;this.isDragging=!1,Math.abs(this.velocityX)>this.minVelocityThreshold||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0);let a=this.canvas.getBoundingClientRect(),i=n.LxIfm(e.clientX,a.left),s=n.NOBdJ(e.clientY,a.top);this.isInImageArea(i,s)?this.canvas.style.cursor=n.ugkBp:this.canvas.style.cursor=n.Rdgwz}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={};e.IvPHQ=function(e,t){return e/t},e.RZLIg=function(e,t){return e*t};let t=e;if(!this.isInertialMoving)return;let n=Date.now(),a=n-this.lastTime;this.lastTime=n,this.velocityX*=Math.pow(this.decelerationRate,t.IvPHQ(a,16)),this.velocityY*=Math.pow(this.decelerationRate,a/16),this.posX+=t.RZLIg(this.velocityX,a),this.posY+=this.velocityY*a,this.enforceBounds(),this.requestRedraw(),Math.abs(this.velocityX)<this.minVelocityThreshold&&Math.abs(this.velocityY)<this.minVelocityThreshold?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):requestAnimationFrame(this.animateInertia.bind(this))}handleWheel(e){let t={};t.OUhkM=function(e,t){return e-t},t.yztPB=function(e,t){return e>t},t.EbGtd=function(e,t){return e/t},t.JpSUD=function(e,t){return e*t},t.skKoV=function(e,t){return e-t},t.PYKWe=function(e,t){return e*t},t.RcyLC=function(e,t){return e-t};let n=t;e.preventDefault();let a=this.canvas.getBoundingClientRect(),i=e.clientX-a.left,s=n.OUhkM(e.clientY,a.top);if(!this.isInImageArea(i,s))return;let o=n.yztPB(e.deltaY,0)?.9:1.1,r=n.EbGtd(i-this.posX,this.scale),l=(s-this.posY)/this.scale,c=Math.min(Math.max(n.JpSUD(this.scale,o),this.options.minScale),this.options.maxScale);this.posX=n.skKoV(i,n.PYKWe(r,c)),this.posY=n.RcyLC(s,l*c),this.scale=c,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};if(t.jhxyt=function(e,t){return e===t},t.jhxyt(e.touches.length,0))return;let n=Array.from(e.touches),a=this.getTouchCenter(n);this.initialCenterX=a.x,this.initialCenterY=a.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,e.touches.length>=2&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.UYdyI=function(e,t){return e>=t},t.wMSUj=function(e,t){return e>t},t.Aqdvb=function(e,t){return e/t},t.XnDov=function(e,t){return e-t},t.gyrSs=function(e,t){return e/t},t.WMjnO=function(e,t){return e-t},t.rkxGC=function(e,t){return e*t},t.YIgNV=function(e,t){return e-t},t.tFqrs=function(e,t){return e-t},t.gFvFc=function(e,t){return e-t};let n=t;if(!this.isTouching)return;e.preventDefault();let a=Array.from(e.touches);if(0===a.length)return;let i=this.getTouchCenter(a),s=1;if(n.UYdyI(a.length,2)){let o=this.getTouchDistance(a[0],a[1]);n.wMSUj(this.initialDistance,0)&&(s=o/this.initialDistance)}let r=Math.min(Math.max(this.touchStartScale*s,this.options.minScale),this.options.maxScale),l=n.Aqdvb(n.XnDov(this.initialCenterX,this.touchStartPosX),this.touchStartScale),c=n.gyrSs(this.initialCenterY-this.touchStartPosY,this.touchStartScale);if(this.posX=n.WMjnO(i.x,l*r),this.posY=i.y-n.rkxGC(c,r),this.scale=r,this.enforceBounds(),this.requestRedraw(),1===a.length){let d=Date.now(),$=n.WMjnO(d,this.lastTime);this.lastTime=d;let h=this.canvas.getBoundingClientRect(),u=a[0],x=u.clientX-h.left,f=n.YIgNV(u.clientY,h.top);n.wMSUj($,0)&&(this.velocityX=n.tFqrs(x,this.lastX)/$,this.velocityY=n.gyrSs(n.gFvFc(f,this.lastY),$)),this.lastX=x,this.lastY=f}}handleTouchEnd(){this.isTouching=!1,this.initialDistance=0,Math.abs(this.velocityX)>this.minVelocityThreshold||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.requestRedraw())}handleCanvasClick(e){let t={};if(t.KGrou=function(e,t){return e-t},!this.img)return;let n=this.canvas.getBoundingClientRect(),a=t.KGrou(e.clientX,n.left),i=e.clientY-n.top;this.isInImageArea(a,i)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){if(!this.img||e.touches.length>0)return;let t=this.canvas.getBoundingClientRect(),n=e.changedTouches[0],a=n.clientX-t.left,i=n.clientY-t.top,s=new Date().getTime();if(s-this.lastTapTime<360){({oqqMc:function(e,t){return e(t)}}).oqqMc(clearTimeout,this.tapTimeout);return}this.tapTimeout=setTimeout(()=>{this.isInImageArea(a,i)||this.triggerClickOutside(e),this.lastTapTime=s},200)}getTouchDistance(e,t){let n={};n.gAdtu=function(e,t){return e-t},n.rWgGf=function(e,t){return e-t};let a=n,i=a.gAdtu(e.clientX,t.clientX),s=a.rWgGf(e.clientY,t.clientY);return Math.sqrt(i*i+s*s)}isDraggable(){let e={};e.YMIXF=function(e,t){return e*t};let t=e;return this.img&&(t.YMIXF(this.img.width,this.scale)>this.logicalWidth||t.YMIXF(this.img.height,this.scale)>this.logicalHeight)}triggerClickOutside(e){let t={};t.liLai=function(e,t){return e===t},t.FVoVM=function(e,t){return e-t},t.TCrAJ=function(e,t){return e-t},t.eCAWo=function(e,t){return e-t};let n=t;if(n.liLai(typeof this.options.onClickOutside,"function")){let a=this.canvas.getBoundingClientRect(),i={x:n.FVoVM(e.clientX,a.left),y:n.FVoVM(e.clientY,a.top),canvasX:e.clientX-a.left,canvasY:e.clientY-a.top,imageX:-1,imageY:-1};this.img&&(i.imageX=n.TCrAJ(i.canvasX,this.posX)/this.scale,i.imageY=n.eCAWo(i.canvasY,this.posY)/this.scale),this.options.onClickOutside(i,e)}}getTouchCenter(e){let t={};t.Aysyf=function(e,t){return e-t},t.vKqrS=function(e,t){return e/t};let n=t,a=0,i=0,s=this.canvas.getBoundingClientRect();for(let o of e)a+=o.clientX-s.left,i+=n.Aysyf(o.clientY,s.top);return{x:n.vKqrS(a,e.length),y:n.vKqrS(i,e.length)}}destroy(){let e={TuRbL:"resize",QRypr:"mousemove",ExmHk:"mousedown",iLXsS:"touchmove",gCXur:"touchend",ODacb:function(e,t){return e(t)}};window.removeEventListener(e.TuRbL,this.handleResize),document.removeEventListener(e.QRypr,this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.canvas.removeEventListener("mouseleave",this.handleMouseLeave),this.canvas.removeEventListener(e.ExmHk,this.handleMouseDown),this.canvas.removeEventListener("wheel",this.handleWheel),this.canvas.removeEventListener("touchstart",this.handleTouchStart),this.canvas.removeEventListener(e.iLXsS,this.handleTouchMove),this.canvas.removeEventListener(e.gCXur,this.handleTouchEnd),this.canvas.removeEventListener("click",this.handleCanvasClick),this.canvas.removeEventListener("touchend",this.handleCanvasTouchEnd),this.animationFrameId&&e.ODacb(cancelAnimationFrame,this.animationFrameId)}}function _0x271a94(e,t,n,a){let i={UNDkL:function(e,t){return e+t},thqcx:function(e,t){return e*t},dEdPc:function(e,t){return e+t},XULmf:function(e,t){return e*t},BMxNn:function(e,t){return e(t)},OEyLS:function(e,t){return e<t},jEXAE:function(e,t){return e>t},wblJn:function(e,t){return e-t},awQyA:function(e,t){return e-t},QYqEu:function(e,t){return e*t},cNRuf:function(e,t){return e*t},lInRa:function(e,t){return e*t},TsAxc:function(e,t){return e*t}},s=i.dEdPc(i.awQyA(i.QYqEu(3,e),i.cNRuf(3,n)),1),o=i.wblJn(i.QYqEu(3,n),i.lInRa(6,e)),r=i.thqcx(3,e),l=i.TsAxc(3,t)-3*a+1,c=i.awQyA(i.QYqEu(3,a),i.lInRa(6,t)),d=i.lInRa(3,t);function $(e){return(i.UNDkL(s*e,o)*e+r)*e}function h(e){return i.dEdPc(i.XULmf(3*s,e),2*o)*e+r}return e=>{var t;return t=function e(t){let n=0,a=1,s=t;for(let o=0;o<8;o++){let r=i.BMxNn($,s)-t;if(i.OEyLS(Math.abs(r),1e-6))return s;let l=h(s);if(i.OEyLS(Math.abs(l),1e-6))break;s-=r/l}for(;i.jEXAE(a,n);){let c=i.wblJn($(s),t);if(i.OEyLS(Math.abs(c),1e-6))break;c>0?a=s:n=s,s=(a+n)/2}return s}(e),i.thqcx(i.thqcx(l*t+c,t)+d,t)}}function _0x53853e(e,t="vertical"){let n={wQTfa:function(e,t){return e===t},ykbpj:function(e,t){return e%t},qsTNf:function(e,t){return e+t},CVchn:"keydown",cTDZA:function(e){return e()}};function a(){if(e.length<=1){e.forEach(e=>{e._navHandler&&(e.removeEventListener("keydown",e._navHandler),delete e._navHandler)});return}e.forEach((a,i)=>{let s={eVdPX:function(e,t){return n.wQTfa(e,t)},PHFsl:function(e,t){return n.ykbpj(e,t)},UgUGa:function(e,t){return e+t},QAXjG:"horizontal",OfZls:function(e,t){return e===t},hvUkx:"ArrowRight",vmnIN:function(e,t){return n.qsTNf(e,t)},WzrXl:function(e,t){return e-t}};a._navHandler&&a.removeEventListener(n.CVchn,a._navHandler),a._navHandler=n=>{let a=i;if(s.eVdPX(t,"vertical")){if("ArrowDown"===n.key)a=s.PHFsl(s.UgUGa(i,1),e.length);else{if(!s.eVdPX(n.key,"ArrowUp"))return;a=(i-1+e.length)%e.length}}else{if(!s.eVdPX(t,s.QAXjG))return;if(s.OfZls(n.key,s.hvUkx))a=s.UgUGa(i,1)%e.length;else{if("ArrowLeft"!==n.key)return;a=s.PHFsl(s.vmnIN(s.WzrXl(i,1),e.length),e.length)}}e[a].focus()},a.addEventListener(n.CVchn,a._navHandler)})}n.cTDZA(a);let i={};return i.removeItem=function t(n){e=e.filter(e=>e!==n),a()},i.addItem=function t(n){e.push(n),a()},i.updateEventListeners=a,i}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.RVRKD="disabled",n.AjDVI=function(e,t){return e===t},n.hzLdm="click",n.SwuCQ=function(e,t){return e>=t},n.acdkM=function(e,t){return e-t},n.sJcuP="keydown";let a=n,i=this;i._bindWithCooldownHandler&&(i.removeEventListener("click",i._bindWithCooldownHandler),i.removeEventListener("keydown",i._bindWithCooldownHandler));let s=0,o=function(n){let o=Date.now();!i.classList.contains(a.RVRKD)&&!i.hasAttribute(a.RVRKD)&&(a.AjDVI(n.type,a.hzLdm)||32===n.keyCode||13===n.keyCode)&&(a.SwuCQ(a.acdkM(o,s),t)||0===t)&&(s=o,e.call(i,n))};i.addEventListener("click",o),i.addEventListener(a.sJcuP,o),i._bindWithCooldownHandler=o};let _0x2e1473={set(e,t){let n={};n.nUXyc="Error saving to localStorage";try{let a=JSON.stringify(t);localStorage.setItem(e,a)}catch(i){console.error(n.nUXyc,i)}},get(e,t=null){let n={};n.ibMFB=function(e,t){return e!==t};try{let a=localStorage.getItem(e);return n.ibMFB(a,null)?JSON.parse(a):t}catch(i){return console.error("Error reading from localStorage",i),t}},remove(e){try{localStorage.removeItem(e)}catch(t){console.error("Error removing from localStorage",t)}},clear(){let e={};e.wfPtC="Error clearing localStorage";try{localStorage.clear()}catch(t){console.error(e.wfPtC,t)}},has:e=>null!==localStorage.getItem(e),keys:()=>Object.keys(localStorage)};class _0x1587cc{constructor({parent:e,text:t,placement:n="top",interactive:a=!0}){let i={};i.ISxtS="3|2|0|1|6|5|4",i.gLvJy="focus",i.cnnrP="blur",i.JAYEP="mouseleave",i.jEwUH="aria-describedby";let s=i,o=s.ISxtS.split("|"),r=0;for(;;){switch(o[r++]){case"0":this._placement=n;continue;case"1":this._tooltip=null;continue;case"2":this._content=t;continue;case"3":this._parent=e;continue;case"4":a&&(this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this._parent.addEventListener("mouseenter",this.showTooltip),this._parent.addEventListener(s.gLvJy,this.showTooltip),this._parent.addEventListener(s.cnnrP,this.hideTooltip),this._parent.addEventListener(s.JAYEP,this.hideTooltip));continue;case"5":this._parent.setAttribute(s.jEwUH,this._tooltipId);continue;case"6":this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9);continue}break}}_createTooltipElement(){let e=_0x51ba5c("xuocLuDI6");return e.setAttribute("placement",this._placement),e.setAttribute("id",this._tooltipId),e.innerText=this._content,e}updatePosition(){let e={};e.tLHAr=function(e,t){return e+t},e.xHytv=function(e,t){return e/t},e.JExuC=function(e,t){return e-t},e.pRdkQ=function(e,t){return e+t},e.LrCek=function(e,t){return e/t},e.QxPdy="Invalid placement value";let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),a=this._tooltip.getBoundingClientRect(),i,s;switch(this._placement){case"top":i=window.scrollY+n.top-a.height-8,s=t.tLHAr(window.scrollX+n.left,t.xHytv(n.width,2))-a.width/2;break;case"bottom":i=t.tLHAr(window.scrollY,n.bottom)+8,s=t.JExuC(t.tLHAr(window.scrollX+n.left,n.width/2),t.xHytv(a.width,2));break;case"left":i=t.JExuC(t.tLHAr(t.tLHAr(window.scrollY,n.top),t.xHytv(n.height,2)),a.height/2),s=window.scrollX+n.left-a.width-8;break;case"right":i=t.pRdkQ(t.pRdkQ(window.scrollY,n.top),n.height/2)-t.LrCek(a.height,2),s=window.scrollX+n.right+8;break;default:throw Error(t.QxPdy)}this._tooltip.style.top=i+"px",this._tooltip.style.left=s+"px"}showTooltip(){let e={};e.QrswG="delayed-open",this._tooltip||(this._tooltip=this._createTooltipElement(),document.body.appendChild(this._tooltip),this.updatePosition(),this._tooltip.setAttribute("data-state",e.QrswG),this._tooltip.setAttribute("aria-expanded","true"))}hideTooltip(){let e={};e.MMMoP="data-state",e.UTfVJ="aria-expanded";let t=e;this._tooltip&&(this._tooltip.setAttribute(t.MMMoP,"closed"),this._tooltip.setAttribute(t.UTfVJ,"false"),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.jfsTs="aria-describedby",e.mnYBe="focus",e.xXKiH="mouseleave";let t=e;this.hideTooltip(),this._parent&&(this._parent.removeAttribute(t.jfsTs),this._parent.removeEventListener("mouseenter",this.showTooltip),this._parent.removeEventListener(t.mnYBe,this.showTooltip),this._parent.removeEventListener("blur",this.hideTooltip),this._parent.removeEventListener(t.xXKiH,this.hideTooltip)),this._tooltip=null,this._parent=null,this._content=null}}class _0x2ec3d4{constructor({trigger:e,placement:t="bottom"}){let n={ZgkOP:function(e,t){return e(t)},ZerKr:function(e,t){return e(t)},Byymf:"xC3Uih0ex",gcsWe:"data-state",FNMOp:"open",oyuYp:"aria-modal",WWkAX:"true",enKuV:function(e,t){return e(t)},yURHV:"click",FjTUT:"contextmenu",DishY:"keydown"},a="_"+_0x36e869(12);this.trigger=e,this.placement=t,this.Root=n.ZgkOP(_0x51ba5c,"xEHCrF5Oe"),this.Overlay=n.ZerKr(_0x51ba5c,"overlay"),this.Content=n.ZgkOP(_0x51ba5c,n.Byymf),this.Root.setAttribute(n.gcsWe,n.FNMOp),this.Root.setAttribute("role","popover"),this.Root.setAttribute(n.oyuYp,n.WWkAX),this.Root.id=a,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let i=n.enKuV(_0x37855f,a);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+i+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert","true")}),this.Overlay.addEventListener(n.yURHV,()=>this.close()),this.Overlay.addEventListener(n.FjTUT,()=>this.close()),document.addEventListener(n.DishY,this._handleKeyDown),this._setPosition(),window.addEventListener("resize",this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e={};e.akvUz="absolute";let t=this.trigger.getBoundingClientRect(),n=this.Content.getBoundingClientRect(),a;if(Array.isArray(this.placement)){for(let i of this.placement){let s=this._calculatePosition(i,t,n);if(this._isPositionWithinViewport(s,n)){a=i;break}}a||(a=this.placement[0])}else a=this.placement;let o=this._calculatePosition(a,t,n);this.Content.style.position=e.akvUz,this.Content.style.top=o.top+"px",this.Content.style.left=o.left+"px"}_calculatePosition(e,t,n){let a={};a.WIumZ="top",a.dyInf=function(e,t){return e-t},a.loRNi="bottom",a.GqeFU="left",a.hEGfN="right",a.KyNZS=function(e,t){return e===t},a.dXsQA=function(e,t){return e+t},a.xoqLy=function(e,t){return e/t};let i=a,s=0,o=0,[r,l]=e.split("-");switch(r){case i.WIumZ:s=i.dyInf(t.top,n.height);break;case i.loRNi:s=t.bottom;break;case i.GqeFU:o=t.left-n.width;break;case i.hEGfN:o=t.right}switch(l){case"start":o=t.left;break;case"end":o=t.left+t.width-n.width;break;default:"top"===r||i.KyNZS(r,i.loRNi)?o=i.dXsQA(t.left,i.xoqLy(t.width-n.width,2)):s=t.top+i.dyInf(t.height,n.height)/2}let c={};return c.top=s,c.left=o,c}_isPositionWithinViewport(e,t){let n={};n.LFAWj=function(e,t){return e>=t},n.vOhMd=function(e,t){return e<=t},n.PoIjU=function(e,t){return e+t};let a=n,i=window.innerWidth,s=window.innerHeight,{top:o,left:r}=e;return o>=0&&a.LFAWj(r,0)&&a.vOhMd(o+t.height,s)&&a.vOhMd(a.PoIjU(r,t.width),i)}_handleKeyDown=e=>{let t={};t.uUjmA=function(e,t){return e===t},t.uUjmA(e.keyCode,27)&&(this.close(),this.trigger.focus())};_removeListeners(){let e={};e.GrQVH="resize",document.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener(e.GrQVH,this._handleResize)}onClose(e){this.onCloseCallback=e}close(){let e={};e.caxBx="inert",e.lhAbH="closed";let t=e;this._removeListeners(),this._deactivated_elements.forEach(e=>{e.removeAttribute(t.caxBx)}),this.Root.setAttribute("data-state",t.lhAbH),setTimeout(()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x37855f(e){let t={};t.hbioA="\\$&",t.pHthv=function(e,t){return e+t};let n=t;return e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,n.hbioA).replace(/^(-?\d)/,n.pHthv("\\3"+e.charAt(0)," "))}class _0x4dcad8{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let a={ahUxO:function(e,t){return e(t)},XPYib:function(e,t){return e(t)},MFwgX:"open",giOAE:"role",kCNfF:"dialog",Masoq:"aria-modal",waCZV:"true",SlaTO:"click"},i="_"+_0x36e869(12);this.Root=_0x51ba5c("x54SkYRT0"),this.Overlay=a.ahUxO(_0x51ba5c,"overlay"),this.Content=a.XPYib(_0x51ba5c,"content"),this.Root.setAttribute("data-state",a.MFwgX),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(a.giOAE,a.kCNfF),this.Root.setAttribute(a.Masoq,a.waCZV),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=i;let s=_0x37855f(i);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add("show"),_0x4dcad8.stack.push(this),e&&this.Overlay.addEventListener(a.SlaTO,this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.RAZKy=function(e,t){return e-t};let n=t;27===e.keyCode&&_0x4dcad8.stack[n.RAZKy(_0x4dcad8.stack.length,1)]===this&&this.close()};onClose(e){this.onCloseCallback=e}close(){let e={};e.LYzuZ=function(e,t){return e instanceof t},e.gEndX="inert",e.fGAFE=function(e,t){return e>t},e.PGQgv=function(e,t){return e>t},e.LPNha="closed";let t=e;if(!this.Lock){let n=_0x4dcad8.stack.indexOf(this);t.fGAFE(n,-1)&&_0x4dcad8.stack.splice(n,1),this.onCloseCallback&&this.onCloseCallback(),t.PGQgv(this._exclude_for_restore.length,0)?this._exclude_for_restore.forEach(e=>{t.LYzuZ(e,HTMLElement)&&e.removeAttribute("inert")}):this._deactivated_elements.forEach(e=>{e.removeAttribute(t.gEndX)}),this.Root.setAttribute("data-state",t.LPNha),setTimeout(()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){let e={};e.xEOzw="keydown",this.Overlay.onclick=null,document.removeEventListener(e.xEOzw,this._handleKeyDown)}}_0x4dcad8.stack=[];class _0x1a2ffe extends _0x4dcad8{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:a=!1,closeOnEsc:i=!0,showCloseButton:s=!1}={}){let o={};o.closeOnOverlayClick=a,o.closeOnEsc=i,super(o);let r=this._createHeader(e,s),l=this._createBody(t);if(this.Content.style.padding="0px",this.Content.classList.add("xv1VrMJb6"),this.Content.classList.add("xLDQZ1SSl"),this.Content.appendChild(r),this.Content.appendChild(l),n.length>0){let c=this._createFooter(n);l.appendChild(c)}}_createHeader(e,t){let n={};n.CdGaB="div";let a=document.createElement(n.CdGaB);a.className="xrYn5ZY3v lf gn";let i=document.createElement("div");if(i.className="x6Y89FynP",i.textContent=e||"Alert",a.appendChild(i),t){let s=_0x51ba5c("xvb5soWNa");s.focusable(!0),s.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',s.bindWithCooldown(()=>{this.close()}),a.appendChild(s)}return a}_createBody(e){let t={};t.tyJvW="div",t.XzFrt="xWDUelLWA",t.ZPkqw="Are you sure?";let n=t,a=document.createElement(n.tyJvW);a.className=n.XzFrt;let i=document.createElement("div");return i.className="xujSSErs5",i.innerHTML=e||n.ZPkqw,a.appendChild(i),a}_createFooter(e){let t={JQJbo:function(e){return e()},PaGPD:"div",hRiRY:function(e,t){return e+t},GkYFM:"xgw2tzk6r ",XcLUf:"tabindex",hSNXH:"xWh2LBcgj",qtFxo:function(e,t,n){return e(t,n)}},n=document.createElement(t.PaGPD);n.className=t.hSNXH;let a=t.qtFxo(_0x53853e,[],"horizontal");return e.forEach(({text:e,classList:i=[],onClick:s})=>{let o={rpJan:function(e){return t.JQJbo(e)}},r=document.createElement(t.PaGPD);r.className=t.hRiRY(t.GkYFM,i.join(" ")),r.setAttribute(t.XcLUf,"0"),r.textContent=e,r.bindWithCooldown(()=>{s&&o.rpJan(s),this.close()}),a.addItem(r),n.appendChild(r)}),n}}let _0x51ba5c=e=>{let t=document.createElement("div");return t.classList.add(e),t},_0x339ade=e=>document.querySelector(e);function _0x36e869(e){let t={};t.XPFbe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.lUMld=function(e,t){return e<t};let n=t,a=n.XPFbe,i="";for(let s=0;n.lUMld(s,e);s++)i+=a.charAt(Math.floor(Math.random()*a.length));return i}function _0xb9eaee(e,t,n={}){let a={tVjRD:function(e,t){return e===t},MvEyd:"span",MdRzY:"xSwoj5Cx2",SgWLr:function(e,t){return e-t},TNHzL:function(e,t){return e<t},aTZnE:function(e,t){return e(t)},Cuafi:function(e,t,n){return e(t,n)}},{interval:i=24,fadeDuration:s=214,bezierControl:o=[.42,0,1,1]}=n,r=_0x271a94(...o),l=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>","text/html").body.firstChild.childNodes),c=[];l.forEach(t=>(function e(t,n){if(a.tVjRD(t.nodeType,Node.TEXT_NODE)){let i=t.textContent.split("");for(let s of i){let o=document.createElement(a.MvEyd);o.classList.add(a.MdRzY),o.textContent=s,n.appendChild(o),c.push(o)}}else if(a.tVjRD(t.nodeType,Node.ELEMENT_NODE)){let r=t.cloneNode(!1);n.appendChild(r),Array.from(t.childNodes).forEach(t=>e(t,r))}})(t,e)),function e(){c.length&&(function e(t){let n=performance.now();function i(e){let o=Math.min(a.SgWLr(e,n)/s,1),l=r(o);t.style.opacity=l,a.TNHzL(o,1)&&requestAnimationFrame(i)}a.aTZnE(requestAnimationFrame,i)}(c.shift()),a.Cuafi(setTimeout,e,i))}()}function _0x133077(e,t){let n={};n.gNsCL=function(e,t){return e<=t},n.xJEFh=function(e,t){return e<t},n.lNLqa=function(e,t){return e/t},n.TpTVY=function(e,t){return e-t},n.vfWzs=function(e,t){return e*t},n.brTOf=function(e,t){return e*t},n.Jruut=function(e,t){return e*t};let a=n,i=new Date,s=new Date(e),o=new Date(t);if(i>=s&&a.gNsCL(i,o))return"現在";let r=i<s?s:o,l=r.getHours(),c;c=l>=0&&l<6?"清晨":a.xJEFh(l,12)?"早上":l<18?"下午":"晚上";let d=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),$=d(r),h=d(i),u=Math.round(a.lNLqa(a.TpTVY($,h),a.vfWzs(a.brTOf(a.Jruut(1e3,60),60),24))),x;switch(u){case -2:x="前天";break;case -1:x="昨天";break;case 0:x="今天";break;case 1:x="明天";break;case 2:x="後天";break;default:x=r.getMonth()+1+"/"+r.getDate()}return x+" "+c}function _0x5e1b9f(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0x479d8b(){let e={};e.AzUhe=function(e,t){return e===t},e.nBOdw="MacIntel",e.KVWuy=function(e,t){return e>t},e.TnYQQ="iOS",e.qnMgJ="Tablet",e.mjlnP="Windows",e.GaiyQ="Desktop",e.Rkosq="macOS",e.PTQAX="Unknown";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,a=navigator.platform,i=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||t.AzUhe(a,t.nBOdw)&&t.KVWuy(i,1)){let s=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(s){let o=s[1]||"0",r=s[2]||"0",l=s[3]||"0";return{os:t.TnYQQ,version:o+"."+r+"."+l,deviceType:/iPad/.test(n)?t.qnMgJ:"Mobile"}}}if(/Android/.test(n)){let c=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(c)return{os:"Android",version:(c[1]||"0")+"."+(c[2]||"0")+"."+(c[3]||"0"),deviceType:/Mobile/.test(n)?"Mobile":t.qnMgJ}}if(/Win/.test(a)){let d=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(d){let $=d[1]||"0",h=d[2]||"0",u={};return u.os=t.mjlnP,u.version=$+"."+h,u.deviceType="Desktop",u}let x={};return x.os="Windows",x.version=null,x.deviceType=t.GaiyQ,x}if(/Mac/.test(a)){let f=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(f){let p=f[1]||"0",_=f[2]||"0",b=f[3]||"0",m={};return m.os="macOS",m.version=p+"."+_+"."+b,m.deviceType="Desktop",m}let v={};return v.os=t.Rkosq,v.version=null,v.deviceType="Desktop",v}if(/Linux/.test(a)){let g={};return g.os="Linux",g.version=null,g.deviceType="Desktop",g}let C={};return C.os=t.PTQAX,C.version=null,C.deviceType=t.PTQAX,C}function _0x5f5ad4(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x196b84={};_0x196b84.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x196b84.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x196b84.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x2cc8b9=_0x196b84;class _0x41a641{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let a={AHwjD:"drawer-root",DretQ:function(e,t){return e(t)},hyiDb:"drawer-body",aWgAP:"data-state",XXEYs:"open",fWqIU:"dialog",OGSRX:"aria-modal",KYRJT:"true",hozPm:"show"},i="_"+_0x36e869(12);this.Root=_0x51ba5c(a.AHwjD),this.Overlay=_0x51ba5c("drawer-overlay"),this.Content=a.DretQ(_0x51ba5c,"drawer-content"),this.Header=a.DretQ(_0x51ba5c,"drawer-header"),this.Handle=document.createElement("div"),this.Handle.className="drawer-drag-handle",this.Header.appendChild(this.Handle),this.Body=_0x51ba5c(a.hyiDb),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute(a.aWgAP,a.XXEYs),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role",a.fWqIU),this.Root.setAttribute(a.OGSRX,a.KYRJT),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=i;let s=_0x37855f(i);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(a.hozPm),_0x41a641.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.mTlev=function(e,t){return e===t};let n=t;if(27===e.keyCode){let a=_0x41a641.stack[_0x41a641.stack.length-1];n.mTlev(a,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={nvwow:function(e){return e()},fGkcN:function(e,t){return e>t},GfmwL:function(e,t){return e===t},Siyou:"none",zQldH:"x9GmoP75O",BzjGc:"translateY(100%)"},t=_0x41a641.stack.indexOf(this);e.fGkcN(t,-1)&&_0x41a641.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback();let n=()=>{this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},a=window.getComputedStyle(this.Content).transform;e.GfmwL(a,e.Siyou)||a.includes("matrix")?(this.Content.classList.remove(e.zQldH),this.Content.style.transform=e.BzjGc,setTimeout(()=>{e.nvwow(n),this.Root.remove()},300)):(n(),this.Root.remove()),this._removeListeners()}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}_setupDrag(){let e={hqiOX:function(e,t){return e!==t},isenX:function(e,t){return e>t},mIrlZ:function(e,t){return e-t},VeEwe:function(e,t){return e/t},PHaHY:"mouseup",aSiyi:function(e,t){return e(t)},UmTFL:"mousemove",JRLts:"touchmove",XCfpW:"mousedown"},t=0,n=0,a=0,i=!1,s=n=>{let s="3|1|2|0|4".split("|"),o=0;for(;;){switch(s[o++]){case"0":i=!0;continue;case"1":t=n.touches?n.touches[0].clientY:n.clientY;continue;case"2":a=Date.now();continue;case"3":if(e.hqiOX(n.target.scrollTop,0)||n.target.closest(".xBWmlKrN2 *"))return;continue;case"4":this.Content.classList.add("x9GmoP75O");continue}break}},o=a=>{if(!i)return;let s=(n=a.touches?a.touches[0].clientY:a.clientY)-t;e.isenX(s,0)&&(this.Content.style.transform="translateY("+s+"px)")},r=()=>{if(!i)return;let s=e.mIrlZ(n,t),o=e.VeEwe(Date.now()-a,1e3),r=this.Content.offsetHeight;this.Content.classList.remove("x9GmoP75O"),s>.5*r||s/o>600?this.close():this.Content.style.transform="translateY(0)",i=!1},l={};l.passive=!0,this.Content.addEventListener("touchstart",s,l);let c={};c.passive=!0,this.Content.addEventListener(e.JRLts,o,c),this.Content.addEventListener("touchend",r),this.Content.addEventListener(e.XCfpW,t=>{let n={ETJJd:function(e){return e()},BhJDn:"mousemove",NBcHD:e.PHaHY};e.aSiyi(s,t);let a=e=>o(e),i=()=>{n.ETJJd(r),document.removeEventListener(n.BhJDn,a),document.removeEventListener(n.NBcHD,i)};document.addEventListener(e.UmTFL,a),document.addEventListener("mouseup",i)})}}_0x41a641.stack=[];let _0x97e0bc=_0x2e1473.get("lang"),_0x4c257d="en";_0x97e0bc?_0x4c257d=_0x97e0bc:(_0x4c257d="en",_0x2e1473.set("lang","en"));let _0x19f02f={};_0x19f02f.a1="搜尋…",_0x19f02f.a2="未知",_0x19f02f.a3="在這裡輸入訊息…",_0x19f02f.a4="更新了什麼",_0x19f02f.a5="私人",_0x19f02f.a6="說明",_0x19f02f.a7="公開",_0x19f02f.a8="展開全部",_0x19f02f.a9="顯示較少",_0x19f02f.a10="查看全部",_0x19f02f.a11="加入聊天室",_0x19f02f.a12="加入聊天室",_0x19f02f.a13="邀請碼",_0x19f02f.a14="送出",_0x19f02f.a15="查看個人資料",_0x19f02f.a16="登出",_0x19f02f.a17="無效的邀請碼，請重新嘗試",_0x19f02f.a18="$0 秒前",_0x19f02f.a19="$0 個月前",_0x19f02f.a20="$0 分鐘前",_0x19f02f.a21="$0 小時前",_0x19f02f.a22="$0 年前",_0x19f02f.a23="$0 天前",_0x19f02f.a24="無法預覽這個文件",_0x19f02f.a25="下載",_0x19f02f.a26="你",_0x19f02f.b1="描述",_0x19f02f.b2="最後上線",_0x19f02f.b3="描述",_0x19f02f.b4="暱稱",_0x19f02f.b5="編輯個人資料",_0x19f02f.b6="完成",_0x19f02f.b7="完成",_0x19f02f.b8="歡迎回來",_0x19f02f.b9="登入帳號後即可使用我們的服務",_0x19f02f.b10="等待中…",_0x19f02f.b11="使用 Google 繼續",_0x19f02f.b12="使用 電子郵件 登入",_0x19f02f.b13="返回上一頁",_0x19f02f.b14="密碼錯誤，請重新嘗試",_0x19f02f.b15="找不到這個帳號，請重新嘗試",_0x19f02f.b16="網路請求錯誤，請檢查網路連線",_0x19f02f.b17="發生未知的錯誤",_0x19f02f.b18="$0 則訊息",_0x19f02f.b19="沒有訊息",_0x19f02f.b20="所有成員",_0x19f02f.b21="查看所有成員",_0x19f02f.b22="查看行程安排",_0x19f02f.b23="退出",_0x19f02f.b24="電子郵件地址",_0x19f02f.b25="密碼",_0x19f02f.b26="送出",_0x19f02f.b27="電子郵件登入",_0x19f02f.b28="@未知",_0x19f02f.b29="未知",_0x19f02f.b30="已成功清除緩存，重新載入後即生效",_0x19f02f.b31="未知的指令，請重新嘗試",_0x19f02f.b32="載入中…",_0x19f02f.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0x19f02f.b34="退出",_0x19f02f.b35="取消",_0x19f02f.b36="確定",_0x19f02f.b37="行程安排",_0x19f02f.b38="標題",_0x19f02f.b39="開始",_0x19f02f.b40="結束",_0x19f02f.b41="編輯行程",_0x19f02f.c1="編輯模式",_0x19f02f.c2="預覽模式",_0x19f02f.c3="已更新介面語言為：$0",_0x19f02f.c4="英文",_0x19f02f.c5="中文",_0x19f02f.d0="修復了一些錯誤。",_0x19f02f.d1="新增了切換語言的功能。";let _0x14de8e={};_0x14de8e.a1="Search…",_0x14de8e.a2="Unknown",_0x14de8e.a3="Enter message here…",_0x14de8e.a4="What's new",_0x14de8e.a5="Private",_0x14de8e.a6="說明",_0x14de8e.a7="Public",_0x14de8e.a8="Show more",_0x14de8e.a9="Show less",_0x14de8e.a10="Show all",_0x14de8e.a11="Join Groups",_0x14de8e.a12="Join Groups",_0x14de8e.a13="Invitation code",_0x14de8e.a14="Submit",_0x14de8e.a15="View profile",_0x14de8e.a16="Logout",_0x14de8e.a17="Invalid invitation code, please try again",_0x14de8e.a18="$0 sec ago",_0x14de8e.a19="$0 mon ago",_0x14de8e.a20="$0 min ago",_0x14de8e.a21="$0 hour ago",_0x14de8e.a22="$0 year ago",_0x14de8e.a23="$0 day ago",_0x14de8e.a24="Unable to preview this file",_0x14de8e.a25="Download",_0x14de8e.a26="You",_0x14de8e.b1="Description",_0x14de8e.b2="Last online",_0x14de8e.b3="Description",_0x14de8e.b4="Nickname",_0x14de8e.b5="Edit Profile",_0x14de8e.b6="Save",_0x14de8e.b7="Save",_0x14de8e.b8="Welcome back",_0x14de8e.b9="Log in to your account to use our services",_0x14de8e.b10="Waiting…",_0x14de8e.b11="Continue with Google",_0x14de8e.b12="Continue with Email",_0x14de8e.b13="Return to previous page",_0x14de8e.b14="Wrong password, please try again",_0x14de8e.b15="The account could not be found. Please try again.",_0x14de8e.b16="Network request error, please check the network connection",_0x14de8e.b17="An unknown error occurred",_0x14de8e.b18="$0 messages",_0x14de8e.b19="No message",_0x14de8e.b20="All members",_0x14de8e.b21="View members",_0x14de8e.b22="View itinerary",_0x14de8e.b23="Leave",_0x14de8e.b24="Email Address",_0x14de8e.b25="Password",_0x14de8e.b26="Submit",_0x14de8e.b27="Login with Email",_0x14de8e.b28="@unknown",_0x14de8e.b29="unknown",_0x14de8e.b30="The cache has been successfully cleared and will take effect after reloading",_0x14de8e.b31="Unknown command, please try again",_0x14de8e.b32="Loading…",_0x14de8e.b33="Are you sure you want to leave this group? You can rejoin later.",_0x14de8e.b34="Leave",_0x14de8e.b35="Cancel",_0x14de8e.b36="Comfirm",_0x14de8e.b37="Itinerary",_0x14de8e.b38="Title",_0x14de8e.b39="Start",_0x14de8e.b40="End",_0x14de8e.b41="Edit itinerary",_0x14de8e.c1="Edit mode",_0x14de8e.c2="Prev mode",_0x14de8e.c3="Updated language: $0",_0x14de8e.c4="English",_0x14de8e.c5="Chinese",_0x14de8e.d0="Fixed some bugs.",_0x14de8e.d1="Added the function of switching languages.";let _0xaac272={};_0xaac272.zh=_0x19f02f,_0xaac272.en=_0x14de8e;let _0x25eed0=_0xaac272;function _0x7dc6a(e){return _0x25eed0[e]}let _0x10261f={};_0x10261f.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x10261f.authDomain="smiling-theory-397204.firebaseapp.com",_0x10261f.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x10261f.projectId="smiling-theory-397204",_0x10261f.storageBucket="smiling-theory-397204.appspot.com",_0x10261f.messagingSenderId="360479398694",_0x10261f.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x10261f.measurementId="G-6BKTT1K7D1";let _0x11b91a=e(_0x10261f),_0x373c58=_0x7dc6a(_0x4c257d),_0x5b93d4=$(_0x11b91a),_0x176770=r(_0x11b91a),_0x115b1e=new a,_0x2712d0=t();h(_0x5b93d4).then(()=>{let e={};e.IjMhk="離線緩存功能已啟用";let t=e;console.log(t.IjMhk)}).catch(e=>{let t={};t.Faqod=function(e,t){return e===t},t.Faqod(e.code,"failed-precondition")?console.error("已開啟多個分頁，無法啟用離線緩存功能"):"unimplemented"===e.code&&console.error("當前瀏覽器不支持離線緩存")});let _0x5280f6=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x20ac39=[],_0x18faa={sidebar:_0x339ade(".xFz8bwNFr"),main:_0x339ade(".x8o58HttN"),messageInput:_0x339ade(".xtsARDHTI"),searchInput:_0x339ade(".xujXllYgW"),messageContainer:_0x339ade(".xikyLwDf4"),sendButton:_0x339ade(".xuwRtDpu4"),fileInput:_0x339ade(".xVEJA40Qh"),attachButton:_0x339ade(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x339ade(".xpbRox0hO#xbXZpIWEa"),markButton:_0x339ade(".xpbRox0hO#xsVrze5YA"),brushButton:_0x339ade(".xpbRox0hO#xrfvUzMAG"),heading:_0x339ade(".xehdiGgBv"),backButton:_0x339ade(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x339ade(".xemr1y6ie"),spinnerContainer:_0x339ade(".xemr1y6ie .spinner"),spinnerLabel:_0x339ade(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x339ade(".xDADAUUv4"),roomNameLabel:_0x339ade(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x339ade(".xlKSJ67AP"),nameLabel:_0x339ade(".xt4GQkVIo"),avatarLabel:_0x339ade(".xbVHF6S6B"),avatarWrapper:_0x339ade(".xaoteDJh4"),profileContainer:_0x339ade(".xQ6gFUtqT"),layoutResizer:_0x339ade(".xrFP6D2e1"),statusLabel:_0x339ade(".xOJE48BLX"),activityBar:_0x339ade(".pS2na74a"),layoutResizer2:_0x339ade(".PLc7zlhg")},_0x1faf71='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0x373c58.b32,_0x4ff682={};_0x4ff682.current="0.1.2",_0x4ff682.cacheId="x0n0HCjlj",_0x4ff682.directions='<ul class="xxmjDL5xB xbH7v2Hbn">\n		<li class="xcKqXW8uF">'+_0x373c58.d0+'</li>\n		<li class="xcKqXW8uF">'+_0x373c58.d1+"</li>\n		</ul>";let _0x36e639=_0x4ff682,_0x3a1d48=[],_0x153132={},_0x5554da={},_0x3e5dbb,_0x4041e8=!1,_0x84c7fe="",_0x2c53cd,_0x271aea=0,_0x46e41f,_0x43cd07=!1,_0x381cc5=!1,_0x207dd7=_0x18faa.messageContainer,_0x3604b3={};_0x3604b3.state=!1,_0x3604b3._a=null,_0x3604b3._b=null,_0x3604b3._n="",_0x3604b3._d="",_0x3604b3._m=[];let _0x289b6b=_0x3604b3,_0x3a9e28="",_0x267d73=null,_0x2f9a31=!1;if(_0x5280f6)document.body.classList.add("mobile"),_0x18faa._mb_att_btn.bindWithCooldown(function(){_0x18faa.fileInput.click()});else{document.body.classList.add("desktop");let T={};T.parent=_0x18faa.attachButton,T.text="附加文件",T.placement="top",new _0x1587cc(T),_0x18faa.attachButton.bindWithCooldown(function(){_0x18faa.fileInput.click()});let M={};M.parent=_0x18faa.sendButton,M.text="發送",M.placement="top",M.interactive=!0,new _0x1587cc(M);let R={};R.parent=_0x18faa.stickerButton,R.text="加入貼圖",R.placement="top",R.interactive=!0,new _0x1587cc(R);let A={};A.parent=_0x18faa.markButton,A.text="標記為重要",A.placement="top",A.interactive=!0;let H=new _0x1587cc(A),I={};I.parent=_0x18faa.brushButton,I.text="潤色文本",I.placement="top",I.interactive=!0,new _0x1587cc(I),_0x53853e([_0x18faa.attachButton,_0x18faa.brushButton,_0x18faa.markButton,_0x18faa.stickerButton],"horizontal"),_0x18faa.brushButton.bindWithCooldown(function(){let e=_0x50d9c9("潤色文本",!0);e.content.classList.add("lg"),e.body.classList.add("xDLwiKdTE")}),_0x18faa.markButton.bindWithCooldown(function(){let e={};e.vrqOA="x3zdxRXQ6",_0x381cc5?(_0x381cc5=!1,_0x18faa.markButton.classList.remove(e.vrqOA),H.setText("標記為重要")):(_0x381cc5=!0,_0x18faa.markButton.classList.add("x3zdxRXQ6"),H.setText("取消標記"))},0);let W=!1,S=0,B=0,P=e=>{W=!0,document.body.classList.add("xz7kq9zLe");let t=e.target.getBoundingClientRect();B=e.clientX-t.left,document.addEventListener("mousemove",O),document.addEventListener("mouseup",Y)},O=e=>{let t={};t.FMjsz=function(e,t){return e+t};let n=t;if(!W)return;let a=_0x18faa.sidebar.getBoundingClientRect().left,i=e.clientX-a-B;S=i,_0x18faa.sidebar.style.width=n.FMjsz(i,"px")},Y=()=>{let e={};e.LUkkr="3|1|2|0|4",e.ezIEh="xz7kq9zLe",e.pPvNs="mouseup";let t=e,n=t.LUkkr.split("|"),a=0;for(;;){switch(n[a++]){case"0":document.removeEventListener("mousemove",O);continue;case"1":_0x2e1473.set("xjS4MkN99",S);continue;case"2":document.body.classList.remove(t.ezIEh);continue;case"3":W=!1;continue;case"4":document.removeEventListener(t.pPvNs,Y);continue}break}};window.addEventListener("blur",()=>{document.body.classList.remove("resizing"),W=!1}),_0x18faa.layoutResizer.addEventListener("mousedown",e=>{P(e)})}function _0x50d9c9(e,t=!1,...n){let a={FijII:function(e,t){return e(t)},IMgAz:"xrYn5ZY3v",cLsIi:"xWDUelLWA",rkxot:"xvb5soWNa",KqNGm:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',lASXb:function(e,t){return e+t}};console.log(n);let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0,i.excludeElements=n;let s=new _0x4dcad8(i),o=a.FijII(_0x51ba5c,a.IMgAz);o.classList.add("lf"),s.Content.style.padding="0";let r=_0x51ba5c("x6Y89FynP");o.appendChild(r),r.innerText=e,s.Content.appendChild(o);let l=_0x51ba5c(a.cLsIi);s.Content.appendChild(l);let c;t&&((c=_0x51ba5c(a.rkxot)).focusable(!0),c.innerHTML=a.KqNGm,s.close=s.close.bind(s),c.bindWithCooldown(s.close),o.appendChild(c));let d=o.getBoundingClientRect();o.style.minHeight=a.lASXb(d.height,"px");let $={};return $.root=s,$.body=l,$.content=s.Content,$.closebtn=c,$.Root=s.Root,$.Content=s.Content,$}async function _0x206a32(e,t){let n={Xgsxw:"載入失敗",VFcRP:"xPSnkbRat",mhpQv:"xWuhDLG1C",GYsBM:"xUSR4cuWD",yHsqn:"嘗試修復偏差位移",GVikn:"instant",sfEQt:function(e,t){return e===t},tLihB:"x2y08yFOH",PMcvq:"xGsec9lFd",zCdKR:"data-state",jqrum:"loading",CNdfD:"cache-url",EUWyI:function(e,t){return e===t},yaDvB:"video",kBbdV:"nodownload",VwfTW:function(e,t){return e===t},znfoc:"audio",KGazR:"true",JSKWl:"a25",GCtRk:"span",mbLZU:"xDVzL7FIt",WQfoJ:function(e,t){return e(t)},pJwEY:"a10"};if(t.startsWith("<")){let a=t.match(/<\s*(\w+)\s+(\S+)/),i=a[1],s=a[2];if(n.sfEQt(i,"image")){let o=document.createElement("img");o.focusable(!0),o.classList.add(n.PMcvq),o.classList.add("xUSR4cuWD"),o.setAttribute(n.zCdKR,n.jqrum),_0x2f9a31||(console.log("嘗試修復偏差位移"),_0x18faa.messageContainer.scrollTo({top:_0x18faa.messageContainer.scrollHeight,behavior:n.GVikn})),o.onerror=function(){console.log(n.Xgsxw),o.setAttribute("data-state","failed"),o.classList.remove("xUSR4cuWD")},o.onload=function(){let t={};t.jXaaz=n.VFcRP,t.pAHJF=n.mhpQv,t.jbrYA="x8o1OSu71",t.ATugt="xHZuqwWhI";let a=t;_0x2f9a31||(console.log("嘗試修復偏差位移"),_0x18faa.messageContainer.scrollTo({top:_0x18faa.messageContainer.scrollHeight,behavior:"instant"})),o.setAttribute("data-state","loaded"),o.classList.remove(n.GYsBM),e.classList.add("xFIqZCKV3"),o.bindWithCooldown(function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let t=new _0x4dcad8(e);t.Content.classList.add(a.jXaaz);let n=document.createElement("canvas");n.classList.add(a.pAHJF),t.Content.appendChild(n);let i=new _0x3ff6c0(n,{maxScale:2,onClickOutside(e,t){o(e,t)}});function o(){i.destroy(),t.close()}i.loadImage(s);let r=_0x51ba5c(a.jbrYA);r.focusable(!0),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',r.bindWithCooldown(o),t.Content.appendChild(r);let l=_0x51ba5c("x8o1OSu71");l.classList.add(a.ATugt),l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',l.bindWithCooldown(function(){i.rotate()},0),t.Content.appendChild(l)},0)};let r={};r.action=n.CNdfD,r.url=s,navigator.serviceWorker?.controller?.postMessage(r),o.src=s,e.appendChild(o)}else if(n.EUWyI(i,n.yaDvB)){let l=document.createElement("video");l.setAttribute("muted",""),l.focusable(!0),l.playsInline=!0,l.setAttribute("controls","true"),l.setAttribute("controlslist",n.kBbdV),l.onloadedmetadata=function(){console.log(n.yHsqn),_0x18faa.messageContainer.scrollTo({top:_0x18faa.messageContainer.scrollHeight,behavior:n.GVikn})};let c={};c.action="cache-url",c.url=s,navigator.serviceWorker?.controller?.postMessage(c),l.src=s,l.classList.add(n.PMcvq),e.appendChild(l)}else if(n.VwfTW(i,n.znfoc)){let d=document.createElement("audio");d.focusable(!0),d.setAttribute("controls",n.KGazR);let $={};$.action="cache-url",$.url=s,navigator.serviceWorker?.controller?.postMessage($),d.src=s,d.classList.add("xGsec9lFd"),e.appendChild(d)}else e.innerHTML='<div class="xUiYNFhtR">'+_0x373c58.a24+' <a class="x0ciSQShX no-wrap" href="'+s+'" target="_blank" rel="noreferrer noopener">'+_0x373c58[n.JSKWl]+"</a></div>"}else{let h=document.createElement(n.GCtRk),u=_0x51ba5c("xYj7x2KZ4");if(h.classList.add("xVlceg4Ab"),_0x563c6a(h,t),e.appendChild(h),e.appendChild(u),h.getBoundingClientRect().height>125){e.classList.add(n.mbLZU);let x=n.WQfoJ(_0x51ba5c,"x6EwJGLAa"),f={};f["0"]='<span class="xNM56JYdv">'+_0x373c58.a8+"</span>",f["1"]='<span class="xNM56JYdv">'+_0x373c58.a9+"</span>",f["2"]='<span class="xNM56JYdv">'+_0x373c58[n.pJwEY]+"</span>";let p=f;x.innerHTML=p[_0x5280f6?2:0],x.focusable(!0);let _=0;x.bindWithCooldown(function(){if(_0x5280f6){let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0;let i=new _0x41a641(a);i.Root.classList.add("xAQPbc7N3");let s=_0x51ba5c("xBWmlKrN2");i.Body.appendChild(s),_0x563c6a(s,t)}else{let o={};o.top=0,o.behavior=n.GVikn,h.scrollTo(o),n.sfEQt(_,0)?(_=1,e.classList.add(n.tLihB),x.innerHTML=p[1]):(_=0,e.classList.remove(n.tLihB),x.innerHTML=p[0])}},0),u.appendChild(x)}}}function _0x563c6a(e,t){let n={qvhNu:"desktop",XNKqu:function(e,t){return e!==t},FohMA:function(e,t){return e>t},qNGli:function(e,t,n){return e(t,n)},TQZwP:function(e,t){return e<t}},a=/@(\w+)/g,i=0,s;for(e.clear();n.XNKqu(s=a.exec(t),null);){let{index:o}=s,r=s[1];if(n.FohMA(o,i)){let l=t.slice(i,o);n.qNGli(_0x48c5aa,e,l)}let c=document.createElement("a");c.classList.add("x0ciSQShX"),c.focusable(!0),c.dataset.userId=r;let d={};d.userId=r,d.dom=c,_0x289b6b._m.push(d),_0x1ade97(r).then(function(e){let t={sCgkp:function(e,t,n){return e(t,n)},KwZtM:n.qvhNu};e?(c.textContent="@"+(e.name||_0x373c58.b29),c.bindWithCooldown(function(){t.sCgkp(_0xf97aea,_0x267d73,{data:e,type:_0x5280f6?"mobile":t.KwZtM})},0)):c.textContent=_0x373c58.b28}).catch(function(e){c.textContent="@"+r,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(c),i=a.lastIndex}n.TQZwP(i,t.length)&&n.qNGli(_0x48c5aa,e,t.slice(i))}function _0x48c5aa(e,t){let n={mHoBf:function(e,t){return e(t)}},a=t.split("\n");a.forEach((t,i)=>{if(t){let s=n.mHoBf(_0x33f725,t),o=document.createElement("div");o.innerHTML=s,Array.from(o.childNodes).forEach(t=>{e.appendChild(t)})}i<a.length-1&&e.appendChild(document.createElement("br"))})}function _0x33f725(e){let t={};t.tFjlb=function(e,t){return e+t},t.asSpd='<span class="xCe4Btdzm" tabindex="0"><a class="x0ciSQShX" tabindex="-1" translate="no" href="',t.HdfGj="</a></span>";let n=t;return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let t=e.replace(/^https?:\/\//,"");return n.tFjlb(n.asSpd+e,'" target="_blank" rel="noreferrer noopener">')+decodeURIComponent(t)+n.HdfGj})}async function _0xade0e3(){let e={tVdDP:"task",mPibB:"clear-all-caches",tUtAP:"b30",lrOLD:function(e,t,n,a){return e(t,n,a)},ozlLN:function(e,t){return e===t},VRlOE:"1242",KiFrM:function(e,t,n,a){return e(t,n,a)},lrRUX:function(e,t){return e(t)},Dyhku:"&amp;$1",BNEkE:"&lt;",Hytjf:"messages"},t=_0x18faa.messageInput.innerText.trim();if(!t||!_0x84c7fe||""===t)return;_0x18faa.sendButton.classList.add("disabled"),_0x18faa.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let a=n[1],i=n[2];if(a===e.tVdDP){if("1358"===i){_0x18faa.messageInput.clear();let s={};s.action=e.mPibB,navigator.serviceWorker?.controller?.postMessage(s);let o={};o.content=_0x373c58[e.tUtAP],o.tag="2",_0x625577(o,_0x36e869(20),"3");return}if("1241"===i){_0x18faa.messageInput.clear(),e.lrOLD(_0x625577,{content:_0x373c58.c3.replace("$0",_0x373c58.c5),tag:"2"},_0x36e869(20),"3"),_0x2e1473.set("lang","zh");return}if(e.ozlLN(i,e.VRlOE)){_0x18faa.messageInput.clear(),e.KiFrM(_0x625577,{content:_0x373c58.c3.replace("$0",_0x373c58.c4),tag:"2"},_0x36e869(20),"3"),_0x2e1473.set("lang","en");return}{_0x18faa.messageInput.clear();let r={};r.content=_0x373c58.b31,_0x625577(r,e.lrRUX(_0x36e869,20),"3");return}}}t=t.replace(/&([^;]+)/g,e.Dyhku).replaceAll("<",e.BNEkE).replaceAll(">","&gt;").replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x18faa.messageInput.clear();let l=_0x381cc5?"1":null;_0x18faa.markButton.classList.remove("x3zdxRXQ6"),_0x381cc5=!1;let c=e.lrRUX(f,u(_0x5b93d4,"chats",_0x84c7fe,e.Hytjf));await x(c,{sender:_0x46e41f,content:t,timestamp:Date.now(),tag:l});let d={};d.content=t,d.tag=l,_0x625577(d,c.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={};t.koOGj="cacheSizeResult";let n=t;if("cache-size-result"===e.data.type){let a=document.getElementById(n.koOGj);if(e.data.error){a.innerHTML="錯誤: "+e.data.error;return}_0x625577({content:_0x403e06(e.data.bytes)},_0x36e869(20),"3")}});let _0x525e94=0;function _0x625577(e,t,n="1"){let a={WJrYg:"xVC8gtuyS",UNKrD:function(e,t){return e(t)},YECgo:function(e,t){return e(t)},RIsoz:"xKljxgVJA",ktaVd:"data-message-id",Ghppn:"xiOw4dg0O",Dnbpk:function(e,t){return e===t},Vcyql:"x4rKxFxLl",gIgLn:function(e,t){return e===t},ZRCYd:"xHJfZfjT1"},i=_0x51ba5c(a.WJrYg),s=a.UNKrD(_0x51ba5c,"xMyW2iRSH"),o=a.YECgo(_0x51ba5c,a.RIsoz),r=_0x51ba5c("xu4Celbbq"),l=a.UNKrD(_0x51ba5c,"xc4iCj2Gy"),c=a.UNKrD(_0x51ba5c,"xRHoYYwoZ");switch(i.setAttribute("data-visible","true"),i.setAttribute(a.ktaVd,t),i.classList.add(a.Ghppn),i.appendChild(o),o.appendChild(c),c.appendChild(r),r.appendChild(l),c.appendChild(s),l.innerText=_0x373c58.a26,_0x3a9e28.sender===e.sender&&i.classList.add("xOmVIOA3e"),a.Dnbpk(e.tag,"1")?s.classList.add(a.Vcyql):a.gIgLn(e.tag,"2")&&s.classList.add(a.ZRCYd),_0x3e5dbb&&(_0x3e5dbb.remove(),_0x3e5dbb=null),n){case"1":_0x18faa.messageContainer.appendChild(i);break;case"2":_0x207dd7.appendChild(i),_0x525e94+=i.offsetHeight;break;case"3":_0x18faa.messageContainer.appendChild(i),_0x43cd07=!0,_0x18faa.messageContainer.scrollTo({top:_0x18faa.messageContainer.scrollHeight,behavior:"smooth"})}_0x206a32(s,e.content)}function _0x54cc0b(e,t,n="1"){let a={jJZtl:function(e,t,n){return e(t,n)},oyLlb:"desktop",GkIAY:"/assets/avatar.png",QSbWX:"xVC8gtuyS",zzhHM:function(e,t){return e(t)},QNuza:"xSYcbYqTG",VMbDj:"xKljxgVJA",miylZ:function(e,t){return e(t)},BJZSI:"xc4iCj2Gy",jZmKs:"xt8fROB2L",AhyZo:"lazy",vUAKZ:"x4rKxFxLl",HYrBV:function(e,t){return e===t},nlodH:"xOmVIOA3e",nVMhl:"smooth",RwfdI:function(e,t,n){return e(t,n)}},i=_0x51ba5c(a.QSbWX),s=a.zzhHM(_0x51ba5c,"xMyW2iRSH"),o=_0x51ba5c(a.QNuza),r=_0x51ba5c(a.VMbDj),l=_0x51ba5c("xu4Celbbq"),c=a.miylZ(_0x51ba5c,a.BJZSI),d=_0x51ba5c(a.jZmKs),$=_0x51ba5c("xRHoYYwoZ"),h=document.createElement("img");switch(i.setAttribute("data-visible","true"),d.classList.add(a.jZmKs),h.loading=a.AhyZo,i.appendChild(o),i.appendChild(r),r.appendChild($),$.appendChild(l),l.appendChild(c),$.appendChild(s),l.appendChild(d),o.appendChild(h),i.setAttribute("data-message-id",t),"1"===e.tag&&s.classList.add(a.vUAKZ),d.innerText="0s",c.innerText="未知",h.draggable=!1,_0x3e5dbb&&(_0x3e5dbb.remove(),_0x3e5dbb=null),a.HYrBV(_0x3a9e28.sender,e.sender)&&i.classList.add(a.nlodH),n){case"1":_0x18faa.messageContainer.appendChild(i);break;case"2":_0x207dd7.appendChild(i),_0x525e94+=i.offsetHeight;break;case"3":_0x18faa.messageContainer.appendChild(i),_0x43cd07=!0,_0x18faa.messageContainer.scrollTo({top:_0x18faa.messageContainer.scrollHeight,behavior:a.nVMhl}),_0x43cd07=!1}a.RwfdI(_0x206a32,s,e.content),_0x1ade97(e.sender).then(t=>{function n(){a.jJZtl(_0xf97aea,_0x18faa.main,{data:t,type:_0x5280f6?"mobile":a.oyLlb})}d.innerText=_0x33b381(e.timestamp),h.src=t.avatarUrl||a.GkIAY,h.onload=function(){o.classList.add("xWzeTGC6P")},c.onclick=n,o.focusable(!0),o.bindWithCooldown(n),c.innerText=t.name||"未知"}).catch(e=>{console.error(e)})}function _0x58b9d9(e,t,n){let a={};a.wQnWg=function(e,t){return e||t},a.hgAGb="xJd2GT7MI",a.KTwNA="assets/avatar.png";let i=a;_0x18faa.signatureLabel.innerHTML=_0x575e88(i.wQnWg(n,"暫時還沒有描述哦")),_0x18faa.avatarWrapper.classList.remove(i.hgAGb),_0x18faa.avatarLabel.src=e||i.KTwNA,_0x18faa.nameLabel.textContent=i.wQnWg(t,"未知")}async function _0x45d60a(){let e={hKqAl:"已上傳裝置信息",OHtxH:"--x9LFHiVqv",LfaSG:function(e,t){return e(t)},vcJli:function(e,t){return e-t},BxOiy:function(e,t){return e*t},ZIbiX:"placeholder",vkFYC:"b32",DiMam:"xmKH3ad5R",ShRGZ:function(e){return e()},WtdCe:"disabled",EoqwT:"cvs",TqLwr:function(e,t,n){return e(t,n)}};if(_0x4041e8)return;console.log("正在初始化應用程序"),_0x18faa.roomNameLabel.innerText=_0x373c58.a2,_0x18faa.searchInput.placeholder=_0x373c58.a1,_0x18faa.messageInput.setAttribute(e.ZIbiX,_0x373c58.a3),_0x18faa.spinnerLabel.innerText=_0x373c58[e.vkFYC];let t=_0x2e1473.get("xjS4MkN99");t&&(_0x18faa.sidebar.style.width=t+"px"),document.body.classList.add(e.DiMam);let n=_0x479d8b(),a=e.ShRGZ(_0x5e1b9f);e.ShRGZ(_0x363ec2);try{_0x1ade97(_0x46e41f).then(async t=>{(!t.deviceInfo||Date.now()-t.deviceInfo.lastUpdate>36e5)&&(await _0x53bb18(_0x46e41f,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:a.screenWidth+"x"+a.screenHeight+" @"+a.devicePixelRatio+"x"}}),console.log(e.hKqAl))})}catch(i){console.error("發生未知錯誤",i)}try{function s(){let t=_0x18faa.messageContainer.getBoundingClientRect();_0x18faa.messageContainer.style.setProperty(e.OHtxH,e.LfaSG(Number,e.vcJli(.6*t.height,24).toFixed(2))+"px"),_0x18faa.messageContainer.style.setProperty("--xVizV2ybq",Number(e.BxOiy(t.height,.72).toFixed(2))-24+"px")}e.ShRGZ(s),window.addEventListener("resize",s)}catch(o){console.log("設置布局時發生錯誤")}if(_0x18faa.searchInput.removeAttribute("disabled"),_0x18faa.searchInput.focusable(!0),_0x18faa.profileContainer.classList.remove(e.WtdCe),_0x18faa.profileContainer.focusable(!0),localStorage.getItem(e.EoqwT)!==_0x36e639.current){if(_0x5280f6){let r={};r.closeOnEsc=!0,r.closeOnOverlayClick=!0;let l=new _0x41a641(r);l.Overlay.classList.add("x5RtiEC9k"),l.Body.innerHTML='<div class="xa6f2dQXX">'+_0x373c58.a4+'</div><div class="x68JrA5Ak">'+_0x36e639.directions+"</div>"}else e.TqLwr(_0x50d9c9,_0x373c58.a4,!0).body.innerHTML='<div class="xeUKJgV96">'+_0x36e639.directions+"</div>";localStorage.setItem("cvs",_0x36e639.current)}_0x4041e8=!0}function _0x575e88(e){let t={};t.LajYE="&amp;$1",t.JduMh="&lt;",t.uxCvS="&gt;",t.NnZHC="&nbsp;";let n=t;return e.replace(/&([^;]+)/g,n.LajYE).replaceAll("<",n.JduMh).replaceAll(">",n.uxCvS).replaceAll(" ",n.NnZHC).replaceAll("\n","<br>")}function _0x15ca83(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x114c09="Structure",_0xf29753;function _0x399eab(e){var t;let n={iSXUN:function(e,t,n){return e(t,n)},mgCDZ:function(e,t){return e===t},NZVBa:function(e,t,n,a){return e(t,n,a)},DSRTD:function(e,t,n,a){return e(t,n,a)},ZEmkY:function(e,t){return e===t},loNJF:function(e,t){return e(t)},AyZNa:"xjrgLBAlF",xxukP:"xYARRkCjq",WivVW:function(e,t){return e+t},kvPWn:"disabled",qXguW:"contenteditable",NCTbr:"true",TCZgA:".x2fP9fkxS.active",zplsl:function(e,t){return e(t)},OXbfh:"active",RJppS:"x8VAGH6N2",UYEvd:function(e,t){return e(t)},ginPj:"spinner",OPfZG:function(e,t,n,a,i){return e(t,n,a,i)},kBJZo:"chats",Hmigu:function(e,t,n){return e(t,n)},jDhrw:"xs8tjkwHJ",lNfCN:"xt4GQkVIo",ypcgE:"暫時還沒有描述哦",vnbzQ:"b20",KKqgr:"xb4MnocjO",wihjc:function(e,t){return e==t},TaWHk:function(e,t,n,a,i,s){return e(t,n,a,i,s)},rKgnE:"4|0|1|2|3|5",OkbyA:function(e,t){return e!==t},hEhOV:"xOjXmYkxE",paFuA:"xGGKUZ7B3",FHYcR:"label",NdtCq:"xYvZ9WF6d",eJzJL:function(e,t){return e(t)},Usovb:"x9ZwavJjj",SONDS:"input",pAPIj:"time",FCbct:"x40AApYkW",eGjAs:"xwtdXtpQT",pVZnd:"hide",OdBWJ:"xHCo3rIZ7",FeOsQ:function(e,t,n){return e(t,n)},QTZxV:"xtx2Cn8cK",oMrlu:function(e,t){return e(t)},Teqvk:"b37",bcKDh:"xU2hUavXh",GEEUU:function(e,t,n){return e(t,n)},Ooetb:function(e,t){return e(t)},yVHoc:"xCgVOK4ur",pkBXd:function(e,t){return e(t)},EluWU:"xtG9t2xuE",lWHFl:"x7ho7YfuM",XnArr:"xmiEvp5FV",OIWGI:"todos",rygcZ:function(e,t){return e!==t},hhfYQ:function(e,t){return e!==t},wIhiK:function(e,t,n,a){return e(t,n,a)},GYMUE:function(e,t){return e(t)},gczWz:"b33",RvsIY:"x0eVQzH93",umLEf:function(e,t){return e(t)},aMkNr:"忘記加上描述了",MVmmt:"xxChbQgko",BUpZA:function(e,t,n){return e(t,n)},tEdFM:"bottom-start",mrpTv:"bottom-end",cPbPE:"top-start",KLQcG:"top-end",osNcQ:"xrQdSHI2A",uuOqg:function(e,t){return e(t)},OdQIH:"b22",CEVLl:"xGy5QqsmI",qvhIc:function(e,t){return e(t)},SkbIg:function(e){return e()},PObAR:function(e,t){return e(t)},tRwxf:"x2fP9fkxS",vegvt:function(e,t){return e(t)},nAfeA:"xybvM5cRF",CXCVv:"x6HyfOZS7",eEeJv:"xQkxrD9ZA",bxOfx:"b19",HwNxl:"b18"},a=n.PObAR(_0x51ba5c,n.tRwxf),i=n.vegvt(_0x51ba5c,"xQ65c0Nkc"),s=_0x51ba5c(n.nAfeA),o=_0x51ba5c("xT3Ta8vKw"),r=n.UYEvd(_0x51ba5c,n.CXCVv),l=_0x51ba5c(n.eEeJv);async function c(){let t={xunMv:function(e,t){return e(t)}};if(_0x84c7fe!==e.id||_0x5280f6){_0x18faa.messageInput.innerHTML="",_0x84c7fe=e.id,_0x289b6b._m.length=0,_0x267d73=_0x18faa.main,_0x2f9a31=!1;let i=[];e.members.forEach(e=>{let n={};n.TSlKw="取得用户名称时发生错误：";let a=n;t.xunMv(_0x1ade97,e).then(t=>{let n={};n.id=e,n.name=t.name,i.push(n)}).catch(e=>{console.error(a.TSlKw,e)})}),_0x114c09=(e.name||"未知")+" - Structure",document.title=_0x114c09,_0x18faa.roomNameLabel.innerText=e.name,_0x3a1d48.length=0,_0xf29753&&_0xf29753.remove(),n.ZEmkY(e.tag,"public")?((_0xf29753=n.loNJF(_0x51ba5c,n.AyZNa)).focusable(!0),_0xf29753.classList.add(n.xxukP),_0xf29753.textContent=_0x373c58.a7,_0xf29753.bindWithCooldown(function(){_0x50d9c9(_0x373c58.a6,!0).body.innerHTML='<div class="xrrfDPLS2">任何人都能加入這個聊天室</div>'}),_0x18faa.statusLabel.appendChild(_0xf29753)):n.mgCDZ(e.tag,"privacy")&&((_0xf29753=_0x51ba5c("xjrgLBAlF")).focusable(!0),_0xf29753.classList.add("xxC3C39Oc"),_0xf29753.textContent=_0x373c58.a5,_0xf29753.bindWithCooldown(function(){n.iSXUN(_0x50d9c9,_0x373c58.a6,!0).body.innerHTML='<div class="xrrfDPLS2">只有受邀人能加入本聊天室</div>'}),_0x18faa.statusLabel.appendChild(_0xf29753));let s=new URLSearchParams(window.location.search);s.set("r",e.id),window.history.replaceState({},"",n.WivVW("?",s.toString())),_0x18faa.messageContainer.classList.remove("xVjpzmyej"),_0x18faa.fileInput.removeAttribute(n.kvPWn),_0x18faa.attachButton.classList.remove(n.kvPWn),_0x18faa.attachButton.focusable(!0),_0x18faa.stickerButton.classList.remove(n.kvPWn),_0x18faa.stickerButton.focusable(!0),_0x18faa.markButton.classList.remove("disabled"),_0x18faa.markButton.focusable(!0),_0x18faa.markButton.classList.remove("x3zdxRXQ6"),_0x381cc5=!1,_0x18faa.brushButton.classList.remove("disabled"),_0x18faa.brushButton.focusable(!0),_0x18faa.messageInput.setAttribute(n.qXguW,n.NCTbr),_0x5280f6?(_0x18faa._mb_att_btn.classList.remove(n.kvPWn),_0x18faa._mb_att_btn.focusable(!0),_0x18faa.backButton.classList.remove("disabled"),n.loNJF(_0x339ade,".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").focusable(!0),_0x18faa.main.classList.add(n.RJppS)):(_0x339ade(n.TCZgA)&&n.zplsl(_0x339ade,".x2fP9fkxS.active").classList.remove(n.OXbfh),a.classList.add(n.OXbfh)),_0x18faa.messageInput.setAttribute("contenteditable",n.NCTbr),_0x18faa.messageInput.focusable(!0),_0x18faa.messageContainer.clear(),(_0x3e5dbb=n.UYEvd(_0x51ba5c,"xqBX9i6rZ")).classList.add(n.ginPj),_0x3e5dbb.innerHTML=_0x1faf71,_0x18faa.messageContainer.appendChild(_0x3e5dbb);let o=await m(n.NZVBa(C,n.OPfZG(u,_0x5b93d4,n.kBJZo,e.id,"messages"),w("timestamp","desc"),n.loNJF(E,10)));_0x2c53cd=o.docs[9];let r=[];o.forEach(e=>{r.push(e)}),n.ZEmkY(r.length,0)&&_0x3e5dbb&&(_0x3e5dbb.innerHTML="這裡還沒有訊息，現在就開始聊天吧"),r.reverse(),r.map(e=>{var t=e.data();-1===_0x3a1d48.indexOf(e.id)&&(n.mgCDZ(t.sender,_0x46e41f)?(_0x3a1d48.push(e.id),n.NZVBa(_0x625577,t,e.id,"1")):(_0x3a1d48.push(e.id),n.DSRTD(_0x54cc0b,t,e.id,"1"))),_0x3a9e28=t}),_0x43cd07=!0,_0x18faa.messageContainer.scrollTo({top:_0x18faa.messageContainer.scrollHeight,behavior:"instant"}),_0x43cd07=!1}}_0x450816(e.id),a.bindWithCooldown(c);let d={};d.id=e.id,d.length=e.size,d.name=e.name||"未知",d.launch=c,d.dom=a,_0x20ac39.push(d),a.appendChild(i),a.appendChild(r),r.appendChild(l);let $=function(){let t={lRZND:function(e,t){return n.hhfYQ(e,t)},mJOEE:function(e,t){return e===t},KqJmg:function(e,t,a){return n.Hmigu(e,t,a)},ssaKW:function(e,t,a,i){return n.wIhiK(e,t,a,i)},mdrEq:"users",hThFq:"chats",FWHJS:function(e,t){return n.GYMUE(e,t)},jNSwR:"Error while deleting item:",xXkdZ:n.gczWz,rOnGY:function(e,t,n){return e(t,n)},YcJAW:n.ypcgE,oHTqU:"green",jOZkG:n.RvsIY,NodtN:function(e,t){return n.umLEf(e,t)},meONi:n.lNfCN,Duhpq:"xHQ4s8VGa",UKhfB:function(e,t,a){return n.iSXUN(e,t,a)},luBhG:n.aMkNr,plWGG:function(e,t){return e(t)},dfiVn:n.MVmmt,IMagP:"xaTPzRSCY",VyAau:"horizontal",ExxBc:function(e,t,a){return n.BUpZA(e,t,a)}},i={};i.trigger=l,i.placement=[n.tEdFM,n.mrpTv,n.cPbPE,n.KLQcG];let s=new _0x2ec3d4(i);s.Content.classList.add("xoV8hdbgt");let o=_0x51ba5c(n.osNcQ),r=n.zplsl(_0x51ba5c,"xrQdSHI2A"),c=n.uuOqg(_0x51ba5c,"xcoXgMpFW"),d=n.eJzJL(_0x51ba5c,n.osNcQ);o.bindWithCooldown(function(){let t={wmuQD:function(e,t,a){return n.Hmigu(e,t,a)},HxGiS:"assets/avatar.png",EutqJ:function(e,t){return n.UYEvd(e,t)},XZmic:n.jDhrw,OdPhw:n.lNfCN,ZInak:function(e,t){return e(t)},VhHSw:n.ypcgE};s.close();let a=_0x51ba5c("xPAY7PmDq"),i;if(_0x5280f6){let o={};o.parent=_0x18faa.sidebar,o.title=_0x373c58[n.vnbzQ],(i=new _0x1168ef(o)).Content.classList.add("xU2hUavXh"),i.Content.appendChild(a)}else(i=_0x50d9c9(_0x373c58.b20,!0)).content.classList.add("lg"),i.content.classList.add(n.KKqgr),i.body.appendChild(a);let r=0;e.members.forEach(e=>{r++,function e(n){_0x1ade97(n).then(e=>{let n={xfiYM:function(e,t,n){return e(t,n)},eYRIn:function(e,n,a){return t.wmuQD(e,n,a)}},s=_0x51ba5c("xScefCkPw"),o=_0x51ba5c("xZHdsOFDz"),r=document.createElement("img");r.classList.add("xxnnTDIPC"),r.src=e.avatarUrl||t.HxGiS,r.draggable=!1,r.loading="lazy";let l={};l.action="cache-url",l.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(l),o.appendChild(r);let c=t.EutqJ(_0x51ba5c,t.XZmic),d=_0x51ba5c(t.OdPhw),$=t.ZInak(_0x51ba5c,"xlKSJ67AP");d.innerText=e.name,$.innerText=e.signature||t.VhHSw,s.focusable(!0),c.appendChild(d),c.appendChild($),s.appendChild(o),s.appendChild(c),s.bindWithCooldown(function(){if(_0x5280f6){let t={};t.data=e,t.type="mobile",n.xfiYM(_0xf97aea,i.Root,t)}else{i.root.close();let a={};a.data=e,a.type="desktop",n.eYRIn(_0xf97aea,_0x18faa.main,a)}}),a.appendChild(s)}).catch(e=>{console.error(e)})}(e)}),n.wihjc(r,1)&&a.classList.add("xyS4vzBWG")}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0x373c58.b21,o.classList.add("xUdcoAHYM"),[o,r,d].forEach(e=>{e.focusable(!0)}),d.bindWithCooldown(function(){s.close(),new _0x1a2ffe({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0x373c58.b34,message:_0x373c58[t.xXkdZ],buttons:[{text:_0x373c58.b35,classList:["A5o980bj"]},{text:_0x373c58.b36,classList:["xTJA9U7y9"],onClick:async function(){let n=_0x20ac39.findIndex(t=>t.id===e.id);if(t.lRZND(n,-1))try{let i="3|5|0|2|1|4".split("|"),s=0;for(;;){switch(i[s++]){case"0":_0x20ac39.splice(n,1);continue;case"1":t.mJOEE(_0x84c7fe,e.id)&&(_0x84c7fe=null,_0x18faa.statusLabel.innerHTML="",_0x18faa.roomNameLabel.innerText="未知",_0x18faa.messageContainer.clear());continue;case"2":a.remove();continue;case"3":await t.KqJmg(k,t.ssaKW(f,_0x5b93d4,t.mdrEq,_0x46e41f),{joined:y(e.id)});continue;case"4":0===_0x20ac39.length&&(_0x18faa.primaryArea.innerHTML='<div class="xzF3bjGCc">尚未加入任何聊天室</div>');continue;case"5":await k(f(_0x5b93d4,t.hThFq,e.id),{members:t.FWHJS(y,_0x46e41f)});continue}break}}catch(o){console.error(t.jNSwR,o)}}}]})}),s.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /></svg>'+_0x373c58[n.OdQIH],r.bindWithCooldown(async function(){let a={pWcUW:function(e,t,a,i,s,o){return n.TaWHk(e,t,a,i,s,o)},sUZwy:n.kBJZo,ATKKN:"todos",EUFTK:function(e,t){return e(t)},oeJyi:n.rKgnE,Dosoa:"disabled",oYxjK:function(e,t){return n.OkbyA(e,t)},JhNyZ:function(e,t,n,a){return e(t,n,a)},ccLea:n.hEhOV,VIMDx:n.paFuA,BCaDZ:function(e,t){return n.zplsl(e,t)},RPuJq:n.FHYcR,Gcdew:"xF37V7xd0",EEoJS:n.NdtCq,HjNpq:function(e,t){return n.eJzJL(e,t)},YzKhl:function(e,t){return n.loNJF(e,t)},BeOcw:"xGuwEx6qN",EHoZj:"xFJWlqoGn",MQRld:n.Usovb,jrAkQ:n.SONDS,oPils:"date",tKHoJ:n.pAPIj,vjLjI:function(e,t){return e(t)},SIkct:n.FCbct,QMpxt:n.eGjAs,ZLPBd:n.pVZnd,zKnLf:n.OdBWJ,OUJNL:function(e,t,n,a,i){return e(t,n,a,i)},gKqvu:function(e,t,a){return n.FeOsQ(e,t,a)}};s.close();let i,o=_0x51ba5c(n.QTZxV),r=n.oMrlu(_0x51ba5c,"xNu1Upzh6");if(_0x5280f6){let l={};l.parent=_0x18faa.sidebar,l.title=_0x373c58[n.Teqvk],(i=new _0x1168ef(l)).Content.classList.add("x6q2Zh2QF"),i.Content.classList.add(n.bcKDh),i.Content.appendChild(o)}else(i=n.GEEUU(_0x50d9c9,_0x373c58.b37,!0)).content.classList.add("xb4MnocjO"),i.content.classList.add("lg"),i.body.appendChild(o);let c=_0x53853e([]);function d(n,s){let o={PXdCk:"disabled",ThZtl:function(e,t,n,a,i,s){return e(t,n,a,i,s)},JfMhd:function(e,t,n){return e(t,n)},QRcPW:function(e,n,a){return t.rOnGY(e,n,a)},XVrKa:t.YcJAW},l=t.FWHJS(_0x51ba5c,"xTIlpY4Et"),d=_0x51ba5c("xA9JMbz3o");l.appendChild(d),n.theme===t.oHTqU?d.classList.add("x9hGI5hex"):t.mJOEE(n.theme,"pink")&&d.classList.add(t.jOZkG);let $=_0x51ba5c("xHxVtIAsn");l.appendChild($);let h=t.NodtN(_0x51ba5c,t.meONi);h.innerHTML=n.name||"未知",$.appendChild(h);let u=_0x51ba5c(t.Duhpq);t.UKhfB(_0x563c6a,u,n.description||t.luBhG),$.appendChild(u);let x=_0x133077(n.startAt,n.endAt),_=t.plWGG(_0x51ba5c,"xPP6DGDrH");_.innerText=x,l.appendChild(_);let b=t.plWGG(_0x51ba5c,t.dfiVn),m=_0x51ba5c(t.IMagP);m.innerHTML=_0x2cc8b9.edit,m.focusable(!0);let v=_0x51ba5c("xaTPzRSCY");v.innerHTML=_0x2cc8b9.trash,v.focusable(!0),_0x53853e([m,v],t.VyAau),v.bindWithCooldown(async function(){l.classList.add("disabled");try{v.focusable(!1),v.classList.add("disabled"),m.focusable(!1),m.classList.add("disabled"),await a.EUFTK(p,a.pWcUW(f,_0x5b93d4,a.sUZwy,e.id,a.ATKKN,s)),console.log("已成功刪除行程："+s),l.remove(),c.removeItem(l)}catch(t){let n=a.oeJyi.split("|"),i=0;for(;;){switch(n[i++]){case"0":v.classList.remove(a.Dosoa);continue;case"1":m.focusable(!0);continue;case"2":m.classList.remove("disabled");continue;case"3":console.error("刪除失敗：",t);continue;case"4":v.focusable(!0);continue;case"5":l.classList.remove(a.Dosoa);continue}break}}}),b.appendChild(m),b.appendChild(v),l.appendChild(b),l.focusable(!0),c.addItem(l),r.appendChild(l);let g={};g.name=n.name||"未知",g.startAt=n.startAt||17356608e5,g.endAt=n.endAt||17356608e5,g.description=n.description||"";let C=g;m.bindWithCooldown(function(t){t.stopPropagation(),function t(){let r={qILaE:function(e,t){return e!==t},VktPk:function(e,t){return a.oYxjK(e,t)},uScoQ:function(e,t){return a.oYxjK(e,t)},IcIPl:function(e,t){return e!==t},OSmpR:function(e,t){return e!==t},uMqNQ:"disabled"},l=a.JhNyZ(_0x50d9c9,_0x373c58.b41,!0,i.Root);l.root.Overlay.classList.add(a.ccLea);let c=_0x51ba5c(a.VIMDx),d="_"+a.BCaDZ(_0x36e869,12),$=document.createElement(a.RPuJq),x=document.createElement("input");$.classList.add(a.Gcdew),x.classList.add(a.EEoJS),$.htmlFor=d,$.textContent=_0x373c58.b38,x.id=d,x.type="text",x.value=C.name,x.maxLength=30,c.appendChild($),c.appendChild(x);let p=a.HjNpq(_0x51ba5c,"xGGKUZ7B3"),_="_"+a.YzKhl(_0x36e869,12),b=document.createElement(a.RPuJq),m=document.createElement("textarea");b.classList.add("xF37V7xd0"),m.classList.add(a.BeOcw),b.htmlFor=_,b.textContent=_0x373c58.b3,m.id=_,m.rows=3,m.value=C.description,m.maxLength=80,p.appendChild(b),p.appendChild(m);let v=a.HjNpq(_0x51ba5c,"xGGKUZ7B3");v.classList.add(a.EHoZj);let g="_"+_0x36e869(12),w=document.createElement(a.RPuJq),L=a.YzKhl(_0x51ba5c,a.MQRld),y=document.createElement(a.jrAkQ),E=document.createElement(a.jrAkQ);w.classList.add("xF37V7xd0"),y.classList.add("xYvZ9WF6d"),w.htmlFor=g,w.textContent=_0x373c58.b39,y.type=a.oPils,y.id=g,E.classList.add("xYvZ9WF6d"),E.type=a.tKHoJ;let T="_"+a.EUFTK(_0x36e869,12),M=_0x51ba5c("x9ZwavJjj"),R=document.createElement("label"),A=document.createElement(a.jrAkQ),H=document.createElement(a.jrAkQ);R.classList.add(a.Gcdew),A.classList.add("xYvZ9WF6d"),R.htmlFor=T,R.textContent=_0x373c58.b40,A.id=T,A.type="date",H.classList.add("xYvZ9WF6d"),H.type="time";let I=a.YzKhl(_0x51ba5c,"xGGKUZ7B3"),W=a.vjLjI(_0x51ba5c,a.SIkct);W.classList.add(a.QMpxt),W.textContent=_0x373c58.b6,W.classList.add("disabled");let S={};function B(){r.qILaE(x.value.trim(),"")&&y.value&&E.value&&A.value&&H.value&&(r.qILaE(x.value,S._z)||r.qILaE(y.value,S._a)||r.VktPk(E.value,S._b)||r.uScoQ(A.value,S._c)||r.IcIPl(H.value,S._d)||r.OSmpR(m.value,S._y))?(W.focusable(!0),W.classList.remove(r.uMqNQ)):(W.focusable(!1),W.classList.add(r.uMqNQ))}S._z=n.name,S._y=n.description;let P=[x,y,E,A,H,m];if(P.forEach(e=>{e.oninput=B}),W.bindWithCooldown(async function(){let t={};t.JqXcB=o.PXdCk;let n=t;W.classList.add("disabled"),W.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let a=new Date(y.value+"T"+E.value).getTime(),i=new Date(A.value+"T"+H.value).getTime(),r=x.value,c=m.value;P.forEach(e=>{e.setAttribute("disabled",!0)});let d=o.ThZtl(f,_0x5b93d4,"chats",e.id,"todos",s);try{let $={};$.endAt=i,$.startAt=a,$.name=r,$.description=c,await o.JfMhd(k,d,$),C.name=r,C.description=c,C.startAt=a,C.endAt=i,h.innerHTML=C.name,o.QRcPW(_0x563c6a,u,C.description||o.XVrKa),console.log("已成功更新行程："+s),l.root.close()}catch(p){console.error("更新失敗：",p),P.forEach(e=>{e.classList.remove(n.JqXcB)})}}),L.appendChild(w),L.appendChild(y),L.appendChild(E),M.appendChild(R),M.appendChild(A),M.appendChild(H),l.body.appendChild(c),l.body.appendChild(p),l.body.appendChild(v),l.body.appendChild(I),v.appendChild(L),v.appendChild(M),I.appendChild(W),C.startAt){let O=new Date(C.startAt),Y=new Date(C.startAt).toISOString().split("T")[0];console.log(Y);let X=O.toTimeString().split(":").slice(0,2).join(":");console.log(Y),S._a=Y,S._b=X,y.value=Y,E.value=X}if(C.endAt){let D=new Date(C.endAt),j=new Date(C.endAt).toISOString().split("T")[0],G=D.toTimeString().split(":").slice(0,2).join(":");S._c=j,S._d=G,A.value=j,H.value=G}B(),x.focus()}()})}o.appendChild(r);let $=n.Ooetb(_0x51ba5c,"xTOLrzGN6");o.appendChild($);let h=n.UYEvd(_0x51ba5c,n.yVHoc);$.appendChild(h);let _=n.pkBXd(_0x51ba5c,n.EluWU),b=_0x51ba5c("x5FOXvrVK"),v=_0x51ba5c("x5FOXvrVK"),g=n.Ooetb(_0x51ba5c,n.lWHFl);_.appendChild(b),_.appendChild(v),_.appendChild(g);let w=!1;b.innerText=_0x373c58.c1,v.innerText=_0x373c58.c2,_.focusable(!0),h.appendChild(_);let L=_0x51ba5c("xY17x64dw");L.classList.add(n.XnArr),L.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',L.focusable(!0),_.bindWithCooldown(function(){w?(L.classList.remove(a.ZLPBd),r.classList.remove("xbrV3058R"),_.classList.remove(a.zKnLf),w=!1):(L.classList.add("hide"),r.classList.add("xbrV3058R"),_.classList.add(a.zKnLf),w=!0)},0),L.bindWithCooldown(async function(){let t=f(a.OUJNL(u,_0x5b93d4,a.sUZwy,e.id,"todos")),n={name:"新的行程",description:"",startAt:Date.now(),endAt:Date.now()};await x(t,n),a.gKqvu(d,n,t.id)},1e3),h.appendChild(L),r.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x1faf71+"</div>";let y=await n.pkBXd(m,C(u(_0x5b93d4,n.kBJZo,e.id,n.OIWGI)));r.innerHTML='<div class="xmBX2cWRZ">還沒有任何行程，現在就創建一個吧</div>',n.rygcZ(y.docs.length,0)&&y.forEach(e=>{let n=e.data();t.ExxBc(d,n,e.id)})}),s.Content.appendChild(r),s.Content.appendChild(c),d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-door-exit"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0x373c58.b23,d.classList.add(n.CEVLl),s.Content.appendChild(d),n.qvhIc(_0x53853e,[o,r,d]),s._setPosition()};if(l.bindWithCooldown(function(e){e.stopPropagation(),n.SkbIg($)}),l.focusable(!0),a.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',i.appendChild(s),s.innerText=e.name||_0x373c58.a2,t=e.description?e.description:n.ZEmkY(e.size,0)?_0x373c58[n.bxOfx]:_0x373c58[n.HwNxl].replace("$0",_0x15ca83(e.size)),o.innerText=t,i.appendChild(o),_0x18faa.primaryArea.appendChild(a),e.focus){c();let h={};h.behavior="smooth",h.block="center",h.inline="nearest",a.scrollIntoView(h)}}function _0x33b381(e){let t={PlQfI:function(e,t){return e/t},JFpjX:"a18",cnbHu:function(e,t){return e<t},mslpu:function(e,t){return e<t},BRdgR:function(e,t){return e/t},wsWTL:function(e,t){return e(t)}},n=Math.max(Math.floor(t.PlQfI(Date.now()-e,1e3)),0);return n<60?_0x373c58[t.JFpjX].replace("$0",n):t.cnbHu(n,3600)?_0x373c58.a20.replace("$0",""+Math.floor(n/60)):t.mslpu(n,86400)?_0x373c58.a21.replace("$0",""+Math.floor(n/3600)):n<2592e3?_0x373c58.a23.replace("$0",""+Math.floor(t.PlQfI(n,86400))):n<31536e3?_0x373c58.a19.replace("$0",""+Math.floor(t.BRdgR(n,2592e3))):_0x373c58.a22.replace("$0",""+t.wsWTL(_0x15ca83,Math.floor(t.BRdgR(n,31536e3))))}function _0x403e06(e){let t={};t.jcahS=function(e,t){return e>=t},t.Hhulm=function(e,t){return e-t};let n=t,a=["B","KB","MB","GB","TB","PB"],i=e,s=0;for(;n.jcahS(i,1024)&&s<n.Hhulm(a.length,1);)i/=1024,s++;return i.toFixed(2)+" "+a[s]}async function _0x53bb18(e,t){let n={};n.inTyv="users";try{let a=f(_0x5b93d4,n.inTyv,e);if(t){await k(a,t),_0x153132[e]&&(_0x153132[e]={..._0x153132[e],...t});let i=sessionStorage.getItem("upf_"+e);if(i){let s={...JSON.parse(i),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(s))}}else delete _0x153132[e],sessionStorage.removeItem("upf_"+e);return!0}catch(o){return console.error("Failed to update user profile:",o),!1}}async function _0x1ade97(e){let t={fQhAv:function(e,t,n,a){return e(t,n,a)},geNBV:function(e,t){return e(t)}};if(_0x153132[e])return _0x153132[e];let n=sessionStorage.getItem("upf_"+e);if(n){let a=JSON.parse(n);return _0x153132[e]=a,a}try{let i=await t.geNBV(_,t.fQhAv(f,_0x5b93d4,"users",e));if(!i.exists())return null;{let s=i.data();return _0x153132[e]=s,sessionStorage.setItem("upf_"+e,JSON.stringify(s)),s}}catch(o){throw o}}async function _0x4c1a35(e){if(_0x5554da[e])return _0x5554da[e];let t=sessionStorage.getItem("rpf_"+e);if(t){let n=JSON.parse(t);return _0x5554da[e]=n,n}try{let a=await ({RbpeZ:function(e,t){return e(t)}}).RbpeZ(_,f(_0x5b93d4,"chats",e));if(!a.exists())return null;{let i=a.data();return _0x153132[e]=i,sessionStorage.setItem("rpf_"+e,JSON.stringify(i)),i}}catch(s){throw s}}async function _0x4ed306(e,t){let n={lWHoh:function(e,t){return e===t},PUXcr:function(e,t){return e===t},rMAuK:"嘗試加載更多訊息",ghvrU:function(e,t){return e!==t},fkKdC:function(e,t){return e(t)},Cpytm:function(e,t,n,a,i){return e(t,n,a,i)},XsEQi:"chats",McENK:"messages",MCwEb:"instant"};if(console.log(n.rMAuK),n.ghvrU(_0x2c53cd,void 0)){_0x43cd07=!0;let a=await n.fkKdC(m,n.Cpytm(C,u(_0x5b93d4,n.XsEQi,e,n.McENK),w("timestamp","desc"),n.fkKdC(v,_0x2c53cd),E(10)));if(console.log(a.docs.length+" messages left"),0===a.docs.length)return;_0x2c53cd=10===a.docs.length?a.docs[9]:void 0;let i=[];a.forEach(e=>{i.push(e)}),i.reverse();let s=0;_0x207dd7=_0x51ba5c("xWIHJooz8"),_0x3a9e28="";let o=_0x18faa.messageContainer.firstChild;_0x18faa.messageContainer.insertBefore(_0x207dd7,o);let r=_0x18faa.messageContainer.scrollHeight;i.map(e=>{s++;let t=e.data();n.lWHoh(_0x3a1d48.indexOf(e.id),-1)&&(n.PUXcr(t.sender,_0x46e41f)?(_0x3a1d48.push(e.id),_0x625577(t,e.id,"2")):(_0x3a1d48.push(e.id),_0x54cc0b(t,e.id,"2")),_0x3a9e28=t)}),_0x43cd07=!0,_0x525e94=_0x18faa.messageContainer.scrollHeight-r;let l={};l.top=_0x525e94,l.left=0,l.behavior=n.MCwEb,_0x18faa.messageContainer.scrollTo(l),_0x525e94=0,setTimeout(function(){_0x43cd07=!1},500)}else _0x43cd07=!1}let _0x1836a1='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x450816(e){let t={QHgCP:function(e,t){return e===t},rmGkq:"hidden",kYpMj:function(e,t,n,a){return e(t,n,a)},iVKCN:"removed",eVblc:"modified",bbRLn:"{sid}",DCTiF:"An unknown error occurred",dSAYX:"chats"};g(u(_0x5b93d4,t.dSAYX,e,"messages"),n=>{n.docChanges().forEach(n=>{if(_0x84c7fe!==e)return;let a=n.doc.data();switch(n.type){case"added":a.sender!==_0x46e41f&&t.QHgCP(_0x3a1d48.indexOf(n.doc.id),-1)&&!n.doc.metadata.fromCache&&(t.QHgCP(document.visibilityState,t.rmGkq)&&(_0x271aea++,document.title="("+_0x271aea+") "+_0x114c09),_0x3a1d48.push(n.doc.id),t.kYpMj(_0x54cc0b,a,n.doc.id,"3"));break;case t.iVKCN:let i=_0x339ade(_0x1836a1.replace("{sid}",n.doc.id));try{i.classList.add("xl4gtQk5f"),setTimeout(function(){i.remove()},3e3)}catch(s){console.log(s)}break;case t.eVblc:try{let o=_0x339ade(_0x1836a1.replace(t.bbRLn,n.doc.id)).querySelector(".xMyW2iRSH");o?(o.clear(),_0x206a32(o,a.content)):console.log("找不到匹配的訊息容器")}catch(r){console.log("修改訊息時發生未知錯誤",r)}}})},e=>{console.error(t.DCTiF,e)})}function _0xb9eb8a(){let e={QtJLz:"xA7y7OLtP",fxRPI:"disabled",yZEXh:function(e){return e()},YxuZJ:function(e,t){return e(t)},utJCI:function(e,t){return e===t},JMGoZ:"1|3|2|0|4",xdFrt:function(e,t){return e(t)},ESMYV:"xrYn5ZY3v",RWacS:"x4V8Jejrz",WUPeK:function(e,t){return e(t)},czQEw:"xRRuA0Z3S",AoHov:"x7BYgkdiJ",ezLCH:"b11",oAkRC:"xBnuWNG6V",SkdEk:"actionbtn xYIKBnbHS",HKZVW:"xySmLVr4a",okNGl:function(e,t){return e(t)},edZuz:"x6Y89FynP",NBehz:"b27",hfurP:"xWDUelLWA",DfsZh:"xwxpzc3QF",xqVmo:"div",YPpAb:"label",MtHiT:"b24",yBWeQ:"text",ZZOxm:"10px",GqZDS:"5px",yrBgL:"b25",KAxmP:"input",LUxWg:"xYvZ9WF6d",Jywlr:"password",exlqC:"xw0IanPrC",CpLrr:"b26",qTeyM:function(e,t){return e(t)},eBErM:"xPT7rhLdL",uHVQx:"b13"},t=e.xdFrt(_0x51ba5c,e.ESMYV);t.innerText=_0x373c58.b8;let i=e.YxuZJ(_0x51ba5c,e.RWacS);i.innerText=_0x373c58.b9;let o=e.WUPeK(_0x51ba5c,e.czQEw),r=document.createElement("div");r.id=e.AoHov,r.focusable(!0);let l='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0x373c58[e.ezLCH],c='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0x373c58.b10+"</span>\n						</div>";r.innerHTML=l;let d=document.createElement("div");d.focusable(!0),d.id=e.oAkRC,d.className="actionbtn xYIKBnbHS",r.className=e.SkdEk,d.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0x373c58.b12,o.appendChild(r),o.appendChild(d);let $=new _0x4dcad8;$.Content.classList.add("bt"),$.Root.classList.add("xCmJYJQtp"),$.Content.classList.add(e.HKZVW),$.Content.appendChild(t),$.Content.appendChild(i),$.Content.appendChild(o);let h=e.WUPeK(_0x51ba5c,e.ESMYV);h.classList.add("lf"),h.classList.add("gc");let u=e.okNGl(_0x51ba5c,"xZyuwxZPZ");u.focusable(!0),u.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',h.appendChild(u);let x=_0x51ba5c(e.edZuz);x.innerText=_0x373c58[e.NBehz],h.appendChild(x);let f=e.YxuZJ(_0x51ba5c,e.hfurP);f.classList.add(e.DfsZh),$.Content.appendChild(h),$.Content.appendChild(f);let p=document.createElement("div");f.appendChild(p),p.classList.add("xZdL9CF5M");let _=document.createElement(e.xqVmo);_.classList.add("xGGKUZ7B3"),p.appendChild(_);let b=document.createElement(e.YPpAb);b.classList.add("xF37V7xd0"),b.innerText=_0x373c58[e.MtHiT],_.appendChild(b);let m=document.createElement("input");m.classList.add("xYvZ9WF6d"),m.autocomplete="off",m.type=e.yBWeQ,m.disabled=!0,m.spellcheck=!1,_.appendChild(m);let v=document.createElement(e.xqVmo);v.classList.add("xGGKUZ7B3"),v.style.marginTop=e.ZZOxm,v.style.marginBottom=e.GqZDS,p.appendChild(v);let g=document.createElement(e.YPpAb);g.classList.add("xF37V7xd0"),g.innerText=_0x373c58[e.yrBgL],v.appendChild(g);let C=document.createElement(e.KAxmP);C.classList.add(e.LUxWg),C.type=e.Jywlr,C.disabled=!0,C.autocomplete="off",v.appendChild(C);let w=document.createElement("div");w.classList.add(e.exlqC),p.appendChild(w);let L=document.createElement("div");L.innerText=_0x373c58[e.CpLrr],L.classList.add(e.fxRPI),L.classList.add("x40AApYkW"),p.appendChild(L);let y=e.qTeyM(_0x51ba5c,e.eBErM);y.focusable(!0),y.innerHTML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12l14 0"></path><path d="M5 12l6 6"></path><path d="M5 12l6 -6"></path></svg>'+_0x373c58[e.uHVQx],y.bindWithCooldown(function(){let t="1|3|4|2|0".split("|"),n=0;for(;;){switch(t[n++]){case"0":C.disabled=!0;continue;case"1":$.Content.classList.remove(e.QtJLz);continue;case"2":m.disabled=!0;continue;case"3":L.classList.add(e.fxRPI);continue;case"4":L.focusable(!1);continue}break}}),p.appendChild(y),u.bindWithCooldown(function(){$.Content.classList.remove("xA7y7OLtP"),L.classList.add(e.fxRPI),L.focusable(!1),m.disabled=!0,C.disabled=!0});let k=!0,E=function(){k&&(k=!1,u.classList.add("disabled"),u.focusable(!1),w.classList.remove("show"),L.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,C.disabled=!0,L.classList.add("disabled"),L.focusable(!1),L.blur(),y.classList.add("disabled"),y.focusable(!1),s(_0x2712d0,m.value,C.value).then(e=>{try{$.close(),α.close()}catch(t){}let n=e.user;console.log("User is logged in: ",n)}).catch(t=>{let n={};n.zvedN="show",n.iKzsX="auth/invalid-email",n.baWlc="b15",n.SDIPl="b16",n.AJEBC=e.fxRPI;let a=n;setTimeout(function(){let e=t.code;switch(w.classList.add(a.zvedN),e){case"auth/invalid-login-credentials":w.innerText=_0x373c58.b14;break;case a.iKzsX:w.innerText=_0x373c58[a.baWlc];break;case"auth/network-request-failed":w.innerText=_0x373c58[a.SDIPl];break;default:w.innerText=_0x373c58.b17}L.innerHTML=_0x373c58.b26,L.classList.remove("disabled"),L.focusable(!0),y.classList.remove("disabled"),y.focusable(!0),m.disabled=!1,C.disabled=!1,u.classList.remove(a.AJEBC),u.focusable(!0),k=!0},3e3)}))};C.onkeydown=function(t){13===t.keyCode&&e.yZEXh(E)},L.bindWithCooldown(E),r.bindWithCooldown(function(){let t={ElSWD:function(t,n){return e.utJCI(t,n)},YtMhf:e.JMGoZ};r.classList.add(e.fxRPI),d.classList.add("disabled"),r.innerHTML=c,r.focusable(!1),d.focusable(!1),n(_0x2712d0,_0x115b1e).then(t=>{let n={};n.VicTP="無法設置";let i=n;a.credentialFromResult(t).accessToken,_0x46e41f=t.user.uid,e.YxuZJ(_0x1ade97,_0x46e41f).then(e=>{try{_0x58b9d9(e.avatarUrl,e.name,e.signature)}catch(t){console.error(i.VicTP)}$.close()}).catch(e=>{console.error(e)})}).catch(e=>{if(t.ElSWD(e.code,"auth/popup-closed-by-user")){let n=t.YtMhf.split("|"),a=0;for(;;){switch(n[a++]){case"0":d.focusable(!0);continue;case"1":r.classList.remove("disabled");continue;case"2":r.focusable(!0);continue;case"3":d.classList.remove("disabled");continue;case"4":r.innerHTML=l;continue}break}}})}),d.bindWithCooldown(function(){let e="5|4|2|1|3|0".split("|"),t=0;for(;;){switch(e[t++]){case"0":m.focus();continue;case"1":L.focusable(!0);continue;case"2":C.disabled=!1;continue;case"3":L.classList.remove("disabled");continue;case"4":m.disabled=!1;continue;case"5":$.Content.classList.add("xA7y7OLtP");continue}break}})}function _0x1de5a0(e="",t="",...n){let a={fzPpr:function(e,t){return e!==t},pVLmc:function(e,t){return e!==t},EggGP:"disabled",tKhFV:function(e,t,n,a){return e(t,n,a)},KRpET:"users",MlDdX:function(e,t,n){return e(t,n)},esgjm:"暫時還沒有描述哦",Lkezr:"xrYn5ZY3v",iqAXS:"xvb5soWNa",IwjGN:function(e,t){return e(t)},oLXIw:"hidden",aGVHH:"_Jy2eOVG7",TOhSM:"xGGKUZ7B3",RZCRi:"xF37V7xd0",DzFEb:"_rJvAjH9O",WiqrG:"xYvZ9WF6d",eqeLv:"text",PrkGO:"off",HpQFC:"_fM6Qcf9q",oVzNh:"xGuwEx6qN",XxRXg:"x40AApYkW"},i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0,i.excludeElements=n;let s=new _0x4dcad8(i);s.Root.classList.add("xMCbxIsn5"),s.Content.style.padding="0";let o=_0x51ba5c(a.Lkezr);o.classList.add("lf");let r=_0x51ba5c("x6Y89FynP");r.innerText=_0x373c58.b5,o.appendChild(r);let l=_0x51ba5c(a.iqAXS);l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',s.close=s.close.bind(s),l.bindWithCooldown(s.close),o.appendChild(l),s.Content.appendChild(o);let c=a.IwjGN(_0x51ba5c,"xWDUelLWA");s.Content.appendChild(c);let d=document.createElement("input");d.setAttribute(a.oLXIw,"true"),d.id=a.aGVHH,d.type="file";let $=a.IwjGN(_0x51ba5c,a.TOhSM),h=document.createElement("label");h.innerText=_0x373c58.b4,h.classList.add(a.RZCRi),h.htmlFor=a.DzFEb;let u=document.createElement("input");u.value=e,u.classList.add(a.WiqrG),u.id="_rJvAjH9O",u.type=a.eqeLv,u.maxLength="20",u.autocomplete=a.PrkGO,u.spellcheck=!1,c.appendChild($),$.appendChild(h),$.appendChild(u);let p=_0x51ba5c(a.TOhSM),b=document.createElement("label");b.innerText=_0x373c58.b3,b.classList.add("xF37V7xd0"),b.htmlFor=a.HpQFC;let m=document.createElement("textarea");m.maxLength="80",m.value=t,m.classList.add(a.oVzNh),m.id=a.HpQFC,m.rows="3",m.maxLength="50",m.autocomplete="off",m.spellcheck=!1,c.appendChild(p),p.appendChild(b),p.appendChild(m);let v=_0x51ba5c(a.XxRXg);function g(){a.fzPpr(m.value,t)||a.pVLmc(u.value,e)?(v.classList.remove(a.EggGP),v.focusable(!0)):(v.classList.add(a.EggGP),v.focusable(!1))}async function C(){v.classList.add(a.EggGP),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),u.disabled=!0,m.disabled=!0,d.disabled=!0;let e=u.value,t=m.value.trim();if((await _(a.tKhFV(f,_0x5b93d4,a.KRpET,_0x46e41f))).exists()){let n={};n.name=e,n.signature=t,await _0x53bb18(_0x46e41f,n)}else await a.MlDdX(x,f(_0x5b93d4,a.KRpET,_0x46e41f),{name:e,signature:t,id:_0x46e41f,joined:[],deviceInfo:""}),_0x18faa.primaryArea.innerHTML='<div class="xzF3bjGCc">重新載入後方可完整更新您的資料</div>';_0x18faa.nameLabel.innerText=e,_0x18faa.signatureLabel.innerHTML=_0x575e88(t||"暫時還沒有描述哦"),_0x289b6b.state&&(_0x289b6b._n=e,_0x289b6b._d=t,_0x289b6b._a.innerText=e,_0x289b6b._b.innerHTML=_0x33f725(_0x575e88(t))||a.esgjm,_0x289b6b._m.forEach(t=>{t.userId===_0x46e41f&&(t.dom.textContent="@"+e)})),s.close()}v.innerText=_0x373c58.b7,v.classList.add(a.EggGP),v.style.marginTop="0",c.appendChild(v),m.oninput=g,u.oninput=g,v.bindWithCooldown(C),u.focus()}async function _0x5bd86b(e,t){let n={Xloqf:function(e,t){return e(t)},iRaES:function(e,t,n,a,i){return e(t,n,a,i)},sPWKU:"chats"},a=await n.Xloqf(m,n.iRaES(u,_0x5b93d4,n.sPWKU,e.id,"messages"));if(!_0x20ac39.some(t=>t.id===e.id)){let i={};i.name=e.name,i.id=e.id,i.type=e.type,i.tag=e.tag,i.description=e.description,i.size=a.size,i.members=e.members,i.focus=t,i.identity=e.identity,_0x399eab(i)}}async function _0x363ec2(){let e={pzxRY:function(e,t){return e(t)}};_0x18faa.primaryArea.classList.add("xuGldtFot");let t=(await e.pzxRY(_,f(_0x5b93d4,"users",_0x46e41f))).data(),n=new URLSearchParams(window.location.search).get("r");(t.joined||[]).length>0?t.joined.map(async t=>{let a={iAjoQ:function(e,t,n){return e(t,n)}};try{e.pzxRY(_0x4c1a35,t).then(async e=>{let i={};i.id=t,i.name=e.name,i.type=e.type,i.tag=e.tag,i.plugins=e.plugins,i.members=e.members,i.description=e.description,i.identity=e.identity,a.iAjoQ(_0x5bd86b,i,n===t)})}catch(i){console.error("Error fetching document for ID:",t,i)}}):_0x18faa.primaryArea.innerHTML='<div class="xzF3bjGCc">尚未加入任何聊天室</div>'}i(_0x2712d0,e=>{let t={LQuOB:function(e,t,n,a){return e(t,n,a)},ffszs:function(e){return e()},SnKIb:function(e){return e()}};e?(_0x1ade97(_0x46e41f=e.uid).then(e=>{if(!e){_0x1de5a0();return}t.LQuOB(_0x58b9d9,e.avatarUrl,e.name,e.signature)}).catch(e=>{console.error(e),_0x58b9d9()}),t.ffszs(_0x45d60a)):(_0x46e41f="",t.SnKIb(_0xb9eb8a))});let _0x5c86f3={};_0x5c86f3.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x5c86f3.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x5c86f3.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x5c86f3.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x5c86f3.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x16c2df=_0x5c86f3;_0x18faa.fileInput.onchange=async function(e){let t={CxjeD:"上傳遭中斷",yJgKW:function(e,t){return e*t},SqNBC:function(e,t){return e/t},DuaIp:function(e,t){return e(t)},SLVFj:"上傳完成",FUIbc:"這個文件已經成功上傳了",LoDsI:function(e,t){return e(t)},WrRjV:function(e,t){return e(t)},BanTb:"x6Y89FynP",UXxvv:function(e,t){return e(t)},mDosq:"xujSSErs5",ddVQV:function(e,t){return e(t)},eOzOH:"xvb5soWNa",fJLDv:"1|0|3|4|2",SsYAJ:"上傳失敗",kTvxM:"正在上傳中，請耐心等待",YKXHk:"xty9qDHrl",xhWPH:"div",wcbQl:"video/",lJTPP:"audio/",FqYMX:"< audio {u}",wmfIA:function(e,t){return e!==t},Ocslq:"application/x-zip-compressed",NxRWH:"application/zip",aOOXU:"application/x-compressed",Woafn:"< other {u}",nySMG:function(e,t){return e===t},UITRL:"application/pdf",CdMMG:"xxs4n9nhX",Bkjso:"state_changed"},n=e.target.files[0];if(!n)return;let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0;let i=new _0x4dcad8(a);i.Overlay.classList.add("xOjXmYkxE"),i.Lock=!0;let s=_0x51ba5c("xrYn5ZY3v");s.classList.add("lf");let o=t.LoDsI(_0x51ba5c,"xWDUelLWA");o.classList.add("xIOucKmLX"),i.Content.appendChild(s),i.Content.appendChild(o),i.Content.classList.add("gt");let r=t.WrRjV(_0x51ba5c,t.BanTb),$=t.UXxvv(_0x51ba5c,t.mDosq);s.appendChild(r),o.appendChild($);let h=t.ddVQV(_0x51ba5c,t.eOzOH);if(h.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',h.focusable(!0),s.appendChild(h),n.size>52428800){let p=t.fJLDv.split("|"),_=0;for(;;){switch(p[_++]){case"0":$.innerText="這個文件有 "+_0x403e06(n.size)+"，我們無法負擔";continue;case"1":r.innerText=t.SsYAJ;continue;case"2":return;case"3":h.onclick=function(){_0x18faa.fileInput.value="",i.close.bind(i)()};continue;case"4":i.Lock=!1;continue}break}}r.innerText="上傳中",$.innerText=t.kTvxM;let b=document.createElement("div");b.classList.add("xCECpHDwZ"),b.focusable(!0),o.appendChild(b);let m=document.createElement("div");m.classList.add(t.YKXHk),b.appendChild(m);let v=document.createElement(t.xhWPH);v.classList.add("xIEj1ZAnA");let g=t.DuaIp(String,n.type),C="",w="";g.startsWith("image/")?(C=_0x16c2df.image,w="< image {u}"):g.startsWith(t.wcbQl)?(C=_0x16c2df.video,w="< video {u}"):g.startsWith(t.lJTPP)?(C=_0x16c2df.audio,w=t.FqYMX):t.wmfIA([t.Ocslq,t.NxRWH,"application/x-rar-compressed","application/vnd.rar",t.aOOXU].indexOf(g),-1)?(C=_0x16c2df.archive,w=t.Woafn):t.nySMG(g,t.UITRL)?(C=_0x16c2df.others,w="< pdf {u}"):(C=_0x16c2df.others,w=t.Woafn),v.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+C+"</svg>",m.appendChild(v);let L=document.createElement("div");L.classList.add(t.CdMMG),m.appendChild(L),L.innerHTML='<div class="xTGGn7ABj">'.concat(n.name).concat('</div><div class="xtyaQiCLO">'+_0x403e06(n.size)+"</div>"),m.appendChild(L);let y=document.createElement(t.xhWPH);y.classList.add("xsoLox5sj"),m.appendChild(y);let k=document.createElement("div");k.classList.add("xk0osKWCK"),y.appendChild(k);let E="";try{E=t.DuaIp(_0x36e869,12)+"-"+n.name}catch(T){console.log("生成文件名時發生未知錯誤",T)}let M=l(_0x176770,"uploads/"+_0x84c7fe+"/attachment/"+E),R=c(M,n);h.onclick=function(){r.innerText=t.CxjeD,$.innerText="已取消上傳",i.Lock=!1,R.cancel(),_0x18faa.fileInput.value="",i.close()},R.on(t.Bkjso,e=>{let n=t.yJgKW(t.SqNBC(e.bytesTransferred,e.totalBytes),100);k.style.width=n+"%"},e=>{console.log(e)},async()=>{let e=await t.DuaIp(d,R.snapshot.ref),n="";n=w.replace("{u}",e);let a=f(u(_0x5b93d4,"chats",_0x84c7fe,"messages"));await x(a,{sender:_0x46e41f,content:n,timestamp:Date.now()});let s={};s.content=n,_0x625577(s,a.id,"3"),_0x18faa.fileInput.value="",b.remove(),r.innerText=t.SLVFj,$.innerText=t.FUIbc,h.onclick=()=>{},i.Lock=!1,h.bindWithCooldown(function(){i.close()})})},document.addEventListener("visibilitychange",function(){let e={};e.xGQSR="visible",document.visibilityState===e.xGQSR&&(console.log("已重新聚焦 清除未讀訊息數"),document.title=_0x114c09,_0x271aea=0)}),_0x18faa.searchInput.oninput=function(){let e={};e.VSiKy="hide",e.eYuCd=function(e,t){return e!==t};let t=e,n=_0x18faa.searchInput.value.toLowerCase().trim();t.eYuCd(n,"")?_0x20ac39.forEach(e=>{e.name.toLowerCase().includes(n)?e.dom.classList.remove(t.VSiKy):e.dom.classList.add("hide")}):_0x20ac39.forEach(e=>{e.dom.classList.remove("hide")})},_0x18faa.messageContainer.addEventListener("scroll",function(){let e={jLNsB:function(e,t){return e<t},LwJtQ:function(e,t){return e(t)}},t=_0x18faa.messageContainer.scrollTop;""!==_0x46e41f&&""!==_0x84c7fe&&e.jLNsB(t,120)&&!_0x43cd07&&(_0x2f9a31=!0,e.LwJtQ(_0x4ed306,_0x84c7fe))}),_0x18faa.messageInput.oninput=function(){let e={};e.boOSm="disabled";let t=_0x18faa.messageInput.childNodes;1==t.length&&"BR"===t[0].nodeName&&_0x18faa.messageInput.clear(),""!==_0x18faa.messageInput.innerText.trim()?(_0x18faa.sendButton.classList.remove("disabled"),_0x18faa.sendButton.focusable(!0)):(_0x18faa.sendButton.classList.add(e.boOSm),_0x18faa.sendButton.focusable(!1))},_0x18faa.messageInput.onfocus=function(){document.body.classList.add("xYIbDcl9T")},_0x18faa.messageInput.onblur=function(){let e={};e.vLERU="xYIbDcl9T",document.body.classList.remove(e.vLERU)},_0x18faa.messageInput.onpaste=function(e){let t={};t.wuRXc="insertHTML",e.preventDefault(),document.execCommand(t.wuRXc,!0,_0x575e88((e.clipboardData||window.Clipboard).getData("text/plain")))},_0x18faa.messageInput.ondrop=function(e){let t={kGWOq:"text/plain",fPvxL:"insertHTML",pVtFf:function(e,t){return e(t)}};e.preventDefault();let n=e.dataTransfer.getData(t.kGWOq);e.target.focus(),document.execCommand(t.fPvxL,!0,t.pVtFf(_0x575e88,n))},_0x18faa.messageInput.oncopy=function(e){e.preventDefault();var t=window.getSelection().toString();e.clipboardData.setData("text/plain",t)},_0x18faa.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x5280f6||e.shiftKey||(e.preventDefault(),_0xade0e3());break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x18faa.sendButton.bindWithCooldown(_0xade0e3),document.onkeydown=function(e){let t={};t.wVSzB=function(e,t){return e!=t},t.JrfnI="INPUT",t.HfzVZ="xYvZ9WF6d";let n=t;switch(e.keyCode){case 191:let a=document.activeElement;a!=_0x18faa.messageInput&&n.wVSzB(a,_0x18faa.searchInput)&&n.wVSzB(a.tagName.toUpperCase(),n.JrfnI)&&!a.classList.contains("xGuwEx6qN")&&!a.classList.contains(n.HfzVZ)&&(e.preventDefault(),_0x18faa.messageInput.focus());break;case 75:e.ctrlKey&&_0x4041e8&&(e.preventDefault(),_0x18faa.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x18faa.backButton.bindWithCooldown(function(){let e={};e.eLOVO="disabled",e.rUOjX="x8VAGH6N2",e.geAxL="Structure",e.HKXnf="true";let t=e;_0x267d73=_0x18faa.sidebar,_0x18faa.backButton.classList.add(t.eLOVO),_0x18faa._mb_att_btn.classList.add("disabled");let n=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x18faa.main.classList.remove(t.rUOjX),_0x43cd07=!0,_0x18faa.messageContainer.clear(),_0x43cd07=!1,_0x84c7fe="",_0x114c09=t.geAxL,document.title=_0x114c09,_0x18faa.messageInput.clear(),_0x18faa.messageInput.setAttribute("contenteditable",t.HKXnf),_0x18faa.messageInput.focusable(!1),_0x18faa.sendButton.classList.add("disabled"),_0x18faa.sendButton.focusable(!1)}),_0x18faa.profileContainer.bindWithCooldown(function(){let e={BlGVk:"disabled",EwUbj:"show",rWVpM:function(e,t,n){return e(t,n)},jDeXc:"chats",FZRSS:function(e,t){return e(t)},PtIwq:function(e,t,n){return e(t,n)},BTLYW:function(e,t){return e===t},dRiun:function(e,t){return e===t},JmomL:"normal",TCHLt:function(e){return e()},dEkCP:"a14",gSMqG:"users",aidEs:"nearest",ngtRG:"xUhQpBm2v",bVTJk:"xlEirFRi3",LiTBp:"label",LlaXX:"a13",dXtXR:"off",vcykT:"xYvZ9WF6d",JeiSJ:function(e,t){return e(t)},NJCjO:"xw0IanPrC",sqebl:function(e,t){return e(t)},qBuwO:"cvs",RbJuk:"xmKH3ad5R",ZYvPy:"xLhiIL2Wm",EGcZK:"x9EnCPd4S",shepk:"a11",uCHsu:function(e,t){return e(t)},naHjL:"xrQdSHI2A",JYchQ:"xcoXgMpFW",fChwu:function(e,t){return e(t)}},t={};t.trigger=_0x18faa.profileContainer,t.placement="top";let n=new _0x2ec3d4(t);n.Content.classList.add(e.ZYvPy),_0x18faa.profileContainer.classList.add(e.EGcZK);let a=_0x51ba5c("xrQdSHI2A");a.focusable(!0),a.innerHTML='<svg style="min-width: 24px" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 9h8" /><path d="M8 13h6" /><path d="M12.01 18.594l-4.01 2.406v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v5.5" /><path d="M16 19h6" /><path d="M19 16v6" /></svg>'+_0x373c58[e.shepk],a.bindWithCooldown(function(){let t={tyfKP:"a17",PbKGq:e.dEkCP,WBDJc:function(e,t,n,a){return e(t,n,a)},NgwZm:e.gSMqG,yNxYl:function(e,t,n){return e(t,n)},yOQkB:e.jDeXc,zrWCt:function(e,t){return e(t)},zJKlu:"center",mdkAU:e.aidEs,TmRBr:function(e,t){return e!==t},OnioD:e.JmomL};n.close();let a=_0x50d9c9(_0x373c58.a11,!0);a.Root.classList.add(e.ngtRG);let i=e.FZRSS(_0x51ba5c,"xGGKUZ7B3");i.classList.add(e.bVTJk);let s="_"+_0x36e869(12),o=document.createElement(e.LiTBp);o.textContent=_0x373c58[e.LlaXX],o.htmlFor=s,o.classList.add("xF37V7xd0");let r=document.createElement("input");r.classList.add("x4qSHIItt"),r.id=s,r.autocomplete=e.dXtXR,r.autocorrect=e.dXtXR,r.maxLength="8",r.classList.add(e.vcykT),r.classList.add(e.vcykT),i.appendChild(o),i.appendChild(r);let l=e.JeiSJ(_0x51ba5c,e.NJCjO),c=e.FZRSS(_0x51ba5c,"x40AApYkW");c.classList.add("disabled"),c.textContent=_0x373c58.a14;let d=e.BlGVk;async function $(){a.root.Lock=!0,a.closebtn.classList.add(e.BlGVk),a.closebtn.focusable(!1),l.classList.remove(e.EwUbj),c.classList.add("disabled"),r.setAttribute("disabled",!0),c.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let n=await e.FZRSS(m,e.rWVpM(C,u(_0x5b93d4,e.jDeXc),b("jid","==",r.value.trim())));n.empty?e.PtIwq(setTimeout,function(){a.root.Lock=!1,a.closebtn.classList.remove("disabled"),a.closebtn.focusable(!0),l.classList.add("show"),l.innerText=_0x373c58[t.tyfKP],r.removeAttribute("disabled"),c.classList.remove("disabled"),c.innerHTML=_0x373c58[t.PbKGq]},3e3):(a.root.Lock=!1,a.root.close());let i=[];n.forEach(e=>{let t={};t.id=e.id,i.push(t)}),i.forEach(async e=>{let n=_0x20ac39.find(t=>t.id===e.id);if(n){if(1===i.length){let a={};a.behavior="smooth",a.block=t.zJKlu,a.inline=t.mdkAU,n.dom.scrollIntoView(a),n.launch()}console.log("已經加入了，不用再加入")}else await k(t.WBDJc(f,_0x5b93d4,t.NgwZm,_0x46e41f),{joined:L(e.id)}),await t.yNxYl(k,t.WBDJc(f,_0x5b93d4,t.yOQkB,e.id),{members:L(_0x46e41f)}),sessionStorage.removeItem("rpf_"+e.id),t.zrWCt(_0x4c1a35,e.id).then(async t=>{let n={};n.id=e.id,n.name=t.name,n.type=t.type,n.tag=t.tag,n.plugins=t.plugins,n.members=t.members,n.description=t.description,n.identity=t.identity,_0x5bd86b(n,!0),console.log("成功加入",e.id)})})}r.oninput=function(){let e;8===(e=r.value.trim()).length&&t.TmRBr(e,"")?(c.classList.remove("disabled"),c.focusable(!0),d=t.OnioD):(c.classList.add("disabled"),c.focusable(!1),d="disabled")},r.onkeydown=function(t){e.BTLYW(t.keyCode,13)&&e.dRiun(d,e.JmomL)&&e.TCHLt($)},c.bindWithCooldown(async function(){d===e.JmomL&&$()}),a.body.appendChild(i),a.body.appendChild(l),a.body.appendChild(c),r.focus()});let i=e.uCHsu(_0x51ba5c,e.naHjL);i.focusable(!0),i.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0x373c58.a15,i.bindWithCooldown(function(){n.close(),e.sqebl(_0x1ade97,_0x46e41f).then(e=>{let t={};t.data=e,t.type=_0x5280f6?"mobile":"desktop",_0xf97aea(_0x18faa.sidebar,t)}).catch(e=>{console.error(e)})});let s=_0x51ba5c(e.JYchQ),r=e.uCHsu(_0x51ba5c,e.naHjL);r.focusable(!0),r.bindWithCooldown(function(){let t={};t.PkWbL=e.qBuwO,t.tkKGz=e.RbJuk,t.yPNkF="disabled",t.QujAj="xJd2GT7MI";let a=t;n.close(),o(_0x2712d0).then(()=>{_0x46e41f="",_0x84c7fe="",_0x20ac39.length=0,_0x3a1d48.length=0,_0x4041e8=!1;let e=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",e),_0x18faa.primaryArea.clear(),_0x18faa.messageContainer.clear(),localStorage.setItem(a.PkWbL,""),_0x3e5dbb&&(_0x3e5dbb.remove(),_0x3e5dbb=null),document.body.classList.remove(a.tkKGz),_0x18faa.profileContainer.classList.remove(a.yPNkF),_0x18faa.profileContainer.focusable(!0),_0x18faa.markButton.classList.add(a.yPNkF),_0x18faa.brushButton.classList.add(a.yPNkF),_0x18faa.attachButton.classList.add(a.yPNkF),_0x18faa.stickerButton.classList.add("disabled"),_0x381cc5=!1,_0x18faa.avatarWrapper.classList.add(a.QujAj),_0x18faa.avatarLabel.src="",_0x18faa.nameLabel.innerText="",_0x18faa.signatureLabel.innerText=""}).catch(e=>{console.error("Sign out error",e)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0x373c58.a16,e.fChwu(_0x53853e,[a,i,r]),n.Content.appendChild(a),n.Content.appendChild(i),n.Content.appendChild(s),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x18faa.profileContainer.classList.remove("x9EnCPd4S")})});class _0x1168ef{constructor({parent:e,title:t}){let n={pqgoZ:"true",OiZpr:"xB4hVI3El",wkNmm:function(e,t){return e(t)},zrQro:"xvwhg72ii",baavO:"body > *:not(.xEHCrF5Oe, script, [hidden])",gnWUT:function(e,t,n){return e(t,n)}},a=e,i=_0x51ba5c(n.OiZpr),s=_0x51ba5c("xopQXJrX5"),o=_0x51ba5c("xZz4zYjIm"),r=n.wkNmm(_0x51ba5c,"xMyenRl7K"),l=_0x51ba5c("x8JU9DbQZ"),c=n.wkNmm(_0x51ba5c,n.zrQro);this._parent=a,this.Root=i,this.Content=o,this.Heading=s,this._backButton=l,this._deactivated_elements=document.querySelectorAll(n.baavO),this._deactivated_elements.forEach(e=>{e.setAttribute("inert",n.pqgoZ)}),s.appendChild(r),r.appendChild(l),r.appendChild(c),c.textContent=t,l.focusable(!0),l.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',l.bindWithCooldown(this.close.bind(this)),i.appendChild(s),i.appendChild(o),document.body.appendChild(i),n.gnWUT(setTimeout,function(){_0x267d73=i,a.classList.add("xCr0RyqCg"),i.classList.add("xa2pPtuLq")},50)}onClose(e){this.onCloseCallback=e}close(){let e={};e.uSzOu="inert",e.fFDGx="xa2pPtuLq",e.JELGX="xCr0RyqCg";let t=e;this.onCloseCallback&&this.onCloseCallback(),this._deactivated_elements.forEach(e=>{e.removeAttribute(t.uSzOu)}),_0x267d73=this._parent,this.Root.classList.remove(t.fFDGx),this._parent.classList.remove(t.JELGX),this._parent.classList.remove("xjv5U11Kz"),this.Root.classList.remove("xjv5U11Kz"),setTimeout(()=>{this.Root.remove()},100)}}async function _0xf97aea(e,t){let n={zAGro:function(e,t,n,a){return e(t,n,a)},QSpwY:"xORN7XV1j",gDWTv:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',OFXnf:function(e,t){return e(t)},bDjNt:"xkyfCNAI0",goRNv:"x0zSVRG3y",OJRWe:"cache-url",NEknM:"video",wiKWf:"8|7|4|3|0|6|1|2|5",CdGGC:"muted",KUGcy:"nodownload",AdQmQ:"img",XoZPn:function(e,t){return e(t)},WrUOz:function(e,t){return e(t)},ecCry:function(e,t){return e(t)},Bbalc:"assets/avatar.png",vosJa:"lazy",uvpZL:function(e,t){return e(t)},RIUCf:"xxXoB6W0R",FvhQi:function(e,t){return e(t)},gqBJy:"暫時還沒有描述哦",jxGNz:"xylvbLNlS",DlSjz:"xY3QPRePs",nffQK:"xodqSvoQM",avSKD:function(e,t){return e+t},zinmR:function(e,t){return e+t},GoDpK:function(e,t){return e+t},naofm:function(e,t){return e(t)},JavHv:function(e,t){return e||t},orNGX:function(e,t){return e===t},FKLUO:"desktop",RPwEz:"xjMiLDVEU",EHRNd:function(e,t){return e(t)},IaBsK:function(e,t){return e(t)},hUIgv:"xjMYgfYFc",pQZmJ:function(e,t){return e===t},wUxPU:function(e,t,n){return e(t,n)},WxLVK:"horizontal",XoEkD:"--xD672nKxG",QAtqI:function(e,t){return e(t)},ycMVH:"xTKxbdpu3",xpviG:"xwMgtrL2x",eEsdq:"xnS3FTqjp"};_0x289b6b.state=!0,_0x289b6b._n||(_0x289b6b._n=t.data.name),_0x289b6b._d||(_0x289b6b._d=t.data.signature);let a=n.gDWTv,i=n.OFXnf(_0x51ba5c,n.bDjNt),s=_0x51ba5c(n.goRNv),o,r={};r.action=n.OJRWe,r.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(r);let l={};if(l.action=n.OJRWe,l.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(l),t.data.bannerType===n.NEknM){let c=n.wiKWf.split("|"),d=0;for(;;){switch(c[d++]){case"0":o.setAttribute(n.CdGGC,"");continue;case"1":o.preload=!0;continue;case"2":o.autoplay=!0;continue;case"3":o.controls=!1;continue;case"4":o.controlslist=n.KUGcy;continue;case"5":o.src=t.data.bannerUrl;continue;case"6":o.playsInline=!0;continue;case"7":o.loop=!0;continue;case"8":o=document.createElement("video");continue}break}}else(o=document.createElement(n.AdQmQ)).draggable=!1,o.src=t.data.bannerUrl||"assets/default-banner.png",o.loading="lazy";o.classList.add("x96ofpjeu");let $=n.XoZPn(_0x51ba5c,"xkKF4v6d2"),h=n.XoZPn(_0x51ba5c,"xwvIJoAtO"),u=document.createElement(n.AdQmQ);u.classList.add("xVwXc1fhM");let x=n.WrUOz(_0x51ba5c,"xzCCWGB1D"),f=n.WrUOz(_0x51ba5c,"xqYV0G7JT"),p=_0x51ba5c("xBjZoCxmV"),_=_0x51ba5c("xodqSvoQM"),b=n.ecCry(_0x51ba5c,"xt0pX9m5p");i.appendChild(s),s.appendChild(o),i.appendChild($),f.appendChild(h),h.appendChild(u),u.draggable=!1,u.src=t.data.avatarUrl||n.Bbalc,u.loading=n.vosJa,$.appendChild(x),x.appendChild(f);let m=n.uvpZL(_0x51ba5c,"x2OCp76zA");x.appendChild(m);let v=_0x51ba5c("xokk3UP7N");f.appendChild(v);let g=_0x289b6b._n,C=_0x51ba5c("x117sdiIx");C.textContent=g,p.appendChild(C);let w=n.uvpZL(_0x51ba5c,n.RIUCf);w.textContent=t.data.id,v.appendChild(p),v.appendChild(w),_0x289b6b._a=C,_0x289b6b._b=_,_.innerHTML=_0x33f725(n.FvhQi(_0x575e88,_0x289b6b._d||n.gqBJy)),$.appendChild(b);let L=_0x51ba5c(n.jxGNz);L.innerText=_0x373c58.b1,b.appendChild(L),b.appendChild(_);let y=_0x51ba5c(n.jxGNz);y.id=n.DlSjz,y.textContent=_0x373c58.b2;let k=_0x51ba5c(n.nffQK),E=new Date(t.data.deviceInfo.lastUpdate),T=n.avSKD(n.avSKD(n.zinmR(n.GoDpK(E.getFullYear(),"/"),E.getMonth()+1)+"/"+E.getDate()," "),E.getHours().toString())+":"+E.getMinutes().toString().padStart(2,"0");if(k.innerText=(n.naofm(_0x33b381,t.data.deviceInfo.lastUpdate)||"未知")+" ("+n.JavHv(T,"未知")+")",b.appendChild(y),b.appendChild(k),n.orNGX(t.type,n.FKLUO)){let M={};M.closeOnEsc=!0,M.closeOnOverlayClick=!0;let R=new _0x4dcad8(M);R.Content.classList.add("xlY0G76Nv"),R.Content.classList.add("lg"),R.Content.classList.add("gb");let A=_0x51ba5c(n.RPwEz),H=n.OFXnf(_0x51ba5c,"xUHiz9aGO"),I=_0x51ba5c("xhMhXcFlu"),W=n.EHRNd(_0x51ba5c,"xIl46kG8k"),S=n.IaBsK(_0x51ba5c,n.hUIgv);W.appendChild(S),S.textContent=t.data.name,H.appendChild(W),H.appendChild(I);let B=_0x51ba5c("xHPTUCUar");if(B.bindWithCooldown(R.close.bind(R)),B.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',B.focusable(!0),n.pQZmJ(t.data.id,_0x46e41f)){let P=_0x51ba5c("xHPTUCUar");P.bindWithCooldown(function(){_0x1de5a0(_0x289b6b._n,_0x289b6b._d,R.Root)}),P.innerHTML=_0x2cc8b9.edit,P.focusable(!0),I.appendChild(P),n.wUxPU(_0x53853e,[P,B],n.WxLVK)}I.appendChild(B),A.appendChild(H),R.Content.appendChild(A),A.appendChild(i);let O=R.Content.getBoundingClientRect();if(R.Content.style.setProperty(n.XoEkD,O.height+"px"),A.onscroll=function(){A.scrollTop>60?A.classList.add("xORN7XV1j"):A.classList.remove("xORN7XV1j")},t.data.verified){let Y=n.QAtqI(_0x51ba5c,n.ycMVH);Y.innerHTML=a,p.appendChild(Y)}R.onClose(function(){let e="4|3|0|2|1".split("|"),t=0;for(;;){switch(e[t++]){case"0":_0x289b6b._b=null;continue;case"1":_0x289b6b._d="";continue;case"2":_0x289b6b._n="";continue;case"3":_0x289b6b._a=null;continue;case"4":_0x289b6b.state=!1;continue}break}})}else{let X={};X.parent=e,X.title=t.data.name;let D=new _0x1168ef(X);if(n.orNGX(t.data.id,_0x46e41f)){let j=_0x51ba5c("x8JU9DbQZ");j.bindWithCooldown(function(){n.zAGro(_0x1de5a0,_0x289b6b._n,_0x289b6b._d,D.Root)}),j.innerHTML=_0x2cc8b9.edit,j.focusable(!0),D.Heading.appendChild(j)}D.Root.classList.add(n.xpviG),D.onClose(function(){_0x289b6b.state=!1,_0x289b6b._a=null,_0x289b6b._b=null,_0x289b6b._n="",_0x289b6b._d=""}),D.Root.onscroll=function(){D.Root.scrollTop>60?D.Root.classList.add("xORN7XV1j"):D.Root.classList.remove(n.QSpwY)},D._backButton.classList.add(n.eEsdq),D.Content.appendChild(i)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{let t={};t.rCDfT=function(e,t){return e===t};let n=t;e.onupdatefound=()=>{let t={HidaX:function(e,t){return n.rCDfT(e,t)},wRZiU:"installed"},a=e.installing;a.onstatechange=()=>{t.HidaX(a.state,t.wRZiU)&&window.location.reload()}}}).catch(e=>{console.log("註冊失敗：",e)});
