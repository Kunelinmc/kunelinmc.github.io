/**release 0.1.7*/
let _0x573083=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x35e3f7=_0x573083(this,function(){let e={};e.vRnZu="(((.+)+)+)+$";let t=e;return _0x35e3f7.toString().search(t.vRnZu).toString().constructor(_0x35e3f7).search(t.vRnZu)});_0x35e3f7();let _0x19bbc9=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x31d669=_0x19bbc9(this,function(){let e={};e.mpwbT=function(e,t){return e+t},e.HOPiO='{}.constructor("return this")( )',e.BdZhT="log",e.rDjqj="warn",e.cMOeP="info",e.Dcmob="error",e.Xaluk="table",e.fpCJQ="trace",e.eBXLs=function(e,t){return e<t};let t=e,n;try{n=Function(t.mpwbT("return (function() ",t.HOPiO)+");")()}catch(i){n=window}let s=n.console=n.console||{},a=[t.BdZhT,t.rDjqj,t.cMOeP,t.Dcmob,"exception",t.Xaluk,t.fpCJQ];for(let o=0;t.eBXLs(o,a.length);o++){let r=_0x19bbc9.constructor.prototype.bind(_0x19bbc9),l=a[o],c=s[l]||r;r.__proto__=_0x19bbc9.bind(_0x19bbc9),r.toString=c.toString.bind(c),s[l]=r}});_0x31d669();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as i,onAuthStateChanged as s,signInWithEmailAndPassword as a,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as l,uploadBytesResumable as c,getDownloadURL as d}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as $,enableIndexedDbPersistence as u,collection as h,setDoc as x,doc as p,deleteDoc as f,getDoc as _,where as b,getDocs as m,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as L,arrayRemove as y,updateDoc as k,limit as T}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x4f02dd{constructor(e,t={}){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.logicalWidth=0,this.logicalHeight=0,this.devicePixelRatio=window.devicePixelRatio||1,this.updateCanvasSize();let n={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=n,this.customDrawer=null,this.lastTapTime=0,this.tapTimeout=null,this.scale=1,this.posX=0,this.posY=0,this.isDragging=!1,this.lastX=0,this.lastY=0,this.img=null,this.needsRedraw=!1,this.animationFrameId=null,this.isTouching=!1,this.initialDistance=0,this.initialScale=1,this.touchStartPosX=0,this.touchStartPosY=0,this.touchStartScale=1,this.initialCenterX=0,this.initialCenterY=0,this.rotation=0,this.velocityX=0,this.velocityY=0,this.lastTime=0,this.isInertialMoving=!1,this.decelerationRate=.85,this.minVelocityThreshold=.1,this.setupEventListeners(),this.requestRedraw()}updateCanvasSize(){let e={};e.HcUQe=function(e,t){return e+t};let t=e,n=this.canvas.parentElement;this.logicalWidth=n.clientWidth,this.logicalHeight=n.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=t.HcUQe(this.logicalWidth,"px"),this.canvas.style.height=t.HcUQe(this.logicalHeight,"px"),this.canvas.width=Math.floor(this.logicalWidth*this.devicePixelRatio),this.canvas.height=Math.floor(this.logicalHeight*this.devicePixelRatio),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.HYzwG="click",e.SNeiP="touchend",e.CwoWG="mousemove",e.nmtYa="mouseup",e.QGiND="mouseleave",e.LLfai="touchstart",e.jykJR="touchmove";let t=e;this.handleCanvasClick=this.handleCanvasClick.bind(this),this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this),this.canvas.addEventListener(t.HYzwG,this.handleCanvasClick),this.canvas.addEventListener(t.SNeiP,this.handleCanvasTouchEnd),this.handleResize=this.handleResize.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleWheel=this.handleWheel.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.draw=this.draw.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),window.addEventListener("resize",this.handleResize),this.canvas.addEventListener("mousedown",this.handleMouseDown),document.addEventListener(t.CwoWG,this.handleMouseMove),document.addEventListener(t.nmtYa,this.handleMouseUp),this.canvas.addEventListener("wheel",this.handleWheel),this.canvas.addEventListener(t.QGiND,this.handleMouseLeave),this.canvas.addEventListener(t.LLfai,this.handleTouchStart),this.canvas.addEventListener(t.jykJR,this.handleTouchMove),this.canvas.addEventListener("touchend",this.handleTouchEnd)}getDisplayWidth(){let e={};return e.PGBra=function(e,t){return e===t},e.PGBra(this.rotation%180,90)?this.img.height:this.img.width}getDisplayHeight(){let e={};return e.tavBN=function(e,t){return e===t},e.tavBN(this.rotation%180,90)?this.img.width:this.img.height}calculateInitialScale(){let e={};e.uiJeN=function(e,t){return e/t};let t=e;if(!this.img)return;let n=this.getDisplayWidth(),i=this.getDisplayHeight(),s=t.uiJeN(this.logicalWidth,n),a=t.uiJeN(this.logicalHeight,i);this.options.minScale=Math.min(s,a,1),this.scale=this.options.minScale}centerImage(){let e={};e.HMXvP=function(e,t){return e-t};let t=e;if(!this.img)return;let n=this.getDisplayWidth()*this.scale,i=this.getDisplayHeight()*this.scale;this.posX=t.HMXvP(this.logicalWidth,n)/2,this.posY=t.HMXvP(this.logicalHeight,i)/2,this.enforceBounds()}setCustomDrawer(e){let t={};t.MJZuC=function(e,t){return e===t},t.MJZuC(typeof e,"function")?this.customDrawer=e:console.error("setCustomDrawer 期望接收一个函数")}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.XsUIa=function(e,t){return e*t},e.VVKxq=function(e,t){return e+t},e.KfELo=function(e,t){return e/t},e.JHwhA=function(e,t){return e/t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=t.XsUIa(this.getDisplayWidth(),this.scale),i=this.getDisplayHeight()*this.scale;this.ctx.translate(t.VVKxq(this.posX,n/2),this.posY+i/2),this.ctx.rotate(t.KfELo(this.rotation*Math.PI,180)),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,t.JHwhA(-this.img.width,2),-this.img.height/2),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){let e={};e.iAoyZ=function(e,t){return e%t},this.rotation=e.iAoyZ(this.rotation+90,360),this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.wGfOo=function(e,t){return e*t},e.WaiNm=function(e,t){return e-t},e.zApok=function(e,t){return e>t},e.usTSK=function(e,t){return e/t};let t=e;if(!this.img)return;let n=this.getDisplayWidth()*this.scale,i=t.wGfOo(this.getDisplayHeight(),this.scale);n>this.logicalWidth?this.posX=Math.min(Math.max(this.posX,t.WaiNm(this.logicalWidth,n)),0):this.posX=t.WaiNm(this.logicalWidth,n)/2,t.zApok(i,this.logicalHeight)?this.posY=Math.min(Math.max(this.posY,this.logicalHeight-i),0):this.posY=t.usTSK(this.logicalHeight-i,2)}isInImageArea(e,t){let n={};n.FhpUU=function(e,t){return e*t},n.soSMT=function(e,t){return e*t},n.beWut=function(e,t){return e>=t},n.FaJQl=function(e,t){return e<=t};let i=n;if(!this.img)return!1;let s=i.FhpUU(this.getDisplayWidth(),this.scale),a=i.soSMT(this.getDisplayHeight(),this.scale),o=this.posX,r=this.posY,l=Math.min(o+s,this.logicalWidth),c=Math.min(r+a,this.logicalHeight);return i.beWut(e,Math.max(o,0))&&i.FaJQl(e,l)&&t>=Math.max(r,0)&&i.FaJQl(t,c)}requestRedraw(){let e={};e.HkDSk="4|0|1|3|2",e.RTMMN="mousemove";let t=e,n=t.HkDSk.split("|"),i=0;for(;;){switch(n[i++]){case"0":this.needsRedraw=!0;continue;case"1":this.canvas.dispatchEvent(new MouseEvent(t.RTMMN));continue;case"2":this.animationFrameId=requestAnimationFrame(this.draw);continue;case"3":this.animationFrameId&&cancelAnimationFrame(this.animationFrameId);continue;case"4":if(this.needsRedraw)return;continue}break}}handleMouseDown(e){let t=this.canvas.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;this.isDraggable()&&this.isInImageArea(n,i)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor="grabbing")}handleMouseLeave(){this.canvas.style.cursor="default"}handleMouseMove(e){let t={};t.lbCgy=function(e,t){return e-t},t.Unucr="grab",t.LYrZG="default",t.IarmH=function(e,t){return e-t},t.nmyoA=function(e,t){return e/t};let n=t,i=this.canvas.getBoundingClientRect(),s=n.lbCgy(e.clientX,i.left),a=e.clientY-i.top;if(this.isInImageArea(s,a)?this.canvas.style.cursor=this.isDragging?"grabbing":n.Unucr:this.canvas.style.cursor=n.LYrZG,this.isDragging){let o=Date.now(),r=o-this.lastTime;this.lastTime=o;let l=n.lbCgy(e.clientX,this.lastX),c=n.IarmH(e.clientY,this.lastY);this.posX+=l,this.posY+=c,r>0&&(this.velocityX=l/r,this.velocityY=n.nmyoA(c,r)),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.TqvGb=function(e,t){return e-t},t.tpZNk="default";let n=t;this.isDragging=!1,Math.abs(this.velocityX)>this.minVelocityThreshold||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0);let i=this.canvas.getBoundingClientRect(),s=e.clientX-i.left,a=n.TqvGb(e.clientY,i.top);this.isInImageArea(s,a)?this.canvas.style.cursor="grab":this.canvas.style.cursor=n.tpZNk}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={};e.sEaAv=function(e,t){return e/t},e.chAJz=function(e,t){return e*t},e.KzVBn=function(e,t){return e<t},e.NSMgm=function(e,t){return e<t};let t=e;if(!this.isInertialMoving)return;let n=Date.now(),i=n-this.lastTime;this.lastTime=n,this.velocityX*=Math.pow(this.decelerationRate,t.sEaAv(i,16)),this.velocityY*=Math.pow(this.decelerationRate,i/16),this.posX+=t.chAJz(this.velocityX,i),this.posY+=this.velocityY*i,this.enforceBounds(),this.requestRedraw(),t.KzVBn(Math.abs(this.velocityX),this.minVelocityThreshold)&&t.NSMgm(Math.abs(this.velocityY),this.minVelocityThreshold)?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):requestAnimationFrame(this.animateInertia.bind(this))}handleWheel(e){let t={};t.aJdWW=function(e,t){return e-t},t.xoAPn=function(e,t){return e>t},t.IESOy=function(e,t){return e/t},t.gUIKl=function(e,t){return e-t},t.WgeQI=function(e,t){return e/t},t.SBRcL=function(e,t){return e*t},t.ulGsq=function(e,t){return e*t};let n=t;e.preventDefault();let i=this.canvas.getBoundingClientRect(),s=e.clientX-i.left,a=n.aJdWW(e.clientY,i.top);if(!this.isInImageArea(s,a))return;let o=n.xoAPn(e.deltaY,0)?.9:1.1,r=n.IESOy(n.gUIKl(s,this.posX),this.scale),l=n.WgeQI(a-this.posY,this.scale),c=Math.min(Math.max(n.SBRcL(this.scale,o),this.options.minScale),this.options.maxScale);this.posX=s-n.ulGsq(r,c),this.posY=n.aJdWW(a,l*c),this.scale=c,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){if(0===e.touches.length)return;let t=Array.from(e.touches),n=this.getTouchCenter(t);this.initialCenterX=n.x,this.initialCenterY=n.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,e.touches.length>=2&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.FiinO=function(e,t){return e===t},t.cSpaq=function(e,t){return e>=t},t.CwuRU=function(e,t){return e*t},t.xWmjU=function(e,t){return e/t},t.sbKsD=function(e,t){return e===t},t.DGgjU=function(e,t){return e-t},t.UasdH=function(e,t){return e>t};let n=t;if(!this.isTouching)return;e.preventDefault();let i=Array.from(e.touches);if(n.FiinO(i.length,0))return;let s=this.getTouchCenter(i),a=1;if(n.cSpaq(i.length,2)){let o=this.getTouchDistance(i[0],i[1]);this.initialDistance>0&&(a=o/this.initialDistance)}let r=Math.min(Math.max(n.CwuRU(this.touchStartScale,a),this.options.minScale),this.options.maxScale),l=n.xWmjU(this.initialCenterX-this.touchStartPosX,this.touchStartScale),c=(this.initialCenterY-this.touchStartPosY)/this.touchStartScale;if(this.posX=s.x-n.CwuRU(l,r),this.posY=s.y-n.CwuRU(c,r),this.scale=r,this.enforceBounds(),this.requestRedraw(),n.sbKsD(i.length,1)){let d=Date.now(),$=n.DGgjU(d,this.lastTime);this.lastTime=d;let u=this.canvas.getBoundingClientRect(),h=i[0],x=h.clientX-u.left,p=n.DGgjU(h.clientY,u.top);n.UasdH($,0)&&(this.velocityX=n.DGgjU(x,this.lastX)/$,this.velocityY=n.xWmjU(p-this.lastY,$)),this.lastX=x,this.lastY=p}}handleTouchEnd(){this.isTouching=!1,this.initialDistance=0,Math.abs(this.velocityX)>this.minVelocityThreshold||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.requestRedraw())}handleCanvasClick(e){let t={};if(t.ZXfRA=function(e,t){return e-t},!this.img)return;let n=this.canvas.getBoundingClientRect(),i=t.ZXfRA(e.clientX,n.left),s=e.clientY-n.top;this.isInImageArea(i,s)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={qNrst:function(e,t){return e>t},uXIJG:function(e,t){return e(t)},czOPQ:function(e,t,n){return e(t,n)}};if(!this.img||t.qNrst(e.touches.length,0))return;let n=this.canvas.getBoundingClientRect(),i=e.changedTouches[0],s=i.clientX-n.left,a=i.clientY-n.top,o=new Date().getTime();if(o-this.lastTapTime<360){t.uXIJG(clearTimeout,this.tapTimeout);return}this.tapTimeout=t.czOPQ(setTimeout,()=>{this.isInImageArea(s,a)||this.triggerClickOutside(e),this.lastTapTime=o},200)}getTouchDistance(e,t){let n={};n.ujLkk=function(e,t){return e-t},n.zIJCQ=function(e,t){return e+t},n.KCkLY=function(e,t){return e*t},n.BwuWJ=function(e,t){return e*t};let i=n,s=e.clientX-t.clientX,a=i.ujLkk(e.clientY,t.clientY);return Math.sqrt(i.zIJCQ(i.KCkLY(s,s),i.BwuWJ(a,a)))}isDraggable(){let e={};e.Tpmvb=function(e,t){return e*t},e.wJtPG=function(e,t){return e>t};let t=e;return this.img&&(t.Tpmvb(this.img.width,this.scale)>this.logicalWidth||t.wJtPG(this.img.height*this.scale,this.logicalHeight))}triggerClickOutside(e){let t={};t.IEDAD=function(e,t){return e===t},t.oXZnt="function",t.RPGDr=function(e,t){return e-t},t.bFsbV=function(e,t){return e-t},t.gyMci=function(e,t){return e/t};let n=t;if(n.IEDAD(typeof this.options.onClickOutside,n.oXZnt)){let i=this.canvas.getBoundingClientRect(),s={x:n.RPGDr(e.clientX,i.left),y:n.RPGDr(e.clientY,i.top),canvasX:n.bFsbV(e.clientX,i.left),canvasY:e.clientY-i.top,imageX:-1,imageY:-1};this.img&&(s.imageX=n.gyMci(s.canvasX-this.posX,this.scale),s.imageY=(s.canvasY-this.posY)/this.scale),this.options.onClickOutside(s,e)}}getTouchCenter(e){let t={};t.klxGe=function(e,t){return e/t};let n=0,i=0,s=this.canvas.getBoundingClientRect();for(let a of e)n+=a.clientX-s.left,i+=a.clientY-s.top;return{x:n/e.length,y:t.klxGe(i,e.length)}}destroy(){let e={};e.bzDmv="mousemove",e.VPPkx="mouseup",e.wTStQ="mouseleave",e.WisFM="mousedown",e.iKcbg="wheel";let t=e;window.removeEventListener("resize",this.handleResize),document.removeEventListener(t.bzDmv,this.handleMouseMove),document.removeEventListener(t.VPPkx,this.handleMouseUp),this.canvas.removeEventListener(t.wTStQ,this.handleMouseLeave),this.canvas.removeEventListener(t.WisFM,this.handleMouseDown),this.canvas.removeEventListener(t.iKcbg,this.handleWheel),this.canvas.removeEventListener("touchstart",this.handleTouchStart),this.canvas.removeEventListener("touchmove",this.handleTouchMove),this.canvas.removeEventListener("touchend",this.handleTouchEnd),this.canvas.removeEventListener("click",this.handleCanvasClick),this.canvas.removeEventListener("touchend",this.handleCanvasTouchEnd),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}}function _0x525325(e,t,n,i){let s={UflIh:function(e,t){return e*t},QrixE:function(e,t){return e*t},lDWBu:function(e,t){return e+t},gNaBg:function(e,t){return e*t},ErybZ:function(e,t){return e<t},tbmpZ:function(e,t){return e-t},YqKeD:function(e,t){return e<t},EDRrQ:function(e,t){return e(t)},vlyto:function(e,t){return e>t},okFkT:function(e,t){return e<t},GoWTK:function(e,t){return e>t},CpXBm:function(e,t){return e/t},SHlKJ:function(e,t){return e+t},oilQE:function(e,t){return e+t},mPkxG:function(e,t){return e-t},QJTGq:function(e,t){return e-t},HzcXR:function(e,t){return e*t}},a=s.oilQE(3*e-3*n,1),o=s.tbmpZ(3*n,6*e),r=s.QrixE(3,e),l=s.mPkxG(s.gNaBg(3,t),3*i)+1,c=s.QJTGq(3*i,s.HzcXR(6,t)),d=3*t;function $(e){return s.UflIh(s.QrixE(s.lDWBu(a*e,o),e)+r,e)}function u(e){return(s.UflIh(s.gNaBg(3,a),e)+s.UflIh(2,o))*e+r}return e=>{var t;return t=function e(t){let n=0,i=1,a=t;for(let o=0;s.ErybZ(o,8);o++){let r=s.tbmpZ($(a),t);if(s.YqKeD(Math.abs(r),1e-6))return a;let l=s.EDRrQ(u,a);if(1e-6>Math.abs(l))break;a-=r/l}for(;s.vlyto(i,n);){let c=$(a)-t;if(s.okFkT(Math.abs(c),1e-6))break;s.GoWTK(c,0)?i=a:n=a,a=s.CpXBm(s.SHlKJ(i,n),2)}return a}(e),s.QrixE(s.QrixE(l*t+c,t)+d,t)}}function _0x1dc5e4(e,t="vertical"){let n={MrbMk:"keydown",vAePU:"ArrowDown",HIIVk:function(e,t){return e===t},VVsnO:function(e,t){return e===t},wYKLr:"ArrowLeft",JWezI:function(e){return e()}};function i(){let i={UsVyI:n.vAePU,Zsgmn:function(e,t){return e%t},qxwxM:function(e,t){return e+t},brCca:function(e,t){return n.HIIVk(e,t)},pzAsb:function(e,t){return e+t},UuWSR:function(e,t){return n.VVsnO(e,t)},PIrdr:function(e,t){return e===t},cVdEq:n.wYKLr,TbPTm:function(e,t){return e+t}};if(e.length<=1){e.forEach(e=>{e._navHandler&&(e.removeEventListener("keydown",e._navHandler),delete e._navHandler)});return}e.forEach((s,a)=>{s._navHandler&&s.removeEventListener(n.MrbMk,s._navHandler),s._navHandler=n=>{let s=a;if("vertical"===t){if(n.key===i.UsVyI)s=i.Zsgmn(i.qxwxM(a,1),e.length);else{if(!i.brCca(n.key,"ArrowUp"))return;s=i.pzAsb(a-1,e.length)%e.length}}else{if("horizontal"!==t)return;if(i.UuWSR(n.key,"ArrowRight"))s=(a+1)%e.length;else{if(!i.PIrdr(n.key,i.cVdEq))return;s=i.Zsgmn(i.TbPTm(a-1,e.length),e.length)}}e[s].focus()},s.addEventListener("keydown",s._navHandler)})}i();let s={};return s.removeItem=function t(s){e=e.filter(e=>e!==s),n.JWezI(i)},s.addItem=function t(n){e.push(n),i()},s.updateEventListeners=i,s}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.UrLnT="disabled",n.fPtjI=function(e,t){return e===t},n.xxtpc="click",n.KFKLD="keydown";let i=n,s=this;s._bindWithCooldownHandler&&(s.removeEventListener(i.xxtpc,s._bindWithCooldownHandler),s.removeEventListener(i.KFKLD,s._bindWithCooldownHandler));let a=0,o=function(n){let o=Date.now();!s.classList.contains(i.UrLnT)&&!s.hasAttribute("disabled")&&("click"===n.type||32===n.keyCode||13===n.keyCode)&&(o-a>=t||i.fPtjI(t,0))&&(a=o,e.call(s,n))};s.addEventListener(i.xxtpc,o),s.addEventListener("keydown",o),s._bindWithCooldownHandler=o};let _0x58593f={set(e,t){let n={};n.ggdON="Error saving to localStorage";try{let i=JSON.stringify(t);localStorage.setItem(e,i)}catch(s){console.error(n.ggdON,s)}},get(e,t=null){let n={};n.uHjJB="Error reading from localStorage";try{let i=localStorage.getItem(e);return null!==i?JSON.parse(i):t}catch(s){return console.error(n.uHjJB,s),t}},remove(e){let t={};t.UCUcU="Error removing from localStorage";try{localStorage.removeItem(e)}catch(n){console.error(t.UCUcU,n)}},clear(){try{localStorage.clear()}catch(e){console.error("Error clearing localStorage",e)}},has:e=>null!==localStorage.getItem(e),keys:()=>Object.keys(localStorage)};class _0x1a76ac{constructor({parent:e,text:t,placement:n="top",interactive:i=!0}){let s={};s.XElCS="5|0|2|1|3|4",s.ybOCW="focus",s.Hrbzs="mouseleave";let a=s;if(this._parent=e,this._content=t,this._placement=n,this._tooltip=null,this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9),this._parent.setAttribute("aria-describedby",this._tooltipId),i){let o=a.XElCS.split("|"),r=0;for(;;){switch(o[r++]){case"0":this.hideTooltip=this.hideTooltip.bind(this);continue;case"1":this._parent.addEventListener(a.ybOCW,this.showTooltip);continue;case"2":this._parent.addEventListener("mouseenter",this.showTooltip);continue;case"3":this._parent.addEventListener("blur",this.hideTooltip);continue;case"4":this._parent.addEventListener(a.Hrbzs,this.hideTooltip);continue;case"5":this.showTooltip=this.showTooltip.bind(this);continue}break}}}_createTooltipElement(){let e={AjKkr:function(e,t){return e(t)},kTOKN:"xuocLuDI6"},t=e.AjKkr(_0x393362,e.kTOKN);return t.setAttribute("placement",this._placement),t.setAttribute("id",this._tooltipId),t.innerText=this._content,t}updatePosition(){let e={};e.CVpol="top",e.mifVH=function(e,t){return e-t},e.zctMY=function(e,t){return e-t},e.QAjON=function(e,t){return e-t},e.UixZT=function(e,t){return e+t},e.NMpKy=function(e,t){return e/t},e.NsrpE=function(e,t){return e+t},e.qqRbC="left",e.uhHDy=function(e,t){return e-t},e.kKIaf=function(e,t){return e+t},e.uDRvw=function(e,t){return e/t},e.ngyyZ=function(e,t){return e-t},e.ravxp=function(e,t){return e-t},e.QdosD="right",e.SqgAm=function(e,t){return e+t},e.YltwI="Invalid placement value";let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),i=this._tooltip.getBoundingClientRect(),s,a;switch(this._placement){case t.CVpol:s=t.mifVH(t.zctMY(window.scrollY+n.top,i.height),8),a=t.QAjON(t.UixZT(window.scrollX+n.left,t.NMpKy(n.width,2)),t.NMpKy(i.width,2));break;case"bottom":s=t.NsrpE(window.scrollY,n.bottom)+8,a=t.NsrpE(window.scrollX+n.left,t.NMpKy(n.width,2))-t.NMpKy(i.width,2);break;case t.qqRbC:s=t.uhHDy(t.kKIaf(window.scrollY,n.top)+n.height/2,t.uDRvw(i.height,2)),a=t.ngyyZ(t.ravxp(t.kKIaf(window.scrollX,n.left),i.width),8);break;case t.QdosD:s=t.SqgAm(window.scrollY,n.top)+n.height/2-t.uDRvw(i.height,2),a=t.NsrpE(window.scrollX+n.right,8);break;default:throw Error(t.YltwI)}this._tooltip.style.top=s+"px",this._tooltip.style.left=a+"px"}showTooltip(){let e={};e.EGKsF="3|1|4|5|0|2",e.tMnci="true";let t=e,n=t.EGKsF.split("|"),i=0;for(;;){switch(n[i++]){case"0":this._tooltip.setAttribute("data-state","delayed-open");continue;case"1":this._tooltip=this._createTooltipElement();continue;case"2":this._tooltip.setAttribute("aria-expanded",t.tMnci);continue;case"3":if(this._tooltip)return;continue;case"4":document.body.appendChild(this._tooltip);continue;case"5":this.updatePosition();continue}break}}hideTooltip(){let e={};e.bxblN="data-state",e.tQERN="aria-expanded";let t=e;this._tooltip&&(this._tooltip.setAttribute(t.bxblN,"closed"),this._tooltip.setAttribute(t.tQERN,"false"),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.uCDme="2|1|3|4|0",e.XzcEl="focus",e.hWtEA="mouseleave";let t=e,n=t.uCDme.split("|"),i=0;for(;;){switch(n[i++]){case"0":this._content=null;continue;case"1":this._parent&&(this._parent.removeAttribute("aria-describedby"),this._parent.removeEventListener("mouseenter",this.showTooltip),this._parent.removeEventListener(t.XzcEl,this.showTooltip),this._parent.removeEventListener("blur",this.hideTooltip),this._parent.removeEventListener(t.hWtEA,this.hideTooltip));continue;case"2":this.hideTooltip();continue;case"3":this._tooltip=null;continue;case"4":this._parent=null;continue}break}}}class _0x3bf754{constructor({trigger:e,placement:t="bottom"}){let n={fCZbp:"inert",MKkzF:function(e,t){return e(t)},hZCpI:"overlay",WahoA:"xC3Uih0ex",iZozf:"data-state",aNCVa:"open",VDusX:"aria-modal",gECva:function(e,t){return e(t)},uXybv:"click",GtgUV:"contextmenu",TDVTG:"resize"},i="_"+_0x1b8df7(12);this.trigger=e,this.placement=t,this.Root=n.MKkzF(_0x393362,"xEHCrF5Oe"),this.Overlay=_0x393362(n.hZCpI),this.Content=_0x393362(n.WahoA),this.Root.setAttribute(n.iZozf,n.aNCVa),this.Root.setAttribute("role","popover"),this.Root.setAttribute(n.VDusX,"true"),this.Root.id=i,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let s=n.gECva(_0x21cd02,i);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+s+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute(n.fCZbp,"true")}),this.Overlay.addEventListener(n.uXybv,()=>this.close()),this.Overlay.addEventListener(n.GtgUV,()=>this.close()),document.addEventListener("keydown",this._handleKeyDown),this._setPosition(),window.addEventListener(n.TDVTG,this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e=this.trigger.getBoundingClientRect(),t=this.Content.getBoundingClientRect(),n;if(Array.isArray(this.placement)){for(let i of this.placement){let s=this._calculatePosition(i,e,t);if(this._isPositionWithinViewport(s,t)){n=i;break}}n||(n=this.placement[0])}else n=this.placement;let a=this._calculatePosition(n,e,t);this.Content.style.position="absolute",this.Content.style.top=a.top+"px",this.Content.style.left=a.left+"px"}_calculatePosition(e,t,n){let i={};i.EyWsU="top",i.YGDDW="right",i.rnjoN="start",i.EesdC="end",i.UGVwK=function(e,t){return e+t},i.DISpo=function(e,t){return e===t},i.SqEGx=function(e,t){return e/t};let s=i,a=0,o=0,[r,l]=e.split("-");switch(r){case s.EyWsU:a=t.top-n.height;break;case"bottom":a=t.bottom;break;case"left":o=t.left-n.width;break;case s.YGDDW:o=t.right}switch(l){case s.rnjoN:o=t.left;break;case s.EesdC:o=s.UGVwK(t.left,t.width)-n.width;break;default:s.DISpo(r,s.EyWsU)||"bottom"===r?o=t.left+s.SqEGx(t.width-n.width,2):a=s.UGVwK(t.top,s.SqEGx(t.height-n.height,2))}let c={};return c.top=a,c.left=o,c}_isPositionWithinViewport(e,t){let n={};n.rtxoI=function(e,t){return e>=t},n.HaOYg=function(e,t){return e+t};let i=n,s=window.innerWidth,a=window.innerHeight,{top:o,left:r}=e;return o>=0&&i.rtxoI(r,0)&&o+t.height<=a&&i.HaOYg(r,t.width)<=s}_handleKeyDown=e=>{let t={};t.sZayj=function(e,t){return e===t},t.sZayj(e.keyCode,27)&&(this.close(),this.trigger.focus())};_removeListeners(){let e={};e.KzsqZ="keydown",document.removeEventListener(e.KzsqZ,this._handleKeyDown),window.removeEventListener("resize",this._handleResize)}onClose(e){this.onCloseCallback=e}close(){let e={vfUjh:"inert",ysYFj:function(e,t,n){return e(t,n)}};this._removeListeners(),this._deactivated_elements.forEach(t=>{t.removeAttribute(e.vfUjh)}),this.Root.setAttribute("data-state","closed"),e.ysYFj(setTimeout,()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x21cd02(e){return e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,"\\$&").replace(/^(-?\d)/,"\\3"+e.charAt(0)+" ")}class _0x4e5c33{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={gUvmj:function(e,t){return e(t)},ppQxj:"role",ZYdUc:"dialog",xJzdP:"true",bvjzS:"show"},s="_"+_0x1b8df7(12);this.Root=_0x393362("x54SkYRT0"),this.Overlay=i.gUvmj(_0x393362,"overlay"),this.Content=_0x393362("content"),this.Root.setAttribute("data-state","open"),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(i.ppQxj,i.ZYdUc),this.Root.setAttribute("aria-modal",i.xJzdP),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=s;let a=i.gUvmj(_0x21cd02,s);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+a+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.bvjzS),_0x4e5c33.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.xarxV=function(e,t){return e===t},t.eOEeo=function(e,t){return e===t};let n=t;if(n.xarxV(e.keyCode,27)){let i=_0x4e5c33.stack[_0x4e5c33.stack.length-1];n.eOEeo(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={};e.PnZfm="inert",e.rNCGD=function(e,t){return e>t};let t=e;if(!this.Lock){let n=_0x4e5c33.stack.indexOf(this);n>-1&&_0x4e5c33.stack.splice(n,1),this.onCloseCallback&&this.onCloseCallback(),t.rNCGD(this._exclude_for_restore.length,0)?this._exclude_for_restore.forEach(e=>{e instanceof HTMLElement&&e.removeAttribute("inert")}):this._deactivated_elements.forEach(e=>{e.removeAttribute(t.PnZfm)}),this.Root.setAttribute("data-state","closed"),setTimeout(()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}}_0x4e5c33.stack=[];class _0x301a05 extends _0x4e5c33{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:i=!1,closeOnEsc:s=!0,showCloseButton:a=!1}={}){let o={};o.BiVrU="0px",o.rbKrS="xLDQZ1SSl",o.pFyDn=function(e,t){return e>t};let r=o,l={};l.closeOnOverlayClick=i,l.closeOnEsc=s,super(l);let c=this._createHeader(e,a),d=this._createBody(t);if(this.Content.style.padding=r.BiVrU,this.Content.classList.add("xv1VrMJb6"),this.Content.classList.add(r.rbKrS),this.Content.appendChild(c),this.Content.appendChild(d),r.pFyDn(n.length,0)){let $=this._createFooter(n);d.appendChild($)}}_createHeader(e,t){let n={dZVGM:"xrYn5ZY3v lf gn",QOCIJ:"div",pwfbD:"x6Y89FynP",gSkYe:"Alert",wvUFg:function(e,t){return e(t)},Icepn:"xvb5soWNa",hhZuz:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>'},i=document.createElement("div");i.className=n.dZVGM;let s=document.createElement(n.QOCIJ);if(s.className=n.pwfbD,s.textContent=e||n.gSkYe,i.appendChild(s),t){let a=n.wvUFg(_0x393362,n.Icepn);a.focusable(!0),a.innerHTML=n.hhZuz,a.bindWithCooldown(()=>{this.close()}),i.appendChild(a)}return i}_createBody(e){let t={};t.rPMnP="div",t.LDDKE="xujSSErs5",t.mUhBG=function(e,t){return e||t},t.ZMbku="Are you sure?";let n=t,i=document.createElement("div");i.className="xWDUelLWA";let s=document.createElement(n.rPMnP);return s.className=n.LDDKE,s.innerHTML=n.mUhBG(e,n.ZMbku),i.appendChild(s),i}_createFooter(e){let t={MicJU:function(e){return e()},teFGW:"div",bXrYL:"xgw2tzk6r ",tjhuw:"tabindex",tWezf:"xWh2LBcgj"},n=document.createElement("div");n.className=t.tWezf;let i=_0x1dc5e4([],"horizontal");return e.forEach(({text:e,classList:s=[],onClick:a})=>{let o=document.createElement(t.teFGW);o.className=t.bXrYL+s.join(" "),o.setAttribute(t.tjhuw,"0"),o.textContent=e,o.bindWithCooldown(()=>{a&&t.MicJU(a),this.close()}),i.addItem(o),n.appendChild(o)}),n}}let _0x393362=e=>{let t=document.createElement("div");return t.classList.add(e),t},_0x20d880=e=>document.querySelector(e);function _0x1b8df7(e){let t={};t.zzEfx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.uYEPe=function(e,t){return e*t};let n=t,i=n.zzEfx,s="";for(let a=0;a<e;a++)s+=i.charAt(Math.floor(n.uYEPe(Math.random(),i.length)));return s}function _0x275eec(e,t,n={}){let i={mXlLf:"span",cwlpo:"xSwoj5Cx2",HVQbF:function(e,t){return e(t)},PwhVW:function(e,t){return e<t},YAXLw:function(e,t){return e(t)},fheFH:function(e,t,n){return e(t,n)},HDJpL:"text/html",zvfTL:function(e){return e()}},{interval:s=24,fadeDuration:a=214,bezierControl:o=[.42,0,1,1]}=n,r=_0x525325(...o),l=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>",i.HDJpL).body.firstChild.childNodes),c=[];function d(e){let t=performance.now();function n(s){let o=Math.min((s-t)/a,1),l=i.HVQbF(r,o);e.style.opacity=l,i.PwhVW(o,1)&&requestAnimationFrame(n)}requestAnimationFrame(n)}function $(){if(c.length){let e=c.shift();i.YAXLw(d,e),i.fheFH(setTimeout,$,s)}}l.forEach(t=>(function e(t,n){if(t.nodeType===Node.TEXT_NODE){let s=t.textContent.split("");for(let a of s){let o=document.createElement(i.mXlLf);o.classList.add(i.cwlpo),o.textContent=a,n.appendChild(o),c.push(o)}}else if(t.nodeType===Node.ELEMENT_NODE){let r=t.cloneNode(!1);n.appendChild(r),Array.from(t.childNodes).forEach(t=>e(t,r))}})(t,e)),i.zvfTL($)}function _0x347e72(e,t){let n={KzwiG:function(e,t){return e>=t},eLPjs:function(e,t){return e<=t},ErnVP:function(e,t){return e<t},UChJE:function(e,t){return e(t)},ZGiRs:function(e,t){return e(t)},jBYLa:function(e,t){return e/t},HvoIB:function(e,t){return e-t},JGckQ:function(e,t){return e*t},EDIJi:function(e,t){return e*t},EZLaC:function(e,t){return e+t}},i=new Date,s=new Date(e),a=new Date(t);if(n.KzwiG(i,s)&&n.eLPjs(i,a))return"現在";let o=n.ErnVP(i,s)?s:a,r=o.getHours(),l;l=r>=0&&r<6?"清晨":r<12?"早上":n.ErnVP(r,18)?"下午":"晚上";let c=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),d=n.UChJE(c,o),$=n.ZGiRs(c,i),u=Math.round(n.jBYLa(n.HvoIB(d,$),24*n.JGckQ(n.EDIJi(1e3,60),60))),h;switch(u){case -2:h="前天";break;case -1:h="昨天";break;case 0:h="今天";break;case 1:h="明天";break;case 2:h="後天";break;default:h=n.EZLaC(o.getMonth(),1)+"/"+o.getDate()}return h+" "+l}function _0x2de341(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0xa1e689(){let e={};e.enRKK=function(e,t){return e===t},e.kgPTX=function(e,t){return e>t},e.QsTAP="Mobile",e.VieEl="Desktop",e.DsxoQ="macOS",e.ZjTXb="Unknown";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,i=navigator.platform,s=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||t.enRKK(i,"MacIntel")&&t.kgPTX(s,1)){let a=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(a)return{os:"iOS",version:(a[1]||"0")+"."+(a[2]||"0")+"."+(a[3]||"0"),deviceType:/iPad/.test(n)?"Tablet":t.QsTAP}}if(/Android/.test(n)){let o=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(o)return{os:"Android",version:(o[1]||"0")+"."+(o[2]||"0")+"."+(o[3]||"0"),deviceType:/Mobile/.test(n)?"Mobile":"Tablet"}}if(/Win/.test(i)){let r=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(r){let l=r[1]||"0",c=r[2]||"0",d={};return d.os="Windows",d.version=l+"."+c,d.deviceType=t.VieEl,d}let $={};return $.os="Windows",$.version=null,$.deviceType=t.VieEl,$}if(/Mac/.test(i)){let u=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(u){let h=u[1]||"0",x=u[2]||"0",p=u[3]||"0",f={};return f.os=t.DsxoQ,f.version=h+"."+x+"."+p,f.deviceType="Desktop",f}let _={};return _.os="macOS",_.version=null,_.deviceType="Desktop",_}if(/Linux/.test(i)){let b={};return b.os="Linux",b.version=null,b.deviceType="Desktop",b}let m={};return m.os="Unknown",m.version=null,m.deviceType=t.ZjTXb,m}function _0x36f3bd(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x484729={};_0x484729.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x484729.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x484729.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x20d1d2=_0x484729;class _0x583715{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={lBTLd:function(e,t){return e(t)},nUZyp:function(e,t){return e(t)},wWXSt:function(e,t){return e(t)},whRFp:"drawer-header",lvLMb:"div",HOZBV:function(e,t){return e(t)},THsvQ:"drawer-body",QjeuX:"open",WdUfw:"aria-modal",lFnxD:function(e,t){return e(t)},eFWeJ:"click"},s="_"+i.lBTLd(_0x1b8df7,12);this.Root=i.nUZyp(_0x393362,"drawer-root"),this.Overlay=i.nUZyp(_0x393362,"drawer-overlay"),this.Content=_0x393362("drawer-content"),this.Header=i.wWXSt(_0x393362,i.whRFp),this.Handle=document.createElement(i.lvLMb),this.Handle.className="drawer-drag-handle",this.Header.appendChild(this.Handle),this.Body=i.HOZBV(_0x393362,i.THsvQ),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute("data-state",i.QjeuX),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role","dialog"),this.Root.setAttribute(i.WdUfw,"true"),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=s;let a=i.lFnxD(_0x21cd02,s);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+a+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add("show"),_0x583715.stack.push(this),e&&this.Overlay.addEventListener(i.eFWeJ,this._handleOverlayClick),t&&document.addEventListener("keydown",this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.VjNSH=function(e,t){return e===t};let n=t;if(27===e.keyCode){let i=_0x583715.stack[_0x583715.stack.length-1];n.VjNSH(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={GEcwS:function(e){return e()},ZhPHd:function(e,t){return e>t},RLHEt:function(e,t){return e===t},IRxxj:"matrix",NVxQU:"x9GmoP75O"},t=_0x583715.stack.indexOf(this);e.ZhPHd(t,-1)&&_0x583715.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback();let n=()=>{this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},i=window.getComputedStyle(this.Content).transform;e.RLHEt(i,"none")||i.includes(e.IRxxj)?(this.Content.classList.remove(e.NVxQU),this.Content.style.transform="translateY(100%)",setTimeout(()=>{e.GEcwS(n),this.Root.remove()},300)):(e.GEcwS(n),this.Root.remove()),this._removeListeners()}_removeListeners(){let e={};e.naqer="keydown",this.Overlay.onclick=null,document.removeEventListener(e.naqer,this._handleKeyDown)}_setupDrag(){let e={goCHM:function(e,t){return e!==t},djvuf:".xBWmlKrN2 *",SPzYk:"x9GmoP75O",LzooX:function(e,t){return e-t},wvvpG:function(e,t){return e/t},HJaoV:function(e,t){return e*t},tPVoE:function(e,t){return e>t},IGptR:"translateY(0)",Scbck:function(e){return e()},Sqauo:"mouseup",kfGHV:function(e,t){return e(t)},prvxP:"touchstart",CLulY:"touchmove"},t=0,n=0,i=0,s=!1,a=n=>{e.goCHM(n.target.scrollTop,0)||n.target.closest(e.djvuf)||(t=n.touches?n.touches[0].clientY:n.clientY,i=Date.now(),s=!0,this.Content.classList.add(e.SPzYk))},o=e=>{if(!s)return;let i=(n=e.touches?e.touches[0].clientY:e.clientY)-t;i>0&&(this.Content.style.transform="translateY("+i+"px)")},r=()=>{if(!s)return;let a=e.LzooX(n,t),o=e.LzooX(Date.now(),i)/1e3,r=e.wvvpG(a,o),l=this.Content.offsetHeight,c=e.HJaoV(l,.5);this.Content.classList.remove(e.SPzYk),e.tPVoE(a,c)||r>600?this.close():this.Content.style.transform=e.IGptR,s=!1},l={};l.passive=!0,this.Content.addEventListener(e.prvxP,a,l);let c={};c.passive=!0,this.Content.addEventListener(e.CLulY,o,c),this.Content.addEventListener("touchend",r),this.Content.addEventListener("mousedown",t=>{e.kfGHV(a,t);let n=e=>o(e),i=()=>{e.Scbck(r),document.removeEventListener("mousemove",n),document.removeEventListener(e.Sqauo,i)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",i)})}}_0x583715.stack=[];let _0x30b7a1=_0x58593f.get("lang"),_0x514619="zh";_0x30b7a1?_0x514619=_0x30b7a1:(_0x514619="zh",_0x58593f.set("lang","zh"));let _0x1b65c8={};_0x1b65c8.a1="搜尋…",_0x1b65c8.a2="未知",_0x1b65c8.a3="在這裡輸入訊息…",_0x1b65c8.a4="更新了什麼",_0x1b65c8.a5="私人",_0x1b65c8.a6="說明",_0x1b65c8.a7="公開",_0x1b65c8.a8="展開全部",_0x1b65c8.a9="顯示較少",_0x1b65c8.a10="查看全部",_0x1b65c8.a11="加入聊天室",_0x1b65c8.a12="加入聊天室",_0x1b65c8.a13="邀請碼",_0x1b65c8.a14="送出",_0x1b65c8.a15="查看個人資料",_0x1b65c8.a16="登出",_0x1b65c8.a17="無效的邀請碼，請重新嘗試",_0x1b65c8.a18="$0 秒前",_0x1b65c8.a19="$0 個月前",_0x1b65c8.a20="$0 分鐘前",_0x1b65c8.a21="$0 小時前",_0x1b65c8.a22="$0 年前",_0x1b65c8.a23="$0 天前",_0x1b65c8.a24="無法預覽這個文件",_0x1b65c8.a25="下載",_0x1b65c8.a26="你",_0x1b65c8.b1="描述",_0x1b65c8.b2="最後上線",_0x1b65c8.b3="描述",_0x1b65c8.b4="暱稱",_0x1b65c8.b5="編輯個人資料",_0x1b65c8.b6="完成",_0x1b65c8.b7="完成",_0x1b65c8.b8="歡迎回來",_0x1b65c8.b9="登入帳號後即可使用我們的服務",_0x1b65c8.b10="等待中…",_0x1b65c8.b11="使用 Google 繼續",_0x1b65c8.b12="使用 電子郵件 登入",_0x1b65c8.b13="返回上一頁",_0x1b65c8.b14="密碼錯誤，請重新嘗試",_0x1b65c8.b15="找不到這個帳號，請重新嘗試",_0x1b65c8.b16="網路請求錯誤，請檢查網路連線",_0x1b65c8.b17="發生未知的錯誤",_0x1b65c8.b18="$0 則訊息",_0x1b65c8.b19="沒有訊息",_0x1b65c8.b20="所有成員",_0x1b65c8.b21="查看所有成員",_0x1b65c8.b22="查看行程安排",_0x1b65c8.b23="退出",_0x1b65c8.b24="電子郵件地址",_0x1b65c8.b25="密碼",_0x1b65c8.b26="送出",_0x1b65c8.b27="電子郵件登入",_0x1b65c8.b28="@未知",_0x1b65c8.b29="未知",_0x1b65c8.b30="已成功清除緩存，重新載入後即生效",_0x1b65c8.b31="未知的指令，請重新嘗試",_0x1b65c8.b32="載入中…",_0x1b65c8.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0x1b65c8.b34="退出",_0x1b65c8.b35="取消",_0x1b65c8.b36="確定",_0x1b65c8.b37="行程安排",_0x1b65c8.b38="標題",_0x1b65c8.b39="開始",_0x1b65c8.b40="結束",_0x1b65c8.b41="編輯行程",_0x1b65c8.c1="編輯模式",_0x1b65c8.c2="預覽模式",_0x1b65c8.c3="已更新介面語言為：$0",_0x1b65c8.c4="英語",_0x1b65c8.c5="中文",_0x1b65c8.z0='<li class="xcKqXW8uF">修復了一些錯誤</li><li class="xcKqXW8uF">未來可能不會再更新了，看情況</li>',_0x1b65c8.b42="上傳中",_0x1b65c8.b43="正在上傳中，請耐心等待",_0x1b65c8.b44="上傳遭中斷",_0x1b65c8.b45="已取消上傳",_0x1b65c8.b46="上傳完成",_0x1b65c8.b47="這個文件已經成功上傳了",_0x1b65c8.b48="上傳失敗",_0x1b65c8.b49="這個文件有 $0 ，我們無法負擔",_0x1b65c8.d0="附加文件",_0x1b65c8.d1="發送",_0x1b65c8.d2="加入貼圖",_0x1b65c8.d3="標記為重要",_0x1b65c8.d4="取消標記",_0x1b65c8.d5="任何人都能加入這個聊天室",_0x1b65c8.d6="只有受邀人能加入本聊天室",_0x1b65c8.d7="重新載入後方可完整更新您的資料",_0x1b65c8.d8="這裡還沒有訊息，現在就開始聊天吧",_0x1b65c8.d9="未知",_0x1b65c8.d10="暫時還沒有描述哦",_0x1b65c8.d11="未知",_0x1b65c8.d12="未知",_0x1b65c8.d13="尚未加入任何聊天室",_0x1b65c8.d14="還沒有任何行程，現在就創建一個吧";let _0x560ce6={};_0x560ce6.a1="Search…",_0x560ce6.a2="Unknown",_0x560ce6.a3="Enter message here…",_0x560ce6.a4="What's new",_0x560ce6.a5="Private",_0x560ce6.a6="Illustrate",_0x560ce6.a7="Public",_0x560ce6.a8="Show more",_0x560ce6.a9="Show less",_0x560ce6.a10="Show all",_0x560ce6.a11="Join groups",_0x560ce6.a12="Join Groups",_0x560ce6.a13="Invitation code",_0x560ce6.a14="Submit",_0x560ce6.a15="View profile",_0x560ce6.a16="Logout",_0x560ce6.a17="Invalid invitation code, please try again",_0x560ce6.a18="$0 seconds ago",_0x560ce6.a19="$0 months ago",_0x560ce6.a20="$0 minutes ago",_0x560ce6.a21="$0 hours ago",_0x560ce6.a22="$0 years ago",_0x560ce6.a23="$0 days ago",_0x560ce6.a24="Unable to preview this file",_0x560ce6.a25="Download",_0x560ce6.a26="You",_0x560ce6.b1="Description",_0x560ce6.b2="Last online",_0x560ce6.b3="Description",_0x560ce6.b4="Nickname",_0x560ce6.b5="Edit Profile",_0x560ce6.b6="Save",_0x560ce6.b7="Save",_0x560ce6.b8="Welcome back",_0x560ce6.b9="Log in to your account to use our services",_0x560ce6.b10="Waiting…",_0x560ce6.b11="Continue with Google",_0x560ce6.b12="Continue with Email",_0x560ce6.b13="Return to previous page",_0x560ce6.b14="Wrong password, please try again",_0x560ce6.b15="The account could not be found. Please try again.",_0x560ce6.b16="Network request error, please check the network connection",_0x560ce6.b17="An unknown error occurred",_0x560ce6.b18="$0 messages",_0x560ce6.b19="No message",_0x560ce6.b20="All members",_0x560ce6.b21="View members",_0x560ce6.b22="View itinerary",_0x560ce6.b23="Leave",_0x560ce6.b24="Email Address",_0x560ce6.b25="Password",_0x560ce6.b26="Submit",_0x560ce6.b27="Login with Email",_0x560ce6.b28="@unknown",_0x560ce6.b29="unknown",_0x560ce6.b30="The cache has been successfully cleared and will take effect after reloading",_0x560ce6.b31="Unknown command, please try again",_0x560ce6.b32="Loading…",_0x560ce6.b33="Are you sure you want to leave this group? You can rejoin later.",_0x560ce6.b34="Leave",_0x560ce6.b35="Cancel",_0x560ce6.b36="Comfirm",_0x560ce6.b37="All itinerary",_0x560ce6.b38="Title",_0x560ce6.b39="Start",_0x560ce6.b40="End",_0x560ce6.b41="Edit itinerary",_0x560ce6.c1="編輯模式",_0x560ce6.c2="預覽模式",_0x560ce6.c3="Updated language: $0",_0x560ce6.c4="English",_0x560ce6.c5="Chinese",_0x560ce6.z0='<li class="xcKqXW8uF">Fixed some bugs.</li><li class="xcKqXW8uF">There may be no more updates in the future.</li>',_0x560ce6.b42="Uploading",_0x560ce6.b43="Uploading, please wait patiently",_0x560ce6.b44="Upload interrupted",_0x560ce6.b45="Upload canceled",_0x560ce6.b46="Upload completed",_0x560ce6.b47="The file has been uploaded successfully",_0x560ce6.b48="Upload failed",_0x560ce6.b49="This file is $0 and we can't afford it",_0x560ce6.d0="Attach files",_0x560ce6.d1="Send",_0x560ce6.d2="Add stickers",_0x560ce6.d3="Mark as important",_0x560ce6.d4="Unmark",_0x560ce6.d5="Anyone can join this group",_0x560ce6.d6="Only invited people can join this group",_0x560ce6.d7="Reload to fully update your information",_0x560ce6.d8="There are no messages here yet. Start chatting now.",_0x560ce6.d9="Unknown",_0x560ce6.d10="There is no description yet",_0x560ce6.d11="Unknown",_0x560ce6.d12="Unknown",_0x560ce6.d13="Not joined any chat room yet",_0x560ce6.d14="No itinerary yet";let _0x565a35={};_0x565a35.zh=_0x1b65c8,_0x565a35.en=_0x560ce6;let _0x565c9e=_0x565a35;function _0x43978e(e){return _0x565c9e[e]}let _0x452ee4={};_0x452ee4.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x452ee4.authDomain="smiling-theory-397204.firebaseapp.com",_0x452ee4.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x452ee4.projectId="smiling-theory-397204",_0x452ee4.storageBucket="smiling-theory-397204.appspot.com",_0x452ee4.messagingSenderId="360479398694",_0x452ee4.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x452ee4.measurementId="G-6BKTT1K7D1";let _0x30c634=e(_0x452ee4),_0x1e0252=_0x43978e(_0x514619),_0x2d8a6d=$(_0x30c634),_0x569dbe=r(_0x30c634),_0x57806a=new i,_0x2ec747=t();u(_0x2d8a6d).then(()=>{let e={};e.wfuGf="離線緩存功能已啟用";let t=e;console.log(t.wfuGf)}).catch(e=>{let t={};t.ZHJvP="已開啟多個分頁，無法啟用離線緩存功能",t.WLDgg=function(e,t){return e===t};let n=t;"failed-precondition"===e.code?console.error(n.ZHJvP):n.WLDgg(e.code,"unimplemented")&&console.error("當前瀏覽器不支持離線緩存")});let _0x3cf5e8=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x178cc8=[],_0x52135e={sidebar:_0x20d880(".xFz8bwNFr"),main:_0x20d880(".x8o58HttN"),messageInput:_0x20d880(".xtsARDHTI"),searchInput:_0x20d880(".xujXllYgW"),messageContainer:_0x20d880(".xikyLwDf4"),sendButton:_0x20d880(".xuwRtDpu4"),fileInput:_0x20d880(".xVEJA40Qh"),attachButton:_0x20d880(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x20d880(".xpbRox0hO#xbXZpIWEa"),markButton:_0x20d880(".xpbRox0hO#xsVrze5YA"),brushButton:_0x20d880(".xpbRox0hO#xrfvUzMAG"),heading:_0x20d880(".xehdiGgBv"),backButton:_0x20d880(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x20d880(".xemr1y6ie"),spinnerContainer:_0x20d880(".xemr1y6ie .spinner"),spinnerLabel:_0x20d880(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x20d880(".xDADAUUv4"),roomNameLabel:_0x20d880(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x20d880(".xlKSJ67AP"),nameLabel:_0x20d880(".xt4GQkVIo"),avatarLabel:_0x20d880(".xbVHF6S6B"),avatarWrapper:_0x20d880(".xaoteDJh4"),profileContainer:_0x20d880(".xQ6gFUtqT"),layoutResizer:_0x20d880(".xrFP6D2e1"),layoutResizer2:_0x20d880(".xZddo7wlf"),statusLabel:_0x20d880(".xOJE48BLX"),activityBar:_0x20d880(".pS2na74a"),sidebarOverlay:_0x20d880(".xgUJeGeNl")},_0x14545f='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0x1e0252.b32,_0x2f9014={};_0x2f9014.current="0.1.7",_0x2f9014.cacheId="x0n0HCjlj",_0x2f9014.directions='<ul class="xxmjDL5xB xbH7v2Hbn">'+_0x1e0252.z0+"</ul>";let _0x257397=_0x2f9014,_0x193d3b=[],_0x36989c={},_0xbbe065={},_0xa38b94={},_0x333860,_0x18e816=!1,_0x30c23f="",_0x452cb7,_0x4b2b0c=0,_0x5dea9d,_0x222f4b=!1,_0x2865ca=!1,_0x19a060=!1,_0x162544=_0x52135e.messageContainer,_0xaeeb5c={};_0xaeeb5c.state=!1,_0xaeeb5c._a=null,_0xaeeb5c._b=null,_0xaeeb5c._n="",_0xaeeb5c._d="",_0xaeeb5c._m=[];let _0x9b1a1f=_0xaeeb5c,_0x4d2856="",_0x30299b=null,_0x307e7b=!1;if(_0x3cf5e8)document.body.classList.add("mobile"),_0x52135e._mb_att_btn.bindWithCooldown(function(){_0x52135e.fileInput.click()});else{document.body.classList.add("desktop");let E={};E.parent=_0x52135e.attachButton,E.text=_0x1e0252.d0,E.placement="top",new _0x1a76ac(E),_0x52135e.attachButton.bindWithCooldown(function(){_0x52135e.fileInput.click()});let M={};M.parent=_0x52135e.sendButton,M.text=_0x1e0252.d1,M.placement="top",M.interactive=!0,new _0x1a76ac(M);let D={};D.parent=_0x52135e.stickerButton,D.text=_0x1e0252.d2,D.placement="top",D.interactive=!0,new _0x1a76ac(D);let I={};I.parent=_0x52135e.markButton,I.text=_0x1e0252.d3,I.placement="top",I.interactive=!0;let H=new _0x1a76ac(I),W={};W.parent=_0x52135e.brushButton,W.text="潤色文本",W.placement="top",W.interactive=!0,new _0x1a76ac(W),_0x1dc5e4([_0x52135e.attachButton,_0x52135e.brushButton,_0x52135e.markButton,_0x52135e.stickerButton],"horizontal"),_0x52135e.brushButton.bindWithCooldown(function(){let e={OezIQ:function(e,t,n){return e(t,n)},sexXL:"xDLwiKdTE"},t=e.OezIQ(_0x393641,"潤色文本",!0);t.content.classList.add("lg"),t.body.classList.add(e.sexXL)}),_0x52135e.markButton.bindWithCooldown(function(){let e={};e.WecFd="x3zdxRXQ6",_0x19a060?(_0x19a060=!1,_0x52135e.markButton.classList.remove(e.WecFd),H.setText(_0x1e0252.d3)):(_0x19a060=!0,_0x52135e.markButton.classList.add("x3zdxRXQ6"),H.setText(_0x1e0252.d4))},0);let A=!1,S=0,B=0,R=e=>{let t={};t.kifvj="mousemove";let n=t;A=!0,document.body.classList.add("xz7kq9zLe");let i=e.target.getBoundingClientRect();B=e.clientX-i.left,document.addEventListener(n.kifvj,P),document.addEventListener("mouseup",U)},P=e=>{if(!A)return;let t=_0x52135e.sidebar.getBoundingClientRect().left,n=e.clientX-t-B;S=n,_0x52135e.sidebar.style.width=n+"px"},U=()=>{let e={};e.QHfeP="xz7kq9zLe",e.LxeOH="mousemove",e.RGvZS="mouseup";let t=e;A=!1,_0x58593f.set("xjS4MkN99",S),document.body.classList.remove(t.QHfeP),document.removeEventListener(t.LxeOH,P),document.removeEventListener(t.RGvZS,U)};window.addEventListener("blur",()=>{let e={};e.HvaNg="resizing";let t=e;document.body.classList.remove(t.HvaNg),A=!1}),_0x52135e.layoutResizer.addEventListener("mousedown",e=>{({dVfBH:function(e,t){return e(t)}}).dVfBH(R,e)})}function _0x393641(e,t=!1,...n){let i={};i.NkIsX="xrYn5ZY3v",i.MnQWN="x6Y89FynP",i.vcOWT="xvb5soWNa",i.TMcjm='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>';let s=i;console.log(n);let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let o=new _0x4e5c33(a),r=_0x393362(s.NkIsX);r.classList.add("lf"),o.Content.style.padding="0";let l=_0x393362(s.MnQWN);r.appendChild(l),l.innerText=e,o.Content.appendChild(r);let c=_0x393362("xWDUelLWA");o.Content.appendChild(c);let d;t&&((d=_0x393362(s.vcOWT)).focusable(!0),d.innerHTML=s.TMcjm,o.close=o.close.bind(o),d.bindWithCooldown(o.close),r.appendChild(d));let $=r.getBoundingClientRect();r.style.minHeight=$.height+"px";let u={};return u.root=o,u.body=c,u.content=o.Content,u.closebtn=d,u.Root=o.Root,u.Content=o.Content,u}async function _0x2bc6f2(e,t){let n={vdNLU:"data-state",LAldc:function(e,t,n){return e(t,n)},YFbsO:"canvas",vlnKG:function(e,t){return e(t)},gNsHn:"x8o1OSu71",BtyEp:function(e,t){return e(t)},gumwz:"instant",zpiLw:function(e,t){return e+t},becYn:"xAQPbc7N3",HBPPc:function(e,t,n){return e(t,n)},hwMFI:function(e,t){return e===t},JdanV:"x2y08yFOH",KUYjp:function(e,t){return e===t},qUdcX:"xUSR4cuWD",yMMls:"loading",pFXCM:"cache-url",colTv:function(e,t){return e===t},bSIzw:"muted",RXgON:"controls",rhSlB:"true",PHJST:"controlslist",Ejclc:"nodownload",BlHlY:"xGsec9lFd",NEpOW:function(e,t){return e===t},LzOIJ:"a25",uqKVw:"span",LlPEY:function(e,t){return e(t)},zrDGn:function(e,t){return e>t},hQWqX:"xDVzL7FIt"};if(t.startsWith("<")){let i=t.match(/<\s*(\w+)\s+(\S+)/),s=i[1],a=i[2];if(n.KUYjp(s,"image")){let o=document.createElement("img");o.focusable(!0),o.classList.add("xGsec9lFd"),o.classList.add(n.qUdcX),o.setAttribute("data-state",n.yMMls),_0x307e7b||_0x52135e.messageContainer.scrollTo({top:_0x52135e.messageContainer.scrollHeight,behavior:n.gumwz}),o.onerror=function(){o.setAttribute(n.vdNLU,"failed"),o.classList.remove("xUSR4cuWD")},o.onload=function(){let t={FsbLM:function(e,t,i){return n.LAldc(e,t,i)},SwRPy:n.YFbsO,ofoxw:"xWuhDLG1C",nsgAv:function(e,t){return n.vlnKG(e,t)},OLOGZ:n.gNsHn,LhYZB:function(e,t){return n.BtyEp(e,t)}};_0x307e7b||_0x52135e.messageContainer.scrollTo({top:_0x52135e.messageContainer.scrollHeight,behavior:n.gumwz});let i=_0xa38b94["_"+a];if(i)o.style.width=n.zpiLw(i.width,"px"),o.style.height=n.zpiLw(i.height,"px");else{let s=o.getBoundingClientRect(),r={};r.width=s.width,r.height=s.height,_0xa38b94["_"+a]=r}o.setAttribute(n.vdNLU,"loaded"),o.classList.remove("xUSR4cuWD"),e.classList.add("xFIqZCKV3"),o.bindWithCooldown(function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let n=new _0x4e5c33(e);n.Content.classList.add("xPSnkbRat");let i=document.createElement(t.SwRPy);i.classList.add(t.ofoxw),n.Content.appendChild(i);let s=new _0x4f02dd(i,{maxScale:2,onClickOutside(e,n){t.FsbLM(o,e,n)}});function o(){s.destroy(),n.close()}s.loadImage(a);let r=t.nsgAv(_0x393362,t.OLOGZ);r.focusable(!0),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',r.bindWithCooldown(o),n.Content.appendChild(r);let l=t.LhYZB(_0x393362,"x8o1OSu71");l.classList.add("xHZuqwWhI"),l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',l.bindWithCooldown(function(){s.rotate()},0),n.Content.appendChild(l)},0)};let r={};r.action=n.pFXCM,r.url=a,navigator.serviceWorker?.controller?.postMessage(r),o.src=a,e.appendChild(o)}else if(n.colTv(s,"video")){let l=document.createElement("video");l.setAttribute(n.bSIzw,""),l.focusable(!0),l.playsInline=!0,l.setAttribute(n.RXgON,n.rhSlB),l.setAttribute(n.PHJST,n.Ejclc),l.onloadedmetadata=function(){_0x52135e.messageContainer.scrollTo({top:_0x52135e.messageContainer.scrollHeight,behavior:n.gumwz})};let c={};c.action=n.pFXCM,c.url=a,navigator.serviceWorker?.controller?.postMessage(c),l.src=a,l.classList.add(n.BlHlY),e.appendChild(l)}else if(n.NEpOW(s,"audio")){let d=document.createElement("audio");d.focusable(!0),d.setAttribute("controls","true");let $={};$.action="cache-url",$.url=a,navigator.serviceWorker?.controller?.postMessage($),d.src=a,d.classList.add("xGsec9lFd"),e.appendChild(d)}else e.innerHTML='<div class="xUiYNFhtR">'+_0x1e0252.a24+' <a class="x0ciSQShX no-wrap" href="'+a+'" target="_blank" rel="noreferrer noopener">'+_0x1e0252[n.LzOIJ]+"</a></div>"}else{let u=document.createElement(n.uqKVw),h=n.LlPEY(_0x393362,"xYj7x2KZ4");u.classList.add("xVlceg4Ab"),_0x1da050(u,t),e.appendChild(u),e.appendChild(h);let x=u.getBoundingClientRect().height;if(n.zrDGn(x,125)){e.classList.add(n.hQWqX);let p=_0x393362("x6EwJGLAa"),f={};f["0"]='<span class="xNM56JYdv">'+_0x1e0252.a8+"</span>",f["1"]='<span class="xNM56JYdv">'+_0x1e0252.a9+"</span>",f["2"]='<span class="xNM56JYdv">'+_0x1e0252.a10+"</span>";let _=f;p.innerHTML=_[_0x3cf5e8?2:0],p.focusable(!0);let b=0;p.bindWithCooldown(function(){if(_0x3cf5e8){let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let s=new _0x583715(i);s.Root.classList.add(n.becYn);let a=n.BtyEp(_0x393362,"xBWmlKrN2");s.Body.appendChild(a),n.HBPPc(_0x1da050,a,t)}else{let o={};o.top=0,o.behavior="instant",u.scrollTo(o),n.hwMFI(b,0)?(b=1,e.classList.add(n.JdanV),p.innerHTML=_[1]):(b=0,e.classList.remove(n.JdanV),p.innerHTML=_[0])}},0),h.appendChild(p)}}}function _0x1da050(e,t){let n=/@(\w+)/g,i=0,s;for(e.clear();null!==(s=n.exec(t));){let{index:a}=s,o=s[1];a>i&&_0xd59b9(e,t.slice(i,a));let r=document.createElement("a");r.classList.add("x0ciSQShX"),r.focusable(!0),r.dataset.userId=o;let l={};l.userId=o,l.dom=r,_0x9b1a1f._m.push(l),_0x482af4(o,!0).then(function(e){let t={RkNqI:function(e,t,n){return e(t,n)},dPkde:"desktop"};e?(r.textContent="@"+(e.name||_0x1e0252.b29),r.bindWithCooldown(function(){t.RkNqI(_0x44a10f,_0x30299b,{data:e,type:_0x3cf5e8?"mobile":t.dPkde})},0)):r.textContent=_0x1e0252.b28}).catch(function(e){r.textContent="@"+o,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(r),i=n.lastIndex}i<t.length&&_0xd59b9(e,t.slice(i))}function _0xd59b9(e,t){let n={BwRnb:function(e,t){return e(t)}},i=t.split("\n");i.forEach((t,s)=>{if(t){let a=n.BwRnb(_0x2685ef,t),o=document.createElement("div");o.innerHTML=a,Array.from(o.childNodes).forEach(t=>{e.appendChild(t)})}s<i.length-1&&e.appendChild(document.createElement("br"))})}function _0x2685ef(e){let t={};t.auzGY=function(e,t){return e+t},t.wyKUQ=function(e,t){return e+t},t.mrAsU=function(e,t){return e+t},t.xIobc="</a></span>";let n=t;return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let t=e.replace(/^https?:\/\//,"");return n.auzGY(n.wyKUQ(n.mrAsU('<span class="xCe4Btdzm"><a class="x0ciSQShX" translate="no" href="',e)+'" target="_blank" rel="noreferrer noopener">',decodeURIComponent(t)),n.xIobc)})}async function _0x2dc824(){let e={TVaZd:function(e,t){return e||t},RepOX:function(e,t){return e===t},ijGKC:"disabled",aNkQP:"task",nqdFZ:"clear-all-caches",KPaJr:"b30",ZnhbI:function(e,t){return e===t},fZnIT:function(e,t,n,i){return e(t,n,i)},rKbgn:function(e,t){return e(t)},QTSJp:"lang",SJkGg:"1242",vkAdm:function(e,t,n,i){return e(t,n,i)},zTbna:"&lt;",bfBQj:"x3zdxRXQ6",KrAUL:"chats",gEoDT:"messages"},t=_0x52135e.messageInput.innerText.trim();if(e.TVaZd(!t,!_0x30c23f)||e.RepOX(t,""))return;_0x52135e.sendButton.classList.add(e.ijGKC),_0x52135e.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let i=n[1],s=n[2];if(e.RepOX(i,e.aNkQP)){if(e.RepOX(s,"1358")){_0x52135e.messageInput.clear();let a={};a.action=e.nqdFZ,navigator.serviceWorker?.controller?.postMessage(a);let o={};o.content=_0x1e0252[e.KPaJr],o.tag="2",_0x3821f8(o,_0x1b8df7(20),"3");return}if(e.ZnhbI(s,"1241")){_0x52135e.messageInput.clear(),e.fZnIT(_0x3821f8,{content:_0x1e0252.c3.replace("$0",_0x1e0252.c5),tag:"2"},e.rKbgn(_0x1b8df7,20),"3"),_0x58593f.set(e.QTSJp,"zh");return}if(s===e.SJkGg){_0x52135e.messageInput.clear(),e.vkAdm(_0x3821f8,{content:_0x1e0252.c3.replace("$0",_0x1e0252.c4),tag:"2"},e.rKbgn(_0x1b8df7,20),"3"),_0x58593f.set(e.QTSJp,"en");return}{_0x52135e.messageInput.clear();let r={};r.tag="2",r.content=_0x1e0252.b31,_0x3821f8(r,_0x1b8df7(20),"3");return}}}t=t.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<",e.zTbna).replaceAll(">","&gt;").replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x52135e.messageInput.clear();let l=_0x19a060?"1":null;_0x52135e.markButton.classList.remove(e.bfBQj),_0x19a060=!1;let c=e.rKbgn(p,h(_0x2d8a6d,e.KrAUL,_0x30c23f,e.gEoDT));await x(c,{sender:_0x5dea9d,content:t,timestamp:Date.now(),tag:l}),_0x193d3b.push(c.id);let d={};d.content=t,d.tag=l,e.vkAdm(_0x3821f8,d,c.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={UqGAc:function(e,t){return e===t},PjDxK:"cache-size-result",VXUAA:"cacheSizeResult",kYjfN:function(e,t,n,i){return e(t,n,i)},bXuye:function(e,t){return e(t)},gfMaP:function(e,t){return e(t)}};if(t.UqGAc(e.data.type,t.PjDxK)){let n=document.getElementById(t.VXUAA);if(e.data.error){n.innerHTML="錯誤: "+e.data.error;return}t.kYjfN(_0x3821f8,{content:t.bXuye(_0x12a12c,e.data.bytes)},t.gfMaP(_0x1b8df7,20),"3")}});let _0x2af894=0;function _0x3821f8(e,t,n="1"){let i={qmDMW:"xVC8gtuyS",oqsey:"xKljxgVJA",wmYKc:"xu4Celbbq",KHSeU:function(e,t){return e(t)},aTlPl:"data-message-id",wukmv:"xiOw4dg0O",huRFv:"a26",AhZwy:"xOmVIOA3e",kUdIW:function(e,t){return e===t},GFBfW:"x4rKxFxLl",uLNfZ:function(e,t){return e===t},LMKwi:"smooth"},s=_0x393362(i.qmDMW),a=_0x393362("xMyW2iRSH"),o=_0x393362(i.oqsey),r=_0x393362(i.wmYKc),l=_0x393362("xc4iCj2Gy"),c=i.KHSeU(_0x393362,"xRHoYYwoZ");switch(s.setAttribute("data-visible","true"),s.setAttribute(i.aTlPl,t),s.classList.add(i.wukmv),s.appendChild(o),o.appendChild(c),c.appendChild(r),r.appendChild(l),c.appendChild(a),l.innerText=_0x1e0252[i.huRFv],_0x4d2856.sender===e.sender&&s.classList.add(i.AhZwy),i.kUdIW(e.tag,"1")?a.classList.add(i.GFBfW):i.uLNfZ(e.tag,"2")&&a.classList.add("xHJfZfjT1"),_0x333860&&(_0x333860.remove(),_0x333860=null),n){case"1":_0x52135e.messageContainer.appendChild(s);break;case"2":_0x162544.appendChild(s),_0x2af894+=s.offsetHeight;break;case"3":_0x52135e.messageContainer.appendChild(s),_0x222f4b=!0,_0x52135e.messageContainer.scrollTo({top:_0x52135e.messageContainer.scrollHeight,behavior:i.LMKwi})}_0x2bc6f2(a,e.content)}function _0x27b68b(e,t,n="1"){let i={SYNsh:function(e,t,n){return e(t,n)},NgmWy:"mobile",OUBsx:function(e,t){return e(t)},PjyaV:"d11",KLwzB:"xSYcbYqTG",feRTJ:function(e,t){return e(t)},mIXgd:"xu4Celbbq",sxJeb:"xc4iCj2Gy",yNufC:"xt8fROB2L",mcmlV:function(e,t){return e(t)},lYDDr:"xRHoYYwoZ",UnxsW:"img",KqwMq:"data-visible",GPNKJ:"data-message-id",QVAsu:"xOmVIOA3e"},s=_0x393362("xVC8gtuyS"),a=i.OUBsx(_0x393362,"xMyW2iRSH"),o=_0x393362(i.KLwzB),r=i.OUBsx(_0x393362,"xKljxgVJA"),l=i.feRTJ(_0x393362,i.mIXgd),c=i.OUBsx(_0x393362,i.sxJeb),d=i.OUBsx(_0x393362,i.yNufC),$=i.mcmlV(_0x393362,i.lYDDr),u=document.createElement(i.UnxsW);switch(s.setAttribute(i.KqwMq,"true"),d.classList.add(i.yNufC),u.loading="lazy",s.appendChild(o),s.appendChild(r),r.appendChild($),$.appendChild(l),l.appendChild(c),$.appendChild(a),l.appendChild(d),o.appendChild(u),s.setAttribute(i.GPNKJ,t),"1"===e.tag&&a.classList.add("x4rKxFxLl"),d.innerText="0s",c.innerText=_0x1e0252.d9,u.draggable=!1,_0x333860&&(_0x333860.remove(),_0x333860=null),_0x4d2856.sender===e.sender&&s.classList.add(i.QVAsu),n){case"1":_0x52135e.messageContainer.appendChild(s);break;case"2":_0x162544.appendChild(s),_0x2af894+=s.offsetHeight;break;case"3":_0x52135e.messageContainer.appendChild(s),_0x222f4b=!0,_0x52135e.messageContainer.scrollTo({top:_0x52135e.messageContainer.scrollHeight,behavior:"smooth"}),_0x222f4b=!1}i.SYNsh(_0x2bc6f2,a,e.content),_0x482af4(e.sender).then(t=>{function n(){i.SYNsh(_0x44a10f,_0x52135e.main,{data:t,type:_0x3cf5e8?i.NgmWy:"desktop"})}d.innerText=i.OUBsx(_0x570e04,e.timestamp),u.src=t.avatarUrl||"/assets/avatar.png",u.onload=function(){o.classList.add("xWzeTGC6P")},c.onclick=n,o.focusable(!0),o.bindWithCooldown(n),c.innerText=t.name||_0x1e0252[i.PjyaV]}).catch(e=>{console.error(e)})}function _0x1c20ce(e,t,n){let i={};i.VajBf=function(e,t){return e||t},i.Wfxrk="d11";let s=i;_0x52135e.signatureLabel.textContent=s.VajBf(n,"unknown"),_0x52135e.avatarWrapper.classList.remove("xJd2GT7MI"),_0x52135e.avatarLabel.src=s.VajBf(e,"assets/avatar.png"),_0x52135e.nameLabel.textContent=t||_0x1e0252[s.Wfxrk]}async function _0x2b53e3(){let e={lkiLd:function(e,t){return e>t},XgmTb:function(e,t){return e-t},VqoSj:"mouseup",uAKyX:"touchmove",MXXIC:"touchend",RnBzw:"xp4HXkJGa",LvdTn:"xgu6pGjzk",FWNWZ:function(e,t){return e*t},yZxXD:"mousemove",daxXY:function(e,t){return e/t},YOvOu:function(e){return e()},Ryhet:function(e,t){return e(t)},DwaBw:"--x9LFHiVqv",Pqsng:"--xVizV2ybq",dUhyJ:function(e,t){return e-t},RzNBt:"正在初始化應用程序",CRqpa:function(e,t){return e&&t},oUrJr:"xmKH3ad5R",LdMyL:function(e){return e()},MyslF:function(e){return e()},wGPRf:"發生未知錯誤",TDUmM:"blur",IgFEM:"mousedown",BIhGW:function(e){return e()},iFhiW:"resize",JuqDZ:"disabled",Ziomi:function(e,t){return e!==t},Exmmu:"cvs"};if(_0x18e816)return;console.log(e.RzNBt),_0x52135e.roomNameLabel.innerText=_0x1e0252.a2,_0x52135e.searchInput.placeholder=_0x1e0252.a1,_0x52135e.messageInput.setAttribute("placeholder",_0x1e0252.a3),_0x52135e.spinnerLabel.innerText=_0x1e0252.b32;let t=_0x58593f.get("xjS4MkN99");e.CRqpa(t,!_0x3cf5e8)&&(_0x52135e.sidebar.style.width=t+"px"),document.body.classList.add(e.oUrJr);let n=_0xa1e689(),i=e.LdMyL(_0x2de341);e.MyslF(_0x578799);try{_0x482af4(_0x5dea9d).then(async t=>{(!t.deviceInfo||e.lkiLd(Date.now()-t.deviceInfo.lastUpdate,36e5))&&(await _0x3ecbd0(_0x5dea9d,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:i.screenWidth+"x"+i.screenHeight+" @"+i.devicePixelRatio+"x"}}),console.log("已上傳裝置信息"))})}catch(s){console.error(e.wGPRf,s)}let a=!1,o=0,r=0,l=0,c=t=>{a=!0,o=0,r=t.touches?t.touches[0].clientX:t.clientX;let n=t.target.getBoundingClientRect();l=e.XgmTb(r,n.left),document.addEventListener("mousemove",d),document.addEventListener(e.VqoSj,$);let i={};i.passive=!0,document.addEventListener(e.uAKyX,d,i),document.addEventListener(e.MXXIC,$)},d=t=>{if(!a)return;let n=(t.touches?t.touches[0].clientX:t.clientX)-l,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o=n,_0x52135e.main.classList.add(e.RnBzw),_0x52135e.sidebar.classList.add(e.LvdTn),_0x52135e.main.style.transform="translate3d("+n+"px, 0, 0)",_0x52135e.sidebar.style.transform="translate3d("+Math.min(e.FWNWZ(-30,1-n/i),0)+"%, 0, 0)"},$=()=>{if(!a)return;a=!1;let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;_0x52135e.main.classList.remove(e.RnBzw),_0x52135e.sidebar.classList.remove("xgu6pGjzk"),document.removeEventListener(e.yZxXD,d),document.removeEventListener("mouseup",$);let n={};n.passive=!0,document.removeEventListener(e.uAKyX,d,n),document.removeEventListener("touchend",$),e.daxXY(o,t)>.5&&e.YOvOu(_0x1512a9)};window.addEventListener(e.TDUmM,()=>{a=!1,_0x52135e.main.classList.remove(e.RnBzw),_0x52135e.sidebar.classList.remove("xgu6pGjzk"),document.removeEventListener(e.yZxXD,d),document.removeEventListener("mouseup",$);let t={};t.passive=!0,document.removeEventListener("touchmove",d,t),document.removeEventListener("touchend",$)}),_0x52135e.layoutResizer2.addEventListener(e.IgFEM,t=>{e.Ryhet(c,t)});let u={};u.passive=!0,_0x52135e.layoutResizer2.addEventListener("touchstart",c,u);try{function h(){let t=_0x52135e.messageContainer.getBoundingClientRect();_0x52135e.messageContainer.style.setProperty(e.DwaBw,Number(e.XgmTb(.6*t.height,24).toFixed(2))+"px"),_0x52135e.messageContainer.style.setProperty(e.Pqsng,e.dUhyJ(Number(e.FWNWZ(t.height,.72).toFixed(2)),24)+"px")}e.BIhGW(h),window.addEventListener(e.iFhiW,h)}catch(x){console.log("設置布局時發生錯誤")}if(_0x52135e.searchInput.removeAttribute(e.JuqDZ),_0x52135e.searchInput.focusable(!0),_0x52135e.profileContainer.classList.remove("disabled"),_0x52135e.profileContainer.focusable(!0),e.Ziomi(localStorage.getItem(e.Exmmu),_0x257397.current)){if(_0x3cf5e8){let p={};p.closeOnEsc=!0,p.closeOnOverlayClick=!0;let f=new _0x583715(p);f.Overlay.classList.add("x5RtiEC9k"),f.Body.innerHTML='<div class="xa6f2dQXX">'+_0x1e0252.a4+'</div><div class="x68JrA5Ak">'+_0x257397.directions+"</div>"}else _0x393641(_0x1e0252.a4,!0).body.innerHTML='<div class="xeUKJgV96">'+_0x257397.directions+"</div>";localStorage.setItem(e.Exmmu,_0x257397.current)}_0x18e816=!0}function _0x5ccdc8(e){let t={};t.EQQFX="&amp;$1",t.XjKfA="&gt;",t.rutnz="<br>";let n=t;return e.replace(/&([^;]+)/g,n.EQQFX).replaceAll("<","&lt;").replaceAll(">",n.XjKfA).replaceAll(" ","&nbsp;").replaceAll("\n",n.rutnz)}function _0x159d09(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x3e569b="Structure",_0xd2f933;function _0x8b029f(e){var t;let n={FmCDe:function(e,t){return e(t)},pTjcR:function(e,t){return e===t},CByio:function(e,t){return e===t},cEHdc:function(e,t,n,i){return e(t,n,i)},rXqqd:function(e,t){return e!==t},SVKBp:function(e,t){return e&&t},eJnZZ:"d12",NLzJj:"xjrgLBAlF",SVBVE:"xYARRkCjq",GQTeh:"privacy",viZdm:function(e,t){return e(t)},PeyCw:"xVjpzmyej",WjRQS:"disabled",Joglu:"true",FhPgU:function(e,t){return e(t)},CXWfI:"active",dgoGu:function(e,t){return e(t)},PQRLf:function(e,t){return e(t)},kLwVy:"xqBX9i6rZ",lfSQi:function(e,t){return e(t)},XYPLg:"timestamp",DUdFk:"desc",gHiff:"instant",CkZvV:function(e,t){return e!==t},KHxrr:function(e,t){return e(t)},dfCkd:"d13",REIAU:"Error while deleting item:",aqPcm:"b34",nfrlb:"b35",qhiTj:"b36",QqBgk:"desktop",HnYZA:function(e,t){return e==t},NPDma:"xyS4vzBWG",xuqUE:"todos",zkgRO:"xA9JMbz3o",DGwoA:"pink",eizmV:"xxChbQgko",qZruY:"label",rwwZy:"b40",uLHBD:"xNu1Upzh6",YCrDI:"xb4MnocjO",hBSDG:function(e,t){return e(t)},XZkEQ:"xtG9t2xuE",Zfcff:"xY17x64dw",eAqAA:function(e,t,n,i,s){return e(t,n,i,s)},lJwzx:"top-end",naSdh:function(e,t){return e(t)},lVblj:function(e,t){return e(t)},qCkpp:function(e,t){return e(t)},PvGpi:"xcoXgMpFW",MzEik:function(e,t){return e(t)},RzWGk:"xrQdSHI2A",kULgV:"xUdcoAHYM",avpOG:"xGy5QqsmI",VNtsy:function(e){return e()},WivcS:"xQ65c0Nkc",BMqFD:"xybvM5cRF",nOjjZ:"xT3Ta8vKw",tqANQ:"xQkxrD9ZA",Oujgy:function(e,t){return e===t},tCBBS:"b19",ozVLC:"b18",xuZwd:"smooth",UqTpb:"nearest"},i=_0x393362("x2fP9fkxS"),s=_0x393362(n.WivcS),a=_0x393362(n.BMqFD),o=_0x393362(n.nOjjZ),r=_0x393362("x6HyfOZS7"),l=n.viZdm(_0x393362,n.tqANQ);async function c(){let t={};t.XIHIM="取得用户名称时发生错误：";let s=t;if(n.rXqqd(_0x30c23f,e.id)||n.SVKBp(_0x3cf5e8,!contextOpeneds)){_0x52135e.messageInput.innerHTML="",_0x30c23f=e.id,_0x9b1a1f._m.length=0,_0x30299b=_0x52135e.main,_0x2865ca=!0,_0x307e7b=!1;let a=[];e.members.forEach(e=>{n.FmCDe(_0x482af4,e).then(t=>{let n={};n.id=e,n.name=t.name,a.push(n)}).catch(e=>{console.error(s.XIHIM,e)})}),_0x3e569b=(e.name||_0x1e0252[n.eJnZZ])+" - Structure",document.title=_0x3e569b,_0x52135e.roomNameLabel.innerText=e.name,_0x193d3b.length=0,_0xd2f933&&_0xd2f933.remove(),"public"===e.tag?((_0xd2f933=_0x393362(n.NLzJj)).focusable(!0),_0xd2f933.classList.add(n.SVBVE),_0xd2f933.textContent=_0x1e0252.a7,_0xd2f933.bindWithCooldown(function(){_0x393641(_0x1e0252.a6,!0).body.innerHTML='<div class="xrrfDPLS2">'+_0x1e0252.d5+"</div>"}),_0x52135e.statusLabel.appendChild(_0xd2f933)):n.pTjcR(e.tag,n.GQTeh)&&((_0xd2f933=n.viZdm(_0x393362,n.NLzJj)).focusable(!0),_0xd2f933.classList.add("xxC3C39Oc"),_0xd2f933.textContent=_0x1e0252.a5,_0xd2f933.bindWithCooldown(function(){_0x393641(_0x1e0252.a6,!0).body.innerHTML='<div class="xrrfDPLS2">'+_0x1e0252.d6+"</div>"}),_0x52135e.statusLabel.appendChild(_0xd2f933));let o=new URLSearchParams(window.location.search);if(o.set("r",e.id),window.history.replaceState({},"","?"+o.toString()),_0x52135e.messageContainer.classList.remove(n.PeyCw),_0x52135e.fileInput.removeAttribute(n.WjRQS),_0x52135e.attachButton.classList.remove("disabled"),_0x52135e.attachButton.focusable(!0),_0x52135e.stickerButton.classList.remove(n.WjRQS),_0x52135e.stickerButton.focusable(!0),_0x52135e.markButton.classList.remove("disabled"),_0x52135e.markButton.focusable(!0),_0x52135e.markButton.classList.remove("x3zdxRXQ6"),_0x19a060=!1,_0x52135e.brushButton.classList.remove("disabled"),_0x52135e.brushButton.focusable(!0),_0x52135e.messageInput.setAttribute("contenteditable",n.Joglu),_0x3cf5e8){let r="4|3|0|2|1".split("|"),l=0;for(;;){switch(r[l++]){case"0":_0x52135e.backButton.classList.remove("disabled");continue;case"1":_0x52135e.main.classList.add("x8VAGH6N2");continue;case"2":n.dgoGu(_0x20d880,".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").focusable(!0);continue;case"3":_0x52135e._mb_att_btn.focusable(!0);continue;case"4":_0x52135e._mb_att_btn.classList.remove(n.WjRQS);continue}break}}else n.FhPgU(_0x20d880,".x2fP9fkxS.active")&&_0x20d880(".x2fP9fkxS.active").classList.remove(n.CXWfI),i.classList.add(n.CXWfI);_0x52135e.messageInput.setAttribute("contenteditable",n.Joglu),_0x52135e.messageInput.focusable(!0),_0x52135e.messageContainer.clear(),(_0x333860=n.PQRLf(_0x393362,n.kLwVy)).classList.add("spinner"),_0x333860.innerHTML=_0x14545f,_0x52135e.messageContainer.appendChild(_0x333860);let c=await n.lfSQi(m,C(h(_0x2d8a6d,"chats",e.id,"messages"),w(n.XYPLg,n.DUdFk),n.dgoGu(T,10)));_0x452cb7=c.docs[9];let d=[];c.forEach(e=>{d.push(e)}),0===d.length&&_0x333860&&(_0x333860.innerHTML=_0x1e0252.d8),d.reverse(),d.map(e=>{var t=e.data();n.pTjcR(_0x193d3b.indexOf(e.id),-1)&&(n.CByio(t.sender,_0x5dea9d)?(_0x193d3b.push(e.id),_0x3821f8(t,e.id,"1")):(_0x193d3b.push(e.id),n.cEHdc(_0x27b68b,t,e.id,"1"))),_0x4d2856=t}),_0x222f4b=!0,_0x52135e.messageContainer.scrollTo({top:_0x52135e.messageContainer.scrollHeight,behavior:n.gHiff}),_0x222f4b=!1}}_0x43e960(e.id),i.bindWithCooldown(c);let d={};d.id=e.id,d.length=e.size,d.name=e.name||_0x1e0252.d9,d.launch=c,d.dom=i,_0x178cc8.push(d),i.appendChild(s),i.appendChild(r),r.appendChild(l);let $=function(){let t={gNFzr:"mobile",NZGmi:n.QqBgk,CwOfQ:function(e,t){return e(t)},DRSIV:"lazy",IHVUO:function(e,t){return n.dgoGu(e,t)},UCEhp:"xPAY7PmDq",rtZVL:"b20",vDTjD:"xU2hUavXh",EBkiV:function(e,t){return n.HnYZA(e,t)},kPcvk:n.NPDma,SKzBU:"disabled",wPLgs:n.xuqUE,gEDSi:function(e,t){return e(t)},pybHe:function(e,t){return e!==t},GiclO:"更新失敗：",YXKPK:n.zkgRO,kYHQQ:function(e,t){return e===t},hFBEZ:n.DGwoA,RRJCy:"xHxVtIAsn",YPxzW:"xt4GQkVIo",fkGmL:function(e,t,n){return e(t,n)},foZXD:"xPP6DGDrH",TvLYk:n.eizmV,JWEgb:"xbrV3058R",ieXKR:function(e,t){return n.KHxrr(e,t)},wKUrY:n.qZruY,LXTGm:n.rwwZy,fasqR:function(e,t){return e(t)},MJmvy:"x40AApYkW",tegMc:"chats",ruzKc:function(e,t){return e(t)},asGVA:n.uLHBD,beWra:function(e,t,n){return e(t,n)},SsTHy:n.YCrDI,cIfyZ:function(e,t){return n.hBSDG(e,t)},AZVOB:n.XZkEQ,UdplO:"x7ho7YfuM",DxJJj:n.Zfcff,RSUzd:"xmiEvp5FV",sbnGl:function(e,t,i,s,a){return n.eAqAA(e,t,i,s,a)},EUTVZ:function(e,t){return e!==t}},s={};s.trigger=l,s.placement=["bottom-start","bottom-end","top-start",n.lJwzx];let a=new _0x3bf754(s);a.Content.classList.add("xoV8hdbgt");let o=n.naSdh(_0x393362,"xrQdSHI2A"),r=n.lVblj(_0x393362,"xrQdSHI2A"),c=n.qCkpp(_0x393362,n.PvGpi),d=n.MzEik(_0x393362,n.RzWGk);o.bindWithCooldown(function(){let n={dfFhJ:t.gNFzr,QUFyG:function(e,t,n){return e(t,n)},jDSmS:t.NZGmi,ijpLi:function(e,n){return t.CwOfQ(e,n)},WImZG:t.DRSIV,iSdoy:function(e,t){return e(t)}};a.close();let i=t.IHVUO(_0x393362,t.UCEhp),s;if(_0x3cf5e8){let o={};o.parent=_0x52135e.sidebar,o.title=_0x1e0252[t.rtZVL],(s=new _0x1051e1(o)).Content.classList.add(t.vDTjD),s.Content.appendChild(i)}else(s=_0x393641(_0x1e0252[t.rtZVL],!0)).content.classList.add("lg"),s.content.classList.add("xb4MnocjO"),s.body.appendChild(i);let r=0;e.members.forEach(e=>{r++,function e(t){let a={ewBSw:n.dfFhJ,eimSW:function(e,t,i){return n.QUFyG(e,t,i)},bxQUi:n.jDSmS,sfrhv:function(e,t){return n.ijpLi(e,t)},oZHys:"xScefCkPw",qeQMG:"xZHdsOFDz",dKpuX:"assets/avatar.png",NuCQZ:n.WImZG,fGtDO:"cache-url",Fdlpk:"xs8tjkwHJ",XsGjJ:"xt4GQkVIo",GvQax:function(e,t){return e(t)}};n.iSdoy(_0x482af4,t).then(e=>{let t=a.sfrhv(_0x393362,a.oZHys),n=_0x393362(a.qeQMG),o=document.createElement("img");o.classList.add("xxnnTDIPC"),o.src=e.avatarUrl||a.dKpuX,o.draggable=!1,o.loading=a.NuCQZ;let r={};r.action=a.fGtDO,r.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),n.appendChild(o);let l=_0x393362(a.Fdlpk),c=a.sfrhv(_0x393362,a.XsGjJ),d=a.GvQax(_0x393362,"xlKSJ67AP");c.innerText=e.name,d.innerText=e.id,t.focusable(!0),l.appendChild(c),l.appendChild(d),t.appendChild(n),t.appendChild(l),t.bindWithCooldown(function(){if(_0x3cf5e8){let t={};t.data=e,t.type=a.ewBSw,_0x44a10f(s.Root,t)}else s.root.close(),a.eimSW(_0x44a10f,_0x52135e.main,{data:e,type:a.bxQUi})}),i.appendChild(t)}).catch(e=>{console.error(e)})}(e)}),t.EBkiV(r,1)&&i.classList.add(t.kPcvk)}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0x1e0252.b21,o.classList.add(n.kULgV),[o,r,d].forEach(e=>{e.focusable(!0)}),d.bindWithCooldown(function(){let t={UJJnQ:function(e,t){return n.CkZvV(e,t)},wQYqP:function(e,t){return e===t},DGulY:n.eJnZZ,spcVg:function(e,t,n){return e(t,n)},xmMfU:function(e,t,n){return e(t,n)},YTxrZ:function(e,t,n,i){return e(t,n,i)},ZuVvy:"users",PPVKx:function(e,t){return n.KHxrr(e,t)},TgBAj:n.dfCkd,yconc:n.REIAU};a.close(),new _0x301a05({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0x1e0252[n.aqPcm],message:_0x1e0252.b33,buttons:[{text:_0x1e0252[n.nfrlb],classList:["A5o980bj"]},{text:_0x1e0252[n.qhiTj],classList:["xTJA9U7y9"],onClick:async function(){let n=_0x178cc8.findIndex(t=>t.id===e.id);if(t.UJJnQ(n,-1))try{let s="4|3|0|1|2|5".split("|"),a=0;for(;;){switch(s[a++]){case"0":_0x178cc8.splice(n,1);continue;case"1":i.remove();continue;case"2":t.wQYqP(_0x30c23f,e.id)&&(_0x30c23f=null,_0x52135e.statusLabel.innerHTML="",_0x52135e.roomNameLabel.innerText=_0x1e0252[t.DGulY],_0x52135e.messageContainer.clear());continue;case"3":await t.spcVg(k,p(_0x2d8a6d,"chats",e.id),{members:y(_0x5dea9d)});continue;case"4":await t.xmMfU(k,t.YTxrZ(p,_0x2d8a6d,t.ZuVvy,_0x5dea9d),{joined:t.PPVKx(y,e.id)});continue;case"5":t.wQYqP(_0x178cc8.length,0)&&(_0x52135e.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x1e0252[t.TgBAj]+"</div>");continue}break}}catch(o){console.error(t.yconc,o)}}}]})}),a.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /></svg>'+_0x1e0252.b22,r.bindWithCooldown(async function(){let n={cUpOx:function(e,n){return t.ieXKR(e,n)},KaqJt:"xF37V7xd0",uwBZe:"xYvZ9WF6d",CKygK:"text",tmbMD:"xGGKUZ7B3",LWZKL:"textarea",ucjne:"xGuwEx6qN",hOerK:"xFJWlqoGn",XUwZU:t.wKUrY,YvMuP:"input",NCEXE:function(e,t){return e(t)},stibb:"x9ZwavJjj",jzKlh:t.LXTGm,ccjni:function(e,n){return t.fasqR(e,n)},uCOoH:t.MJmvy,rjDAn:"disabled",GCpxH:function(e,t,n,i,s){return e(t,n,i,s)},zpqMS:t.tegMc,MUCDZ:"todos",hMzTH:function(e,t,n){return e(t,n)}};a.close();let i,s=t.ruzKc(_0x393362,"xtx2Cn8cK"),o=t.CwOfQ(_0x393362,t.asGVA);if(_0x3cf5e8){let r={};r.parent=_0x52135e.sidebar,r.title=_0x1e0252.b37,(i=new _0x1051e1(r)).Content.classList.add("x6q2Zh2QF"),i.Content.classList.add("xU2hUavXh"),i.Content.appendChild(s)}else(i=t.beWra(_0x393641,_0x1e0252.b37,!0)).content.classList.add(t.SsTHy),i.content.classList.add("lg"),i.body.appendChild(s);let l=t.CwOfQ(_0x1dc5e4,[]);function c(s,a){let r={HOgIV:t.SKzBU,vQwXK:t.wPLgs,Tzhcg:function(e,n){return t.gEDSi(e,n)},EOUqS:"刪除失敗：",CfJho:function(e,n){return t.pybHe(e,n)},svCGj:"chats",ZAKby:"d10",rENgG:t.GiclO},c=t.IHVUO(_0x393362,"xTIlpY4Et"),d=t.IHVUO(_0x393362,t.YXKPK);c.appendChild(d),"green"===s.theme?d.classList.add("x9hGI5hex"):t.kYHQQ(s.theme,t.hFBEZ)&&d.classList.add("x0eVQzH93");let $=_0x393362(t.RRJCy);c.appendChild($);let u=_0x393362(t.YPxzW);u.innerHTML=s.name||_0x1e0252.d9,$.appendChild(u);let h=_0x393362("xHQ4s8VGa");t.fkGmL(_0x1da050,h,s.description||"忘記加上描述了"),$.appendChild(h);let x=_0x347e72(s.startAt,s.endAt),_=_0x393362(t.foZXD);_.innerText=x,c.appendChild(_);let b=_0x393362(t.TvLYk),m=_0x393362("xaTPzRSCY");m.innerHTML=_0x20d1d2.edit,m.focusable(!0);let v=t.gEDSi(_0x393362,"xaTPzRSCY");v.innerHTML=_0x20d1d2.trash,v.focusable(!0),_0x1dc5e4([m,v],"horizontal"),v.bindWithCooldown(async function(){c.classList.add(r.HOgIV);try{v.focusable(!1),v.classList.add("disabled"),m.focusable(!1),m.classList.add(r.HOgIV),await r.Tzhcg(f,p(_0x2d8a6d,"chats",e.id,r.vQwXK,a)),console.log("已成功刪除行程："+a),c.remove(),l.removeItem(c)}catch(t){v.focusable(!0),v.classList.remove(r.HOgIV),m.focusable(!0),m.classList.remove("disabled"),console.error(r.EOUqS,t),c.classList.remove("disabled")}}),b.appendChild(m),b.appendChild(v),c.appendChild(b),c.focusable(!0),l.addItem(c),o.appendChild(c);let g={};g.name=s.name||"未知",g.startAt=s.startAt||17356608e5,g.endAt=s.endAt||17356608e5,g.description=s.description||"";let C=g;m.bindWithCooldown(function(t){t.stopPropagation(),function t(){let o={};o.wJhVi="disabled";let l=o,c=_0x393641(_0x1e0252.b41,!0,i.Root);c.root.Overlay.classList.add("xOjXmYkxE");let d=n.cUpOx(_0x393362,"xGGKUZ7B3"),$="_"+n.cUpOx(_0x1b8df7,12),x=document.createElement("label"),f=document.createElement("input");x.classList.add(n.KaqJt),f.classList.add(n.uwBZe),x.htmlFor=$,x.textContent=_0x1e0252.b38,f.id=$,f.type=n.CKygK,f.value=C.name,f.maxLength=30,d.appendChild(x),d.appendChild(f);let _=_0x393362(n.tmbMD),b="_"+_0x1b8df7(12),m=document.createElement("label"),v=document.createElement(n.LWZKL);m.classList.add(n.KaqJt),v.classList.add(n.ucjne),m.htmlFor=b,m.textContent=_0x1e0252.b3,v.id=b,v.rows=3,v.value=C.description,v.maxLength=80,_.appendChild(m),_.appendChild(v);let g=n.cUpOx(_0x393362,n.tmbMD);g.classList.add(n.hOerK);let w="_"+_0x1b8df7(12),L=document.createElement(n.XUwZU),y=n.cUpOx(_0x393362,"x9ZwavJjj"),T=document.createElement(n.YvMuP),E=document.createElement(n.YvMuP);L.classList.add("xF37V7xd0"),T.classList.add("xYvZ9WF6d"),L.htmlFor=w,L.textContent=_0x1e0252.b39,T.type="date",T.id=w,E.classList.add(n.uwBZe),E.type="time";let M="_"+_0x1b8df7(12),D=n.NCEXE(_0x393362,n.stibb),I=document.createElement(n.XUwZU),H=document.createElement(n.YvMuP),W=document.createElement(n.YvMuP);I.classList.add("xF37V7xd0"),H.classList.add(n.uwBZe),I.htmlFor=M,I.textContent=_0x1e0252[n.jzKlh],H.id=M,H.type="date",W.classList.add(n.uwBZe),W.type="time";let A=n.ccjni(_0x393362,n.tmbMD),S=_0x393362(n.uCOoH);S.classList.add("xwtdXtpQT"),S.textContent=_0x1e0252.b6,S.classList.add(n.rjDAn);let B={};function R(){r.CfJho(f.value.trim(),"")&&T.value&&E.value&&H.value&&W.value&&(r.CfJho(f.value,B._z)||r.CfJho(T.value,B._a)||E.value!==B._b||H.value!==B._c||W.value!==B._d||v.value!==B._y)?(S.focusable(!0),S.classList.remove(r.HOgIV)):(S.focusable(!1),S.classList.add("disabled"))}B._z=s.name,B._y=s.description;let P=[f,T,E,H,W,v];if(P.forEach(e=>{e.oninput=R}),S.bindWithCooldown(async function(){S.classList.add(r.HOgIV),S.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let t=new Date(T.value+"T"+E.value).getTime(),n=new Date(H.value+"T"+W.value).getTime(),i=f.value,s=v.value;P.forEach(e=>{e.setAttribute(l.wJhVi,!0)});let o=p(_0x2d8a6d,r.svCGj,e.id,"todos",a);try{let d="4|2|5|1|0|7|6|8|3".split("|"),$=0;for(;;){switch(d[$++]){case"0":C.endAt=n;continue;case"1":C.startAt=t;continue;case"2":C.name=i;continue;case"3":c.root.close();continue;case"4":let x={};x.endAt=n,x.startAt=t,x.name=i,x.description=s,await k(o,x);continue;case"5":C.description=s;continue;case"6":_0x1da050(h,C.description||_0x1e0252[r.ZAKby]);continue;case"7":u.innerHTML=C.name;continue;case"8":console.log("已成功更新行程："+a);continue}break}}catch(_){console.error(r.rENgG,_),P.forEach(e=>{e.classList.remove("disabled")})}}),y.appendChild(L),y.appendChild(T),y.appendChild(E),D.appendChild(I),D.appendChild(H),D.appendChild(W),c.body.appendChild(d),c.body.appendChild(_),c.body.appendChild(g),c.body.appendChild(A),g.appendChild(y),g.appendChild(D),A.appendChild(S),C.startAt){let U=new Date(C.startAt),O=new Date(C.startAt).toISOString().split("T")[0];console.log(O);let Y=U.toTimeString().split(":").slice(0,2).join(":");console.log(O),B._a=O,B._b=Y,T.value=O,E.value=Y}if(C.endAt){let j=new Date(C.endAt),G=new Date(C.endAt).toISOString().split("T")[0],X=j.toTimeString().split(":").slice(0,2).join(":");B._c=G,B._d=X,H.value=G,W.value=X}R(),f.focus()}()})}s.appendChild(o);let d=_0x393362("xTOLrzGN6");s.appendChild(d);let $=t.IHVUO(_0x393362,"xCgVOK4ur");d.appendChild($);let u=t.cIfyZ(_0x393362,t.AZVOB),_=t.cIfyZ(_0x393362,"x5FOXvrVK"),b=t.ruzKc(_0x393362,"x5FOXvrVK"),v=_0x393362(t.UdplO);u.appendChild(_),u.appendChild(b),u.appendChild(v);let g=!1;_.innerText=_0x1e0252.c1,b.innerText=_0x1e0252.c2,u.focusable(!0),$.appendChild(u);let w=_0x393362(t.DxJJj);w.classList.add(t.RSUzd),w.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',w.focusable(!0),u.bindWithCooldown(function(){g?(w.classList.remove("hide"),o.classList.remove(t.JWEgb),u.classList.remove("xHCo3rIZ7"),g=!1):(w.classList.add("hide"),o.classList.add("xbrV3058R"),u.classList.add("xHCo3rIZ7"),g=!0)},0),w.bindWithCooldown(async function(){let t=p(n.GCpxH(h,_0x2d8a6d,n.zpqMS,e.id,n.MUCDZ)),i={name:"新的行程",description:"",startAt:Date.now(),endAt:Date.now()};await n.hMzTH(x,t,i),n.hMzTH(c,i,t.id)},1e3),$.appendChild(w),o.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x14545f+"</div>";let L=await t.cIfyZ(m,t.CwOfQ(C,t.sbnGl(h,_0x2d8a6d,"chats",e.id,t.wPLgs)));o.innerHTML='<div class="xmBX2cWRZ">'+_0x1e0252.d14+"</div>",t.EUTVZ(L.docs.length,0)&&L.forEach(e=>{c(e.data(),e.id)})}),a.Content.appendChild(r),a.Content.appendChild(c),d.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-door-exit"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0x1e0252.b23,d.classList.add(n.avpOG),a.Content.appendChild(d),_0x1dc5e4([o,r,d]),a._setPosition()};if(l.bindWithCooldown(function(e){e.stopPropagation(),n.VNtsy($)}),l.focusable(!0),i.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',s.appendChild(a),a.innerText=e.name||_0x1e0252.a2,t=e.description?e.description:n.Oujgy(e.size,0)?_0x1e0252[n.tCBBS]:_0x1e0252[n.ozVLC].replace("$0",_0x159d09(e.size)),o.innerText=t,s.appendChild(o),_0x52135e.primaryArea.appendChild(i),e.focus){n.VNtsy(c);let u={};u.behavior=n.xuZwd,u.block="center",u.inline=n.UqTpb,i.scrollIntoView(u)}}function _0x570e04(e){let t={};t.zbrao=function(e,t){return e<t},t.TRYQY="a21",t.pspxy=function(e,t){return e/t},t.TJFIL=function(e,t){return e/t};let n=t,i=Math.max(Math.floor((Date.now()-e)/1e3),0);return n.zbrao(i,60)?_0x1e0252.a18.replace("$0",i):i<3600?_0x1e0252.a20.replace("$0",Math.floor(i/60)):n.zbrao(i,86400)?_0x1e0252[n.TRYQY].replace("$0",Math.floor(i/3600)):i<2592e3?_0x1e0252.a23.replace("$0",Math.floor(i/86400)):i<31536e3?_0x1e0252.a19.replace("$0",Math.floor(n.pspxy(i,2592e3))):_0x1e0252.a22.replace("$0",_0x159d09(Math.floor(n.TJFIL(i,31536e3))))}function _0x12a12c(e){let t=["B","KB","MB","GB","TB","PB"],n=e,i=0;for(;n>=1024&&i<t.length-1;)n/=1024,i++;return n.toFixed(2)+" "+t[i]}async function _0x3ecbd0(e,t){let n={};n.spkbD="Failed to update user profile:";try{let i=p(_0x2d8a6d,"users",e);if(t){await k(i,t),_0x36989c[e]&&(_0x36989c[e]={..._0x36989c[e],...t});let s=sessionStorage.getItem("upf_"+e);if(s){let a={...JSON.parse(s),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(a))}}else delete _0x36989c[e],sessionStorage.removeItem("upf_"+e);return!0}catch(o){return console.error(n.spkbD,o),!1}}async function _0x482af4(e){let t={fYkcf:function(e,t,n,i){return e(t,n,i)},zFMRY:"users"};if(_0x36989c[e])return _0x36989c[e];let n=sessionStorage.getItem("upf_"+e);if(n){let i=JSON.parse(n);return _0x36989c[e]=i,i}try{let s=await _(t.fYkcf(p,_0x2d8a6d,t.zFMRY,e));if(!s.exists())return null;{let a=s.data();return _0x36989c[e]=a,sessionStorage.setItem("upf_"+e,JSON.stringify(a)),a}}catch(o){throw o}}async function _0x4c2823(e){let t={LVlfg:function(e,t,n,i){return e(t,n,i)},pWJQG:"chats"};if(_0xbbe065[e])return _0xbbe065[e];let n=sessionStorage.getItem("rpf_"+e);if(n){let i=JSON.parse(n);return _0xbbe065[e]=i,i}try{let s=await _(t.LVlfg(p,_0x2d8a6d,t.pWJQG,e));if(!s.exists())return null;{let a=s.data();return _0x36989c[e]=a,sessionStorage.setItem("rpf_"+e,JSON.stringify(a)),a}}catch(o){throw o}}async function _0x231d94(e,t){let n={wtUoq:function(e,t){return e===t},ibbug:function(e,t,n,i){return e(t,n,i)},qViwZ:function(e,t){return e!==t},CCulG:function(e,t){return e(t)},BEeIx:function(e,t,n,i,s){return e(t,n,i,s)},SfhCF:function(e,t,n,i,s){return e(t,n,i,s)},BZbbE:"chats",urdJi:function(e,t,n){return e(t,n)},JoKqA:function(e,t){return e(t)},LmOEv:function(e,t){return e(t)},qCncQ:function(e,t){return e-t}};if(console.log("嘗試加載更多訊息"),n.qViwZ(_0x452cb7,void 0)){_0x222f4b=!0;let i=await n.CCulG(m,n.BEeIx(C,n.SfhCF(h,_0x2d8a6d,n.BZbbE,e,"messages"),n.urdJi(w,"timestamp","desc"),n.CCulG(v,_0x452cb7),n.JoKqA(T,10)));if(console.log(i.docs.length+" messages left"),n.wtUoq(i.docs.length,0))return;_0x452cb7=10===i.docs.length?i.docs[9]:void 0;let s=[];i.forEach(e=>{s.push(e)}),s.reverse();let a=0;_0x162544=n.LmOEv(_0x393362,"xWIHJooz8"),_0x4d2856="";let o=_0x52135e.messageContainer.firstChild;_0x52135e.messageContainer.insertBefore(_0x162544,o);let r=_0x52135e.messageContainer.scrollHeight;s.map(e=>{a++;let t=e.data();-1===_0x193d3b.indexOf(e.id)&&(n.wtUoq(t.sender,_0x5dea9d)?(_0x193d3b.push(e.id),n.ibbug(_0x3821f8,t,e.id,"2")):(_0x193d3b.push(e.id),_0x27b68b(t,e.id,"2")),_0x4d2856=t)});let l=_0x52135e.messageContainer.scrollHeight;_0x222f4b=!0,_0x2af894=n.qCncQ(l,r);let c={};c.top=_0x2af894,c.left=0,c.behavior="instant",_0x52135e.messageContainer.scrollTo(c),_0x2af894=0,setTimeout(function(){_0x222f4b=!1},500)}else _0x222f4b=!1}let _0x2222e9='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x43e960(e){let t={YrkYc:function(e,t){return e!==t},VNJWk:"added",gWvrh:function(e,t){return e===t},yeRxd:"hidden",lKaOW:function(e,t){return e===t},ssUQp:function(e,t,n,i){return e(t,n,i)},EwWvZ:"removed",oOuId:function(e,t){return e(t)},CliXQ:function(e,t,n){return e(t,n)},xUEjU:"{sid}",aUKRC:"找不到匹配的訊息容器",BDfda:"修改訊息時發生未知錯誤",SSWUJ:"An unknown error occurred",OtYYV:function(e,t,n,i,s){return e(t,n,i,s)}};g(t.OtYYV(h,_0x2d8a6d,"chats",e,"messages"),n=>{n.docChanges().forEach(n=>{if(t.YrkYc(_0x30c23f,e))return;let i=n.doc.data();switch(n.type){case t.VNJWk:-1!==_0x193d3b.indexOf(n.doc.id)||n.doc.metadata.fromCache||(t.gWvrh(document.visibilityState,t.yeRxd)&&(_0x4b2b0c++,document.title="("+_0x4b2b0c+") "+_0x3e569b),_0x193d3b.push(n.doc.id),t.lKaOW(i.sender,_0x5dea9d)?t.ssUQp(_0x3821f8,i,n.doc.id,"3"):_0x27b68b(i,n.doc.id,"3"));break;case t.EwWvZ:let s=t.oOuId(_0x20d880,_0x2222e9.replace("{sid}",n.doc.id));try{s.classList.add("xl4gtQk5f"),t.CliXQ(setTimeout,function(){s.remove()},3e3)}catch(a){console.log(a)}break;case"modified":try{let o=_0x20d880(_0x2222e9.replace(t.xUEjU,n.doc.id)).querySelector(".xMyW2iRSH");o?(o.clear(),_0x2bc6f2(o,i.content)):console.log(t.aUKRC)}catch(r){console.log(t.BDfda,r)}}})},e=>{console.error(t.SSWUJ,e)})}function _0x10f260(){let e={vSZhh:"xA7y7OLtP",TyBVt:"2|1|4|3|0",DLGpP:"disabled",vOYZJ:"auth/invalid-email",AMiRo:"b17",eWLcd:"show",LmWPt:function(e,t,n,i){return e(t,n,i)},bgZDa:function(e,t){return e===t},JdpUU:function(e,t,n,i){return e(t,n,i)},MDhfl:function(e,t){return e(t)},Lmgwg:function(e,t){return e===t},NFtIf:"auth/popup-closed-by-user",MafWr:"0|2|4|3|1",AMtnD:function(e,t,n){return e(t,n)},GVAYp:"3|1|4|5|0|2",CxIAH:function(e,t){return e(t)},OwmEH:"x7BYgkdiJ",wgzAG:"b10",fRIXS:"div",XSuDJ:"xBnuWNG6V",hcFAS:"actionbtn xYIKBnbHS",PghDM:"xCmJYJQtp",PkwBx:"xySmLVr4a",tsMQr:function(e,t){return e(t)},mFCgj:"xZyuwxZPZ",ezAgQ:"x6Y89FynP",RuqwQ:function(e,t){return e(t)},ZsitH:"xwxpzc3QF",clxFO:"xGGKUZ7B3",cCTSx:"label",CkikV:"b24",zjlHK:"off",JRPdA:"10px",GzkMq:"input",ABpAL:"b26",nMxuS:"x40AApYkW",hawXo:"b13"},t=e.MDhfl(_0x393362,"xrYn5ZY3v");t.innerText=_0x1e0252.b8;let s=_0x393362("x4V8Jejrz");s.innerText=_0x1e0252.b9;let o=e.CxIAH(_0x393362,"xRRuA0Z3S"),r=document.createElement("div");r.id=e.OwmEH,r.focusable(!0);let l='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0x1e0252.b11,c='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0x1e0252[e.wgzAG]+"</span>\n						</div>";r.innerHTML=l;let d=document.createElement(e.fRIXS);d.focusable(!0),d.id=e.XSuDJ,d.className="actionbtn xYIKBnbHS",r.className=e.hcFAS,d.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0x1e0252.b12,o.appendChild(r),o.appendChild(d);let $=new _0x4e5c33;$.Content.classList.add("bt"),$.Root.classList.add(e.PghDM),$.Content.classList.add(e.PkwBx),$.Content.appendChild(t),$.Content.appendChild(s),$.Content.appendChild(o);let u=e.MDhfl(_0x393362,"xrYn5ZY3v");u.classList.add("lf"),u.classList.add("gc");let h=e.tsMQr(_0x393362,e.mFCgj);h.focusable(!0),h.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',u.appendChild(h);let x=e.CxIAH(_0x393362,e.ezAgQ);x.innerText=_0x1e0252.b27,u.appendChild(x);let p=e.RuqwQ(_0x393362,"xWDUelLWA");p.classList.add(e.ZsitH),$.Content.appendChild(u),$.Content.appendChild(p);let f=document.createElement("div");p.appendChild(f),f.classList.add("xZdL9CF5M");let _=document.createElement(e.fRIXS);_.classList.add(e.clxFO),f.appendChild(_);let b=document.createElement(e.cCTSx);b.classList.add("xF37V7xd0"),b.innerText=_0x1e0252[e.CkikV],_.appendChild(b);let m=document.createElement("input");m.classList.add("xYvZ9WF6d"),m.autocomplete=e.zjlHK,m.type="text",m.disabled=!0,m.spellcheck=!1,_.appendChild(m);let v=document.createElement("div");v.classList.add("xGGKUZ7B3"),v.style.marginTop=e.JRPdA,v.style.marginBottom="5px",f.appendChild(v);let g=document.createElement("label");g.classList.add("xF37V7xd0"),g.innerText=_0x1e0252.b25,v.appendChild(g);let C=document.createElement(e.GzkMq);C.classList.add("xYvZ9WF6d"),C.type="password",C.disabled=!0,C.autocomplete=e.zjlHK,v.appendChild(C);let w=document.createElement(e.fRIXS);w.classList.add("xw0IanPrC"),f.appendChild(w);let L=document.createElement(e.fRIXS);L.innerText=_0x1e0252[e.ABpAL],L.classList.add("disabled"),L.classList.add(e.nMxuS),f.appendChild(L);let y=_0x393362("xPT7rhLdL");y.focusable(!0),y.innerHTML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12l14 0"></path><path d="M5 12l6 6"></path><path d="M5 12l6 -6"></path></svg>'+_0x1e0252[e.hawXo],y.bindWithCooldown(function(){$.Content.classList.remove(e.vSZhh),L.classList.add("disabled"),L.focusable(!1),m.disabled=!0,C.disabled=!0}),f.appendChild(y),h.bindWithCooldown(function(){let t=e.TyBVt.split("|"),n=0;for(;;){switch(t[n++]){case"0":C.disabled=!0;continue;case"1":L.classList.add(e.DLGpP);continue;case"2":$.Content.classList.remove("xA7y7OLtP");continue;case"3":m.disabled=!0;continue;case"4":L.focusable(!1);continue}break}});let k=!0,T=function(){let t={};t.EDRBS="show",t.ghZVg="b14",t.mqxWB=e.vOYZJ,t.qYyut="b15",t.sAMWt=e.AMiRo,t.FojVj=e.DLGpP;let n=t;k&&(k=!1,h.classList.add(e.DLGpP),h.focusable(!1),w.classList.remove(e.eWLcd),L.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,C.disabled=!0,L.classList.add(e.DLGpP),L.focusable(!1),L.blur(),y.classList.add(e.DLGpP),y.focusable(!1),e.LmWPt(a,_0x2ec747,m.value,C.value).then(e=>{try{$.close(),α.close()}catch(t){}let n=e.user;console.log("User is logged in: ",n)}).catch(e=>{setTimeout(function(){let t=e.code;switch(w.classList.add(n.EDRBS),t){case"auth/invalid-login-credentials":w.innerText=_0x1e0252[n.ghZVg];break;case n.mqxWB:w.innerText=_0x1e0252[n.qYyut];break;case"auth/network-request-failed":w.innerText=_0x1e0252.b16;break;default:w.innerText=_0x1e0252[n.sAMWt]}L.innerHTML=_0x1e0252.b26,L.classList.remove(n.FojVj),L.focusable(!0),y.classList.remove("disabled"),y.focusable(!0),m.disabled=!1,C.disabled=!1,h.classList.remove(n.FojVj),h.focusable(!0),k=!0},3e3)}))};C.onkeydown=function(t){e.bgZDa(t.keyCode,13)&&T()},L.bindWithCooldown(T),r.bindWithCooldown(function(){r.classList.add(e.DLGpP),d.classList.add(e.DLGpP),r.innerHTML=c,r.focusable(!1),d.focusable(!1),e.AMtnD(n,_0x2ec747,_0x57806a).then(t=>{let n={QgECb:function(t,n,i,s){return e.JdpUU(t,n,i,s)}};i.credentialFromResult(t).accessToken,_0x5dea9d=t.user.uid,e.MDhfl(_0x482af4,_0x5dea9d).then(e=>{try{n.QgECb(_0x1c20ce,e.avatarUrl,e.name,e.qid||e.id)}catch(t){console.error("無法設置")}$.close()}).catch(e=>{console.error(e)})}).catch(t=>{if(e.Lmgwg(t.code,e.NFtIf)){let n=e.MafWr.split("|"),i=0;for(;;){switch(n[i++]){case"0":r.classList.remove(e.DLGpP);continue;case"1":r.innerHTML=l;continue;case"2":d.classList.remove(e.DLGpP);continue;case"3":d.focusable(!0);continue;case"4":r.focusable(!0);continue}break}}})}),d.bindWithCooldown(function(){let t=e.GVAYp.split("|"),n=0;for(;;){switch(t[n++]){case"0":L.classList.remove(e.DLGpP);continue;case"1":m.disabled=!1;continue;case"2":m.focus();continue;case"3":$.Content.classList.add(e.vSZhh);continue;case"4":C.disabled=!1;continue;case"5":L.focusable(!0);continue}break}})}function _0x19dda1(e="",t="",...n){let i={LTJiV:function(e,t){return e!==t},mUiPP:"disabled",VpJZb:function(e,t){return e(t)},mLxlx:"users",fiMBg:"d10",hJgTG:"xMCbxIsn5",ekwkv:"xrYn5ZY3v",tbJwW:"x6Y89FynP",OinvN:"xvb5soWNa",Dcdfi:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',fdbEz:function(e,t){return e(t)},ZAuEZ:"input",TEGBp:"hidden",KeUak:"true",wlQjD:"_Jy2eOVG7",LyRZB:"file",CWvor:"xGGKUZ7B3",iPVPM:"label",jwjxw:"xYvZ9WF6d",nTrZg:"off",KonFB:function(e,t){return e(t)},iOoRo:"textarea"},s={};s.closeOnEsc=!0,s.closeOnOverlayClick=!0,s.excludeElements=n;let a=new _0x4e5c33(s);a.Root.classList.add(i.hJgTG),a.Content.style.padding="0";let o=i.VpJZb(_0x393362,i.ekwkv);o.classList.add("lf");let r=_0x393362(i.tbJwW);r.innerText=_0x1e0252.b5,o.appendChild(r);let l=i.VpJZb(_0x393362,i.OinvN);l.focusable(!0),l.innerHTML=i.Dcdfi,a.close=a.close.bind(a),l.bindWithCooldown(a.close),o.appendChild(l),a.Content.appendChild(o);let c=i.fdbEz(_0x393362,"xWDUelLWA");a.Content.appendChild(c);let d=document.createElement(i.ZAuEZ);d.setAttribute(i.TEGBp,i.KeUak),d.id=i.wlQjD,d.type=i.LyRZB;let $=_0x393362(i.CWvor),u=document.createElement(i.iPVPM);u.innerText=_0x1e0252.b4,u.classList.add("xF37V7xd0"),u.htmlFor="_rJvAjH9O";let h=document.createElement("input");h.value=e,h.classList.add(i.jwjxw),h.id="_rJvAjH9O",h.type="text",h.maxLength="20",h.autocomplete=i.nTrZg,h.spellcheck=!1,c.appendChild($),$.appendChild(u),$.appendChild(h);let f=i.KonFB(_0x393362,"xGGKUZ7B3"),b=document.createElement(i.iPVPM);b.innerText=_0x1e0252.b3,b.classList.add("xF37V7xd0"),b.htmlFor="_fM6Qcf9q";let m=document.createElement(i.iOoRo);m.maxLength="80",m.value=t,m.classList.add("xGuwEx6qN"),m.id="_fM6Qcf9q",m.rows="3",m.maxLength="50",m.autocomplete="off",m.spellcheck=!1,c.appendChild(f),f.appendChild(b),f.appendChild(m);let v=i.KonFB(_0x393362,"x40AApYkW");function g(){i.LTJiV(m.value,t)||i.LTJiV(h.value,e)?(v.classList.remove("disabled"),v.focusable(!0)):(v.classList.add(i.mUiPP),v.focusable(!1))}async function C(){v.classList.add(i.mUiPP),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),h.disabled=!0,m.disabled=!0,d.disabled=!0;let e=h.value,t=m.value.trim();if((await i.VpJZb(_,p(_0x2d8a6d,i.mLxlx,_0x5dea9d))).exists()){let n={};n.name=e,n.signature=t,await _0x3ecbd0(_0x5dea9d,n)}else await x(p(_0x2d8a6d,i.mLxlx,_0x5dea9d),{name:e,signature:t,id:_0x5dea9d,joined:[],deviceInfo:""}),_0x52135e.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x1e0252.d7+"</div>";_0x52135e.nameLabel.innerText=e,_0x9b1a1f.state&&(_0x9b1a1f._n=e,_0x9b1a1f._a.innerText=e,_0x9b1a1f._b.innerHTML=i.VpJZb(_0x2685ef,_0x5ccdc8(t))||_0x1e0252[i.fiMBg],_0x9b1a1f._m.forEach(t=>{t.userId===_0x5dea9d&&(t.dom.textContent="@"+e)})),a.close()}v.innerText=_0x1e0252.b7,v.classList.add(i.mUiPP),v.style.marginTop="0",c.appendChild(v),m.oninput=g,h.oninput=g,v.bindWithCooldown(C),h.focus()}async function _0x416dc0(e,t){let n={VONTO:function(e,t){return e(t)},jnBFB:function(e,t,n,i,s){return e(t,n,i,s)}},i=await n.VONTO(m,n.jnBFB(h,_0x2d8a6d,"chats",e.id,"messages"));if(!_0x178cc8.some(t=>t.id===e.id)){let s={};s.name=e.name,s.id=e.id,s.type=e.type,s.tag=e.tag,s.description=e.description,s.size=i.size,s.members=e.members,s.focus=t,s.identity=e.identity,n.VONTO(_0x8b029f,s)}}async function _0x578799(){let e={JoHWJ:function(e,t,n){return e(t,n)},YHqEv:function(e,t){return e(t)},JKaUd:"users"};_0x52135e.primaryArea.classList.add("xuGldtFot");let t=(await e.YHqEv(_,p(_0x2d8a6d,e.JKaUd,_0x5dea9d))).data(),n=new URLSearchParams(window.location.search).get("r");(t.joined||[]).length>0?t.joined.map(async t=>{let i={JgTio:function(t,n,i){return e.JoHWJ(t,n,i)}};try{_0x4c2823(t).then(async e=>{let s={};s.id=t,s.name=e.name,s.type=e.type,s.tag=e.tag,s.plugins=e.plugins,s.members=e.members,s.description=e.description,s.identity=e.identity,i.JgTio(_0x416dc0,s,n===t)})}catch(s){console.error("Error fetching document for ID:",t,s)}}):_0x52135e.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x1e0252.d13+"</div>"}s(_0x2ec747,e=>{let t={ifGxG:function(e){return e()},saUaJ:function(e,t,n,i){return e(t,n,i)},eFnba:function(e){return e()},zIPYJ:function(e){return e()}};e?(_0x482af4(_0x5dea9d=e.uid).then(e=>{if(!e){t.ifGxG(_0x19dda1);return}t.saUaJ(_0x1c20ce,e.avatarUrl,e.name,e.id)}).catch(e=>{console.error(e),t.eFnba(_0x1c20ce)}),t.zIPYJ(_0x2b53e3)):(_0x5dea9d="",_0x10f260())});let _0x28b522={};_0x28b522.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x28b522.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x28b522.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x28b522.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x28b522.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x4be5a5=_0x28b522;function _0x1512a9(){let e={};e.zqmkI="disabled",e.IJhOR="contenteditable",e.eCPCC="true";let t=e;_0x2865ca=!1,_0x30299b=_0x52135e.sidebar,_0x52135e.backButton.classList.add(t.zqmkI),_0x52135e._mb_att_btn.classList.add(t.zqmkI);let n=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x52135e.main.classList.remove("x8VAGH6N2"),_0x222f4b=!0,_0x52135e.messageContainer.clear(),_0x222f4b=!1,_0x30c23f="",_0x3e569b="Structure",document.title=_0x3e569b,_0x52135e.messageInput.clear(),_0x52135e.messageInput.setAttribute(t.IJhOR,t.eCPCC),_0x52135e.messageInput.focusable(!1),_0x52135e.sendButton.classList.add("disabled"),_0x52135e.sendButton.focusable(!1)}_0x52135e.fileInput.onchange=async function(e){let t={bPWkE:"b44",Asubh:"b45",gctlV:function(e,t){return e/t},eHOOE:"{u}",lTpVh:"chats",TkDMN:"messages",burAy:function(e,t,n,i){return e(t,n,i)},rIoZW:"b46",pOZhq:"b47",fEhLn:"xOjXmYkxE",QxiwJ:function(e,t){return e(t)},kqtfV:function(e,t){return e(t)},gTQPN:"xWDUelLWA",xSzUD:"xIOucKmLX",cmouC:function(e,t){return e(t)},bAKos:function(e,t){return e(t)},Qdaqr:function(e,t){return e>t},VafmM:"b48",sncoJ:function(e,t){return e(t)},oelEX:"xCECpHDwZ",oSEjp:"div",LsToW:"xty9qDHrl",QsyCv:"image/",OroCu:"< video {u}",OSsDc:"audio/",zgnlG:"< audio {u}",AzMFg:"application/zip",mEPUG:"application/x-compressed",rCqaE:function(e,t){return e===t},HtXvW:'<div class="xTGGn7ABj">',AeZLe:"xk0osKWCK",CUyVg:"生成文件名時發生未知錯誤",dHjxq:"state_changed"},n=e.target.files[0];if(!n)return;let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let s=new _0x4e5c33(i);s.Overlay.classList.add(t.fEhLn),s.Lock=!0;let a=t.QxiwJ(_0x393362,"xrYn5ZY3v");a.classList.add("lf");let o=t.kqtfV(_0x393362,t.gTQPN);o.classList.add(t.xSzUD),s.Content.appendChild(a),s.Content.appendChild(o),s.Content.classList.add("gt");let r=t.cmouC(_0x393362,"x6Y89FynP"),$=_0x393362("xujSSErs5");a.appendChild(r),o.appendChild($);let u=t.bAKos(_0x393362,"xvb5soWNa");if(u.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',u.focusable(!0),a.appendChild(u),t.Qdaqr(n.size,52428800)){r.innerText=_0x1e0252[t.VafmM],$.innerText=_0x1e0252.b49.replace("$0",t.sncoJ(_0x12a12c,n.size)),u.onclick=function(){_0x52135e.fileInput.value="",s.close.bind(s)()},s.Lock=!1;return}r.innerText=_0x1e0252.b42,$.innerText=_0x1e0252.b43;let f=document.createElement("div");f.classList.add(t.oelEX),f.focusable(!0),o.appendChild(f);let _=document.createElement(t.oSEjp);_.classList.add(t.LsToW),f.appendChild(_);let b=document.createElement("div");b.classList.add("xIEj1ZAnA");let m=t.cmouC(String,n.type),v="",g="";m.startsWith(t.QsyCv)?(v=_0x4be5a5.image,g="< image {u}"):m.startsWith("video/")?(v=_0x4be5a5.video,g=t.OroCu):m.startsWith(t.OSsDc)?(v=_0x4be5a5.audio,g=t.zgnlG):-1!==["application/x-zip-compressed",t.AzMFg,"application/x-rar-compressed","application/vnd.rar",t.mEPUG].indexOf(m)?(v=_0x4be5a5.archive,g="< other {u}"):t.rCqaE(m,"application/pdf")?(v=_0x4be5a5.others,g="< pdf {u}"):(v=_0x4be5a5.others,g="< other {u}"),b.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+v+"</svg>",_.appendChild(b);let C=document.createElement(t.oSEjp);C.classList.add("xxs4n9nhX"),_.appendChild(C),C.innerHTML=t.HtXvW.concat(n.name).concat('</div><div class="xtyaQiCLO">'+t.kqtfV(_0x12a12c,n.size)+"</div>"),_.appendChild(C);let w=document.createElement(t.oSEjp);w.classList.add("xsoLox5sj"),_.appendChild(w);let L=document.createElement("div");L.classList.add(t.AeZLe),w.appendChild(L);let y="";try{y=t.QxiwJ(_0x1b8df7,12)+"-"+n.name}catch(k){console.log(t.CUyVg,k)}let T=l(_0x569dbe,"uploads/"+_0x30c23f+"/attachment/"+y),E=c(T,n);u.onclick=function(){let e="2|5|3|1|0|4".split("|"),n=0;for(;;){switch(e[n++]){case"0":_0x52135e.fileInput.value="";continue;case"1":E.cancel();continue;case"2":r.innerText=_0x1e0252[t.bPWkE];continue;case"3":s.Lock=!1;continue;case"4":s.close();continue;case"5":$.innerText=_0x1e0252[t.Asubh];continue}break}},E.on(t.dHjxq,e=>{let n=100*t.gctlV(e.bytesTransferred,e.totalBytes);L.style.width=n+"%"},e=>{console.log(e)},async()=>{let e=await d(E.snapshot.ref),n="";n=g.replace(t.eHOOE,e);let i=p(h(_0x2d8a6d,t.lTpVh,_0x30c23f,t.TkDMN));await x(i,{sender:_0x5dea9d,content:n,timestamp:Date.now()}),_0x193d3b.push(i.id);let a={};a.content=n,t.burAy(_0x3821f8,a,i.id,"3"),_0x52135e.fileInput.value="",f.remove(),r.innerText=_0x1e0252[t.rIoZW],$.innerText=_0x1e0252[t.pOZhq],u.onclick=()=>{},s.Lock=!1,u.bindWithCooldown(function(){s.close()})})},document.addEventListener("visibilitychange",function(){let e={};e.NDpvB=function(e,t){return e===t},e.NDpvB(document.visibilityState,"visible")&&(console.log("已重新聚焦 清除未讀訊息數"),document.title=_0x3e569b,_0x4b2b0c=0)}),_0x52135e.searchInput.oninput=function(){let e={};e.GoEhQ="hide",e.tiFQF=function(e,t){return e!==t};let t=e,n=_0x52135e.searchInput.value.toLowerCase().trim();t.tiFQF(n,"")?_0x178cc8.forEach(e=>{e.name.toLowerCase().includes(n)?e.dom.classList.remove("hide"):e.dom.classList.add("hide")}):_0x178cc8.forEach(e=>{e.dom.classList.remove(t.GoEhQ)})},_0x52135e.messageContainer.addEventListener("scroll",function(){let e={};e.lqlke=function(e,t){return e!==t},e.uJCSP=function(e,t){return e!==t},e.ujTCi=function(e,t){return e<t};let t=e,n=_0x52135e.messageContainer.scrollTop;t.lqlke(_0x5dea9d,"")&&t.uJCSP(_0x30c23f,"")&&t.ujTCi(n,120)&&!_0x222f4b&&(_0x307e7b=!0,_0x231d94(_0x30c23f))}),_0x52135e.messageInput.oninput=function(){let e={};e.FPKtO=function(e,t){return e==t},e.taGjW=function(e,t){return e===t},e.ErWbk="DIV",e.AEuQw="disabled";let t=e,n=_0x52135e.messageInput.childNodes;t.FPKtO(n.length,1)&&(t.taGjW(n[0].nodeName,"BR")||n[0].nodeName===t.ErWbk)&&_0x52135e.messageInput.clear(),""!==_0x52135e.messageInput.innerText.trim()?(_0x52135e.sendButton.classList.remove("disabled"),_0x52135e.sendButton.focusable(!0)):(_0x52135e.sendButton.classList.add(t.AEuQw),_0x52135e.sendButton.focusable(!1))},_0x52135e.messageInput.onfocus=function(){let e={};e.NoFwj="xYIbDcl9T",document.body.classList.add(e.NoFwj)},_0x52135e.messageInput.onblur=function(){document.body.classList.remove("xYIbDcl9T")},_0x52135e.messageInput.onpaste=function(e){e.preventDefault(),document.execCommand("insertHTML",!0,({AbaeG:function(e,t){return e(t)}}).AbaeG(_0x5ccdc8,(e.clipboardData||window.Clipboard).getData("text/plain")))},_0x52135e.messageInput.ondrop=function(e){let t={};t.MbLbB="text/plain",t.CkulF="insertHTML";let n=t;e.preventDefault();let i=e.dataTransfer.getData(n.MbLbB);e.target.focus(),document.execCommand(n.CkulF,!0,_0x5ccdc8(i))},_0x52135e.messageInput.oncopy=function(e){e.preventDefault();var t=window.getSelection().toString();e.clipboardData.setData("text/plain",t)},_0x52135e.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x3cf5e8||e.shiftKey||(e.preventDefault(),_0x2dc824());break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x52135e.sendButton.bindWithCooldown(_0x2dc824),document.onkeydown=function(e){let t={};t.poMni=function(e,t){return e!=t},t.OaXZY=function(e,t){return e!=t},t.MykDV=function(e,t){return e!=t},t.eiqfw="INPUT",t.lxrXd="xGuwEx6qN";let n=t;switch(e.keyCode){case 191:let i=document.activeElement;n.poMni(i,_0x52135e.messageInput)&&n.OaXZY(i,_0x52135e.searchInput)&&n.MykDV(i.tagName.toUpperCase(),n.eiqfw)&&!i.classList.contains(n.lxrXd)&&!i.classList.contains("xYvZ9WF6d")&&(e.preventDefault(),_0x52135e.messageInput.focus());break;case 75:e.ctrlKey&&_0x18e816&&(e.preventDefault(),_0x52135e.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x52135e.backButton.bindWithCooldown(function(){({JnbTP:function(e){return e()}}).JnbTP(_0x1512a9)}),_0x52135e.profileContainer.bindWithCooldown(function(){let e={JPkQp:"disabled",CooHj:"show",MVjzq:function(e,t,n){return e(t,n)},ZnsdM:function(e,t,n){return e(t,n)},tmysI:"chats",LNacv:function(e,t,n,i){return e(t,n,i)},wYWUQ:"smooth",eAxuS:"center",DuHXO:function(e,t){return e!==t},RIgAp:"normal",oCoWU:function(e){return e()},EiPyT:"xGGKUZ7B3",HSgnm:"xlEirFRi3",QuMRP:function(e,t){return e(t)},iNZFl:"label",sTsYU:"a13",cDTxG:"xF37V7xd0",SFZNT:"off",hnZbj:"xYvZ9WF6d",hunAI:"a14",PbLWy:function(e,t){return e(t)},rJfXM:"xLhiIL2Wm",QFKbI:function(e,t){return e(t)},raDho:"a11",YjDOm:function(e,t){return e(t)},TdyqL:"a15",WRNdc:function(e,t){return e(t)}},t={};t.trigger=_0x52135e.profileContainer,t.placement="top";let n=new _0x3bf754(t);n.Content.classList.add(e.rJfXM),_0x52135e.profileContainer.classList.add("x9EnCPd4S");let i=e.QFKbI(_0x393362,"xrQdSHI2A");i.focusable(!0),i.innerHTML='<svg style="min-width: 24px" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 9h8" /><path d="M8 13h6" /><path d="M12.01 18.594l-4.01 2.406v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v5.5" /><path d="M16 19h6" /><path d="M19 16v6" /></svg>'+_0x1e0252[e.raDho],i.bindWithCooldown(function(){let t={YjsWe:function(t,n,i){return e.MVjzq(t,n,i)},xsiQH:function(e,t){return e(t)},NKmfi:function(t,n,i,s){return e.LNacv(t,n,i,s)},VHArq:function(e,t){return e(t)},xptDq:function(e,t){return e===t},GShIq:e.wYWUQ,fcdsn:e.eAxuS,XYDTx:function(t,n){return e.DuHXO(t,n)},MryiD:"disabled",cEgUe:e.RIgAp,tNpAV:function(e,t){return e===t},TGiUX:function(e){return e()},oejNV:function(t){return e.oCoWU(t)}};n.close();let i=_0x393641(_0x1e0252.a11,!0);i.Root.classList.add("xUhQpBm2v");let s=_0x393362(e.EiPyT);s.classList.add(e.HSgnm);let a="_"+e.QuMRP(_0x1b8df7,12),o=document.createElement(e.iNZFl);o.textContent=_0x1e0252[e.sTsYU],o.htmlFor=a,o.classList.add(e.cDTxG);let r=document.createElement("input");r.classList.add("x4qSHIItt"),r.id=a,r.autocomplete="off",r.autocorrect=e.SFZNT,r.maxLength="8",r.classList.add("xYvZ9WF6d"),r.classList.add(e.hnZbj),s.appendChild(o),s.appendChild(r);let l=e.QuMRP(_0x393362,"xw0IanPrC"),c=e.QuMRP(_0x393362,"x40AApYkW");c.classList.add("disabled"),c.textContent=_0x1e0252[e.hunAI];let d=e.JPkQp;async function $(){let n={SQOlD:e.JPkQp,XecOQ:e.CooHj,qEVhq:function(t,n,i){return e.MVjzq(t,n,i)}};i.root.Lock=!0,i.closebtn.classList.add("disabled"),i.closebtn.focusable(!1),l.classList.remove("show"),c.classList.add(e.JPkQp),r.setAttribute(e.JPkQp,!0),c.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let s=await m(e.ZnsdM(C,h(_0x2d8a6d,e.tmysI),e.LNacv(b,"jid","==",r.value.trim())));s.empty?setTimeout(function(){let e="4|7|2|1|3|5|0|6".split("|"),t=0;for(;;){switch(e[t++]){case"0":c.classList.remove(n.SQOlD);continue;case"1":l.classList.add(n.XecOQ);continue;case"2":i.closebtn.focusable(!0);continue;case"3":l.innerText=_0x1e0252.a17;continue;case"4":i.root.Lock=!1;continue;case"5":r.removeAttribute(n.SQOlD);continue;case"6":c.innerHTML=_0x1e0252.a14;continue;case"7":i.closebtn.classList.remove(n.SQOlD);continue}break}},3e3):(i.root.Lock=!1,i.root.close());let a=[];s.forEach(e=>{let t={};t.id=e.id,a.push(t)}),a.forEach(async e=>{let i=_0x178cc8.find(t=>t.id===e.id);if(i){if(t.xptDq(a.length,1)){let s={};s.behavior=t.GShIq,s.block=t.fcdsn,s.inline="nearest",i.dom.scrollIntoView(s),i.launch()}}else await t.YjsWe(k,p(_0x2d8a6d,"users",_0x5dea9d),{joined:t.xsiQH(L,e.id)}),await k(t.NKmfi(p,_0x2d8a6d,"chats",e.id),{members:t.xsiQH(L,_0x5dea9d)}),sessionStorage.removeItem("rpf_"+e.id),t.VHArq(_0x4c2823,e.id).then(async t=>{let i={};i.id=e.id,i.name=t.name,i.type=t.type,i.tag=t.tag,i.plugins=t.plugins,i.members=t.members,i.description=t.description,i.identity=t.identity,n.qEVhq(_0x416dc0,i,!0),console.log("成功加入",e.id)})})}r.oninput=function(){let e;8===(e=r.value.trim()).length&&t.XYDTx(e,"")?(c.classList.remove(t.MryiD),c.focusable(!0),d=t.cEgUe):(c.classList.add(t.MryiD),c.focusable(!1),d="disabled")},r.onkeydown=function(e){13===e.keyCode&&t.tNpAV(d,"normal")&&t.TGiUX($)},c.bindWithCooldown(async function(){t.XYDTx(d,t.cEgUe)||t.oejNV($)}),i.body.appendChild(s),i.body.appendChild(l),i.body.appendChild(c),r.focus()});let s=e.YjDOm(_0x393362,"xrQdSHI2A");s.focusable(!0),s.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0x1e0252[e.TdyqL],s.bindWithCooldown(function(){let t={hbQcx:function(t,n,i){return e.MVjzq(t,n,i)},OSkzx:"mobile"};n.close(),e.PbLWy(_0x482af4,_0x5dea9d).then(e=>{t.hbQcx(_0x44a10f,_0x52135e.sidebar,{data:e,type:_0x3cf5e8?t.OSkzx:"desktop"})}).catch(e=>{console.error(e)})});let a=_0x393362("xcoXgMpFW"),r=e.WRNdc(_0x393362,"xrQdSHI2A");r.focusable(!0),r.bindWithCooldown(function(){let e={};e.MXjFv="disabled",e.EPzYu="xJd2GT7MI";let t=e;n.close(),o(_0x2ec747).then(()=>{_0x5dea9d="",_0x30c23f="",_0x178cc8.length=0,_0x193d3b.length=0,_0x18e816=!1;let e=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",e),_0x52135e.primaryArea.clear(),_0x52135e.messageContainer.clear(),localStorage.setItem("cvs",""),_0x333860&&(_0x333860.remove(),_0x333860=null),document.body.classList.remove("xmKH3ad5R"),_0x52135e.profileContainer.classList.remove(t.MXjFv),_0x52135e.profileContainer.focusable(!0),_0x52135e.markButton.classList.add("disabled"),_0x52135e.brushButton.classList.add(t.MXjFv),_0x52135e.attachButton.classList.add("disabled"),_0x52135e.stickerButton.classList.add(t.MXjFv),_0x19a060=!1,_0x52135e.avatarWrapper.classList.add(t.EPzYu),_0x52135e.avatarLabel.src="",_0x52135e.nameLabel.innerText="",_0x52135e.signatureLabel.innerText=""}).catch(e=>{console.error("Sign out error",e)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0x1e0252.a16,e.QFKbI(_0x1dc5e4,[i,s,r]),n.Content.appendChild(i),n.Content.appendChild(s),n.Content.appendChild(a),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x52135e.profileContainer.classList.remove("x9EnCPd4S")})});class _0x1051e1{constructor({parent:e,title:t}){let n={FyPlQ:"inert",pzHZk:"true",bkDDy:"xa2pPtuLq",WbgkE:function(e,t){return e(t)},sVbZI:function(e,t){return e(t)},LxXMl:"xopQXJrX5",zGGBz:"xMyenRl7K",yPBpn:"x8JU9DbQZ",mlJnH:function(e,t){return e(t)},ovPMZ:"xvwhg72ii",Gsrbv:function(e,t,n){return e(t,n)}},i=e,s=n.WbgkE(_0x393362,"xB4hVI3El"),a=n.sVbZI(_0x393362,n.LxXMl),o=n.sVbZI(_0x393362,"xZz4zYjIm"),r=n.sVbZI(_0x393362,n.zGGBz),l=_0x393362(n.yPBpn),c=n.mlJnH(_0x393362,n.ovPMZ);this._parent=i,this.Root=s,this.Content=o,this.Heading=a,this._backButton=l,this._deactivated_elements=document.querySelectorAll("body > *:not(.xEHCrF5Oe, script, [hidden])"),this._deactivated_elements.forEach(e=>{e.setAttribute(n.FyPlQ,n.pzHZk)}),a.appendChild(r),r.appendChild(l),r.appendChild(c),c.textContent=t,l.focusable(!0),l.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',l.bindWithCooldown(this.close.bind(this)),s.appendChild(a),s.appendChild(o),document.body.appendChild(s),n.Gsrbv(setTimeout,function(){_0x30299b=s,i.classList.add("xCr0RyqCg"),s.classList.add(n.bkDDy)},50)}onClose(e){this.onCloseCallback=e}close(){let e={};e.nRngy="xCr0RyqCg";let t=e,n="4|2|7|0|1|6|3|5".split("|"),i=0;for(;;){switch(n[i++]){case"0":this.Root.classList.remove("xa2pPtuLq");continue;case"1":this._parent.classList.remove(t.nRngy);continue;case"2":this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")});continue;case"3":this.Root.classList.remove("xjv5U11Kz");continue;case"4":this.onCloseCallback&&this.onCloseCallback();continue;case"5":setTimeout(()=>{this.Root.remove()},100);continue;case"6":this._parent.classList.remove("xjv5U11Kz");continue;case"7":_0x30299b=this._parent;continue}break}}}async function _0x44a10f(e,t){let n={KDYHX:"xORN7XV1j",fXynY:function(e,t,n,i){return e(t,n,i)},tnBoi:function(e,t){return e<t},ngLXv:"--xBG05icPu",UsGuL:function(e,t){return e(t)},pQqnM:"x0zSVRG3y",AhYOO:"cache-url",BvSzX:"video",OcaNW:"nodownload",cGcQu:"muted",WppJm:"img",vGNFM:"x96ofpjeu",ZgTcm:"xkKF4v6d2",oZNDh:"xt0pX9m5p",jTToF:"assets/avatar.png",PjIXK:"lazy",Uafts:function(e,t){return e(t)},CFLQB:function(e,t){return e(t)},YzCoD:"x117sdiIx",Dwxrd:function(e,t){return e(t)},tDxsO:"xxXoB6W0R",GjKRY:function(e,t){return e(t)},DDLtR:"d10",qnyJX:function(e,t){return e(t)},xkzTS:"xylvbLNlS",yAhzq:function(e,t){return e(t)},FCaNF:function(e,t){return e+t},mjGOk:function(e,t){return e(t)},knIhq:"d12",IRTJp:function(e,t){return e===t},BgmQA:"xjMiLDVEU",CDRhX:"xUHiz9aGO",wuFtO:"xhMhXcFlu",WDngl:"xIl46kG8k",kcweq:function(e,t){return e(t)},bmBHv:function(e,t){return e(t)},kXqXw:"xHPTUCUar",hofrO:function(e,t,n){return e(t,n)},BlHgk:"--xD672nKxG",ejmsh:function(e,t){return e===t},CXMkJ:"x8JU9DbQZ",hampi:"xwMgtrL2x",YsaaQ:"xnS3FTqjp"};_0x9b1a1f.state=!0,_0x9b1a1f._n||(_0x9b1a1f._n=t.data.name),_0x9b1a1f._d||(_0x9b1a1f._d=t.data.signature);let i=_0x393362("xkyfCNAI0"),s=n.UsGuL(_0x393362,n.pQqnM),a,o={};o.action="cache-url",o.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(o);let r={};r.action=n.AhYOO,r.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),t.data.bannerType===n.BvSzX?((a=document.createElement(n.BvSzX)).loop=!0,a.controlslist=n.OcaNW,a.controls=!1,a.setAttribute(n.cGcQu,""),a.playsInline=!0,a.preload=!0,a.autoplay=!0,a.src=t.data.bannerUrl):((a=document.createElement(n.WppJm)).draggable=!1,a.src=t.data.bannerUrl||"assets/default-banner.png",a.loading="lazy"),a.classList.add(n.vGNFM);let l=_0x393362(n.ZgTcm),c=_0x393362("xwvIJoAtO"),d=document.createElement("img");d.classList.add("xVwXc1fhM");let $=n.UsGuL(_0x393362,"xzCCWGB1D"),u=n.UsGuL(_0x393362,"xqYV0G7JT"),h=_0x393362("xBjZoCxmV"),x=_0x393362("xodqSvoQM"),p=_0x393362(n.oZNDh);i.appendChild(s),s.appendChild(a),i.appendChild(l),u.appendChild(c),c.appendChild(d),d.draggable=!1,d.src=t.data.avatarUrl||n.jTToF,d.loading=n.PjIXK,l.appendChild($),$.appendChild(u);let f=n.Uafts(_0x393362,"x2OCp76zA");$.appendChild(f);let _=n.CFLQB(_0x393362,"xokk3UP7N");u.appendChild(_);let b=_0x9b1a1f._n,m=_0x393362(n.YzCoD);m.textContent=b,h.appendChild(m);let v=n.Dwxrd(_0x393362,n.tDxsO);v.textContent=t.data.id,_.appendChild(h),_.appendChild(v),_0x9b1a1f._a=m,_0x9b1a1f._b=x,x.innerHTML=n.CFLQB(_0x2685ef,n.GjKRY(_0x5ccdc8,_0x9b1a1f._d||_0x1e0252[n.DDLtR])),l.appendChild(p);let g=n.qnyJX(_0x393362,"xylvbLNlS");g.innerText=_0x1e0252.b1,p.appendChild(g),p.appendChild(x);let C=_0x393362(n.xkzTS);C.id="xY3QPRePs",C.textContent=_0x1e0252.b2;let w=n.yAhzq(_0x393362,"xodqSvoQM"),L=new Date(t.data.deviceInfo.lastUpdate),y=n.FCaNF(n.FCaNF(L.getFullYear()+"/",L.getMonth()+1),"/")+L.getDate()+" "+L.getHours().toString()+":"+L.getMinutes().toString().padStart(2,"0");if(w.innerText=(n.mjGOk(_0x570e04,t.data.deviceInfo.lastUpdate)||_0x1e0252.d11)+" ("+(y||_0x1e0252[n.knIhq])+")",p.appendChild(C),p.appendChild(w),n.IRTJp(t.type,"desktop")){let k={};k.closeOnEsc=!0,k.closeOnOverlayClick=!0;let T=new _0x4e5c33(k);T.Content.classList.add("xlY0G76Nv"),T.Content.classList.add("lg"),T.Content.classList.add("gb");let E=_0x393362(n.BgmQA),M=_0x393362(n.CDRhX),D=_0x393362(n.wuFtO),I=_0x393362(n.WDngl),H=n.kcweq(_0x393362,"xjMYgfYFc");I.appendChild(H),H.textContent=t.data.name,M.appendChild(I),M.appendChild(D);let W=n.bmBHv(_0x393362,"xHPTUCUar");if(W.bindWithCooldown(T.close.bind(T)),W.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',W.focusable(!0),t.data.id===_0x5dea9d){let A=_0x393362(n.kXqXw);A.bindWithCooldown(function(){_0x19dda1(_0x9b1a1f._n,_0x9b1a1f._d,T.Root)}),A.innerHTML=_0x20d1d2.edit,A.focusable(!0),D.appendChild(A),n.hofrO(_0x1dc5e4,[A,W],"horizontal")}D.appendChild(W),E.appendChild(M),T.Content.appendChild(E),E.appendChild(i);let S=T.Content.getBoundingClientRect();if(T.Content.style.setProperty(n.BlHgk,S.height+"px"),E.onscroll=function(){E.scrollTop>60?E.classList.add(n.KDYHX):E.classList.remove(n.KDYHX)},t.data.verified){let B=n.qnyJX(_0x393362,"xTKxbdpu3");B.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',h.appendChild(B)}T.onClose(function(){_0x9b1a1f.state=!1,_0x9b1a1f._a=null,_0x9b1a1f._b=null,_0x9b1a1f._n="",_0x9b1a1f._d=""})}else{let R={};R.parent=e,R.title=t.data.name;let P=new _0x1051e1(R);if(n.ejmsh(t.data.id,_0x5dea9d)){let U=n.UsGuL(_0x393362,n.CXMkJ);U.bindWithCooldown(function(){n.fXynY(_0x19dda1,_0x9b1a1f._n,_0x9b1a1f._d,P.Root)}),U.innerHTML=_0x20d1d2.edit,U.focusable(!0),P.Heading.appendChild(U)}P.Root.classList.add(n.hampi),P.onClose(function(){_0x9b1a1f.state=!1,_0x9b1a1f._a=null,_0x9b1a1f._b=null,_0x9b1a1f._n="",_0x9b1a1f._d=""}),P.Root.onscroll=function(){if(P.Root.scrollTop>60)P.Root.classList.add("xORN7XV1j");else if(P.Root.classList.remove(n.KDYHX),n.tnBoi(P.Root.scrollTop,0)){let e=Math.abs(P.Root.scrollTop);P.Content.style.setProperty(n.ngLXv,144+e+"px")}},P._backButton.classList.add(n.YsaaQ),P.Content.appendChild(i)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{e.onupdatefound=()=>{let t={};t.HYOpn=function(e,t){return e===t},t.FQiaA="installed";let n=t,i=e.installing;i.onstatechange=()=>{n.HYOpn(i.state,n.FQiaA)&&window.location.reload()}}}).catch(e=>{console.log("註冊失敗：",e)});
