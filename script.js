/**release 0.1.2*/
let _0x1ab6b6=function(){let e=!0;return function(t,n){let x=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,x}}(),_0x2a45ad=_0x1ab6b6(this,function(){let e={};return e.luYsX="(((.+)+)+)+$",_0x2a45ad.toString().search("(((.+)+)+)+$").toString().constructor(_0x2a45ad).search(e.luYsX)});_0x2a45ad();let _0x36d1ba=function(){let e=!0;return function(t,n){let x=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,x}}(),_0x17aaac=_0x36d1ba(this,function(){let e={};e.iozWy=function(e,t){return e+t},e.hAavH="log",e.wYbaW="info",e.sJQjN="exception",e.UoQif="table",e.GTGJD="trace",e.xdirV=function(e,t){return e<t};let t=e,n;try{let x=Function(t.iozWy(t.iozWy("return (function() ",'{}.constructor("return this")( )'),");"));n=x()}catch(i){n=window}let $=n.console=n.console||{},a=[t.hAavH,"warn",t.wYbaW,"error",t.sJQjN,t.UoQif,t.GTGJD];for(let s=0;t.xdirV(s,a.length);s++){let o=_0x36d1ba.constructor.prototype.bind(_0x36d1ba),r=a[s],l=$[r]||o;o.__proto__=_0x36d1ba.bind(_0x36d1ba),o.toString=l.toString.bind(l),$[r]=o}});_0x17aaac();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as x,onAuthStateChanged as i,signInWithEmailAndPassword as $,signOut as a}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as s,ref as o,uploadBytesResumable as r,getDownloadURL as l}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as d,enableIndexedDbPersistence as c,collection as h,setDoc as u,doc as f,deleteDoc as p,getDoc as b,where as _,getDocs as m,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as L,arrayRemove as y,updateDoc as k,limit as T}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x32cc60{constructor(e,t={}){let n={};n.bKuum="26|12|23|34|28|31|15|14|5|3|7|9|29|16|4|13|0|33|27|20|24|21|18|22|25|6|11|2|35|10|17|32|30|8|19|1";let x=n,i=x.bKuum.split("|"),$=0;for(;;){switch(i[$++]){case"0":this.img=null;continue;case"1":this.requestRedraw();continue;case"2":this.rotation=0;continue;case"3":this.tapTimeout=null;continue;case"4":this.lastX=0;continue;case"5":this.lastTapTime=0;continue;case"6":this.initialCenterX=0;continue;case"7":this.scale=1;continue;case"8":this.minVelocityThreshold=.1;continue;case"9":this.posX=0;continue;case"10":this.velocityY=0;continue;case"11":this.initialCenterY=0;continue;case"12":this.ctx=this.canvas.getContext("2d");continue;case"13":this.lastY=0;continue;case"14":this.customDrawer=null;continue;case"15":let a={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=a;continue;case"16":this.isDragging=!1;continue;case"17":this.lastTime=0;continue;case"18":this.touchStartPosX=0;continue;case"19":this.setupEventListeners();continue;case"20":this.isTouching=!1;continue;case"21":this.initialScale=1;continue;case"22":this.touchStartPosY=0;continue;case"23":this.logicalWidth=0;continue;case"24":this.initialDistance=0;continue;case"25":this.touchStartScale=1;continue;case"26":this.canvas=e;continue;case"27":this.animationFrameId=null;continue;case"28":this.devicePixelRatio=window.devicePixelRatio||1;continue;case"29":this.posY=0;continue;case"30":this.decelerationRate=.85;continue;case"31":this.updateCanvasSize();continue;case"32":this.isInertialMoving=!1;continue;case"33":this.needsRedraw=!1;continue;case"34":this.logicalHeight=0;continue;case"35":this.velocityX=0;continue}break}}updateCanvasSize(){let e={};e.vbdpw=function(e,t){return e+t},e.fMhpm=function(e,t){return e*t};let t=e,n=this.canvas.parentElement;this.logicalWidth=n.clientWidth,this.logicalHeight=n.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=this.logicalWidth+"px",this.canvas.style.height=t.vbdpw(this.logicalHeight,"px"),this.canvas.width=Math.floor(this.logicalWidth*this.devicePixelRatio),this.canvas.height=Math.floor(t.fMhpm(this.logicalHeight,this.devicePixelRatio)),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.WYNau="click",e.IFGXd="mousemove",e.VfwDa="mouseleave",e.EiQfH="touchstart";let t=e;this.handleCanvasClick=this.handleCanvasClick.bind(this),this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this),this.canvas.addEventListener(t.WYNau,this.handleCanvasClick),this.canvas.addEventListener("touchend",this.handleCanvasTouchEnd),this.handleResize=this.handleResize.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleWheel=this.handleWheel.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.draw=this.draw.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),window.addEventListener("resize",this.handleResize),this.canvas.addEventListener("mousedown",this.handleMouseDown),document.addEventListener(t.IFGXd,this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),this.canvas.addEventListener("wheel",this.handleWheel),this.canvas.addEventListener(t.VfwDa,this.handleMouseLeave),this.canvas.addEventListener(t.EiQfH,this.handleTouchStart),this.canvas.addEventListener("touchmove",this.handleTouchMove),this.canvas.addEventListener("touchend",this.handleTouchEnd)}getDisplayWidth(){let e={};return e.xDYAr=function(e,t){return e%t},90===e.xDYAr(this.rotation,180)?this.img.height:this.img.width}getDisplayHeight(){let e={};e.XhrOe=function(e,t){return e===t},e.LzcOC=function(e,t){return e%t};let t=e;return t.XhrOe(t.LzcOC(this.rotation,180),90)?this.img.width:this.img.height}calculateInitialScale(){let e={};if(e.AvymG=function(e,t){return e/t},!this.img)return;let t=this.getDisplayWidth(),n=this.getDisplayHeight(),x=this.logicalWidth/t,i=e.AvymG(this.logicalHeight,n);this.options.minScale=Math.min(x,i,1),this.scale=this.options.minScale}centerImage(){let e={};e.AFnEs=function(e,t){return e*t},e.MfMnY=function(e,t){return e-t};let t=e;if(!this.img)return;let n=this.getDisplayWidth()*this.scale,x=t.AFnEs(this.getDisplayHeight(),this.scale);this.posX=t.MfMnY(this.logicalWidth,n)/2,this.posY=(this.logicalHeight-x)/2,this.enforceBounds()}setCustomDrawer(e){let t={};t.eKFFa=function(e,t){return e===t},t.qHhoQ="function";let n=t;n.eKFFa(typeof e,n.qHhoQ)?this.customDrawer=e:console.error("setCustomDrawer 期望接收一个函数")}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.wMoWk=function(e,t){return e/t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=this.getDisplayWidth()*this.scale,x=this.getDisplayHeight()*this.scale;this.ctx.translate(this.posX+t.wMoWk(n,2),this.posY+t.wMoWk(x,2)),this.ctx.rotate(this.rotation*Math.PI/180),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,t.wMoWk(-this.img.width,2),-this.img.height/2),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){let e={};e.rSuxN=function(e,t){return e%t},this.rotation=e.rSuxN(this.rotation+90,360),this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.FHLQO=function(e,t){return e*t},e.QuYwL=function(e,t){return e>t},e.npyBC=function(e,t){return e-t},e.VDqHy=function(e,t){return e/t},e.tbvHG=function(e,t){return e-t},e.jrCBv=function(e,t){return e>t},e.Kesmg=function(e,t){return e-t};let t=e;if(!this.img)return;let n=t.FHLQO(this.getDisplayWidth(),this.scale),x=this.getDisplayHeight()*this.scale;t.QuYwL(n,this.logicalWidth)?this.posX=Math.min(Math.max(this.posX,t.npyBC(this.logicalWidth,n)),0):this.posX=t.VDqHy(t.tbvHG(this.logicalWidth,n),2),t.jrCBv(x,this.logicalHeight)?this.posY=Math.min(Math.max(this.posY,t.tbvHG(this.logicalHeight,x)),0):this.posY=t.Kesmg(this.logicalHeight,x)/2}isInImageArea(e,t){let n={};n.KitDt=function(e,t){return e*t},n.XhlKP=function(e,t){return e+t},n.sYvWc=function(e,t){return e>=t};let x=n;if(!this.img)return!1;let i=x.KitDt(this.getDisplayWidth(),this.scale),$=x.KitDt(this.getDisplayHeight(),this.scale),a=this.posX,s=x.XhlKP(a,i),o=this.posY,r=Math.min(s,this.logicalWidth),l=Math.min(o+$,this.logicalHeight);return x.sYvWc(e,Math.max(a,0))&&e<=r&&t>=Math.max(o,0)&&t<=l}requestRedraw(){this.needsRedraw||(this.needsRedraw=!0,this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=({QkXTm:function(e,t){return e(t)}}).QkXTm(requestAnimationFrame,this.draw))}handleMouseDown(e){let t={};t.yAaPE=function(e,t){return e-t},t.EgLwb="grabbing";let n=t,x=this.canvas.getBoundingClientRect(),i=n.yAaPE(e.clientX,x.left),$=n.yAaPE(e.clientY,x.top);this.isDraggable()&&this.isInImageArea(i,$)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor=n.EgLwb)}handleMouseLeave(){let e={};e.wAzKz="default",this.canvas.style.cursor=e.wAzKz}handleMouseMove(e){let t={};t.UNTNT=function(e,t){return e-t},t.dccJr="grabbing",t.OHOZx=function(e,t){return e-t},t.OqaEH=function(e,t){return e>t};let n=t,x=this.canvas.getBoundingClientRect(),i=e.clientX-x.left,$=n.UNTNT(e.clientY,x.top);if(this.isInImageArea(i,$)?this.canvas.style.cursor=this.isDragging?n.dccJr:"grab":this.canvas.style.cursor="default",this.isDragging){let a=Date.now(),s=a-this.lastTime;this.lastTime=a;let o=e.clientX-this.lastX,r=n.OHOZx(e.clientY,this.lastY);this.posX+=o,this.posY+=r,n.OqaEH(s,0)&&(this.velocityX=o/s,this.velocityY=r/s),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.ScQOH=function(e,t){return e>t},t.UWLOV=function(e,t){return e-t},t.TafSd="default";let n=t;this.isDragging=!1,Math.abs(this.velocityX)>this.minVelocityThreshold||n.ScQOH(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0);let x=this.canvas.getBoundingClientRect(),i=n.UWLOV(e.clientX,x.left),$=e.clientY-x.top;this.isInImageArea(i,$)?this.canvas.style.cursor="grab":this.canvas.style.cursor=n.TafSd}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={fFhrz:function(e,t){return e*t},YCphI:function(e,t){return e<t},JXOMQ:function(e,t){return e(t)}};if(!this.isInertialMoving)return;let t=Date.now(),n=t-this.lastTime;this.lastTime=t,this.velocityX*=Math.pow(this.decelerationRate,n/16),this.velocityY*=Math.pow(this.decelerationRate,n/16),this.posX+=e.fFhrz(this.velocityX,n),this.posY+=e.fFhrz(this.velocityY,n),this.enforceBounds(),this.requestRedraw(),Math.abs(this.velocityX)<this.minVelocityThreshold&&e.YCphI(Math.abs(this.velocityY),this.minVelocityThreshold)?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):e.JXOMQ(requestAnimationFrame,this.animateInertia.bind(this))}handleWheel(e){let t={};t.aGgkz=function(e,t){return e-t},t.JpkEm=function(e,t){return e/t},t.QfYZI=function(e,t){return e-t},t.nNxKG=function(e,t){return e*t},t.Tslfc=function(e,t){return e*t},t.BnzNq=function(e,t){return e-t};let n=t;e.preventDefault();let x=this.canvas.getBoundingClientRect(),i=n.aGgkz(e.clientX,x.left),$=n.aGgkz(e.clientY,x.top);if(!this.isInImageArea(i,$))return;let a=e.deltaY>0?.9:1.1,s=n.JpkEm(n.QfYZI(i,this.posX),this.scale),o=($-this.posY)/this.scale,r=Math.min(Math.max(n.nNxKG(this.scale,a),this.options.minScale),this.options.maxScale);this.posX=n.QfYZI(i,n.Tslfc(s,r)),this.posY=n.BnzNq($,o*r),this.scale=r,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};if(t.iadcF=function(e,t){return e===t},t.iadcF(e.touches.length,0))return;let n=Array.from(e.touches),x=this.getTouchCenter(n);this.initialCenterX=x.x,this.initialCenterY=x.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,e.touches.length>=2&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.GeWFS=function(e,t){return e===t},t.Skxzr=function(e,t){return e>=t},t.eNnna=function(e,t){return e>t},t.Yquvz=function(e,t){return e*t},t.JtCQV=function(e,t){return e-t},t.HcUzr=function(e,t){return e-t},t.bOsQn=function(e,t){return e>t},t.LxPkw=function(e,t){return e-t},t.BbXvZ=function(e,t){return e-t};let n=t;if(!this.isTouching)return;e.preventDefault();let x=Array.from(e.touches);if(n.GeWFS(x.length,0))return;let i=this.getTouchCenter(x),$=1;if(n.Skxzr(x.length,2)){let a=this.getTouchDistance(x[0],x[1]);n.eNnna(this.initialDistance,0)&&($=a/this.initialDistance)}let s=Math.min(Math.max(n.Yquvz(this.touchStartScale,$),this.options.minScale),this.options.maxScale),o=n.JtCQV(this.initialCenterX,this.touchStartPosX)/this.touchStartScale,r=(this.initialCenterY-this.touchStartPosY)/this.touchStartScale;if(this.posX=i.x-n.Yquvz(o,s),this.posY=i.y-n.Yquvz(r,s),this.scale=s,this.enforceBounds(),this.requestRedraw(),1===x.length){let l=Date.now(),d=l-this.lastTime;this.lastTime=l;let c=this.canvas.getBoundingClientRect(),h=x[0],u=n.HcUzr(h.clientX,c.left),f=h.clientY-c.top;n.bOsQn(d,0)&&(this.velocityX=n.LxPkw(u,this.lastX)/d,this.velocityY=n.BbXvZ(f,this.lastY)/d),this.lastX=u,this.lastY=f}}handleTouchEnd(){let e={};e.cXMHB=function(e,t){return e>t},this.isTouching=!1,this.initialDistance=0,Math.abs(this.velocityX)>this.minVelocityThreshold||e.cXMHB(Math.abs(this.velocityY),this.minVelocityThreshold)?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.requestRedraw())}handleCanvasClick(e){if(!this.img)return;let t=this.canvas.getBoundingClientRect(),n=e.clientX-t.left,x=e.clientY-t.top;this.isInImageArea(n,x)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={ECtrh:function(e,t){return e>t},BUYTn:function(e,t){return e-t},YxiDH:function(e,t,n){return e(t,n)}};if(!this.img||t.ECtrh(e.touches.length,0))return;let n=this.canvas.getBoundingClientRect(),x=e.changedTouches[0],i=x.clientX-n.left,$=x.clientY-n.top,a=new Date().getTime();if(360>t.BUYTn(a,this.lastTapTime)){clearTimeout(this.tapTimeout);return}this.tapTimeout=t.YxiDH(setTimeout,()=>{this.isInImageArea(i,$)||this.triggerClickOutside(e),this.lastTapTime=a},200)}getTouchDistance(e,t){let n={};n.shGzq=function(e,t){return e-t},n.ZrFPS=function(e,t){return e+t},n.DSUDL=function(e,t){return e*t};let x=n,i=e.clientX-t.clientX,$=x.shGzq(e.clientY,t.clientY);return Math.sqrt(x.ZrFPS(i*i,x.DSUDL($,$)))}isDraggable(){let e={};return e.abLKk=function(e,t){return e*t},this.img&&(e.abLKk(this.img.width,this.scale)>this.logicalWidth||this.img.height*this.scale>this.logicalHeight)}triggerClickOutside(e){let t={};t.DcDYv=function(e,t){return e-t},t.KZrjt=function(e,t){return e-t},t.VWbKV=function(e,t){return e/t},t.KBFPP=function(e,t){return e-t};let n=t;if("function"==typeof this.options.onClickOutside){let x=this.canvas.getBoundingClientRect(),i={x:e.clientX-x.left,y:n.DcDYv(e.clientY,x.top),canvasX:e.clientX-x.left,canvasY:n.KZrjt(e.clientY,x.top),imageX:-1,imageY:-1};this.img&&(i.imageX=n.VWbKV(n.KBFPP(i.canvasX,this.posX),this.scale),i.imageY=(i.canvasY-this.posY)/this.scale),this.options.onClickOutside(i,e)}}getTouchCenter(e){let t={};t.PbbDP=function(e,t){return e-t};let n=t,x=0,i=0,$=this.canvas.getBoundingClientRect();for(let a of e)x+=n.PbbDP(a.clientX,$.left),i+=a.clientY-$.top;let s={};return s.x=x/e.length,s.y=i/e.length,s}destroy(){let e={XKUGk:"resize",ZZvWr:"mousemove",vknRQ:"wheel",fIxBj:"touchstart",GsHaV:"click",FFKQq:"touchend",fAUSb:function(e,t){return e(t)}};window.removeEventListener(e.XKUGk,this.handleResize),document.removeEventListener(e.ZZvWr,this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.canvas.removeEventListener("mouseleave",this.handleMouseLeave),this.canvas.removeEventListener("mousedown",this.handleMouseDown),this.canvas.removeEventListener(e.vknRQ,this.handleWheel),this.canvas.removeEventListener(e.fIxBj,this.handleTouchStart),this.canvas.removeEventListener("touchmove",this.handleTouchMove),this.canvas.removeEventListener("touchend",this.handleTouchEnd),this.canvas.removeEventListener(e.GsHaV,this.handleCanvasClick),this.canvas.removeEventListener(e.FFKQq,this.handleCanvasTouchEnd),this.animationFrameId&&e.fAUSb(cancelAnimationFrame,this.animationFrameId)}}function _0x2d9d19(e,t,n,x){let i={VLzrq:function(e,t){return e*t},hHfHQ:function(e,t){return e+t},FZhfb:function(e,t){return e*t},ONfMI:function(e,t){return e+t},aZHey:function(e,t){return e*t},YsMbg:function(e,t){return e<t},AYUYu:function(e,t){return e(t)},pstaX:function(e,t){return e>t},XWXSF:function(e,t){return e-t},QupQD:function(e,t){return e/t},qIMXZ:function(e,t){return e*t},GqCKn:function(e,t){return e*t},kzlec:function(e,t){return e*t},nlpks:function(e,t){return e-t},IJoCw:function(e,t){return e*t}},$=i.XWXSF(i.qIMXZ(3,e),i.FZhfb(3,n))+1,a=i.XWXSF(3*n,i.GqCKn(6,e)),s=i.kzlec(3,e),o=3*t-i.kzlec(3,x)+1,r=i.nlpks(3*x,i.aZHey(6,t)),l=i.IJoCw(3,t);function d(e){return(i.VLzrq(i.hHfHQ($*e,a),e)+s)*e}function c(e){return i.ONfMI(i.FZhfb(i.VLzrq(3*$,e)+i.aZHey(2,a),e),s)}return e=>{var t;return t=function e(t){let n=0,x=1,$=t;for(let a=0;i.YsMbg(a,8);a++){let s=i.AYUYu(d,$)-t;if(i.YsMbg(Math.abs(s),1e-6))return $;let o=c($);if(i.YsMbg(Math.abs(o),1e-6))break;$-=s/o}for(;i.pstaX(x,n);){let r=i.XWXSF(d($),t);if(1e-6>Math.abs(r))break;r>0?x=$:n=$,$=i.QupQD(x+n,2)}return $}(e),i.VLzrq(i.FZhfb(o*t+r,t)+l,t)}}function _0x3d3eb7(e,t="vertical"){let n={RWIID:function(e,t){return e===t},lThNO:function(e,t){return e+t},dgiqf:function(e,t){return e+t},rMQza:function(e,t){return e===t},uxNch:function(e,t){return e%t},Esmgt:function(e){return e()},BVhJD:function(e){return e()}};function x(){let x={iXJmI:function(e,t){return n.RWIID(e,t)},MnEqN:function(e,t){return n.lThNO(e,t)},MuEWP:"ArrowUp",sYyJp:function(e,t){return n.dgiqf(e,t)},LyehD:function(e,t){return e===t},owBNm:"ArrowRight",GayQK:function(e,t){return e%t},yThpu:function(e,t){return e+t},OiGju:function(e,t){return n.rMQza(e,t)},cXAbT:function(e,t){return n.uxNch(e,t)},vLVBD:function(e,t){return n.lThNO(e,t)},bXqfS:"keydown"};if(e.length<=1){e.forEach(e=>{e._navHandler&&(e.removeEventListener("keydown",e._navHandler),delete e._navHandler)});return}e.forEach((n,i)=>{n._navHandler&&n.removeEventListener("keydown",n._navHandler),n._navHandler=n=>{let $=i;if(x.iXJmI(t,"vertical")){if("ArrowDown"===n.key)$=x.MnEqN(i,1)%e.length;else{if(!x.iXJmI(n.key,x.MuEWP))return;$=x.sYyJp(i-1,e.length)%e.length}}else{if(!x.LyehD(t,"horizontal"))return;if(n.key===x.owBNm)$=x.GayQK(x.yThpu(i,1),e.length);else{if(!x.OiGju(n.key,"ArrowLeft"))return;$=x.cXAbT(x.vLVBD(i-1,e.length),e.length)}}e[$].focus()},n.addEventListener(x.bXqfS,n._navHandler)})}n.BVhJD(x);let i={};return i.removeItem=function t(i){e=e.filter(e=>e!==i),n.Esmgt(x)},i.addItem=function t(i){e.push(i),n.Esmgt(x)},i.updateEventListeners=x,i}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.gUfGP="click",n.qEDKP=function(e,t){return e===t},n.ejTAS=function(e,t){return e>=t};let x=n,i=this;i._bindWithCooldownHandler&&(i.removeEventListener("click",i._bindWithCooldownHandler),i.removeEventListener("keydown",i._bindWithCooldownHandler));let $=0,a=function(n){let a=Date.now();!i.classList.contains("disabled")&&!i.hasAttribute("disabled")&&(n.type===x.gUfGP||32===n.keyCode||x.qEDKP(n.keyCode,13))&&(x.ejTAS(a-$,t)||x.qEDKP(t,0))&&($=a,e.call(i,n))};i.addEventListener("click",a),i.addEventListener("keydown",a),i._bindWithCooldownHandler=a};let _0x31631b={set(e,t){try{let n=JSON.stringify(t);localStorage.setItem(e,n)}catch(x){console.error("Error saving to localStorage",x)}},get(e,t=null){let n={};n.mfYgU=function(e,t){return e!==t};try{let x=localStorage.getItem(e);return n.mfYgU(x,null)?JSON.parse(x):t}catch(i){return console.error("Error reading from localStorage",i),t}},remove(e){try{localStorage.removeItem(e)}catch(t){console.error("Error removing from localStorage",t)}},clear(){let e={};e.mcCLo="Error clearing localStorage";try{localStorage.clear()}catch(t){console.error(e.mcCLo,t)}},has(e){let t={};return t.RoiMZ=function(e,t){return e!==t},t.RoiMZ(localStorage.getItem(e),null)},keys:()=>Object.keys(localStorage)};class _0x3ef486{constructor({parent:e,text:t,placement:n="top",interactive:x=!0}){let i={};i.ZxQje="aria-describedby",i.yBeum="focus",i.wogxw="blur",i.yEwxE="mouseleave";let $=i,a="6|0|4|1|2|3|5".split("|"),s=0;for(;;){switch(a[s++]){case"0":this._content=t;continue;case"1":this._tooltip=null;continue;case"2":this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9);continue;case"3":this._parent.setAttribute($.ZxQje,this._tooltipId);continue;case"4":this._placement=n;continue;case"5":x&&(this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this._parent.addEventListener("mouseenter",this.showTooltip),this._parent.addEventListener($.yBeum,this.showTooltip),this._parent.addEventListener($.wogxw,this.hideTooltip),this._parent.addEventListener($.yEwxE,this.hideTooltip));continue;case"6":this._parent=e;continue}break}}_createTooltipElement(){let e={};e.nrQxS="xuocLuDI6",e.jyttr="placement";let t=e,n=_0x5bc59d(t.nrQxS);return n.setAttribute(t.jyttr,this._placement),n.setAttribute("id",this._tooltipId),n.innerText=this._content,n}updatePosition(){let e={};e.XDxNi=function(e,t){return e-t},e.tisSp=function(e,t){return e+t},e.HhCxp="bottom",e.wHuid=function(e,t){return e-t},e.EUlpZ=function(e,t){return e+t},e.JUmmV=function(e,t){return e/t},e.zIHkA="left",e.ksBxI=function(e,t){return e+t},e.KDKiK=function(e,t){return e-t},e.hHgtO=function(e,t){return e-t},e.CvqNz=function(e,t){return e+t};let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),x=this._tooltip.getBoundingClientRect(),i,$;switch(this._placement){case"top":i=t.XDxNi(t.tisSp(window.scrollY,n.top),x.height)-8,$=t.XDxNi(t.tisSp(window.scrollX+n.left,n.width/2),x.width/2);break;case t.HhCxp:i=t.tisSp(window.scrollY,n.bottom)+8,$=t.wHuid(t.tisSp(t.EUlpZ(window.scrollX,n.left),t.JUmmV(n.width,2)),t.JUmmV(x.width,2));break;case t.zIHkA:i=t.ksBxI(window.scrollY,n.top)+n.height/2-x.height/2,$=t.KDKiK(t.hHgtO(window.scrollX+n.left,x.width),8);break;case"right":i=t.wHuid(t.CvqNz(t.ksBxI(window.scrollY,n.top),n.height/2),x.height/2),$=window.scrollX+n.right+8;break;default:throw Error("Invalid placement value")}this._tooltip.style.top=i+"px",this._tooltip.style.left=$+"px"}showTooltip(){let e={};e.QkVom="delayed-open";let t=e,n="4|3|5|2|1|0".split("|"),x=0;for(;;){switch(n[x++]){case"0":this._tooltip.setAttribute("aria-expanded","true");continue;case"1":this._tooltip.setAttribute("data-state",t.QkVom);continue;case"2":this.updatePosition();continue;case"3":this._tooltip=this._createTooltipElement();continue;case"4":if(this._tooltip)return;continue;case"5":document.body.appendChild(this._tooltip);continue}break}}hideTooltip(){let e={};e.dncnQ="false",this._tooltip&&(this._tooltip.setAttribute("data-state","closed"),this._tooltip.setAttribute("aria-expanded",e.dncnQ),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.WNrlr="blur",e.KJtuF="focus",e.RdOlI="aria-describedby";let t=e;if(this.hideTooltip(),this._parent){let n="3|4|2|0|1".split("|"),x=0;for(;;){switch(n[x++]){case"0":this._parent.removeEventListener(t.WNrlr,this.hideTooltip);continue;case"1":this._parent.removeEventListener("mouseleave",this.hideTooltip);continue;case"2":this._parent.removeEventListener(t.KJtuF,this.showTooltip);continue;case"3":this._parent.removeAttribute(t.RdOlI);continue;case"4":this._parent.removeEventListener("mouseenter",this.showTooltip);continue}break}}this._tooltip=null,this._parent=null,this._content=null}}class _0x44f60c{constructor({trigger:e,placement:t="bottom"}){let n={bImDm:"inert",nFjpu:"true",MAIyD:function(e,t){return e(t)},lIkcI:"overlay",mUTwr:"xC3Uih0ex",xAtOp:"data-state",iBBKt:"popover",CswNO:"aria-modal",GknhG:"click",CQOcz:"contextmenu"},x="_"+_0x4a1b6b(12);this.trigger=e,this.placement=t,this.Root=n.MAIyD(_0x5bc59d,"xEHCrF5Oe"),this.Overlay=_0x5bc59d(n.lIkcI),this.Content=n.MAIyD(_0x5bc59d,n.mUTwr),this.Root.setAttribute(n.xAtOp,"open"),this.Root.setAttribute("role",n.iBBKt),this.Root.setAttribute(n.CswNO,"true"),this.Root.id=x,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let i=_0x189939(x);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+i+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute(n.bImDm,n.nFjpu)}),this.Overlay.addEventListener(n.GknhG,()=>this.close()),this.Overlay.addEventListener(n.CQOcz,()=>this.close()),document.addEventListener("keydown",this._handleKeyDown),this._setPosition(),window.addEventListener("resize",this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e={};e.jImqm="absolute";let t=this.trigger.getBoundingClientRect(),n=this.Content.getBoundingClientRect(),x;if(Array.isArray(this.placement)){for(let i of this.placement){let $=this._calculatePosition(i,t,n);if(this._isPositionWithinViewport($,n)){x=i;break}}x||(x=this.placement[0])}else x=this.placement;let a=this._calculatePosition(x,t,n);this.Content.style.position=e.jImqm,this.Content.style.top=a.top+"px",this.Content.style.left=a.left+"px"}_calculatePosition(e,t,n){let x={};x.XwNOv="top",x.KeBox="left",x.ZgDyl="end",x.ylayl=function(e,t){return e+t},x.iwLtr=function(e,t){return e===t},x.psZFS=function(e,t){return e===t},x.rawKf="bottom",x.DOpxj=function(e,t){return e+t},x.PGxhi=function(e,t){return e/t},x.VEHFP=function(e,t){return e-t};let i=x,$=0,a=0,[s,o]=e.split("-");switch(s){case i.XwNOv:$=t.top-n.height;break;case"bottom":$=t.bottom;break;case i.KeBox:a=t.left-n.width;break;case"right":a=t.right}switch(o){case"start":a=t.left;break;case i.ZgDyl:a=i.ylayl(t.left,t.width)-n.width;break;default:i.iwLtr(s,"top")||i.psZFS(s,i.rawKf)?a=i.DOpxj(t.left,i.PGxhi(t.width-n.width,2)):$=t.top+i.PGxhi(i.VEHFP(t.height,n.height),2)}let r={};return r.top=$,r.left=a,r}_isPositionWithinViewport(e,t){let n={};n.mSxsN=function(e,t){return e>=t},n.ONvii=function(e,t){return e>=t},n.QXEZH=function(e,t){return e+t};let x=n,i=window.innerWidth,$=window.innerHeight,{top:a,left:s}=e;return x.mSxsN(a,0)&&x.ONvii(s,0)&&a+t.height<=$&&x.QXEZH(s,t.width)<=i}_handleKeyDown=e=>{let t={};t.BtUxT=function(e,t){return e===t};let n=t;n.BtUxT(e.keyCode,27)&&(this.close(),this.trigger.focus())};_removeListeners(){let e={};e.smEqX="resize",document.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener(e.smEqX,this._handleResize)}onClose(e){this.onCloseCallback=e}close(){let e={YjOye:"inert",mZlSS:function(e,t,n){return e(t,n)}};this._removeListeners(),this._deactivated_elements.forEach(t=>{t.removeAttribute(e.YjOye)}),this.Root.setAttribute("data-state","closed"),e.mZlSS(setTimeout,()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x189939(e){let t={};t.yxeVS="\\$&",t.gtTKG=function(e,t){return e+t};let n=t;return e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,n.yxeVS).replace(/^(-?\d)/,n.gtTKG("\\3",e.charAt(0))+" ")}class _0x4282a2{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let x={cuLNg:function(e,t){return e(t)},HtxmA:function(e,t){return e(t)},atXsG:"content",CjgwP:"data-state",GhKLb:"show",IWNae:"keydown"},i="_"+_0x4a1b6b(12);this.Root=_0x5bc59d("x54SkYRT0"),this.Overlay=x.cuLNg(_0x5bc59d,"overlay"),this.Content=x.HtxmA(_0x5bc59d,x.atXsG),this.Root.setAttribute(x.CjgwP,"open"),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute("role","dialog"),this.Root.setAttribute("aria-modal","true"),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=i;let $=x.cuLNg(_0x189939,i);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+$+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(x.GhKLb),_0x4282a2.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener(x.IWNae,this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.cCjLN=function(e,t){return e===t};let n=t;if(27===e.keyCode){let x=_0x4282a2.stack[_0x4282a2.stack.length-1];n.cCjLN(x,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={};e.jbopu=function(e,t){return e instanceof t},e.iQUQn="inert",e.LYUgW="data-state";let t=e;if(!this.Lock){let n=_0x4282a2.stack.indexOf(this);n>-1&&_0x4282a2.stack.splice(n,1),this.onCloseCallback&&this.onCloseCallback(),this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>{t.jbopu(e,HTMLElement)&&e.removeAttribute("inert")}):this._deactivated_elements.forEach(e=>{e.removeAttribute(t.iQUQn)}),this.Root.setAttribute(t.LYUgW,"closed"),setTimeout(()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}}_0x4282a2.stack=[];class _0x392dd9 extends _0x4282a2{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:x=!1,closeOnEsc:i=!0,showCloseButton:$=!1}={}){let a={};a.tQwXf="0px",a.ryKwf="xv1VrMJb6",a.CjQuE=function(e,t){return e>t};let s=a,o={};o.closeOnOverlayClick=x,o.closeOnEsc=i,super(o);let r=this._createHeader(e,$),l=this._createBody(t);if(this.Content.style.padding=s.tQwXf,this.Content.classList.add(s.ryKwf),this.Content.classList.add("xLDQZ1SSl"),this.Content.appendChild(r),this.Content.appendChild(l),s.CjQuE(n.length,0)){let d=this._createFooter(n);l.appendChild(d)}}_createHeader(e,t){let n={EkEfz:"div",feUHL:function(e,t){return e||t},vVDVc:function(e,t){return e(t)},JAVMi:"xvb5soWNa"},x=document.createElement(n.EkEfz);x.className="xrYn5ZY3v lf gn";let i=document.createElement(n.EkEfz);if(i.className="x6Y89FynP",i.textContent=n.feUHL(e,"Alert"),x.appendChild(i),t){let $=n.vVDVc(_0x5bc59d,n.JAVMi);$.focusable(!0),$.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',$.bindWithCooldown(()=>{this.close()}),x.appendChild($)}return x}_createBody(e){let t={};t.EhCif="div",t.zWehH="xWDUelLWA",t.rqUyp="xujSSErs5",t.tLVjo="Are you sure?";let n=t,x=document.createElement(n.EhCif);x.className=n.zWehH;let i=document.createElement(n.EhCif);return i.className=n.rqUyp,i.innerHTML=e||n.tLVjo,x.appendChild(i),x}_createFooter(e){let t={};t.KsPdN="div",t.OiwCu=function(e,t){return e+t},t.bhHHq="xgw2tzk6r ",t.CmFBH="xWh2LBcgj",t.rLtSa="horizontal";let n=t,x=document.createElement(n.KsPdN);x.className=n.CmFBH;let i=_0x3d3eb7([],n.rLtSa);return e.forEach(({text:e,classList:t=[],onClick:$})=>{let a=document.createElement(n.KsPdN);a.className=n.OiwCu(n.bhHHq,t.join(" ")),a.setAttribute("tabindex","0"),a.textContent=e,a.bindWithCooldown(()=>{$&&$(),this.close()}),i.addItem(a),x.appendChild(a)}),x}}let _0x5bc59d=e=>{let t=document.createElement("div");return t.classList.add(e),t},_0x59acf1=e=>document.querySelector(e);function _0x4a1b6b(e){let t={};t.LLDRH=function(e,t){return e<t};let n=t,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="";for(let $=0;n.LLDRH($,e);$++)i+=x.charAt(Math.floor(Math.random()*x.length));return i}function _0x5b24b0(e,t,n={}){let x={BaSFj:function(e,t){return e===t},QaiCe:"xSwoj5Cx2",kumaB:function(e,t){return e/t},VQUzD:function(e,t){return e(t)},LwDRy:function(e,t){return e<t},LhwOL:function(e,t){return e(t)},YrLcV:function(e,t){return e(t)},rTSzS:"text/html",RisNl:function(e){return e()}},{interval:i=24,fadeDuration:$=214,bezierControl:a=[.42,0,1,1]}=n,s=x.LhwOL(_0x2d9d19,...a),o=new DOMParser,r=o.parseFromString("<div>"+t+"</div>",x.rTSzS),l=Array.from(r.body.firstChild.childNodes),d=[];function c(){if(d.length){let e=d.shift();(function e(t){let n=performance.now();function i(e){let a=Math.min(x.kumaB(e-n,$),1),o=x.VQUzD(s,a);t.style.opacity=o,x.LwDRy(a,1)&&x.LhwOL(requestAnimationFrame,i)}x.YrLcV(requestAnimationFrame,i)})(e),setTimeout(c,i)}}l.forEach(t=>(function e(t,n){if(x.BaSFj(t.nodeType,Node.TEXT_NODE)){let i=t.textContent.split("");for(let $ of i){let a=document.createElement("span");a.classList.add(x.QaiCe),a.textContent=$,n.appendChild(a),d.push(a)}}else if(t.nodeType===Node.ELEMENT_NODE){let s=t.cloneNode(!1);n.appendChild(s),Array.from(t.childNodes).forEach(t=>e(t,s))}})(t,e)),x.RisNl(c)}function _0x32daaf(e,t){let n={QGdLx:function(e,t){return e<=t},uragp:function(e,t){return e>=t},GCqty:function(e,t){return e(t)},VbYpq:function(e,t){return e/t},alcfX:function(e,t){return e-t},eoXyY:function(e,t){return e*t},wZwIz:function(e,t){return e*t},wsvFk:function(e,t){return e*t}},x=new Date,i=new Date(e),$=new Date(t);if(x>=i&&n.QGdLx(x,$))return"現在";let a=x<i?i:$,s=a.getHours(),o;o=n.uragp(s,0)&&s<6?"清晨":s<12?"早上":s<18?"下午":"晚上";let r=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),l=n.GCqty(r,a),d=n.GCqty(r,x),c=Math.round(n.VbYpq(n.alcfX(l,d),n.eoXyY(n.wZwIz(n.wsvFk(1e3,60),60),24))),h;switch(c){case -2:h="前天";break;case -1:h="昨天";break;case 0:h="今天";break;case 1:h="明天";break;case 2:h="後天";break;default:h=a.getMonth()+1+"/"+a.getDate()}return h+" "+o}function _0x54b707(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0x22a0ff(){let e={};e.MJvWo="MacIntel",e.JaHwC=function(e,t){return e>t},e.KwYFx="iOS",e.oOZrG="Tablet",e.ndAoV="Mobile",e.yLRJD="Android",e.WVtqh="Windows",e.wTquU="macOS",e.aosCj="Desktop";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,x=navigator.platform,i=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||x===t.MJvWo&&t.JaHwC(i,1)){let $=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if($){let a=$[1]||"0",s=$[2]||"0",o=$[3]||"0";return{os:t.KwYFx,version:a+"."+s+"."+o,deviceType:/iPad/.test(n)?t.oOZrG:t.ndAoV}}}if(/Android/.test(n)){let r=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if(r){let l=r[1]||"0",d=r[2]||"0",c=r[3]||"0";return{os:t.yLRJD,version:l+"."+d+"."+c,deviceType:/Mobile/.test(n)?"Mobile":"Tablet"}}}if(/Win/.test(x)){let h=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(h){let u=h[1]||"0",f=h[2]||"0",p={};return p.os=t.WVtqh,p.version=u+"."+f,p.deviceType="Desktop",p}let b={};return b.os="Windows",b.version=null,b.deviceType="Desktop",b}if(/Mac/.test(x)){let _=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(_){let m=_[1]||"0",v=_[2]||"0",g=_[3]||"0",C={};return C.os=t.wTquU,C.version=m+"."+v+"."+g,C.deviceType=t.aosCj,C}let w={};return w.os=t.wTquU,w.version=null,w.deviceType="Desktop",w}if(/Linux/.test(x)){let L={};return L.os="Linux",L.version=null,L.deviceType=t.aosCj,L}let y={};return y.os="Unknown",y.version=null,y.deviceType="Unknown",y}function _0x4c997a(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x295e6={};_0x295e6.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x295e6.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x295e6.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x4bfc38=_0x295e6;class _0x4fced5{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let x={eDveq:function(e,t){return e(t)},bDABh:"drawer-root",zpiaF:"drawer-content",hCqjU:"drawer-drag-handle",OsjcJ:"data-state",MbEwP:"open",FXjvT:"role",WHbbB:"true",mQRxN:"show",OCsDB:"keydown"},i="_"+_0x4a1b6b(12);this.Root=x.eDveq(_0x5bc59d,x.bDABh),this.Overlay=_0x5bc59d("drawer-overlay"),this.Content=_0x5bc59d(x.zpiaF),this.Header=_0x5bc59d("drawer-header"),this.Handle=document.createElement("div"),this.Handle.className=x.hCqjU,this.Header.appendChild(this.Handle),this.Body=_0x5bc59d("drawer-body"),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute(x.OsjcJ,x.MbEwP),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(x.FXjvT,"dialog"),this.Root.setAttribute("aria-modal",x.WHbbB),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=i;let $=_0x189939(i);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+$+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(x.mQRxN),_0x4fced5.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener(x.OCsDB,this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.cNbhK=function(e,t){return e===t},t.dSrKf=function(e,t){return e===t};let n=t;if(n.cNbhK(e.keyCode,27)){let x=_0x4fced5.stack[_0x4fced5.stack.length-1];n.dSrKf(x,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={bhWXo:function(e){return e()},FaDGb:function(e,t){return e>t},AqeCD:function(e,t){return e===t},NMgOT:"none",Hpznm:"matrix"},t=_0x4fced5.stack.indexOf(this);e.FaDGb(t,-1)&&_0x4fced5.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback();let n=()=>{this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},x=window.getComputedStyle(this.Content).transform;e.AqeCD(x,e.NMgOT)||x.includes(e.Hpznm)?(this.Content.classList.remove("x9GmoP75O"),this.Content.style.transform="translateY(100%)",setTimeout(()=>{e.bhWXo(n),this.Root.remove()},300)):(n(),this.Root.remove()),this._removeListeners()}_removeListeners(){let e={};e.OmfQv="keydown",this.Overlay.onclick=null,document.removeEventListener(e.OmfQv,this._handleKeyDown)}_setupDrag(){let e={Npkyt:".xBWmlKrN2 *",DWqav:"x9GmoP75O",guhtX:function(e,t){return e-t},UJMZn:function(e,t){return e>t},hIDNa:function(e,t){return e-t},WySrB:function(e,t){return e/t},KqNby:function(e,t){return e*t},bwuUy:function(e){return e()},eElVn:"mouseup",rdFoY:"touchend",OlqSm:"mousedown"},t=0,n=0,x=0,i=!1,$=n=>{0!==n.target.scrollTop||n.target.closest(e.Npkyt)||(t=n.touches?n.touches[0].clientY:n.clientY,x=Date.now(),i=!0,this.Content.classList.add(e.DWqav))},a=x=>{if(!i)return;n=x.touches?x.touches[0].clientY:x.clientY;let $=e.guhtX(n,t);e.UJMZn($,0)&&(this.Content.style.transform="translateY("+$+"px)")},s=()=>{if(!i)return;let $=n-t,a=e.hIDNa(Date.now(),x)/1e3,s=e.WySrB($,a),o=this.Content.offsetHeight,r=e.KqNby(o,.5);this.Content.classList.remove(e.DWqav),e.UJMZn($,r)||e.UJMZn(s,600)?this.close():this.Content.style.transform="translateY(0)",i=!1},o={};o.passive=!0,this.Content.addEventListener("touchstart",$,o);let r={};r.passive=!0,this.Content.addEventListener("touchmove",a,r),this.Content.addEventListener(e.rdFoY,s),this.Content.addEventListener(e.OlqSm,t=>{let n={qNHdP:function(t){return e.bwuUy(t)},zLVjD:e.eElVn};$(t);let x=e=>a(e),i=()=>{n.qNHdP(s),document.removeEventListener("mousemove",x),document.removeEventListener(n.zLVjD,i)};document.addEventListener("mousemove",x),document.addEventListener(e.eElVn,i)})}}_0x4fced5.stack=[];let _0x576c68=_0x31631b.get("lang"),_0x42b07e="en";_0x576c68?_0x42b07e=_0x576c68:(_0x42b07e="en",_0x31631b.set("lang","en"));let _0x11970b={};_0x11970b.a1="搜尋…",_0x11970b.a2="未知",_0x11970b.a3="在這裡輸入訊息…",_0x11970b.a4="更新了什麼",_0x11970b.a5="私人",_0x11970b.a6="說明",_0x11970b.a7="公開",_0x11970b.a8="展開全部",_0x11970b.a9="顯示較少",_0x11970b.a10="查看全部",_0x11970b.a11="加入聊天室",_0x11970b.a12="加入聊天室",_0x11970b.a13="邀請碼",_0x11970b.a14="送出",_0x11970b.a15="查看個人資料",_0x11970b.a16="登出",_0x11970b.a17="無效的邀請碼，請重新嘗試",_0x11970b.a18="$0 秒前",_0x11970b.a19="$0 個月前",_0x11970b.a20="$0 分鐘前",_0x11970b.a21="$0 小時前",_0x11970b.a22="$0 年前",_0x11970b.a23="$0 天前",_0x11970b.a24="無法預覽這個文件",_0x11970b.a25="下載",_0x11970b.a26="你",_0x11970b.b1="描述",_0x11970b.b2="最後上線",_0x11970b.b3="描述",_0x11970b.b4="暱稱",_0x11970b.b5="編輯個人資料",_0x11970b.b6="完成",_0x11970b.b7="完成",_0x11970b.b8="歡迎回來",_0x11970b.b9="登入帳號後即可使用我們的服務",_0x11970b.b10="等待中…",_0x11970b.b11="使用 Google 繼續",_0x11970b.b12="使用 電子郵件 登入",_0x11970b.b13="返回上一頁",_0x11970b.b14="密碼錯誤，請重新嘗試",_0x11970b.b15="找不到這個帳號，請重新嘗試",_0x11970b.b16="網路請求錯誤，請檢查網路連線",_0x11970b.b17="發生未知的錯誤",_0x11970b.b18="$0 則訊息",_0x11970b.b19="沒有訊息",_0x11970b.b20="所有成員",_0x11970b.b21="查看所有成員",_0x11970b.b22="查看行程安排",_0x11970b.b23="退出",_0x11970b.b24="電子郵件地址",_0x11970b.b25="密碼",_0x11970b.b26="送出",_0x11970b.b27="電子郵件登入",_0x11970b.b28="@未知",_0x11970b.b29="未知",_0x11970b.b30="已成功清除緩存，重新載入後即生效",_0x11970b.b31="未知的指令，請重新嘗試",_0x11970b.b32="載入中…",_0x11970b.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0x11970b.b34="退出",_0x11970b.b35="取消",_0x11970b.b36="確定",_0x11970b.b37="行程安排",_0x11970b.b38="標題",_0x11970b.b39="開始",_0x11970b.b40="結束",_0x11970b.b41="編輯行程",_0x11970b.c1="編輯模式",_0x11970b.c2="預覽模式",_0x11970b.c3="已更新介面語言為：$0",_0x11970b.c4="英文",_0x11970b.c5="中文",_0x11970b.z0="修復了一些錯誤。",_0x11970b.z1="新增了切換語言的功能。",_0x11970b.b42="上傳中",_0x11970b.b43="正在上傳中，請耐心等待",_0x11970b.b44="上傳遭中斷",_0x11970b.b45="已取消上傳",_0x11970b.b46="上傳完成",_0x11970b.b47="這個文件已經成功上傳了",_0x11970b.b48="上傳失敗",_0x11970b.b49="這個文件有 $0 ，我們無法負擔",_0x11970b.d0="附加文件",_0x11970b.d1="發送",_0x11970b.d2="加入貼圖",_0x11970b.d3="標記為重要",_0x11970b.d4="取消標記",_0x11970b.d5="任何人都能加入這個聊天室",_0x11970b.d6="只有受邀人能加入本聊天室",_0x11970b.d7="重新載入後方可完整更新您的資料",_0x11970b.d8="這裡還沒有訊息，現在就開始聊天吧",_0x11970b.d9="未知",_0x11970b.d10="暫時還沒有描述哦",_0x11970b.d11="未知",_0x11970b.d12="未知",_0x11970b.d13="尚未加入任何聊天室",_0x11970b.d14="還沒有任何行程，現在就創建一個吧";let _0x4971d8={};_0x4971d8.a1="Search…",_0x4971d8.a2="Unknown",_0x4971d8.a3="Enter message here…",_0x4971d8.a4="What's new",_0x4971d8.a5="Private",_0x4971d8.a6="Illustrate",_0x4971d8.a7="Public",_0x4971d8.a8="Show more",_0x4971d8.a9="Show less",_0x4971d8.a10="Show all",_0x4971d8.a11="Join groups",_0x4971d8.a12="Join Groups",_0x4971d8.a13="Invitation code",_0x4971d8.a14="Submit",_0x4971d8.a15="View profile",_0x4971d8.a16="Logout",_0x4971d8.a17="Invalid invitation code, please try again",_0x4971d8.a18="$0 seconds ago",_0x4971d8.a19="$0 months ago",_0x4971d8.a20="$0 minutes ago",_0x4971d8.a21="$0 hours ago",_0x4971d8.a22="$0 years ago",_0x4971d8.a23="$0 days ago",_0x4971d8.a24="Unable to preview this file",_0x4971d8.a25="Download",_0x4971d8.a26="You",_0x4971d8.b1="Description",_0x4971d8.b2="Last online",_0x4971d8.b3="Description",_0x4971d8.b4="Nickname",_0x4971d8.b5="Edit Profile",_0x4971d8.b6="Save",_0x4971d8.b7="Save",_0x4971d8.b8="Welcome back",_0x4971d8.b9="Log in to your account to use our services",_0x4971d8.b10="Waiting…",_0x4971d8.b11="Continue with Google",_0x4971d8.b12="Continue with Email",_0x4971d8.b13="Return to previous page",_0x4971d8.b14="Wrong password, please try again",_0x4971d8.b15="The account could not be found. Please try again.",_0x4971d8.b16="Network request error, please check the network connection",_0x4971d8.b17="An unknown error occurred",_0x4971d8.b18="$0 messages",_0x4971d8.b19="No message",_0x4971d8.b20="All members",_0x4971d8.b21="View members",_0x4971d8.b22="View itinerary",_0x4971d8.b23="Leave",_0x4971d8.b24="Email Address",_0x4971d8.b25="Password",_0x4971d8.b26="Submit",_0x4971d8.b27="Login with Email",_0x4971d8.b28="@unknown",_0x4971d8.b29="unknown",_0x4971d8.b30="The cache has been successfully cleared and will take effect after reloading",_0x4971d8.b31="Unknown command, please try again",_0x4971d8.b32="Loading…",_0x4971d8.b33="Are you sure you want to leave this group? You can rejoin later.",_0x4971d8.b34="Leave",_0x4971d8.b35="Cancel",_0x4971d8.b36="Comfirm",_0x4971d8.b37="All itinerary",_0x4971d8.b38="Title",_0x4971d8.b39="Start",_0x4971d8.b40="End",_0x4971d8.b41="Edit itinerary",_0x4971d8.c1="x6dubvYCF",_0x4971d8.c2="xBxGlHr78",_0x4971d8.c3="Updated language: $0",_0x4971d8.c4="English",_0x4971d8.c5="Chinese",_0x4971d8.z0="Fixed some bugs.",_0x4971d8.z1="Added the function of switching languages.",_0x4971d8.b42="Uploading",_0x4971d8.b43="Uploading, please wait patiently",_0x4971d8.b44="Upload interrupted",_0x4971d8.b45="Upload canceled",_0x4971d8.b46="Upload completed",_0x4971d8.b47="The file has been uploaded successfully",_0x4971d8.b48="Upload failed",_0x4971d8.b49="This file is $0 and we can't afford it",_0x4971d8.d0="Attach files",_0x4971d8.d1="Send",_0x4971d8.d2="Add stickers",_0x4971d8.d3="Mark as important",_0x4971d8.d4="Unmark",_0x4971d8.d5="Anyone can join this group",_0x4971d8.d6="Only invited people can join this group",_0x4971d8.d7="Reload to fully update your information",_0x4971d8.d8="There are no messages here yet. Start chatting now.",_0x4971d8.d9="Unknown",_0x4971d8.d10="There is no description yet",_0x4971d8.d11="Unknown",_0x4971d8.d12="Unknown",_0x4971d8.d13="Not joined any chat room yet",_0x4971d8.d14="No itinerary yet";let _0x5eb6d1={};_0x5eb6d1.zh=_0x11970b,_0x5eb6d1.en=_0x4971d8;let _0x3bdfbb=_0x5eb6d1;function _0x111a58(e){return _0x3bdfbb[e]}let _0x20bfce={};_0x20bfce.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x20bfce.authDomain="smiling-theory-397204.firebaseapp.com",_0x20bfce.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x20bfce.projectId="smiling-theory-397204",_0x20bfce.storageBucket="smiling-theory-397204.appspot.com",_0x20bfce.messagingSenderId="360479398694",_0x20bfce.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x20bfce.measurementId="G-6BKTT1K7D1";let _0x58f2f5=e(_0x20bfce),_0xfa958e=_0x111a58(_0x42b07e),_0x1ef371=d(_0x58f2f5),_0x133d57=s(_0x58f2f5),_0x1d5c0b=new x,_0x474c36=t();c(_0x1ef371).then(()=>{console.log("離線緩存功能已啟用")}).catch(e=>{let t={};t.XYuhC=function(e,t){return e===t},t.fHqbw="已開啟多個分頁，無法啟用離線緩存功能",t.tlRtz=function(e,t){return e===t},t.ZlQvn="unimplemented",t.bJZEu="當前瀏覽器不支持離線緩存";let n=t;n.XYuhC(e.code,"failed-precondition")?console.error(n.fHqbw):n.tlRtz(e.code,n.ZlQvn)&&console.error(n.bJZEu)});let _0x5321ab=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x595eb3=[],_0x247258={sidebar:_0x59acf1(".xFz8bwNFr"),main:_0x59acf1(".x8o58HttN"),messageInput:_0x59acf1(".xtsARDHTI"),searchInput:_0x59acf1(".xujXllYgW"),messageContainer:_0x59acf1(".xikyLwDf4"),sendButton:_0x59acf1(".xuwRtDpu4"),fileInput:_0x59acf1(".xVEJA40Qh"),attachButton:_0x59acf1(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x59acf1(".xpbRox0hO#xbXZpIWEa"),markButton:_0x59acf1(".xpbRox0hO#xsVrze5YA"),brushButton:_0x59acf1(".xpbRox0hO#xrfvUzMAG"),heading:_0x59acf1(".xehdiGgBv"),backButton:_0x59acf1(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x59acf1(".xemr1y6ie"),spinnerContainer:_0x59acf1(".xemr1y6ie .spinner"),spinnerLabel:_0x59acf1(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x59acf1(".xDADAUUv4"),roomNameLabel:_0x59acf1(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x59acf1(".xlKSJ67AP"),nameLabel:_0x59acf1(".xt4GQkVIo"),avatarLabel:_0x59acf1(".xbVHF6S6B"),avatarWrapper:_0x59acf1(".xaoteDJh4"),profileContainer:_0x59acf1(".xQ6gFUtqT"),layoutResizer:_0x59acf1(".xrFP6D2e1"),statusLabel:_0x59acf1(".xOJE48BLX"),activityBar:_0x59acf1(".pS2na74a"),layoutResizer2:_0x59acf1(".PLc7zlhg")},_0x173aef='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0xfa958e.b32,_0x3487fc={};_0x3487fc.current="0.1.3",_0x3487fc.cacheId="x0n0HCjlj",_0x3487fc.directions='<ul class="xxmjDL5xB xbH7v2Hbn">\n		<li class="xcKqXW8uF">'+_0xfa958e.z0+'</li>\n		<li class="xcKqXW8uF">'+_0xfa958e.z1+"</li>\n		</ul>";let _0x30bb6d=_0x3487fc,_0x1f08ab=[],_0x1ee341={},_0x52ac24={},_0x1dd566,_0x976d19=!1,_0x59de55="",_0x42003a,_0x5d1fd8=0,_0x369089,_0x48b820=!1,_0x39480c=!1,_0x36f457=_0x247258.messageContainer,_0x344a27={};_0x344a27.state=!1,_0x344a27._a=null,_0x344a27._b=null,_0x344a27._n="",_0x344a27._d="",_0x344a27._m=[];let _0x5bf870=_0x344a27,_0x515f07="",_0x400fac=null,_0x388b79=!1;if(_0x5321ab)document.body.classList.add("mobile"),_0x247258._mb_att_btn.bindWithCooldown(function(){_0x247258.fileInput.click()});else{document.body.classList.add("desktop");let M={};M.parent=_0x247258.attachButton,M.text=_0xfa958e.d0,M.placement="top",new _0x3ef486(M),_0x247258.attachButton.bindWithCooldown(function(){_0x247258.fileInput.click()});let E={};E.parent=_0x247258.sendButton,E.text=_0xfa958e.d1,E.placement="top",E.interactive=!0,new _0x3ef486(E);let A={};A.parent=_0x247258.stickerButton,A.text=_0xfa958e.d2,A.placement="top",A.interactive=!0,new _0x3ef486(A);let H={};H.parent=_0x247258.markButton,H.text=_0xfa958e.d3,H.placement="top",H.interactive=!0;let B=new _0x3ef486(H),W={};W.parent=_0x247258.brushButton,W.text="潤色文本",W.placement="top",W.interactive=!0,new _0x3ef486(W),_0x3d3eb7([_0x247258.attachButton,_0x247258.brushButton,_0x247258.markButton,_0x247258.stickerButton],"horizontal"),_0x247258.brushButton.bindWithCooldown(function(){let e={IyjVV:function(e,t,n){return e(t,n)},RuZuW:"xDLwiKdTE"},t=e.IyjVV(_0x44823e,"潤色文本",!0);t.content.classList.add("lg"),t.body.classList.add(e.RuZuW)}),_0x247258.markButton.bindWithCooldown(function(){_0x39480c?(_0x39480c=!1,_0x247258.markButton.classList.remove("x3zdxRXQ6"),B.setText(_0xfa958e.d3)):(_0x39480c=!0,_0x247258.markButton.classList.add("x3zdxRXQ6"),B.setText(_0xfa958e.d4))},0);let D=!1,I=0,S=0,Y=e=>{let t={};t.gbdPI="xz7kq9zLe",t.axYav=function(e,t){return e-t};let n=t;D=!0,document.body.classList.add(n.gbdPI);let x=e.target.getBoundingClientRect();S=n.axYav(e.clientX,x.left),document.addEventListener("mousemove",R),document.addEventListener("mouseup",j)},R=e=>{let t={};t.MVTAm=function(e,t){return e-t},t.HxbmJ=function(e,t){return e-t},t.AsVDf=function(e,t){return e+t};let n=t;if(!D)return;let x=_0x247258.sidebar.getBoundingClientRect().left,i=n.MVTAm(n.HxbmJ(e.clientX,x),S),$=i;I=$,_0x247258.sidebar.style.width=n.AsVDf($,"px")},j=()=>{let e={};e.vLtmF="mousemove";let t=e;D=!1,_0x31631b.set("xjS4MkN99",I),document.body.classList.remove("xz7kq9zLe"),document.removeEventListener(t.vLtmF,R),document.removeEventListener("mouseup",j)};window.addEventListener("blur",()=>{let e={};e.EPGZn="resizing";let t=e;document.body.classList.remove(t.EPGZn),D=!1}),_0x247258.layoutResizer.addEventListener("mousedown",e=>{let t={fzWQm:function(e,t){return e(t)}};t.fzWQm(Y,e)})}function _0x44823e(e,t=!1,...n){let x={};x.siApa="xrYn5ZY3v",x.fAaXy="xvb5soWNa",x.bPCYm=function(e,t){return e+t};let i=x;console.log(n);let $={};$.closeOnEsc=!0,$.closeOnOverlayClick=!0,$.excludeElements=n;let a=new _0x4282a2($),s=_0x5bc59d(i.siApa);s.classList.add("lf"),a.Content.style.padding="0";let o=_0x5bc59d("x6Y89FynP");s.appendChild(o),o.innerText=e,a.Content.appendChild(s);let r=_0x5bc59d("xWDUelLWA");a.Content.appendChild(r);let l;t&&((l=_0x5bc59d(i.fAaXy)).focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',a.close=a.close.bind(a),l.bindWithCooldown(a.close),s.appendChild(l));let d=s.getBoundingClientRect();s.style.minHeight=i.bPCYm(d.height,"px");let c={};return c.root=a,c.body=r,c.content=a.Content,c.closebtn=l,c.Root=a.Root,c.Content=a.Content,c}async function _0x2f87bb(e,t){let n={IFGsv:"failed",SyNxk:"xWuhDLG1C",Ihhae:function(e,t){return e(t)},HBIbP:"xHZuqwWhI",HMsJG:"xFIqZCKV3",zHOjM:"xBWmlKrN2",thJWv:function(e,t,n){return e(t,n)},MzeHh:"instant",ZNCrT:function(e,t){return e===t},OYgBt:"x2y08yFOH",HHEGK:"xUSR4cuWD",tJPxC:"data-state",NNoUk:"loading",xApLM:"cache-url",ZzXOt:function(e,t){return e===t},anIvM:"video",hmcSq:"muted",IuNYB:"true",lgrbN:"controlslist",eKjxL:"audio",eqMFK:"controls",DeknN:"xGsec9lFd",HfHeE:"a24",bNvXE:"span",YjSNi:"xVlceg4Ab",pmdzw:"xDVzL7FIt",IhlOZ:"x6EwJGLAa",SiEby:"a10"};if(t.startsWith("<")){let x=t.match(/<\s*(\w+)\s+(\S+)/),i=x[1],$=x[2];if("image"===i){let a=document.createElement("img");a.focusable(!0),a.classList.add("xGsec9lFd"),a.classList.add(n.HHEGK),a.setAttribute(n.tJPxC,n.NNoUk),_0x388b79||_0x247258.messageContainer.scrollTo({top:_0x247258.messageContainer.scrollHeight,behavior:n.MzeHh}),a.onerror=function(){a.setAttribute("data-state",n.IFGsv),a.classList.remove("xUSR4cuWD")},a.onload=function(){_0x388b79||_0x247258.messageContainer.scrollTo({top:_0x247258.messageContainer.scrollHeight,behavior:"instant"}),a.setAttribute("data-state","loaded"),a.classList.remove("xUSR4cuWD"),e.classList.add(n.HMsJG),a.bindWithCooldown(function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let t=new _0x4282a2(e);t.Content.classList.add("xPSnkbRat");let x=document.createElement("canvas");x.classList.add(n.SyNxk),t.Content.appendChild(x);let i=new _0x32cc60(x,{maxScale:2,onClickOutside(e,t){a(e,t)}});function a(){i.destroy(),t.close()}i.loadImage($);let s=n.Ihhae(_0x5bc59d,"x8o1OSu71");s.focusable(!0),s.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',s.bindWithCooldown(a),t.Content.appendChild(s);let o=_0x5bc59d("x8o1OSu71");o.classList.add(n.HBIbP),o.focusable(!0),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',o.bindWithCooldown(function(){i.rotate()},0),t.Content.appendChild(o)},0)};let s={};s.action=n.xApLM,s.url=$,navigator.serviceWorker?.controller?.postMessage(s),a.src=$,e.appendChild(a)}else if(n.ZzXOt(i,n.anIvM)){let o=document.createElement("video");o.setAttribute(n.hmcSq,""),o.focusable(!0),o.playsInline=!0,o.setAttribute("controls",n.IuNYB),o.setAttribute(n.lgrbN,"nodownload"),o.onloadedmetadata=function(){_0x247258.messageContainer.scrollTo({top:_0x247258.messageContainer.scrollHeight,behavior:"instant"})};let r={};r.action=n.xApLM,r.url=$,navigator.serviceWorker?.controller?.postMessage(r),o.src=$,o.classList.add("xGsec9lFd"),e.appendChild(o)}else if(i===n.eKjxL){let l=document.createElement("audio");l.focusable(!0),l.setAttribute(n.eqMFK,"true");let d={};d.action="cache-url",d.url=$,navigator.serviceWorker?.controller?.postMessage(d),l.src=$,l.classList.add(n.DeknN),e.appendChild(l)}else e.innerHTML='<div class="xUiYNFhtR">'+_0xfa958e[n.HfHeE]+' <a class="x0ciSQShX no-wrap" href="'+$+'" target="_blank" rel="noreferrer noopener">'+_0xfa958e.a25+"</a></div>"}else{let c=document.createElement(n.bNvXE),h=n.Ihhae(_0x5bc59d,"xYj7x2KZ4");c.classList.add(n.YjSNi),_0x4bed38(c,t),e.appendChild(c),e.appendChild(h);let u=c.getBoundingClientRect().height;if(u>125){e.classList.add(n.pmdzw);let f=n.Ihhae(_0x5bc59d,n.IhlOZ),p={};p["0"]='<span class="xNM56JYdv">'+_0xfa958e.a8+"</span>",p["1"]='<span class="xNM56JYdv">'+_0xfa958e.a9+"</span>",p["2"]='<span class="xNM56JYdv">'+_0xfa958e[n.SiEby]+"</span>";let b=p;f.innerHTML=b[_0x5321ab?2:0],f.focusable(!0);let _=0;f.bindWithCooldown(function(){if(_0x5321ab){let x={};x.closeOnEsc=!0,x.closeOnOverlayClick=!0;let i=new _0x4fced5(x);i.Root.classList.add("xAQPbc7N3");let $=n.Ihhae(_0x5bc59d,n.zHOjM);i.Body.appendChild($),n.thJWv(_0x4bed38,$,t)}else{let a={};a.top=0,a.behavior=n.MzeHh,c.scrollTo(a),n.ZNCrT(_,0)?(_=1,e.classList.add(n.OYgBt),f.innerHTML=b[1]):(_=0,e.classList.remove(n.OYgBt),f.innerHTML=b[0])}},0),h.appendChild(f)}}}function _0x4bed38(e,t){let n={};n.uoGvT="b29",n.VRgiH=function(e,t){return e!==t},n.qGCXx=function(e,t){return e>t};let x=n,i=/@(\w+)/g,$=0,a;for(e.clear();x.VRgiH(a=i.exec(t),null);){let{index:s}=a,o=a[1];if(x.qGCXx(s,$)){let r=t.slice($,s);_0x1267f4(e,r)}let l=document.createElement("a");l.classList.add("x0ciSQShX"),l.focusable(!0),l.dataset.userId=o;let d={};d.userId=o,d.dom=l,_0x5bf870._m.push(d),_0x4d74c7(o).then(function(e){e?(l.textContent="@"+(e.name||_0xfa958e[x.uoGvT]),l.bindWithCooldown(function(){let t={};t.data=e,t.type=_0x5321ab?"mobile":"desktop",_0x566801(_0x400fac,t)},0)):l.textContent=_0xfa958e.b28}).catch(function(e){l.textContent="@"+o,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild(l),$=i.lastIndex}$<t.length&&_0x1267f4(e,t.slice($))}function _0x1267f4(e,t){let n={};n.iAiJx="div";let x=n,i=t.split("\n");i.forEach((t,n)=>{if(t){let $=_0x3f9869(t),a=document.createElement(x.iAiJx);a.innerHTML=$,Array.from(a.childNodes).forEach(t=>{e.appendChild(t)})}n<i.length-1&&e.appendChild(document.createElement("br"))})}function _0x3f9869(e){let t={nmghN:function(e,t){return e+t},TpDsE:'" target="_blank" rel="noreferrer noopener">',UnLIP:function(e,t){return e(t)}};return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let n=e.replace(/^https?:\/\//,"");return t.nmghN(t.nmghN('<span class="xCe4Btdzm" tabindex="0"><a class="x0ciSQShX" tabindex="-1" translate="no" href="'+e,t.TpDsE)+t.UnLIP(decodeURIComponent,n),"</a></span>")})}async function _0x1ec2e6(){let e={JtuOT:function(e,t){return e||t},ZmtlX:function(e,t){return e===t},AYqsI:"disabled",mhHxZ:"task",nVhBf:function(e,t){return e(t)},WyPRl:function(e,t,n,x){return e(t,n,x)},BoqpE:function(e,t){return e(t)},WQTWQ:function(e,t){return e===t},SMpFA:"1242",QcZbZ:function(e,t,n,x){return e(t,n,x)},SSJeG:"lang",OagHj:function(e,t,n,x){return e(t,n,x)},EXLki:"b31",dOMPY:function(e,t){return e(t)},ZIEVA:"&lt;",fhHXF:function(e,t,n,x,i){return e(t,n,x,i)},cvyAb:"messages"},t=_0x247258.messageInput.innerText.trim();if(e.JtuOT(!t,!_0x59de55)||e.ZmtlX(t,""))return;_0x247258.sendButton.classList.add(e.AYqsI),_0x247258.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let x=n[1],i=n[2];if(x===e.mhHxZ){if("1358"===i){_0x247258.messageInput.clear();let $={};$.action="clear-all-caches",navigator.serviceWorker?.controller?.postMessage($);let a={};a.content=_0xfa958e.b30,a.tag="2",_0x49c044(a,e.nVhBf(_0x4a1b6b,20),"3");return}if("1241"===i){_0x247258.messageInput.clear(),e.WyPRl(_0x49c044,{content:_0xfa958e.c3.replace("$0",_0xfa958e.c5),tag:"2"},e.BoqpE(_0x4a1b6b,20),"3"),_0x31631b.set("lang","zh");return}if(e.WQTWQ(i,e.SMpFA)){_0x247258.messageInput.clear(),e.QcZbZ(_0x49c044,{content:_0xfa958e.c3.replace("$0",_0xfa958e.c4),tag:"2"},_0x4a1b6b(20),"3"),_0x31631b.set(e.SSJeG,"en");return}_0x247258.messageInput.clear(),e.OagHj(_0x49c044,{tag:"2",content:_0xfa958e[e.EXLki]},e.dOMPY(_0x4a1b6b,20),"3");return}}t=t.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<",e.ZIEVA).replaceAll(">","&gt;").replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x247258.messageInput.clear();let s=_0x39480c?"1":null;_0x247258.markButton.classList.remove("x3zdxRXQ6"),_0x39480c=!1;let o=f(e.fhHXF(h,_0x1ef371,"chats",_0x59de55,e.cvyAb));await u(o,{sender:_0x369089,content:t,timestamp:Date.now(),tag:s});let r={};r.content=t,r.tag=s,_0x49c044(r,o.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={jiRjK:function(e,t){return e===t},eEEgK:"cacheSizeResult",CGqDR:function(e,t,n,x){return e(t,n,x)},OFuPO:function(e,t){return e(t)}};if(t.jiRjK(e.data.type,"cache-size-result")){let n=document.getElementById(t.eEEgK);if(e.data.error){n.innerHTML="錯誤: "+e.data.error;return}t.CGqDR(_0x49c044,{content:t.OFuPO(_0x3b2be8,e.data.bytes)},_0x4a1b6b(20),"3")}});let _0x1a2d46=0;function _0x49c044(e,t,n="1"){let x={abIxa:"xKljxgVJA",kkLrs:"xu4Celbbq",sXiKv:function(e,t){return e(t)},MgFIQ:"xc4iCj2Gy",jNzet:"xRHoYYwoZ",aYUCz:"data-visible",XIfHh:"a26",FmHCg:"xOmVIOA3e",ZgiUi:function(e,t,n){return e(t,n)}},i=_0x5bc59d("xVC8gtuyS"),$=_0x5bc59d("xMyW2iRSH"),a=_0x5bc59d(x.abIxa),s=_0x5bc59d(x.kkLrs),o=x.sXiKv(_0x5bc59d,x.MgFIQ),r=_0x5bc59d(x.jNzet);switch(i.setAttribute(x.aYUCz,"true"),i.setAttribute("data-message-id",t),i.classList.add("xiOw4dg0O"),i.appendChild(a),a.appendChild(r),r.appendChild(s),s.appendChild(o),r.appendChild($),o.innerText=_0xfa958e[x.XIfHh],_0x515f07.sender===e.sender&&i.classList.add(x.FmHCg),"1"===e.tag?$.classList.add("x4rKxFxLl"):"2"===e.tag&&$.classList.add("xHJfZfjT1"),_0x1dd566&&(_0x1dd566.remove(),_0x1dd566=null),n){case"1":_0x247258.messageContainer.appendChild(i);break;case"2":_0x36f457.appendChild(i),_0x1a2d46+=i.offsetHeight;break;case"3":_0x247258.messageContainer.appendChild(i),_0x48b820=!0,_0x247258.messageContainer.scrollTo({top:_0x247258.messageContainer.scrollHeight,behavior:"smooth"})}x.ZgiUi(_0x2f87bb,$,e.content)}function _0x55ba25(e,t,n="1"){let x={bZCTs:function(e,t){return e(t)},WAXIG:"/assets/avatar.png",biaBC:"d11",UBzPP:"xVC8gtuyS",jDMWA:"xMyW2iRSH",OdBOf:"xSYcbYqTG",HnRCs:"xc4iCj2Gy",ulNuz:function(e,t){return e(t)},EJaRW:"xt8fROB2L",Fpgdo:"xRHoYYwoZ",TKcCe:"true",mxbXW:"lazy",Xwmpl:"data-message-id",szOCs:"smooth",tSRCP:function(e,t){return e(t)}},i=_0x5bc59d(x.UBzPP),$=_0x5bc59d(x.jDMWA),a=x.bZCTs(_0x5bc59d,x.OdBOf),s=_0x5bc59d("xKljxgVJA"),o=x.bZCTs(_0x5bc59d,"xu4Celbbq"),r=x.bZCTs(_0x5bc59d,x.HnRCs),l=x.ulNuz(_0x5bc59d,x.EJaRW),d=_0x5bc59d(x.Fpgdo),c=document.createElement("img");switch(i.setAttribute("data-visible",x.TKcCe),l.classList.add(x.EJaRW),c.loading=x.mxbXW,i.appendChild(a),i.appendChild(s),s.appendChild(d),d.appendChild(o),o.appendChild(r),d.appendChild($),o.appendChild(l),a.appendChild(c),i.setAttribute(x.Xwmpl,t),"1"===e.tag&&$.classList.add("x4rKxFxLl"),l.innerText="0s",r.innerText=_0xfa958e.d9,c.draggable=!1,_0x1dd566&&(_0x1dd566.remove(),_0x1dd566=null),_0x515f07.sender===e.sender&&i.classList.add("xOmVIOA3e"),n){case"1":_0x247258.messageContainer.appendChild(i);break;case"2":_0x36f457.appendChild(i),_0x1a2d46+=i.offsetHeight;break;case"3":_0x247258.messageContainer.appendChild(i),_0x48b820=!0,_0x247258.messageContainer.scrollTo({top:_0x247258.messageContainer.scrollHeight,behavior:x.szOCs}),_0x48b820=!1}_0x2f87bb($,e.content),x.tSRCP(_0x4d74c7,e.sender).then(t=>{let n={};n.ScpOA="mobile";let i=n;function $(){let e={};e.data=t,e.type=_0x5321ab?i.ScpOA:"desktop",_0x566801(_0x247258.main,e)}l.innerText=x.bZCTs(_0x1c7ce8,e.timestamp),c.src=t.avatarUrl||x.WAXIG,c.onload=function(){a.classList.add("xWzeTGC6P")},r.onclick=$,a.focusable(!0),a.bindWithCooldown($),r.innerText=t.name||_0xfa958e[x.biaBC]}).catch(e=>{console.error(e)})}function _0x2faa06(e,t,n){let x={uivxT:function(e,t){return e(t)},NVYlm:"xJd2GT7MI",AUgEl:"d11"};_0x247258.signatureLabel.innerHTML=x.uivxT(_0x51d42e,n||_0xfa958e.d10),_0x247258.avatarWrapper.classList.remove(x.NVYlm),_0x247258.avatarLabel.src=e||"assets/avatar.png",_0x247258.nameLabel.textContent=t||_0xfa958e[x.AUgEl]}async function _0x5ba937(){let e={sBFmE:function(e,t,n){return e(t,n)},gDfol:"已上傳裝置信息",QWJwF:"--xVizV2ybq",koecy:function(e,t){return e(t)},LjjnC:function(e,t){return e*t},cpoTI:"placeholder",LVmll:"xjS4MkN99",FXVop:function(e){return e()},TMObs:"disabled",atTzr:function(e,t){return e!==t},RmpvL:"cvs"};if(_0x976d19)return;console.log("正在初始化應用程序"),_0x247258.roomNameLabel.innerText=_0xfa958e.a2,_0x247258.searchInput.placeholder=_0xfa958e.a1,_0x247258.messageInput.setAttribute(e.cpoTI,_0xfa958e.a3),_0x247258.spinnerLabel.innerText=_0xfa958e.b32;let t=_0x31631b.get(e.LVmll);t&&(_0x247258.sidebar.style.width=t+"px"),document.body.classList.add("xmKH3ad5R");let n=_0x22a0ff(),x=_0x54b707();e.FXVop(_0x290802);try{e.koecy(_0x4d74c7,_0x369089).then(async t=>{(!t.deviceInfo||Date.now()-t.deviceInfo.lastUpdate>36e5)&&(await e.sBFmE(_0x388356,_0x369089,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:x.screenWidth+"x"+x.screenHeight+" @"+x.devicePixelRatio+"x"}}),console.log(e.gDfol))})}catch(i){console.error("發生未知錯誤",i)}try{function $(){let t=_0x247258.messageContainer.getBoundingClientRect();_0x247258.messageContainer.style.setProperty("--x9LFHiVqv",Number((.6*t.height-24).toFixed(2))+"px"),_0x247258.messageContainer.style.setProperty(e.QWJwF,e.koecy(Number,e.LjjnC(t.height,.72).toFixed(2))-24+"px")}$(),window.addEventListener("resize",$)}catch(a){console.log("設置布局時發生錯誤")}if(_0x247258.searchInput.removeAttribute("disabled"),_0x247258.searchInput.focusable(!0),_0x247258.profileContainer.classList.remove(e.TMObs),_0x247258.profileContainer.focusable(!0),e.atTzr(localStorage.getItem(e.RmpvL),_0x30bb6d.current)){if(_0x5321ab){let s={};s.closeOnEsc=!0,s.closeOnOverlayClick=!0;let o=new _0x4fced5(s);o.Overlay.classList.add("x5RtiEC9k"),o.Body.innerHTML='<div class="xa6f2dQXX">'+_0xfa958e.a4+'</div><div class="x68JrA5Ak">'+_0x30bb6d.directions+"</div>"}else{let r=_0x44823e(_0xfa958e.a4,!0).body;r.innerHTML='<div class="xeUKJgV96">'+_0x30bb6d.directions+"</div>"}localStorage.setItem("cvs",_0x30bb6d.current)}_0x976d19=!0}function _0x51d42e(e){let t={};t.XBfam="&lt;",t.UIcXn="&nbsp;";let n=t;return e.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<",n.XBfam).replaceAll(">","&gt;").replaceAll(" ",n.UIcXn).replaceAll("\n","<br>")}function _0x4169f1(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x120890="Structure",_0x29ddaa;function _0x120840(e){var t;let n={ZKLll:function(e,t){return e===t},oKvNk:"public",tuFev:function(e,t){return e(t)},kHTzm:"xYARRkCjq",SsiBS:function(e,t){return e===t},fVuff:"xjrgLBAlF",ogMBy:"xxC3C39Oc",WRHoi:function(e,t){return e+t},AiXKu:"xVjpzmyej",URPkj:"disabled",qrYCd:"contenteditable",AFydm:"active",OEnLj:function(e,t){return e(t)},gmgKQ:"true",otjEI:"spinner",pezuX:function(e,t){return e(t)},PQbPg:function(e,t,n,x,i){return e(t,n,x,i)},WNhsq:function(e,t,n){return e(t,n)},edKfP:"timestamp",jhhRb:"desc",oqbON:"instant",AoAVa:"desktop",xIviG:"img",GJJFH:"xt4GQkVIo",BHmTQ:"xPAY7PmDq",PliVH:"b20",lLWPx:"xb4MnocjO",qWZvf:"b34",DjmLE:"b35",lmaRu:"A5o980bj",TddqO:"b36",KCjmw:"xTJA9U7y9",iANiz:"d10",uvLdS:function(e,t,n,x){return e(t,n,x)},kssXh:"xGGKUZ7B3",BjnjU:function(e,t){return e(t)},KFTuu:function(e,t){return e(t)},RvImK:"x9ZwavJjj",SYmKx:"date",hNPmR:function(e,t){return e(t)},GXSWA:function(e,t){return e(t)},qtrks:"x40AApYkW",UBqwl:function(e,t){return e(t)},cUTtn:"b37",aGZfs:"x6q2Zh2QF",mzFTH:"xCgVOK4ur",eeWko:function(e,t){return e(t)},TfJzK:"x5FOXvrVK",kgeSg:function(e,t){return e(t)},ZagWL:function(e,t){return e(t)},mDeyJ:function(e,t){return e(t)},gnNra:"xmiEvp5FV",kiZyM:"chats",ZQUUS:"todos",Vzaxh:"d14",wqbZr:function(e,t){return e!==t},pyMWE:"users",frabH:function(e,t,n){return e(t,n)},xOLMj:function(e,t){return e===t},GxJqa:"d13",AIfuF:function(e,t,n,x,i,$){return e(t,n,x,i,$)},Eozco:function(e,t){return e(t)},VThlJ:"xHQ4s8VGa",dhAKL:"xxChbQgko",YobpY:"horizontal",AwAng:"xHCo3rIZ7",EJgtx:"xbrV3058R",jFpbx:"新的行程",fxsni:"bottom-start",pyHpv:"bottom-end",QZDAo:function(e,t){return e(t)},tcmvF:"xrQdSHI2A",ObVoX:"b21",McxJY:"xUdcoAHYM",AJlFe:"b22",bEwHI:"b23",leMXi:function(e){return e()},sWIAH:"x2fP9fkxS",jNfZm:"xybvM5cRF",JEGHs:"xT3Ta8vKw",GayGk:function(e,t){return e(t)},pcCGr:"xQkxrD9ZA",ZUCaE:"b19",ucQGm:function(e){return e()},HmZqs:"smooth",AEpuK:"center",CPVQz:"nearest"},x=_0x5bc59d(n.sWIAH),i=_0x5bc59d("xQ65c0Nkc"),$=_0x5bc59d(n.jNfZm),a=n.QZDAo(_0x5bc59d,n.JEGHs),s=n.OEnLj(_0x5bc59d,"x6HyfOZS7"),o=n.GayGk(_0x5bc59d,n.pcCGr);async function r(){let t={kNoFG:"取得用户名称时发生错误：",idqaR:function(e,t){return n.ZKLll(e,t)},kJUUt:function(e,t,n,x){return e(t,n,x)}};if(_0x59de55!==e.id||_0x5321ab){_0x247258.messageInput.innerHTML="",_0x59de55=e.id,_0x5bf870._m.length=0,_0x400fac=_0x247258.main,_0x388b79=!1;let i=[];e.members.forEach(e=>{_0x4d74c7(e).then(t=>{let n={};n.id=e,n.name=t.name,i.push(n)}).catch(e=>{console.error(t.kNoFG,e)})}),_0x120890=(e.name||_0xfa958e.d12)+" - Structure",document.title=_0x120890,_0x247258.roomNameLabel.innerText=e.name,_0x1f08ab.length=0,_0x29ddaa&&_0x29ddaa.remove(),n.ZKLll(e.tag,n.oKvNk)?((_0x29ddaa=n.tuFev(_0x5bc59d,"xjrgLBAlF")).focusable(!0),_0x29ddaa.classList.add(n.kHTzm),_0x29ddaa.textContent=_0xfa958e.a7,_0x29ddaa.bindWithCooldown(function(){let e=_0x44823e(_0xfa958e.a6,!0);e.body.innerHTML='<div class="xrrfDPLS2">'+_0xfa958e.d5+"</div>"}),_0x247258.statusLabel.appendChild(_0x29ddaa)):n.SsiBS(e.tag,"privacy")&&((_0x29ddaa=_0x5bc59d(n.fVuff)).focusable(!0),_0x29ddaa.classList.add(n.ogMBy),_0x29ddaa.textContent=_0xfa958e.a5,_0x29ddaa.bindWithCooldown(function(){let e=_0x44823e(_0xfa958e.a6,!0);e.body.innerHTML='<div class="xrrfDPLS2">'+_0xfa958e.d6+"</div>"}),_0x247258.statusLabel.appendChild(_0x29ddaa));let $=new URLSearchParams(window.location.search);$.set("r",e.id),window.history.replaceState({},"",n.WRHoi("?",$.toString())),_0x247258.messageContainer.classList.remove(n.AiXKu),_0x247258.fileInput.removeAttribute("disabled"),_0x247258.attachButton.classList.remove(n.URPkj),_0x247258.attachButton.focusable(!0),_0x247258.stickerButton.classList.remove(n.URPkj),_0x247258.stickerButton.focusable(!0),_0x247258.markButton.classList.remove("disabled"),_0x247258.markButton.focusable(!0),_0x247258.markButton.classList.remove("x3zdxRXQ6"),_0x39480c=!1,_0x247258.brushButton.classList.remove(n.URPkj),_0x247258.brushButton.focusable(!0),_0x247258.messageInput.setAttribute(n.qrYCd,"true"),_0x5321ab?(_0x247258._mb_att_btn.classList.remove(n.URPkj),_0x247258._mb_att_btn.focusable(!0),_0x247258.backButton.classList.remove(n.URPkj),n.OEnLj(_0x59acf1,".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").focusable(!0),_0x247258.main.classList.add("x8VAGH6N2")):(_0x59acf1(".x2fP9fkxS.active")&&_0x59acf1(".x2fP9fkxS.active").classList.remove("active"),x.classList.add(n.AFydm)),_0x247258.messageInput.setAttribute(n.qrYCd,n.gmgKQ),_0x247258.messageInput.focusable(!0),_0x247258.messageContainer.clear(),(_0x1dd566=_0x5bc59d("xqBX9i6rZ")).classList.add(n.otjEI),_0x1dd566.innerHTML=_0x173aef,_0x247258.messageContainer.appendChild(_0x1dd566);let a=await n.pezuX(m,C(n.PQbPg(h,_0x1ef371,"chats",e.id,"messages"),n.WNhsq(w,n.edKfP,n.jhhRb),T(10)));_0x42003a=a.docs[9];let s=[];a.forEach(e=>{s.push(e)}),0===s.length&&_0x1dd566&&(_0x1dd566.innerHTML=_0xfa958e.d8),s.reverse(),s.map(e=>{var n=e.data();t.idqaR(_0x1f08ab.indexOf(e.id),-1)&&(n.sender===_0x369089?(_0x1f08ab.push(e.id),t.kJUUt(_0x49c044,n,e.id,"1")):(_0x1f08ab.push(e.id),_0x55ba25(n,e.id,"1"))),_0x515f07=n}),_0x48b820=!0,_0x247258.messageContainer.scrollTo({top:_0x247258.messageContainer.scrollHeight,behavior:n.oqbON}),_0x48b820=!1}}_0x52f6ae(e.id),x.bindWithCooldown(r);let l={};l.id=e.id,l.length=e.size,l.name=e.name||_0xfa958e.d9,l.launch=r,l.dom=x,_0x595eb3.push(l),x.appendChild(i),x.appendChild(s),s.appendChild(o);let d=function(){let t={hScuI:function(e,t){return e!==t},BYQYp:n.pyMWE,NFaga:function(e,t,x){return n.frabH(e,t,x)},uvqEK:function(e,t){return n.xOLMj(e,t)},NWiuP:n.GxJqa,RWYES:function(e,t,x,i,$,a){return n.AIfuF(e,t,x,i,$,a)},tjxhE:"xTIlpY4Et",LSLvO:function(e,t){return e(t)},dpowl:function(e,t){return e(t)},iMMOW:"xHxVtIAsn",PpSkO:function(e,t){return n.Eozco(e,t)},dOlRV:"xt4GQkVIo",iMGda:function(e,t){return e(t)},bgyUA:n.VThlJ,bUDtG:n.dhAKL,YTMus:"xaTPzRSCY",oKNhM:n.YobpY,mAMaX:n.AwAng,tUvZS:"hide",jGbxV:n.EJgtx,kopYC:n.jFpbx},i={};i.trigger=o,i.placement=[n.fxsni,n.pyHpv,"top-start","top-end"];let $=new _0x44f60c(i);$.Content.classList.add("xoV8hdbgt");let a=n.BjnjU(_0x5bc59d,"xrQdSHI2A"),s=n.QZDAo(_0x5bc59d,n.tcmvF),r=_0x5bc59d("xcoXgMpFW"),l=_0x5bc59d("xrQdSHI2A");a.bindWithCooldown(function(){let t={};t.neBDf=n.AoAVa,t.FPAdT=n.xIviG,t.SBnYN=n.GJJFH;let x=t;$.close();let i=_0x5bc59d(n.BHmTQ),a;if(_0x5321ab){let s={};s.parent=_0x247258.sidebar,s.title=_0xfa958e.b20,(a=new _0x4bc2e7(s)).Content.classList.add("xU2hUavXh"),a.Content.appendChild(i)}else(a=_0x44823e(_0xfa958e[n.PliVH],!0)).content.classList.add("lg"),a.content.classList.add(n.lLWPx),a.body.appendChild(i);let o=0;e.members.forEach(e=>{o++,function e(t){let n={pPoRC:function(e,t,n){return e(t,n)},eXSOp:x.neBDf,IFhoe:function(e,t){return e(t)},rjngD:x.FPAdT,MuLor:"xxnnTDIPC",riZyA:"lazy",vAVgO:"cache-url",oQnyI:x.SBnYN,ggBzL:"xlKSJ67AP",ZLnaG:"d10"};_0x4d74c7(t).then(e=>{let t=n.IFhoe(_0x5bc59d,"xScefCkPw"),x=n.IFhoe(_0x5bc59d,"xZHdsOFDz"),$=document.createElement(n.rjngD);$.classList.add(n.MuLor),$.src=e.avatarUrl||"assets/avatar.png",$.draggable=!1,$.loading=n.riZyA;let s={};s.action=n.vAVgO,s.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(s),x.appendChild($);let o=_0x5bc59d("xs8tjkwHJ"),r=_0x5bc59d(n.oQnyI),l=n.IFhoe(_0x5bc59d,n.ggBzL);r.innerText=e.name,l.innerText=e.signature||_0xfa958e[n.ZLnaG],t.focusable(!0),o.appendChild(r),o.appendChild(l),t.appendChild(x),t.appendChild(o),t.bindWithCooldown(function(){if(_0x5321ab){let t={};t.data=e,t.type="mobile",n.pPoRC(_0x566801,a.Root,t)}else{a.root.close();let x={};x.data=e,x.type=n.eXSOp,_0x566801(_0x247258.main,x)}}),i.appendChild(t)}).catch(e=>{console.error(e)})}(e)}),1==o&&i.classList.add("xyS4vzBWG")}),a.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0xfa958e[n.ObVoX],a.classList.add(n.McxJY),[a,s,l].forEach(e=>{e.focusable(!0)}),l.bindWithCooldown(function(){$.close(),new _0x392dd9({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0xfa958e[n.qWZvf],message:_0xfa958e.b33,buttons:[{text:_0xfa958e[n.DjmLE],classList:[n.lmaRu]},{text:_0xfa958e[n.TddqO],classList:[n.KCjmw],onClick:async function(){let n=_0x595eb3.findIndex(t=>t.id===e.id);if(t.hScuI(n,-1))try{await k(f(_0x1ef371,t.BYQYp,_0x369089),{joined:y(e.id)}),await t.NFaga(k,f(_0x1ef371,"chats",e.id),{members:y(_0x369089)}),_0x595eb3.splice(n,1),x.remove(),_0x59de55===e.id&&(_0x59de55=null,_0x247258.statusLabel.innerHTML="",_0x247258.roomNameLabel.innerText=_0xfa958e.d12,_0x247258.messageContainer.clear()),t.uvqEK(_0x595eb3.length,0)&&(_0x247258.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0xfa958e[t.NWiuP]+"</div>")}catch(i){console.error("Error while deleting item:",i)}}}]})}),$.Content.appendChild(a),s.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /></svg>'+_0xfa958e[n.AJlFe],s.bindWithCooldown(async function(){let x={DlDXm:n.URPkj,Xdslv:function(e,t,n){return e(t,n)},WPIVd:n.iANiz,LfxXR:function(e,t,x,i){return n.uvLdS(e,t,x,i)},ebOCc:n.kssXh,OnjMB:function(e,t){return n.OEnLj(e,t)},mjQTi:"label",zqHWz:"xGuwEx6qN",WiLbH:"xFJWlqoGn",jQtBX:function(e,t){return n.BjnjU(e,t)},VnnAS:function(e,t){return n.KFTuu(e,t)},KOkDp:n.RvImK,aZeop:"input",QbMJN:n.SYmKx,hYjOP:"time",nVODa:function(e,t){return n.hNPmR(e,t)},iWpHH:function(e,t){return n.GXSWA(e,t)},gYPmo:n.qtrks,OnRXf:function(e){return e()}};$.close();let i,a=_0x5bc59d("xtx2Cn8cK"),s=n.UBqwl(_0x5bc59d,"xNu1Upzh6");if(_0x5321ab){let o={};o.parent=_0x247258.sidebar,o.title=_0xfa958e[n.cUTtn],(i=new _0x4bc2e7(o)).Content.classList.add(n.aGZfs),i.Content.classList.add("xU2hUavXh"),i.Content.appendChild(a)}else(i=n.WNhsq(_0x44823e,_0xfa958e.b37,!0)).content.classList.add(n.lLWPx),i.content.classList.add("lg"),i.body.appendChild(a);let r=_0x3d3eb7([]);function l(n,$){let a={Gksos:"disabled",LtYeW:function(e,n,x,i,$,a){return t.RWYES(e,n,x,i,$,a)},YViBn:function(e,t){return e!==t}},o=_0x5bc59d(t.tjxhE),l=t.LSLvO(_0x5bc59d,"xA9JMbz3o");o.appendChild(l),t.uvqEK(n.theme,"green")?l.classList.add("x9hGI5hex"):"pink"===n.theme&&l.classList.add("x0eVQzH93");let d=t.dpowl(_0x5bc59d,t.iMMOW);o.appendChild(d);let c=t.PpSkO(_0x5bc59d,t.dOlRV);c.innerHTML=n.name||_0xfa958e.d9,d.appendChild(c);let h=t.iMGda(_0x5bc59d,t.bgyUA);_0x4bed38(h,n.description||"忘記加上描述了"),d.appendChild(h);let u=_0x32daaf(n.startAt,n.endAt),b=t.dpowl(_0x5bc59d,"xPP6DGDrH");b.innerText=u,o.appendChild(b);let _=t.dpowl(_0x5bc59d,t.bUDtG),m=_0x5bc59d("xaTPzRSCY");m.innerHTML=_0x4bfc38.edit,m.focusable(!0);let v=_0x5bc59d(t.YTMus);v.innerHTML=_0x4bfc38.trash,v.focusable(!0),_0x3d3eb7([m,v],t.oKNhM),v.bindWithCooldown(async function(){o.classList.add(a.Gksos);try{v.focusable(!1),v.classList.add(a.Gksos),m.focusable(!1),m.classList.add(a.Gksos);let t=a.LtYeW(f,_0x1ef371,"chats",e.id,"todos",$);await p(t),console.log("已成功刪除行程："+$),o.remove(),r.removeItem(o)}catch(n){v.focusable(!0),v.classList.remove("disabled"),m.focusable(!0),m.classList.remove(a.Gksos),console.error("刪除失敗：",n),o.classList.remove("disabled")}}),_.appendChild(m),_.appendChild(v),o.appendChild(_),o.focusable(!0),r.addItem(o),s.appendChild(o);let g={};g.name=n.name||"未知",g.startAt=n.startAt||17356608e5,g.endAt=n.endAt||17356608e5,g.description=n.description||"";let C=g;m.bindWithCooldown(function(t){t.stopPropagation(),function t(){let s={kjGrB:x.DlDXm,bBfQg:"chats",grfBM:function(e,t,n){return x.Xdslv(e,t,n)},LAJrj:x.WPIVd,hpKCA:"更新失敗："},o=x.LfxXR(_0x44823e,_0xfa958e.b41,!0,i.Root);o.root.Overlay.classList.add("xOjXmYkxE");let r=_0x5bc59d(x.ebOCc),l="_"+x.OnjMB(_0x4a1b6b,12),d=document.createElement(x.mjQTi),u=document.createElement("input");d.classList.add("xF37V7xd0"),u.classList.add("xYvZ9WF6d"),d.htmlFor=l,d.textContent=_0xfa958e.b38,u.id=l,u.type="text",u.value=C.name,u.maxLength=30,r.appendChild(d),r.appendChild(u);let p=_0x5bc59d("xGGKUZ7B3"),b="_"+_0x4a1b6b(12),_=document.createElement(x.mjQTi),m=document.createElement("textarea");_.classList.add("xF37V7xd0"),m.classList.add(x.zqHWz),_.htmlFor=b,_.textContent=_0xfa958e.b3,m.id=b,m.rows=3,m.value=C.description,m.maxLength=80,p.appendChild(_),p.appendChild(m);let v=x.OnjMB(_0x5bc59d,"xGGKUZ7B3");v.classList.add(x.WiLbH);let g="_"+x.jQtBX(_0x4a1b6b,12),w=document.createElement(x.mjQTi),L=x.VnnAS(_0x5bc59d,x.KOkDp),y=document.createElement("input"),T=document.createElement(x.aZeop);w.classList.add("xF37V7xd0"),y.classList.add("xYvZ9WF6d"),w.htmlFor=g,w.textContent=_0xfa958e.b39,y.type=x.QbMJN,y.id=g,T.classList.add("xYvZ9WF6d"),T.type=x.hYjOP;let M="_"+x.jQtBX(_0x4a1b6b,12),E=x.nVODa(_0x5bc59d,"x9ZwavJjj"),A=document.createElement(x.mjQTi),H=document.createElement(x.aZeop),B=document.createElement(x.aZeop);A.classList.add("xF37V7xd0"),H.classList.add("xYvZ9WF6d"),A.htmlFor=M,A.textContent=_0xfa958e.b40,H.id=M,H.type="date",B.classList.add("xYvZ9WF6d"),B.type="time";let W=x.iWpHH(_0x5bc59d,"xGGKUZ7B3"),D=_0x5bc59d(x.gYPmo);D.classList.add("xwtdXtpQT"),D.textContent=_0xfa958e.b6,D.classList.add("disabled");let I={};function S(){""!==u.value.trim()&&y.value&&T.value&&H.value&&B.value&&(u.value!==I._z||y.value!==I._a||a.YViBn(T.value,I._b)||H.value!==I._c||B.value!==I._d||a.YViBn(m.value,I._y))?(D.focusable(!0),D.classList.remove(a.Gksos)):(D.focusable(!1),D.classList.add(a.Gksos))}I._z=n.name,I._y=n.description;let Y=[u,y,T,H,B,m];if(Y.forEach(e=>{e.oninput=S}),D.bindWithCooldown(async function(){D.classList.add("disabled"),D.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let t=new Date(y.value+"T"+T.value).getTime(),n=new Date(H.value+"T"+B.value).getTime(),x=u.value,i=m.value;Y.forEach(e=>{e.setAttribute("disabled",!0)});let a=f(_0x1ef371,s.bBfQg,e.id,"todos",$);try{let r={};r.endAt=n,r.startAt=t,r.name=x,r.description=i,await s.grfBM(k,a,r),C.name=x,C.description=i,C.startAt=t,C.endAt=n,c.innerHTML=C.name,_0x4bed38(h,C.description||_0xfa958e[s.LAJrj]),console.log("已成功更新行程："+$),o.root.close()}catch(l){console.error(s.hpKCA,l),Y.forEach(e=>{e.classList.remove(s.kjGrB)})}}),L.appendChild(w),L.appendChild(y),L.appendChild(T),E.appendChild(A),E.appendChild(H),E.appendChild(B),o.body.appendChild(r),o.body.appendChild(p),o.body.appendChild(v),o.body.appendChild(W),v.appendChild(L),v.appendChild(E),W.appendChild(D),C.startAt){let R=new Date(C.startAt),j=new Date(C.startAt).toISOString().split("T")[0];console.log(j);let O=R.toTimeString().split(":").slice(0,2).join(":");console.log(j),I._a=j,I._b=O,y.value=j,T.value=O}if(C.endAt){let z=new Date(C.endAt),X=new Date(C.endAt).toISOString().split("T")[0],F=z.toTimeString().split(":").slice(0,2).join(":");I._c=X,I._d=F,H.value=X,B.value=F}x.OnRXf(S),u.focus()}()})}a.appendChild(s);let d=n.tuFev(_0x5bc59d,"xTOLrzGN6");a.appendChild(d);let c=_0x5bc59d(n.mzFTH);d.appendChild(c);let b=n.OEnLj(_0x5bc59d,"xtG9t2xuE"),_=n.eeWko(_0x5bc59d,n.TfJzK),v=n.kgeSg(_0x5bc59d,"x5FOXvrVK"),g=n.ZagWL(_0x5bc59d,"x7ho7YfuM");b.appendChild(_),b.appendChild(v),b.appendChild(g);let w=!1;_.innerText=_0xfa958e.c1,v.innerText=_0xfa958e.c2,b.focusable(!0),c.appendChild(b);let L=n.mDeyJ(_0x5bc59d,"xY17x64dw");L.classList.add(n.gnNra),L.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',L.focusable(!0),b.bindWithCooldown(function(){w?(L.classList.remove("hide"),s.classList.remove("xbrV3058R"),b.classList.remove(t.mAMaX),w=!1):(L.classList.add(t.tUvZS),s.classList.add(t.jGbxV),b.classList.add("xHCo3rIZ7"),w=!0)},0),L.bindWithCooldown(async function(){let n=t.dpowl(f,h(_0x1ef371,"chats",e.id,"todos")),x={name:t.kopYC,description:"",startAt:Date.now(),endAt:Date.now()};await t.NFaga(u,n,x),l(x,n.id)},1e3),c.appendChild(L),s.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x173aef+"</div>";let y=await m(C(n.PQbPg(h,_0x1ef371,n.kiZyM,e.id,n.ZQUUS)));s.innerHTML='<div class="xmBX2cWRZ">'+_0xfa958e[n.Vzaxh]+"</div>",n.wqbZr(y.docs.length,0)&&y.forEach(e=>{let t=e.data();l(t,e.id)})}),$.Content.appendChild(s),$.Content.appendChild(r),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-door-exit"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0xfa958e[n.bEwHI],l.classList.add("xGy5QqsmI"),$.Content.appendChild(l),n.Eozco(_0x3d3eb7,[a,s,l]),$._setPosition()};if(o.bindWithCooldown(function(e){e.stopPropagation(),n.leMXi(d)}),o.focusable(!0),x.focusable(!0),o.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',i.appendChild($),$.innerText=e.name||_0xfa958e.a2,t=e.description?e.description:n.ZKLll(e.size,0)?_0xfa958e[n.ZUCaE]:_0xfa958e.b18.replace("$0",_0x4169f1(e.size)),a.innerText=t,i.appendChild(a),_0x247258.primaryArea.appendChild(x),e.focus){n.ucQGm(r);let c={};c.behavior=n.HmZqs,c.block=n.AEpuK,c.inline=n.CPVQz,x.scrollIntoView(c)}}function _0x1c7ce8(e){let t={};t.iUxCy=function(e,t){return e<t},t.GeKdC=function(e,t){return e<t},t.XWlDL="a20",t.AQlRf=function(e,t){return e/t},t.KBQnr=function(e,t){return e<t},t.LgHgE=function(e,t){return e<t},t.RHjHB=function(e,t){return e/t},t.qjeTg="a22";let n=t,x=Math.max(Math.floor((Date.now()-e)/1e3),0);return n.iUxCy(x,60)?_0xfa958e.a18.replace("$0",x):n.GeKdC(x,3600)?_0xfa958e[n.XWlDL].replace("$0",Math.floor(n.AQlRf(x,60))):n.KBQnr(x,86400)?_0xfa958e.a21.replace("$0",Math.floor(n.AQlRf(x,3600))):n.LgHgE(x,2592e3)?_0xfa958e.a23.replace("$0",Math.floor(n.AQlRf(x,86400))):x<31536e3?_0xfa958e.a19.replace("$0",Math.floor(n.RHjHB(x,2592e3))):_0xfa958e[n.qjeTg].replace("$0",_0x4169f1(Math.floor(n.AQlRf(x,31536e3))))}function _0x3b2be8(e){let t={};t.xLnYt=function(e,t){return e-t};let n=t,x=["B","KB","MB","GB","TB","PB"],i=e,$=0;for(;i>=1024&&$<n.xLnYt(x.length,1);)i/=1024,$++;return i.toFixed(2)+" "+x[$]}async function _0x388356(e,t){let n={};n.rpjNB="users";try{let x=f(_0x1ef371,n.rpjNB,e);if(t){await k(x,t),_0x1ee341[e]&&(_0x1ee341[e]={..._0x1ee341[e],...t});let i=sessionStorage.getItem("upf_"+e);if(i){let $=JSON.parse(i),a={...$,...t};sessionStorage.setItem("upf_"+e,JSON.stringify(a))}}else delete _0x1ee341[e],sessionStorage.removeItem("upf_"+e);return!0}catch(s){return console.error("Failed to update user profile:",s),!1}}async function _0x4d74c7(e){let t={owUoa:function(e,t,n,x){return e(t,n,x)},sLeiP:"users"};if(_0x1ee341[e])return _0x1ee341[e];let n=sessionStorage.getItem("upf_"+e);if(n){let x=JSON.parse(n);return _0x1ee341[e]=x,x}try{let i=t.owUoa(f,_0x1ef371,t.sLeiP,e),$=await b(i);if(!$.exists())return null;{let a=$.data();return _0x1ee341[e]=a,sessionStorage.setItem("upf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x550d5c(e){let t={};if(t.iszaF="chats",_0x52ac24[e])return _0x52ac24[e];let n=sessionStorage.getItem("rpf_"+e);if(n){let x=JSON.parse(n);return _0x52ac24[e]=x,x}try{let i=f(_0x1ef371,t.iszaF,e),$=await b(i);if(!$.exists())return null;{let a=$.data();return _0x1ee341[e]=a,sessionStorage.setItem("rpf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x3027f4(e,t){let n={lDwEU:function(e,t){return e===t},BVCJh:function(e,t,n,x){return e(t,n,x)},oevzD:"嘗試加載更多訊息",PeKSF:function(e,t,n,x,i){return e(t,n,x,i)},TPWCp:function(e,t,n,x,i){return e(t,n,x,i)},UhgNP:"chats",alNyF:"messages",XOkjD:function(e,t,n){return e(t,n)},jKQcw:"timestamp",dXLaK:function(e,t){return e(t)},SrWNp:function(e,t){return e(t)},qzxLC:function(e,t){return e===t},xwLTt:function(e,t){return e===t},RYRmS:function(e,t){return e(t)},mynhz:function(e,t){return e-t}};if(console.log(n.oevzD),void 0!==_0x42003a){_0x48b820=!0;let x=await m(n.PeKSF(C,n.TPWCp(h,_0x1ef371,n.UhgNP,e,n.alNyF),n.XOkjD(w,n.jKQcw,"desc"),n.dXLaK(v,_0x42003a),n.SrWNp(T,10)));if(console.log(x.docs.length+" messages left"),n.qzxLC(x.docs.length,0))return;_0x42003a=n.xwLTt(x.docs.length,10)?x.docs[9]:void 0;let i=[];x.forEach(e=>{i.push(e)}),i.reverse();let $=0;_0x36f457=n.RYRmS(_0x5bc59d,"xWIHJooz8"),_0x515f07="";let a=_0x247258.messageContainer.firstChild;_0x247258.messageContainer.insertBefore(_0x36f457,a);let s=_0x247258.messageContainer.scrollHeight;i.map(e=>{$++;let t=e.data();n.lDwEU(_0x1f08ab.indexOf(e.id),-1)&&(t.sender===_0x369089?(_0x1f08ab.push(e.id),_0x49c044(t,e.id,"2")):(_0x1f08ab.push(e.id),n.BVCJh(_0x55ba25,t,e.id,"2")),_0x515f07=t)});let o=_0x247258.messageContainer.scrollHeight;_0x48b820=!0,_0x1a2d46=n.mynhz(o,s);let r={};r.top=_0x1a2d46,r.left=0,r.behavior="instant",_0x247258.messageContainer.scrollTo(r),_0x1a2d46=0,setTimeout(function(){_0x48b820=!1},500)}else _0x48b820=!1}let _0x24f6dd='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x52f6ae(e){let t={};t.DtvJt=function(e,t){return e!==t},t.MkYDU=function(e,t){return e===t},t.piFsO=".xMyW2iRSH",t.RvpIF="chats";let n=t;g(h(_0x1ef371,n.RvpIF,e,"messages"),t=>{let x={XNAxc:function(e,t){return n.DtvJt(e,t)},qXFWi:function(e,t){return n.MkYDU(e,t)},LyJGh:function(e,t){return n.MkYDU(e,t)},DTepq:"{sid}",wLHsN:"xl4gtQk5f",bjrwR:n.piFsO,jXEZR:"找不到匹配的訊息容器"};t.docChanges().forEach(t=>{if(x.XNAxc(_0x59de55,e))return;let n=t.doc.data();switch(t.type){case"added":n.sender!==_0x369089&&x.qXFWi(_0x1f08ab.indexOf(t.doc.id),-1)&&!t.doc.metadata.fromCache&&(x.LyJGh(document.visibilityState,"hidden")&&(_0x5d1fd8++,document.title="("+_0x5d1fd8+") "+_0x120890),_0x1f08ab.push(t.doc.id),_0x55ba25(n,t.doc.id,"3"));break;case"removed":let i=_0x59acf1(_0x24f6dd.replace(x.DTepq,t.doc.id));try{i.classList.add(x.wLHsN),setTimeout(function(){i.remove()},3e3)}catch($){console.log($)}break;case"modified":try{let a=_0x59acf1(_0x24f6dd.replace(x.DTepq,t.doc.id)).querySelector(x.bjrwR);a?(a.clear(),_0x2f87bb(a,n.content)):console.log(x.jXEZR)}catch(s){console.log("修改訊息時發生未知錯誤",s)}}})},e=>{console.error("An unknown error occurred",e)})}function _0x22b44f(){let e={ZyRXo:"xA7y7OLtP",NxyVM:"disabled",bBfQW:function(e,t){return e===t},KzJpM:function(e){return e()},oVpKN:"xRRuA0Z3S",nHAcb:"div",vdtSK:"b11",RStlM:"actionbtn xYIKBnbHS",YTiNK:"xCmJYJQtp",TpLdx:"xrYn5ZY3v",ipKCJ:function(e,t){return e(t)},CgTlm:"x6Y89FynP",lWsdl:"xWDUelLWA",tMTLn:"xwxpzc3QF",ERjEv:"xZdL9CF5M",Mgyur:"xGGKUZ7B3",BLGKs:"xF37V7xd0",Nbxtb:"off",qGmyp:"text",NzyjS:"label",fytWV:"xw0IanPrC",oftGN:"b26",SgAJP:"x40AApYkW",XUuJz:"xPT7rhLdL",RGtyk:"b13"},t=_0x5bc59d("xrYn5ZY3v");t.innerText=_0xfa958e.b8;let i=_0x5bc59d("x4V8Jejrz");i.innerText=_0xfa958e.b9;let a=_0x5bc59d(e.oVpKN),s=document.createElement(e.nHAcb);s.id="x7BYgkdiJ",s.focusable(!0);let o='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0xfa958e[e.vdtSK],r='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0xfa958e.b10+"</span>\n						</div>";s.innerHTML=o;let l=document.createElement("div");l.focusable(!0),l.id="xBnuWNG6V",l.className="actionbtn xYIKBnbHS",s.className=e.RStlM,l.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0xfa958e.b12,a.appendChild(s),a.appendChild(l);let d=new _0x4282a2;d.Content.classList.add("bt"),d.Root.classList.add(e.YTiNK),d.Content.classList.add("xySmLVr4a"),d.Content.appendChild(t),d.Content.appendChild(i),d.Content.appendChild(a);let c=_0x5bc59d(e.TpLdx);c.classList.add("lf"),c.classList.add("gc");let h=e.ipKCJ(_0x5bc59d,"xZyuwxZPZ");h.focusable(!0),h.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',c.appendChild(h);let u=_0x5bc59d(e.CgTlm);u.innerText=_0xfa958e.b27,c.appendChild(u);let f=_0x5bc59d(e.lWsdl);f.classList.add(e.tMTLn),d.Content.appendChild(c),d.Content.appendChild(f);let p=document.createElement("div");f.appendChild(p),p.classList.add(e.ERjEv);let b=document.createElement("div");b.classList.add(e.Mgyur),p.appendChild(b);let _=document.createElement("label");_.classList.add(e.BLGKs),_.innerText=_0xfa958e.b24,b.appendChild(_);let m=document.createElement("input");m.classList.add("xYvZ9WF6d"),m.autocomplete=e.Nbxtb,m.type=e.qGmyp,m.disabled=!0,m.spellcheck=!1,b.appendChild(m);let v=document.createElement(e.nHAcb);v.classList.add(e.Mgyur),v.style.marginTop="10px",v.style.marginBottom="5px",p.appendChild(v);let g=document.createElement(e.NzyjS);g.classList.add(e.BLGKs),g.innerText=_0xfa958e.b25,v.appendChild(g);let C=document.createElement("input");C.classList.add("xYvZ9WF6d"),C.type="password",C.disabled=!0,C.autocomplete="off",v.appendChild(C);let w=document.createElement(e.nHAcb);w.classList.add(e.fytWV),p.appendChild(w);let L=document.createElement(e.nHAcb);L.innerText=_0xfa958e[e.oftGN],L.classList.add("disabled"),L.classList.add(e.SgAJP),p.appendChild(L);let y=_0x5bc59d(e.XUuJz);y.focusable(!0),y.innerHTML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12l14 0"></path><path d="M5 12l6 6"></path><path d="M5 12l6 -6"></path></svg>'+_0xfa958e[e.RGtyk],y.bindWithCooldown(function(){d.Content.classList.remove("xA7y7OLtP"),L.classList.add("disabled"),L.focusable(!1),m.disabled=!0,C.disabled=!0}),p.appendChild(y),h.bindWithCooldown(function(){let t="3|1|4|0|2".split("|"),n=0;for(;;){switch(t[n++]){case"0":m.disabled=!0;continue;case"1":L.classList.add("disabled");continue;case"2":C.disabled=!0;continue;case"3":d.Content.classList.remove(e.ZyRXo);continue;case"4":L.focusable(!1);continue}break}});let k=!0,T=function(){let t={DiwAo:"b15",MEWwp:e.NxyVM,GkgMS:function(e,t,n){return e(t,n)}};k&&(k=!1,h.classList.add("disabled"),h.focusable(!1),w.classList.remove("show"),L.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,C.disabled=!0,L.classList.add(e.NxyVM),L.focusable(!1),L.blur(),y.classList.add("disabled"),y.focusable(!1),$(_0x474c36,m.value,C.value).then(e=>{try{d.close(),α.close()}catch(t){}let n=e.user;console.log("User is logged in: ",n)}).catch(e=>{let n={};n.NNHXn=t.DiwAo,n.wfEGY="b17",n.esBWn=t.MEWwp;let x=n;t.GkgMS(setTimeout,function(){let t=e.code;switch(w.classList.add("show"),t){case"auth/invalid-login-credentials":w.innerText=_0xfa958e.b14;break;case"auth/invalid-email":w.innerText=_0xfa958e[x.NNHXn];break;case"auth/network-request-failed":w.innerText=_0xfa958e.b16;break;default:w.innerText=_0xfa958e[x.wfEGY]}L.innerHTML=_0xfa958e.b26,L.classList.remove(x.esBWn),L.focusable(!0),y.classList.remove("disabled"),y.focusable(!0),m.disabled=!1,C.disabled=!1,h.classList.remove("disabled"),h.focusable(!0),k=!0},3e3)}))};C.onkeydown=function(t){e.bBfQW(t.keyCode,13)&&e.KzJpM(T)},L.bindWithCooldown(T),s.bindWithCooldown(function(){s.classList.add("disabled"),l.classList.add(e.NxyVM),s.innerHTML=r,s.focusable(!1),l.focusable(!1),n(_0x474c36,_0x1d5c0b).then(e=>{x.credentialFromResult(e).accessToken;let t=e.user;_0x4d74c7(_0x369089=t.uid).then(e=>{try{_0x2faa06(e.avatarUrl,e.name,e.signature)}catch(t){console.error("無法設置")}d.close()}).catch(e=>{console.error(e)})}).catch(t=>{"auth/popup-closed-by-user"===t.code&&(s.classList.remove("disabled"),l.classList.remove(e.NxyVM),s.focusable(!0),l.focusable(!0),s.innerHTML=o)})}),l.bindWithCooldown(function(){let e="0|5|3|4|1|2".split("|"),t=0;for(;;){switch(e[t++]){case"0":d.Content.classList.add("xA7y7OLtP");continue;case"1":L.classList.remove("disabled");continue;case"2":m.focus();continue;case"3":C.disabled=!1;continue;case"4":L.focusable(!0);continue;case"5":m.disabled=!1;continue}break}})}function _0x5d372a(e="",t="",...n){let x={gosFe:function(e,t){return e!==t},CRXDc:"disabled",hnioa:function(e,t){return e(t)},FYxit:"users",oMUqz:function(e,t,n){return e(t,n)},sUtVP:function(e,t){return e(t)},FYJGW:function(e,t){return e(t)},fYErO:"xMCbxIsn5",dsOww:"xrYn5ZY3v",eeJhe:"xvb5soWNa",BiUuU:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',MIktB:"file",gXPeO:"xGGKUZ7B3",jurAG:"_rJvAjH9O",mcmPT:"input",MgMUL:"text",DdMYJ:function(e,t){return e(t)},XdrGj:"_fM6Qcf9q",kCXzq:"xGuwEx6qN"},i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0,i.excludeElements=n;let $=new _0x4282a2(i);$.Root.classList.add(x.fYErO),$.Content.style.padding="0";let a=x.FYJGW(_0x5bc59d,x.dsOww);a.classList.add("lf");let s=x.hnioa(_0x5bc59d,"x6Y89FynP");s.innerText=_0xfa958e.b5,a.appendChild(s);let o=x.sUtVP(_0x5bc59d,x.eeJhe);o.focusable(!0),o.innerHTML=x.BiUuU,$.close=$.close.bind($),o.bindWithCooldown($.close),a.appendChild(o),$.Content.appendChild(a);let r=x.sUtVP(_0x5bc59d,"xWDUelLWA");$.Content.appendChild(r);let l=document.createElement("input");l.setAttribute("hidden","true"),l.id="_Jy2eOVG7",l.type=x.MIktB;let d=x.sUtVP(_0x5bc59d,x.gXPeO),c=document.createElement("label");c.innerText=_0xfa958e.b4,c.classList.add("xF37V7xd0"),c.htmlFor=x.jurAG;let h=document.createElement(x.mcmPT);h.value=e,h.classList.add("xYvZ9WF6d"),h.id="_rJvAjH9O",h.type=x.MgMUL,h.maxLength="20",h.autocomplete="off",h.spellcheck=!1,r.appendChild(d),d.appendChild(c),d.appendChild(h);let p=x.DdMYJ(_0x5bc59d,"xGGKUZ7B3"),_=document.createElement("label");_.innerText=_0xfa958e.b3,_.classList.add("xF37V7xd0"),_.htmlFor=x.XdrGj;let m=document.createElement("textarea");m.maxLength="80",m.value=t,m.classList.add(x.kCXzq),m.id=x.XdrGj,m.rows="3",m.maxLength="50",m.autocomplete="off",m.spellcheck=!1,r.appendChild(p),p.appendChild(_),p.appendChild(m);let v=x.DdMYJ(_0x5bc59d,"x40AApYkW");function g(){m.value!==t||x.gosFe(h.value,e)?(v.classList.remove(x.CRXDc),v.focusable(!0)):(v.classList.add(x.CRXDc),v.focusable(!1))}async function C(){v.classList.add(x.CRXDc),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),h.disabled=!0,m.disabled=!0,l.disabled=!0;let e=h.value,t=m.value.trim(),n=await x.hnioa(b,f(_0x1ef371,x.FYxit,_0x369089));if(n.exists()){let i={};i.name=e,i.signature=t,await _0x388356(_0x369089,i)}else await x.oMUqz(u,f(_0x1ef371,x.FYxit,_0x369089),{name:e,signature:t,id:_0x369089,joined:[],deviceInfo:""}),_0x247258.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0xfa958e.d7+"</div>";_0x247258.nameLabel.innerText=e,_0x247258.signatureLabel.innerHTML=x.sUtVP(_0x51d42e,t||_0xfa958e.d10),_0x5bf870.state&&(_0x5bf870._n=e,_0x5bf870._d=t,_0x5bf870._a.innerText=e,_0x5bf870._b.innerHTML=x.FYJGW(_0x3f9869,x.sUtVP(_0x51d42e,t))||_0xfa958e.d10,_0x5bf870._m.forEach(t=>{t.userId===_0x369089&&(t.dom.textContent="@"+e)})),$.close()}v.innerText=_0xfa958e.b7,v.classList.add("disabled"),v.style.marginTop="0",r.appendChild(v),m.oninput=g,h.oninput=g,v.bindWithCooldown(C),h.focus()}async function _0x4ad484(e,t){let n={XSGqj:function(e,t,n,x,i){return e(t,n,x,i)},PiVvr:function(e,t){return e(t)}},x=await m(n.XSGqj(h,_0x1ef371,"chats",e.id,"messages")),i=_0x595eb3.some(t=>t.id===e.id);if(!i){let $={};$.name=e.name,$.id=e.id,$.type=e.type,$.tag=e.tag,$.description=e.description,$.size=x.size,$.members=e.members,$.focus=t,$.identity=e.identity,n.PiVvr(_0x120840,$)}}async function _0x290802(){let e={kImtL:function(e,t,n){return e(t,n)},mLKnT:function(e,t){return e===t},fGHwO:function(e,t){return e(t)},LbkZN:"Error fetching document for ID:",OQKzY:"users"};_0x247258.primaryArea.classList.add("xuGldtFot");let t=await b(f(_0x1ef371,e.OQKzY,_0x369089)),n=t.data(),x=new URLSearchParams(window.location.search).get("r"),i=n.joined||[];i.length>0?n.joined.map(async t=>{try{e.fGHwO(_0x550d5c,t).then(async n=>{let i={};i.id=t,i.name=n.name,i.type=n.type,i.tag=n.tag,i.plugins=n.plugins,i.members=n.members,i.description=n.description,i.identity=n.identity,e.kImtL(_0x4ad484,i,e.mLKnT(x,t))})}catch(n){console.error(e.LbkZN,t,n)}}):_0x247258.primaryArea.innerHTML='<div class="xzF3bjGCc">尚未加入任何聊天室</div>'}i(_0x474c36,e=>{let t={UrDJO:function(e){return e()},BswKp:function(e,t,n,x){return e(t,n,x)},cGxun:function(e){return e()}};e?(_0x4d74c7(_0x369089=e.uid).then(e=>{if(!e){t.UrDJO(_0x5d372a);return}t.BswKp(_0x2faa06,e.avatarUrl,e.name,e.signature)}).catch(e=>{console.error(e),_0x2faa06()}),t.cGxun(_0x5ba937)):(_0x369089="",t.UrDJO(_0x22b44f))});let _0x55de12={};_0x55de12.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x55de12.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x55de12.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x55de12.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x55de12.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x312a86=_0x55de12;_0x247258.fileInput.onchange=async function(e){let t={vbiPn:"b44",CrcAl:"b45",WsYfo:function(e,t){return e/t},aYfvS:"{u}",PMoZy:function(e,t,n,x,i){return e(t,n,x,i)},beCMB:"chats",xwbkp:"messages",ogLQn:function(e,t,n,x){return e(t,n,x)},WFvrp:"b46",hDVNw:function(e,t){return e(t)},eDJab:"xrYn5ZY3v",VugXJ:"xIOucKmLX",EooRO:"x6Y89FynP",wpqAZ:"xujSSErs5",GExoM:"xvb5soWNa",eRFkI:function(e,t){return e>t},hdamm:"b42",joGzu:"div",BDrJr:"xCECpHDwZ",dTrZp:"xty9qDHrl",zWhSi:function(e,t){return e(t)},ihWWy:"image/",czZzU:"video/",KfSSI:"< video {u}",jpvvj:"audio/",JgZia:"application/x-zip-compressed",cqKkv:"application/zip",AeksV:"application/vnd.rar",MgXfO:"application/x-compressed",jLAAw:"< other {u}",fYbHf:function(e,t){return e===t},sENmD:"application/pdf",USeyG:"< pdf {u}",uAaMS:"xxs4n9nhX",eswac:'<div class="xTGGn7ABj">',tsaDW:"xk0osKWCK",XIRrK:function(e,t,n){return e(t,n)},LZcYy:"state_changed"},n=e.target.files[0];if(!n)return;let x={};x.closeOnEsc=!0,x.closeOnOverlayClick=!0;let i=new _0x4282a2(x);i.Overlay.classList.add("xOjXmYkxE"),i.Lock=!0;let $=t.hDVNw(_0x5bc59d,t.eDJab);$.classList.add("lf");let a=_0x5bc59d("xWDUelLWA");a.classList.add(t.VugXJ),i.Content.appendChild($),i.Content.appendChild(a),i.Content.classList.add("gt");let s=t.hDVNw(_0x5bc59d,t.EooRO),d=_0x5bc59d(t.wpqAZ);$.appendChild(s),a.appendChild(d);let c=_0x5bc59d(t.GExoM);if(c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',c.focusable(!0),$.appendChild(c),t.eRFkI(n.size,52428800)){s.innerText=_0xfa958e.b48,d.innerText=_0xfa958e.b49.replace("$0",t.hDVNw(_0x3b2be8,n.size)),c.onclick=function(){_0x247258.fileInput.value="",i.close.bind(i)()},i.Lock=!1;return}s.innerText=_0xfa958e[t.hdamm],d.innerText=_0xfa958e.b43;let p=document.createElement(t.joGzu);p.classList.add(t.BDrJr),p.focusable(!0),a.appendChild(p);let b=document.createElement(t.joGzu);b.classList.add(t.dTrZp),p.appendChild(b);let _=document.createElement("div");_.classList.add("xIEj1ZAnA");let m=t.zWhSi(String,n.type),v="",g="";m.startsWith(t.ihWWy)?(v=_0x312a86.image,g="< image {u}"):m.startsWith(t.czZzU)?(v=_0x312a86.video,g=t.KfSSI):m.startsWith(t.jpvvj)?(v=_0x312a86.audio,g="< audio {u}"):-1!==[t.JgZia,t.cqKkv,"application/x-rar-compressed",t.AeksV,t.MgXfO].indexOf(m)?(v=_0x312a86.archive,g=t.jLAAw):t.fYbHf(m,t.sENmD)?(v=_0x312a86.others,g=t.USeyG):(v=_0x312a86.others,g="< other {u}"),_.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+v+"</svg>",b.appendChild(_);let C=document.createElement("div");C.classList.add(t.uAaMS),b.appendChild(C),C.innerHTML=t.eswac.concat(n.name).concat('</div><div class="xtyaQiCLO">'+t.hDVNw(_0x3b2be8,n.size)+"</div>"),b.appendChild(C);let w=document.createElement(t.joGzu);w.classList.add("xsoLox5sj"),b.appendChild(w);let L=document.createElement(t.joGzu);L.classList.add(t.tsaDW),w.appendChild(L);let y="";try{let k=t.zWhSi(_0x4a1b6b,12);y=k+"-"+n.name}catch(T){console.log("生成文件名時發生未知錯誤",T)}let M=o(_0x133d57,"uploads/"+_0x59de55+"/attachment/"+y),E=t.XIRrK(r,M,n);c.onclick=function(){s.innerText=_0xfa958e[t.vbiPn],d.innerText=_0xfa958e[t.CrcAl],i.Lock=!1,E.cancel(),_0x247258.fileInput.value="",i.close()},E.on(t.LZcYy,e=>{let n=100*t.WsYfo(e.bytesTransferred,e.totalBytes);L.style.width=n+"%"},e=>{console.log(e)},async()=>{let e=await l(E.snapshot.ref),n="";n=g.replace(t.aYfvS,e);let x=f(t.PMoZy(h,_0x1ef371,t.beCMB,_0x59de55,t.xwbkp));await u(x,{sender:_0x369089,content:n,timestamp:Date.now()});let $={};$.content=n,t.ogLQn(_0x49c044,$,x.id,"3"),_0x247258.fileInput.value="",p.remove(),s.innerText=_0xfa958e[t.WFvrp],d.innerText=_0xfa958e.b47,c.onclick=()=>{},i.Lock=!1,c.bindWithCooldown(function(){i.close()})})},document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&(console.log("已重新聚焦 清除未讀訊息數"),document.title=_0x120890,_0x5d1fd8=0)}),_0x247258.searchInput.oninput=function(){let e={};e.KVfQV="hide",e.pqtuF=function(e,t){return e!==t};let t=e,n=_0x247258.searchInput.value.toLowerCase().trim();t.pqtuF(n,"")?_0x595eb3.forEach(e=>{e.name.toLowerCase().includes(n)?e.dom.classList.remove("hide"):e.dom.classList.add("hide")}):_0x595eb3.forEach(e=>{e.dom.classList.remove(t.KVfQV)})},_0x247258.messageContainer.addEventListener("scroll",function(){let e={};e.DEChx=function(e,t){return e!==t},e.bPBPk=function(e,t){return e<t};let t=e,n=_0x247258.messageContainer.scrollTop;t.DEChx(_0x369089,"")&&t.DEChx(_0x59de55,"")&&t.bPBPk(n,120)&&!_0x48b820&&(_0x388b79=!0,_0x3027f4(_0x59de55))}),_0x247258.messageInput.oninput=function(){let e={};e.CyIBB="DIV",e.TWcSL=function(e,t){return e!==t},e.zLDjA="disabled";let t=e,n=_0x247258.messageInput.childNodes;1==n.length&&("BR"===n[0].nodeName||n[0].nodeName===t.CyIBB)&&_0x247258.messageInput.clear(),t.TWcSL(_0x247258.messageInput.innerText.trim(),"")?(_0x247258.sendButton.classList.remove(t.zLDjA),_0x247258.sendButton.focusable(!0)):(_0x247258.sendButton.classList.add(t.zLDjA),_0x247258.sendButton.focusable(!1))},_0x247258.messageInput.onfocus=function(){document.body.classList.add("xYIbDcl9T")},_0x247258.messageInput.onblur=function(){document.body.classList.remove("xYIbDcl9T")},_0x247258.messageInput.onpaste=function(e){let t={};t.hrpay="insertHTML",t.PVHEk="text/plain";let n=t;e.preventDefault(),document.execCommand(n.hrpay,!0,_0x51d42e((e.clipboardData||window.Clipboard).getData(n.PVHEk)))},_0x247258.messageInput.ondrop=function(e){let t={swdpO:"text/plain",YmRBT:function(e,t){return e(t)}};e.preventDefault();let n=e.dataTransfer.getData(t.swdpO);e.target.focus(),document.execCommand("insertHTML",!0,t.YmRBT(_0x51d42e,n))},_0x247258.messageInput.oncopy=function(e){let t={};t.aMOfW="text/plain",e.preventDefault();var n=window.getSelection().toString();e.clipboardData.setData(t.aMOfW,n)},_0x247258.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x5321ab||e.shiftKey||(e.preventDefault(),_0x1ec2e6());break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x247258.sendButton.bindWithCooldown(_0x1ec2e6),document.onkeydown=function(e){let t={};t.VYhZL=function(e,t){return e!=t},t.suMLC="INPUT",t.tEYNv="xGuwEx6qN",t.ltakS="xYvZ9WF6d";let n=t;switch(e.keyCode){case 191:let x=document.activeElement;n.VYhZL(x,_0x247258.messageInput)&&n.VYhZL(x,_0x247258.searchInput)&&x.tagName.toUpperCase()!=n.suMLC&&!x.classList.contains(n.tEYNv)&&!x.classList.contains(n.ltakS)&&(e.preventDefault(),_0x247258.messageInput.focus());break;case 75:e.ctrlKey&&_0x976d19&&(e.preventDefault(),_0x247258.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x247258.backButton.bindWithCooldown(function(){let e={};e.NvtPS="disabled",e.KseUO="x8VAGH6N2",e.LQDbp="true";let t=e;_0x400fac=_0x247258.sidebar,_0x247258.backButton.classList.add(t.NvtPS),_0x247258._mb_att_btn.classList.add("disabled");let n=window.location.href,x=n.replace(/\?.*$/,"");window.history.replaceState(null,"",x),_0x247258.main.classList.remove(t.KseUO),_0x48b820=!0,_0x247258.messageContainer.clear(),_0x48b820=!1,_0x59de55="",_0x120890="Structure",document.title=_0x120890,_0x247258.messageInput.clear(),_0x247258.messageInput.setAttribute("contenteditable",t.LQDbp),_0x247258.messageInput.focusable(!1),_0x247258.sendButton.classList.add("disabled"),_0x247258.sendButton.focusable(!1)}),_0x247258.profileContainer.bindWithCooldown(function(){let e={LqjGP:function(e,t){return e===t},FXLAA:"normal",Zhpfa:"成功加入",ibFlf:function(e,t,n){return e(t,n)},kNidk:function(e,t,n,x){return e(t,n,x)},IWhUi:function(e,t){return e(t)},czQKU:"已經加入了，不用再加入",mBFQn:"show",BgVEU:"xGGKUZ7B3",GiekL:"xF37V7xd0",pOjNH:"x4qSHIItt",kStqQ:"off",dcnZK:"xYvZ9WF6d",cMCCq:function(e,t){return e(t)},BpHVb:"xw0IanPrC",rKWtf:function(e,t){return e(t)},BVcoU:"disabled",JbSgZ:function(e,t){return e(t)},bAwIC:"xmKH3ad5R",qfaFA:"xJd2GT7MI",UidcU:function(e,t){return e(t)},DJzxg:"x9EnCPd4S",jmedi:"xrQdSHI2A",itkjT:"a11",cAWrG:function(e,t){return e(t)},LCNUD:"a15",BIbcN:function(e,t){return e(t)},qROwS:"a16"},t={};t.trigger=_0x247258.profileContainer,t.placement="top";let n=new _0x44f60c(t);n.Content.classList.add("xLhiIL2Wm"),_0x247258.profileContainer.classList.add("x9EnCPd4S");let x=_0x5bc59d(e.jmedi);x.focusable(!0),x.innerHTML='<svg style="min-width: 24px" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 9h8" /><path d="M8 13h6" /><path d="M12.01 18.594l-4.01 2.406v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v5.5" /><path d="M16 19h6" /><path d="M19 16v6" /></svg>'+_0xfa958e[e.itkjT],x.bindWithCooldown(function(){let t={yuKbb:e.Zhpfa,DaRjz:function(t,n,x){return e.ibFlf(t,n,x)},qSvwZ:function(t,n,x,i){return e.kNidk(t,n,x,i)},AnsUC:function(t,n){return e.IWhUi(t,n)},WlVyd:function(e,t){return e===t},egaBn:e.czQKU,UMUvD:"disabled",qLwNI:e.mBFQn,BqIxa:function(e,t,n){return e(t,n)},ADuPd:"jid",LDjfe:function(e){return e()}};n.close();let x=_0x44823e(_0xfa958e.a11,!0);x.Root.classList.add("xUhQpBm2v");let i=_0x5bc59d(e.BgVEU);i.classList.add("xlEirFRi3");let $="_"+_0x4a1b6b(12),a=document.createElement("label");a.textContent=_0xfa958e.a13,a.htmlFor=$,a.classList.add(e.GiekL);let s=document.createElement("input");s.classList.add(e.pOjNH),s.id=$,s.autocomplete="off",s.autocorrect=e.kStqQ,s.maxLength="8",s.classList.add(e.dcnZK),s.classList.add(e.dcnZK),i.appendChild(a),i.appendChild(s);let o=e.cMCCq(_0x5bc59d,e.BpHVb),r=e.rKWtf(_0x5bc59d,"x40AApYkW");r.classList.add("disabled"),r.textContent=_0xfa958e.a14;let l=e.BVcoU;async function d(){let e={};e.vnzQQ=t.UMUvD,e.nrifd="show";let n=e;x.root.Lock=!0,x.closebtn.classList.add(t.UMUvD),x.closebtn.focusable(!1),o.classList.remove(t.qLwNI),r.classList.add(t.UMUvD),s.setAttribute("disabled",!0),r.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let i=s.value.trim(),$=C(t.BqIxa(h,_0x1ef371,"chats"),t.qSvwZ(_,t.ADuPd,"==",i)),a=await m($);a.empty?setTimeout(function(){x.root.Lock=!1,x.closebtn.classList.remove(n.vnzQQ),x.closebtn.focusable(!0),o.classList.add(n.nrifd),o.innerText=_0xfa958e.a17,s.removeAttribute("disabled"),r.classList.remove(n.vnzQQ),r.innerHTML=_0xfa958e.a14},3e3):(x.root.Lock=!1,x.root.close());let l=[];a.forEach(e=>{let t={};t.id=e.id,l.push(t)}),l.forEach(async e=>{let n={CqOeF:function(e,t,n){return e(t,n)},KokSq:t.yuKbb},x=_0x595eb3.find(t=>t.id===e.id);if(x){if(t.WlVyd(l.length,1)){let i={};i.behavior="smooth",i.block="center",i.inline="nearest",x.dom.scrollIntoView(i),x.launch()}console.log(t.egaBn)}else await t.DaRjz(k,t.qSvwZ(f,_0x1ef371,"users",_0x369089),{joined:t.AnsUC(L,e.id)}),await t.DaRjz(k,f(_0x1ef371,"chats",e.id),{members:L(_0x369089)}),sessionStorage.removeItem("rpf_"+e.id),_0x550d5c(e.id).then(async t=>{let x={};x.id=e.id,x.name=t.name,x.type=t.type,x.tag=t.tag,x.plugins=t.plugins,x.members=t.members,x.description=t.description,x.identity=t.identity,n.CqOeF(_0x4ad484,x,!0),console.log(n.KokSq,e.id)})})}s.oninput=function(){(function e(){let n=s.value.trim();8===n.length&&""!==n?(r.classList.remove("disabled"),r.focusable(!0),l="normal"):(r.classList.add("disabled"),r.focusable(!1),l=t.UMUvD)})()},s.onkeydown=function(t){e.LqjGP(t.keyCode,13)&&l===e.FXLAA&&d()},r.bindWithCooldown(async function(){"normal"===l&&t.LDjfe(d)}),x.body.appendChild(i),x.body.appendChild(o),x.body.appendChild(r),s.focus()});let i=e.cAWrG(_0x5bc59d,e.jmedi);i.focusable(!0),i.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0xfa958e[e.LCNUD],i.bindWithCooldown(function(){n.close(),e.JbSgZ(_0x4d74c7,_0x369089).then(e=>{let t={};t.data=e,t.type=_0x5321ab?"mobile":"desktop",_0x566801(_0x247258.sidebar,t)}).catch(e=>{console.error(e)})});let $=e.BIbcN(_0x5bc59d,"xcoXgMpFW"),s=e.rKWtf(_0x5bc59d,e.jmedi);s.focusable(!0),s.bindWithCooldown(function(){n.close(),e.UidcU(a,_0x474c36).then(()=>{_0x369089="",_0x59de55="",_0x595eb3.length=0,_0x1f08ab.length=0,_0x976d19=!1;let t=window.location.href,n=t.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x247258.primaryArea.clear(),_0x247258.messageContainer.clear(),localStorage.setItem("cvs",""),_0x1dd566&&(_0x1dd566.remove(),_0x1dd566=null),document.body.classList.remove(e.bAwIC),_0x247258.profileContainer.classList.remove("disabled"),_0x247258.profileContainer.focusable(!0),_0x247258.markButton.classList.add(e.BVcoU),_0x247258.brushButton.classList.add("disabled"),_0x247258.attachButton.classList.add("disabled"),_0x247258.stickerButton.classList.add(e.BVcoU),_0x39480c=!1,_0x247258.avatarWrapper.classList.add(e.qfaFA),_0x247258.avatarLabel.src="",_0x247258.nameLabel.innerText="",_0x247258.signatureLabel.innerText=""}).catch(e=>{console.error("Sign out error",e)})}),s.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0xfa958e[e.qROwS],e.BIbcN(_0x3d3eb7,[x,i,s]),n.Content.appendChild(x),n.Content.appendChild(i),n.Content.appendChild($),n.Content.appendChild(s),n._setPosition(),n.onClose(()=>{_0x247258.profileContainer.classList.remove(e.DJzxg)})});class _0x4bc2e7{constructor({parent:e,title:t}){let n={dUxPb:"true",ItzHP:"xCr0RyqCg",BAuJQ:"xB4hVI3El",AyPLY:function(e,t){return e(t)},YwdYr:"xopQXJrX5",Juecx:"xZz4zYjIm",MVHEh:function(e,t,n){return e(t,n)}},x=e,i=_0x5bc59d(n.BAuJQ),$=n.AyPLY(_0x5bc59d,n.YwdYr),a=_0x5bc59d(n.Juecx),s=n.AyPLY(_0x5bc59d,"xMyenRl7K"),o=_0x5bc59d("x8JU9DbQZ"),r=_0x5bc59d("xvwhg72ii");this._parent=x,this.Root=i,this.Content=a,this.Heading=$,this._backButton=o,this._deactivated_elements=document.querySelectorAll("body > *:not(.xEHCrF5Oe, script, [hidden])"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert",n.dUxPb)}),$.appendChild(s),s.appendChild(o),s.appendChild(r),r.textContent=t,o.focusable(!0),o.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',o.bindWithCooldown(this.close.bind(this)),i.appendChild($),i.appendChild(a),document.body.appendChild(i),n.MVHEh(setTimeout,function(){_0x400fac=i,x.classList.add(n.ItzHP),i.classList.add("xa2pPtuLq")},50)}onClose(e){this.onCloseCallback=e}close(){let e={};e.tQsDx="xCr0RyqCg",e.IZbuE="xjv5U11Kz";let t=e,n="3|7|0|6|1|4|2|5".split("|"),x=0;for(;;){switch(n[x++]){case"0":_0x400fac=this._parent;continue;case"1":this._parent.classList.remove(t.tQsDx);continue;case"2":this.Root.classList.remove("xjv5U11Kz");continue;case"3":this.onCloseCallback&&this.onCloseCallback();continue;case"4":this._parent.classList.remove(t.IZbuE);continue;case"5":setTimeout(()=>{this.Root.remove()},100);continue;case"6":this.Root.classList.remove("xa2pPtuLq");continue;case"7":this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")});continue}break}}}async function _0x566801(e,t){let n={JnRlb:function(e,t,n,x){return e(t,n,x)},KLnvs:"xORN7XV1j",eWfPl:"3|4|1|2|0",dVaCu:'<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',WDDbT:"xkyfCNAI0",sWTcF:function(e,t){return e(t)},VkSoo:"x0zSVRG3y",XcRRT:"cache-url",sQTkD:function(e,t){return e===t},myybT:"video",YnyTG:"img",WWiRm:"assets/default-banner.png",tMcxL:"lazy",nBKLB:"x96ofpjeu",annZo:"xwvIJoAtO",czrGO:"xzCCWGB1D",qLVmF:"xBjZoCxmV",YtdVx:"xodqSvoQM",CsYqQ:"xt0pX9m5p",ZMHkg:"xokk3UP7N",fuHZp:"x117sdiIx",rpzua:"xxXoB6W0R",pDRsi:function(e,t){return e(t)},RxuvI:"xylvbLNlS",UpWFz:"xY3QPRePs",JBwRj:function(e,t){return e+t},iZFtu:function(e,t){return e+t},QqqWB:"d11",RGPAg:"xjMiLDVEU",wjrqd:"xUHiz9aGO",VeqqL:function(e,t){return e(t)},IDsAn:"xhMhXcFlu",GRYTc:"xIl46kG8k",rmlLc:"xHPTUCUar",MTUbw:function(e,t){return e===t},rfucq:"--xD672nKxG",ipdyt:"xTKxbdpu3",vJmrL:function(e,t){return e(t)},GJype:"x8JU9DbQZ",PAHUS:"xwMgtrL2x",RxjCa:"xnS3FTqjp"};_0x5bf870.state=!0,_0x5bf870._n||(_0x5bf870._n=t.data.name),_0x5bf870._d||(_0x5bf870._d=t.data.signature);let x=n.dVaCu,i=_0x5bc59d(n.WDDbT),$=n.sWTcF(_0x5bc59d,n.VkSoo),a,s={};s.action=n.XcRRT,s.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(s);let o={};o.action=n.XcRRT,o.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(o),n.sQTkD(t.data.bannerType,n.myybT)?((a=document.createElement("video")).loop=!0,a.controlslist="nodownload",a.controls=!1,a.setAttribute("muted",""),a.playsInline=!0,a.preload=!0,a.autoplay=!0,a.src=t.data.bannerUrl):((a=document.createElement(n.YnyTG)).draggable=!1,a.src=t.data.bannerUrl||n.WWiRm,a.loading=n.tMcxL),a.classList.add(n.nBKLB);let r=_0x5bc59d("xkKF4v6d2"),l=_0x5bc59d(n.annZo),d=document.createElement(n.YnyTG);d.classList.add("xVwXc1fhM");let c=_0x5bc59d(n.czrGO),h=_0x5bc59d("xqYV0G7JT"),u=_0x5bc59d(n.qLVmF),f=n.sWTcF(_0x5bc59d,n.YtdVx),p=_0x5bc59d(n.CsYqQ);i.appendChild($),$.appendChild(a),i.appendChild(r),h.appendChild(l),l.appendChild(d),d.draggable=!1,d.src=t.data.avatarUrl||"assets/avatar.png",d.loading="lazy",r.appendChild(c),c.appendChild(h);let b=_0x5bc59d("x2OCp76zA");c.appendChild(b);let _=_0x5bc59d(n.ZMHkg);h.appendChild(_);let m=_0x5bf870._n,v=_0x5bc59d(n.fuHZp);v.textContent=m,u.appendChild(v);let g=n.sWTcF(_0x5bc59d,n.rpzua);g.textContent=t.data.id,_.appendChild(u),_.appendChild(g),_0x5bf870._a=v,_0x5bf870._b=f,f.innerHTML=n.pDRsi(_0x3f9869,n.pDRsi(_0x51d42e,_0x5bf870._d||_0xfa958e.d10)),r.appendChild(p);let C=_0x5bc59d("xylvbLNlS");C.innerText=_0xfa958e.b1,p.appendChild(C),p.appendChild(f);let w=n.sWTcF(_0x5bc59d,n.RxuvI);w.id=n.UpWFz,w.textContent=_0xfa958e.b2;let L=_0x5bc59d("xodqSvoQM"),y=new Date(t.data.deviceInfo.lastUpdate),k=n.JBwRj(n.JBwRj(n.JBwRj(n.JBwRj(y.getFullYear(),"/"),n.iZFtu(y.getMonth(),1)),"/")+y.getDate()+" "+y.getHours().toString(),":")+y.getMinutes().toString().padStart(2,"0");if(L.innerText=(n.sWTcF(_0x1c7ce8,t.data.deviceInfo.lastUpdate)||_0xfa958e[n.QqqWB])+" ("+(k||"未知")+")",p.appendChild(w),p.appendChild(L),n.sQTkD(t.type,"desktop")){let T={};T.closeOnEsc=!0,T.closeOnOverlayClick=!0;let M=new _0x4282a2(T);M.Content.classList.add("xlY0G76Nv"),M.Content.classList.add("lg"),M.Content.classList.add("gb");let E=_0x5bc59d(n.RGPAg),A=_0x5bc59d(n.wjrqd),H=n.VeqqL(_0x5bc59d,n.IDsAn),B=_0x5bc59d(n.GRYTc),W=_0x5bc59d("xjMYgfYFc");B.appendChild(W),W.textContent=t.data.name,A.appendChild(B),A.appendChild(H);let D=_0x5bc59d(n.rmlLc);if(D.bindWithCooldown(M.close.bind(M)),D.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',D.focusable(!0),n.MTUbw(t.data.id,_0x369089)){let I=n.sWTcF(_0x5bc59d,n.rmlLc);I.bindWithCooldown(function(){n.JnRlb(_0x5d372a,_0x5bf870._n,_0x5bf870._d,M.Root)}),I.innerHTML=_0x4bfc38.edit,I.focusable(!0),H.appendChild(I),_0x3d3eb7([I,D],"horizontal")}H.appendChild(D),E.appendChild(A),M.Content.appendChild(E),E.appendChild(i);let S=M.Content.getBoundingClientRect();if(M.Content.style.setProperty(n.rfucq,S.height+"px"),E.onscroll=function(){E.scrollTop>60?E.classList.add(n.KLnvs):E.classList.remove("xORN7XV1j")},t.data.verified){let Y=_0x5bc59d(n.ipdyt);Y.innerHTML=x,u.appendChild(Y)}M.onClose(function(){let e=n.eWfPl.split("|"),t=0;for(;;){switch(e[t++]){case"0":_0x5bf870._d="";continue;case"1":_0x5bf870._b=null;continue;case"2":_0x5bf870._n="";continue;case"3":_0x5bf870.state=!1;continue;case"4":_0x5bf870._a=null;continue}break}})}else{let R={};R.parent=e,R.title=t.data.name;let j=new _0x4bc2e7(R);if(t.data.id===_0x369089){let O=n.vJmrL(_0x5bc59d,n.GJype);O.bindWithCooldown(function(){_0x5d372a(_0x5bf870._n,_0x5bf870._d,j.Root)}),O.innerHTML=_0x4bfc38.edit,O.focusable(!0),j.Heading.appendChild(O)}j.Root.classList.add(n.PAHUS),j.onClose(function(){_0x5bf870.state=!1,_0x5bf870._a=null,_0x5bf870._b=null,_0x5bf870._n="",_0x5bf870._d=""}),j.Root.onscroll=function(){j.Root.scrollTop>60?j.Root.classList.add("xORN7XV1j"):j.Root.classList.remove(n.KLnvs)},j._backButton.classList.add(n.RxjCa),j.Content.appendChild(i)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{let t={};t.ByCTw=function(e,t){return e===t},t.Toupd="installed";let n=t;e.onupdatefound=()=>{let t=e.installing;t.onstatechange=()=>{n.ByCTw(t.state,n.Toupd)&&window.location.reload()}}}).catch(e=>{console.log("註冊失敗：",e)});
