/**release 0.2.35*/
let _0x48504f=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x1291c2=_0x48504f(this,function(){return _0x1291c2.toString().search("(((.+)+)+)+$").toString().constructor(_0x1291c2).search("(((.+)+)+)+$")});_0x1291c2();let _0x42977a=function(){let e=!0;return function(t,n){let i=e?function(){if(n){let e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,i}}(),_0x4260b5=_0x42977a(this,function(){let e={baHVy:function(e,t){return e(t)},SQtOs:'{}.constructor("return this")( )',QKIen:"info",Huphr:"error",LKQww:"exception",mGpiu:"table"},t;try{t=e.baHVy(Function,"return (function() "+e.SQtOs+");")()}catch(n){t=window}let i=t.console=t.console||{},a=["log","warn",e.QKIen,e.Huphr,e.LKQww,e.mGpiu,"trace"];for(let s=0;s<a.length;s++){let o=_0x42977a.constructor.prototype.bind(_0x42977a),r=a[s],l=i[r]||o;o.__proto__=_0x42977a.bind(_0x42977a),o.toString=l.toString.bind(l),i[r]=o}});_0x4260b5();import{initializeApp as e}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";import{getAuth as t,signInWithPopup as n,GoogleAuthProvider as i,onAuthStateChanged as a,signInWithEmailAndPassword as s,signOut as o}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";import{getStorage as r,ref as l,uploadBytesResumable as $,getDownloadURL as c}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-storage.js";import{getFirestore as d,enableIndexedDbPersistence as x,collection as h,setDoc as u,doc as _,deleteDoc as f,getDoc as p,where as b,getDocs as m,startAfter as v,onSnapshot as g,query as C,orderBy as w,arrayUnion as y,arrayRemove as L,updateDoc as k,limit as E}from"https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";class _0x560fcd{constructor(e,t={}){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.logicalWidth=0,this.logicalHeight=0,this.devicePixelRatio=window.devicePixelRatio||1,this.updateCanvasSize();let n={minScale:.1,maxScale:5,onClickOutside:null,...t};this.options=n,this.customDrawer=null,this.lastTapTime=0,this.tapTimeout=null,this.scale=1,this.posX=0,this.posY=0,this.isDragging=!1,this.lastX=0,this.lastY=0,this.img=null,this.needsRedraw=!1,this.animationFrameId=null,this.isTouching=!1,this.initialDistance=0,this.initialScale=1,this.touchStartPosX=0,this.touchStartPosY=0,this.touchStartScale=1,this.initialCenterX=0,this.initialCenterY=0,this.rotation=0,this.velocityX=0,this.velocityY=0,this.lastTime=0,this.isInertialMoving=!1,this.decelerationRate=.85,this.minVelocityThreshold=.1,this.setupEventListeners(),this.requestRedraw()}updateCanvasSize(){let e={};e.zxGNL=function(e,t){return e*t};let t=this.canvas.parentElement;this.logicalWidth=t.clientWidth,this.logicalHeight=t.clientHeight,this.devicePixelRatio=window.devicePixelRatio||1,this.canvas.style.width=this.logicalWidth+"px",this.canvas.style.height=this.logicalHeight+"px",this.canvas.width=Math.floor(this.logicalWidth*this.devicePixelRatio),this.canvas.height=Math.floor(e.zxGNL(this.logicalHeight,this.devicePixelRatio)),this.ctx.scale(this.devicePixelRatio,this.devicePixelRatio)}setupEventListeners(){let e={};e.YOOyg="touchmove",e.xkXTm="touchend",e.kkPpO="touchstart",e.MVkov="mouseleave",e.zyFbO="mousemove";let t=e,n="5|18|21|2|7|16|0|8|15|17|20|1|13|10|3|22|19|14|4|12|11|6|9".split("|"),i=0;for(;;){switch(n[i++]){case"0":this.handleMouseMove=this.handleMouseMove.bind(this);continue;case"1":this.handleTouchEnd=this.handleTouchEnd.bind(this);continue;case"2":this.canvas.addEventListener("touchend",this.handleCanvasTouchEnd);continue;case"3":window.addEventListener("resize",this.handleResize);continue;case"4":this.canvas.addEventListener("wheel",this.handleWheel);continue;case"5":this.handleCanvasClick=this.handleCanvasClick.bind(this);continue;case"6":this.canvas.addEventListener(t.YOOyg,this.handleTouchMove);continue;case"7":this.handleResize=this.handleResize.bind(this);continue;case"8":this.handleMouseUp=this.handleMouseUp.bind(this);continue;case"9":this.canvas.addEventListener(t.xkXTm,this.handleTouchEnd);continue;case"10":this.handleMouseLeave=this.handleMouseLeave.bind(this);continue;case"11":this.canvas.addEventListener(t.kkPpO,this.handleTouchStart);continue;case"12":this.canvas.addEventListener(t.MVkov,this.handleMouseLeave);continue;case"13":this.draw=this.draw.bind(this);continue;case"14":document.addEventListener("mouseup",this.handleMouseUp);continue;case"15":this.handleWheel=this.handleWheel.bind(this);continue;case"16":this.handleMouseDown=this.handleMouseDown.bind(this);continue;case"17":this.handleTouchStart=this.handleTouchStart.bind(this);continue;case"18":this.handleCanvasTouchEnd=this.handleCanvasTouchEnd.bind(this);continue;case"19":document.addEventListener(t.zyFbO,this.handleMouseMove);continue;case"20":this.handleTouchMove=this.handleTouchMove.bind(this);continue;case"21":this.canvas.addEventListener("click",this.handleCanvasClick);continue;case"22":this.canvas.addEventListener("mousedown",this.handleMouseDown);continue}break}}getDisplayWidth(){return this.rotation%180==90?this.img.height:this.img.width}getDisplayHeight(){return this.rotation%180==90?this.img.width:this.img.height}calculateInitialScale(){if(!this.img)return;let e=this.getDisplayWidth(),t=this.getDisplayHeight(),n=this.logicalWidth/e,i=this.logicalHeight/t;this.options.minScale=Math.min(n,i,1),this.scale=this.options.minScale}centerImage(){let e={};e.uQgNE=function(e,t){return e*t},e.NfTKc=function(e,t){return e/t},e.nKsJj=function(e,t){return e-t},e.CyDOR=function(e,t){return e-t};let t=e;if(!this.img)return;let n=t.uQgNE(this.getDisplayWidth(),this.scale),i=this.getDisplayHeight()*this.scale;this.posX=t.NfTKc(t.nKsJj(this.logicalWidth,n),2),this.posY=t.CyDOR(this.logicalHeight,i)/2,this.enforceBounds()}setCustomDrawer(e){let t={};t.NsNSh=function(e,t){return e===t},t.NsNSh(typeof e,"function")?this.customDrawer=e:console.error("setCustomDrawer 期望接收一個函數")}clearCustomDrawer(){this.customDrawer=null}draw(){let e={};e.jreIE=function(e,t){return e*t},e.eJqhQ=function(e,t){return e/t},e.bcSuY=function(e,t){return e+t},e.empAd=function(e,t){return e/t},e.fwEFz=function(e,t){return e*t},e.ppHTm=function(e,t){return e/t};let t=e;if(this.needsRedraw){if(this.needsRedraw=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.img){this.ctx.save();let n=t.jreIE(this.getDisplayWidth(),this.scale),i=this.getDisplayHeight()*this.scale;this.ctx.translate(this.posX+t.eJqhQ(n,2),t.bcSuY(this.posY,t.empAd(i,2))),this.ctx.rotate(t.eJqhQ(t.fwEFz(this.rotation,Math.PI),180)),this.ctx.scale(this.scale,this.scale),this.ctx.drawImage(this.img,t.ppHTm(-this.img.width,2),-this.img.height/2),this.ctx.restore()}this.customDrawer&&this.customDrawer(this.ctx,this)}}rotate(){let e={};e.KNnDB=function(e,t){return e%t},e.dBRrH=function(e,t){return e+t};let t=e;this.rotation=t.KNnDB(t.dBRrH(this.rotation,90),360),this.calculateInitialScale(),this.centerImage(),this.requestRedraw()}loadImage(e){this.img=new Image,this.img.onload=()=>{this.rotation=0,this.calculateInitialScale(),this.centerImage(),this.requestRedraw()},this.img.src=e}enforceBounds(){let e={};e.JVvGb=function(e,t){return e*t},e.CccDX=function(e,t){return e-t},e.wTtZj=function(e,t){return e/t},e.ORWcq=function(e,t){return e-t};let t=e;if(!this.img)return;let n=t.JVvGb(this.getDisplayWidth(),this.scale),i=this.getDisplayHeight()*this.scale;n>this.logicalWidth?this.posX=Math.min(Math.max(this.posX,t.CccDX(this.logicalWidth,n)),0):this.posX=(this.logicalWidth-n)/2,i>this.logicalHeight?this.posY=Math.min(Math.max(this.posY,t.CccDX(this.logicalHeight,i)),0):this.posY=t.wTtZj(t.ORWcq(this.logicalHeight,i),2)}isInImageArea(e,t){let n={};n.GJVnG=function(e,t){return e*t},n.cvzxI=function(e,t){return e+t},n.dZrTB=function(e,t){return e<=t},n.Usurs=function(e,t){return e<=t};let i=n;if(!this.img)return!1;let a=this.getDisplayWidth()*this.scale,s=i.GJVnG(this.getDisplayHeight(),this.scale),o=this.posX,r=this.posY,l=i.cvzxI(r,s),$=Math.min(o+a,this.logicalWidth),c=Math.min(l,this.logicalHeight);return e>=Math.max(o,0)&&i.dZrTB(e,$)&&t>=Math.max(r,0)&&i.Usurs(t,c)}requestRedraw(){let e={CUpCM:function(e,t){return e(t)},peycw:function(e,t){return e(t)}};this.needsRedraw||(this.needsRedraw=!0,this.canvas.dispatchEvent(new MouseEvent("mousemove")),this.animationFrameId&&e.CUpCM(cancelAnimationFrame,this.animationFrameId),this.animationFrameId=e.peycw(requestAnimationFrame,this.draw))}handleMouseDown(e){let t={};t.QYCkj=function(e,t){return e-t},t.hSaDD="grabbing";let n=t,i=this.canvas.getBoundingClientRect(),a=n.QYCkj(e.clientX,i.left),s=n.QYCkj(e.clientY,i.top);this.isDraggable()&&this.isInImageArea(a,s)&&(this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.canvas.style.cursor=n.hSaDD)}handleMouseLeave(){let e={};e.hBTze="default",this.canvas.style.cursor=e.hBTze}handleMouseMove(e){let t={};t.oUORp=function(e,t){return e-t},t.QFrRL="default",t.XhYxK=function(e,t){return e-t},t.XPIic=function(e,t){return e/t},t.SJfao=function(e,t){return e/t};let n=t,i=this.canvas.getBoundingClientRect(),a=e.clientX-i.left,s=n.oUORp(e.clientY,i.top);if(this.isInImageArea(a,s)?this.canvas.style.cursor=this.isDragging?"grabbing":"grab":this.canvas.style.cursor=n.QFrRL,this.isDragging){let o=Date.now(),r=n.XhYxK(o,this.lastTime);this.lastTime=o;let l=e.clientX-this.lastX,$=e.clientY-this.lastY;this.posX+=l,this.posY+=$,r>0&&(this.velocityX=n.XPIic(l,r),this.velocityY=n.SJfao($,r)),this.lastX=e.clientX,this.lastY=e.clientY,this.enforceBounds(),this.requestRedraw()}}handleMouseUp(e){let t={};t.EcPAd=function(e,t){return e>t},t.ZvlzC=function(e,t){return e-t};let n=t;this.isDragging=!1,n.EcPAd(Math.abs(this.velocityX),this.minVelocityThreshold)||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0);let i=this.canvas.getBoundingClientRect(),a=n.ZvlzC(e.clientX,i.left),s=e.clientY-i.top;this.isInImageArea(a,s)?this.canvas.style.cursor="grab":this.canvas.style.cursor="default"}startInertia(){this.isInertialMoving=!0,this.lastTime=Date.now(),this.animateInertia()}animateInertia(){let e={};e.kxDFx=function(e,t){return e-t},e.MdJva=function(e,t){return e/t},e.CnfAr=function(e,t){return e/t},e.PHHmZ=function(e,t){return e*t};let t=e;if(!this.isInertialMoving)return;let n=Date.now(),i=t.kxDFx(n,this.lastTime);this.lastTime=n,this.velocityX*=Math.pow(this.decelerationRate,t.MdJva(i,16)),this.velocityY*=Math.pow(this.decelerationRate,t.CnfAr(i,16)),this.posX+=this.velocityX*i,this.posY+=t.PHHmZ(this.velocityY,i),this.enforceBounds(),this.requestRedraw(),Math.abs(this.velocityX)<this.minVelocityThreshold&&Math.abs(this.velocityY)<this.minVelocityThreshold?(this.isInertialMoving=!1,this.velocityX=0,this.velocityY=0):requestAnimationFrame(this.animateInertia.bind(this))}handleWheel(e){let t={};t.uHJnx=function(e,t){return e-t},t.xgNGa=function(e,t){return e>t},t.oqnGX=function(e,t){return e/t},t.BzTMf=function(e,t){return e-t},t.efNok=function(e,t){return e-t};let n=t;e.preventDefault();let i=this.canvas.getBoundingClientRect(),a=n.uHJnx(e.clientX,i.left),s=e.clientY-i.top;if(!this.isInImageArea(a,s))return;let o=n.xgNGa(e.deltaY,0)?.9:1.1,r=n.oqnGX(n.BzTMf(a,this.posX),this.scale),l=n.efNok(s,this.posY)/this.scale,$=Math.min(Math.max(this.scale*o,this.options.minScale),this.options.maxScale);this.posX=a-r*$,this.posY=n.efNok(s,l*$),this.scale=$,this.enforceBounds(),this.requestRedraw()}handleTouchStart(e){let t={};if(t.ULfUT=function(e,t){return e>=t},0===e.touches.length)return;let n=Array.from(e.touches),i=this.getTouchCenter(n);this.initialCenterX=i.x,this.initialCenterY=i.y,this.touchStartPosX=this.posX,this.touchStartPosY=this.posY,this.touchStartScale=this.scale,t.ULfUT(e.touches.length,2)&&(this.initialDistance=this.getTouchDistance(e.touches[0],e.touches[1])),this.isTouching=!0}handleTouchMove(e){let t={};t.rSYnW=function(e,t){return e/t},t.RxBYK=function(e,t){return e*t},t.xmaTH=function(e,t){return e-t},t.QbcZp=function(e,t){return e-t},t.xrmOp=function(e,t){return e-t};let n=t;if(!this.isTouching)return;e.preventDefault();let i=Array.from(e.touches);if(0===i.length)return;let a=this.getTouchCenter(i),s=1;if(i.length>=2){let o=this.getTouchDistance(i[0],i[1]);this.initialDistance>0&&(s=n.rSYnW(o,this.initialDistance))}let r=Math.min(Math.max(n.RxBYK(this.touchStartScale,s),this.options.minScale),this.options.maxScale),l=n.rSYnW(this.initialCenterX-this.touchStartPosX,this.touchStartScale),$=(this.initialCenterY-this.touchStartPosY)/this.touchStartScale;if(this.posX=n.xmaTH(a.x,l*r),this.posY=a.y-$*r,this.scale=r,this.enforceBounds(),this.requestRedraw(),1===i.length){let c=Date.now(),d=n.xmaTH(c,this.lastTime);this.lastTime=c;let x=this.canvas.getBoundingClientRect(),h=i[0],u=h.clientX-x.left,_=n.QbcZp(h.clientY,x.top);d>0&&(this.velocityX=n.xmaTH(u,this.lastX)/d,this.velocityY=n.rSYnW(n.xrmOp(_,this.lastY),d)),this.lastX=u,this.lastY=_}}handleTouchEnd(){this.isTouching=!1,this.initialDistance=0,Math.abs(this.velocityX)>this.minVelocityThreshold||Math.abs(this.velocityY)>this.minVelocityThreshold?this.startInertia():(this.velocityX=0,this.velocityY=0)}handleResize(){let e={};e.wcXcz="mousemove",this.updateCanvasSize(),this.img&&(this.calculateInitialScale(),this.centerImage(),this.canvas.dispatchEvent(new MouseEvent(e.wcXcz)),this.requestRedraw())}handleCanvasClick(e){let t={};t.BHqDv=function(e,t){return e-t},t.EPytH=function(e,t){return e-t};let n=t;if(!this.img)return;let i=this.canvas.getBoundingClientRect(),a=n.BHqDv(e.clientX,i.left),s=n.EPytH(e.clientY,i.top);this.isInImageArea(a,s)||this.triggerClickOutside(e)}handleCanvasTouchEnd(e){let t={};t.FNOYh=function(e,t){return e-t},t.yWzFo=function(e,t){return e<t},t.HhABa=function(e,t){return e-t};let n=t;if(!this.img||e.touches.length>0)return;let i=this.canvas.getBoundingClientRect(),a=e.changedTouches[0],s=a.clientX-i.left,o=n.FNOYh(a.clientY,i.top),r=new Date().getTime();if(n.yWzFo(n.HhABa(r,this.lastTapTime),360)){clearTimeout(this.tapTimeout);return}this.tapTimeout=setTimeout(()=>{this.isInImageArea(s,o)||this.triggerClickOutside(e),this.lastTapTime=r},200)}getTouchDistance(e,t){let n={};n.bGsIa=function(e,t){return e+t},n.dlnXE=function(e,t){return e*t};let i=n,a=e.clientX-t.clientX,s=e.clientY-t.clientY;return Math.sqrt(i.bGsIa(a*a,i.dlnXE(s,s)))}isDraggable(){let e={};return e.nwSFQ=function(e,t){return e*t},this.img&&(this.img.width*this.scale>this.logicalWidth||e.nwSFQ(this.img.height,this.scale)>this.logicalHeight)}triggerClickOutside(e){let t={};t.BBcVR=function(e,t){return e-t},t.pDfLf=function(e,t){return e/t},t.awzHV=function(e,t){return e/t};let n=t;if("function"==typeof this.options.onClickOutside){let i=this.canvas.getBoundingClientRect(),a={x:e.clientX-i.left,y:n.BBcVR(e.clientY,i.top),canvasX:n.BBcVR(e.clientX,i.left),canvasY:n.BBcVR(e.clientY,i.top),imageX:-1,imageY:-1};this.img&&(a.imageX=n.pDfLf(a.canvasX-this.posX,this.scale),a.imageY=n.awzHV(a.canvasY-this.posY,this.scale)),this.options.onClickOutside(a,e)}}getTouchCenter(e){let t={};t.NhvsT=function(e,t){return e-t},t.IDCiG=function(e,t){return e-t},t.kZxue=function(e,t){return e/t};let n=t,i=0,a=0,s=this.canvas.getBoundingClientRect();for(let o of e)i+=n.NhvsT(o.clientX,s.left),a+=n.IDCiG(o.clientY,s.top);return{x:n.kZxue(i,e.length),y:n.kZxue(a,e.length)}}destroy(){let e={};e.VghIl="8|10|2|1|4|9|0|5|6|3|11|7",e.fSVvO="mouseup",e.uHVUP="click",e.pjrxw="touchend",e.uXvJN="resize",e.VaqbO="mousemove";let t=e,n=t.VghIl.split("|"),i=0;for(;;){switch(n[i++]){case"0":this.canvas.removeEventListener("touchstart",this.handleTouchStart);continue;case"1":this.canvas.removeEventListener("mouseleave",this.handleMouseLeave);continue;case"2":document.removeEventListener(t.fSVvO,this.handleMouseUp);continue;case"3":this.canvas.removeEventListener(t.uHVUP,this.handleCanvasClick);continue;case"4":this.canvas.removeEventListener("mousedown",this.handleMouseDown);continue;case"5":this.canvas.removeEventListener("touchmove",this.handleTouchMove);continue;case"6":this.canvas.removeEventListener(t.pjrxw,this.handleTouchEnd);continue;case"7":this.animationFrameId&&cancelAnimationFrame(this.animationFrameId);continue;case"8":window.removeEventListener(t.uXvJN,this.handleResize);continue;case"9":this.canvas.removeEventListener("wheel",this.handleWheel);continue;case"10":document.removeEventListener(t.VaqbO,this.handleMouseMove);continue;case"11":this.canvas.removeEventListener("touchend",this.handleCanvasTouchEnd);continue}break}}}function _0x59b7ed(e,t,n,i){let a={HzaAj:function(e,t){return e*t},eJlWq:function(e,t){return e+t},QWAKL:function(e,t){return e*t},msyyy:function(e,t){return e+t},NXrLf:function(e,t){return e*t},bSFQu:function(e,t){return e-t},PENcS:function(e,t){return e<t},qJjCx:function(e,t){return e(t)},DNsfI:function(e,t){return e>t},aGefP:function(e,t){return e<t},mQYXK:function(e,t){return e*t},oxmqT:function(e,t){return e-t},ODYRH:function(e,t){return e*t},XUHiG:function(e,t){return e-t},pwBje:function(e,t){return e*t},IPCVm:function(e,t){return e*t}},s=a.msyyy(a.mQYXK(3,e)-3*n,1),o=a.oxmqT(3*n,a.mQYXK(6,e)),r=a.mQYXK(3,e),l=a.eJlWq(a.QWAKL(3,t)-a.ODYRH(3,i),1),$=a.XUHiG(a.pwBje(3,i),a.IPCVm(6,t)),c=3*t;function d(e){return a.HzaAj(a.eJlWq(a.HzaAj(a.eJlWq(a.QWAKL(s,e),o),e),r),e)}function x(e){return a.msyyy(a.eJlWq(3*s*e,a.NXrLf(2,o))*e,r)}return e=>{var t;return t=function e(t){let n=0,i=1,s=t;for(let o=0;o<8;o++){let r=a.bSFQu(d(s),t);if(a.PENcS(Math.abs(r),1e-6))return s;let l=a.qJjCx(x,s);if(1e-6>Math.abs(l))break;s-=r/l}for(;a.DNsfI(i,n);){let $=a.bSFQu(d(s),t);if(a.aGefP(Math.abs($),1e-6))break;a.DNsfI($,0)?i=s:n=s,s=a.eJlWq(i,n)/2}return s}(e),a.QWAKL(a.eJlWq((l*t+$)*t,c),t)}}function _0x1b682f(e,t="vertical"){let n={JqnaE:function(e,t){return e===t},ptLXE:"ArrowRight",XOmSv:function(e,t){return e%t},cpfeW:function(e,t){return e-t},EGUql:"keydown",ibAYm:function(e,t){return e<=t},nzHdT:function(e){return e()}};function i(){let i={ZYAJZ:function(e,t){return n.JqnaE(e,t)},UtoFL:"ArrowUp",YHGyF:function(e,t){return e%t},tRGXS:function(e,t){return e-t},SUGfa:n.ptLXE,FkQLb:function(e,t){return e+t},bcqVc:function(e,t){return n.XOmSv(e,t)},WOzOm:function(e,t){return n.cpfeW(e,t)},kgeDQ:n.EGUql};if(n.ibAYm(e.length,1)){e.forEach(e=>{e._navHandler&&(e.removeEventListener("keydown",e._navHandler),delete e._navHandler)});return}e.forEach((n,a)=>{n._navHandler&&n.removeEventListener("keydown",n._navHandler),n._navHandler=n=>{let s=a;if("vertical"===t){if(i.ZYAJZ(n.key,"ArrowDown"))s=(a+1)%e.length;else{if(!i.ZYAJZ(n.key,i.UtoFL))return;s=i.YHGyF(i.tRGXS(a,1)+e.length,e.length)}}else{if("horizontal"!==t)return;if(n.key===i.SUGfa)s=i.FkQLb(a,1)%e.length;else{if("ArrowLeft"!==n.key)return;s=i.bcqVc(i.WOzOm(a,1)+e.length,e.length)}}e[s].focus()},n.addEventListener(i.kgeDQ,n._navHandler)})}i();let a={};return a.removeItem=function t(a){e=e.filter(e=>e!==a),n.nzHdT(i)},a.addItem=function t(a){e.push(a),n.nzHdT(i)},a.updateEventListeners=i,a}HTMLElement.prototype.clear=function(){this.innerHTML=""},HTMLElement.prototype.focusable=function(e){this.tabIndex=e?"0":"-1",this.blur()},HTMLElement.prototype.bindWithCooldown=function(e,t=500){let n={};n.zJVlh="disabled",n.VqqoK=function(e,t){return e===t},n.VMLlp="click",n.gIdHX=function(e,t){return e===t},n.TYCEv=function(e,t){return e-t},n.pWmCb="keydown";let i=n,a=this;a._bindWithCooldownHandler&&(a.removeEventListener("click",a._bindWithCooldownHandler),a.removeEventListener("keydown",a._bindWithCooldownHandler));let s=0,o=function(n){let o=Date.now();!a.classList.contains(i.zJVlh)&&!a.hasAttribute(i.zJVlh)&&(i.VqqoK(n.type,i.VMLlp)||32===n.keyCode||i.gIdHX(n.keyCode,13))&&(i.TYCEv(o,s)>=t||i.gIdHX(t,0))&&(s=o,e.call(a,n))};a.addEventListener("click",o),a.addEventListener(i.pWmCb,o),a._bindWithCooldownHandler=o};let _0x403618={set(e,t){let n={};n.QMjSv="Error saving to localStorage";try{let i=JSON.stringify(t);localStorage.setItem(e,i)}catch(a){console.error(n.QMjSv,a)}},get(e,t=null){let n={};n.xSnSb=function(e,t){return e!==t};try{let i=localStorage.getItem(e);return n.xSnSb(i,null)?JSON.parse(i):t}catch(a){return console.error("Error reading from localStorage",a),t}},remove(e){try{localStorage.removeItem(e)}catch(t){console.error("Error removing from localStorage",t)}},clear(){let e={};e.arcsi="Error clearing localStorage";try{localStorage.clear()}catch(t){console.error(e.arcsi,t)}},has:e=>null!==localStorage.getItem(e),keys:()=>Object.keys(localStorage)};class _0x231fa6{constructor({parent:e,text:t,placement:n="top"}){let i={};i.AKufH="7|5|8|0|6|3|10|1|4|2|9|11",i.PRabQ="aria-describedby",i.OjPkC="blur",i.ypSfF="mouseleave";let a=i,s=a.AKufH.split("|"),o=0;for(;;){switch(s[o++]){case"0":this._tooltip=null;continue;case"1":this.hideTooltip=this.hideTooltip.bind(this);continue;case"2":this._parent.addEventListener("focus",this.showTooltip);continue;case"3":this._parent.setAttribute(a.PRabQ,this._tooltipId);continue;case"4":this._parent.addEventListener("mouseenter",this.showTooltip);continue;case"5":this._content=t;continue;case"6":this._tooltipId="tooltip-"+Math.random().toString(36).substr(2,9);continue;case"7":this._parent=e;continue;case"8":this._placement=n;continue;case"9":this._parent.addEventListener(a.OjPkC,this.hideTooltip);continue;case"10":this.showTooltip=this.showTooltip.bind(this);continue;case"11":this._parent.addEventListener(a.ypSfF,this.hideTooltip);continue}break}}_createTooltipElement(){let e={};e.lisvO="xuocLuDI6";let t=_0x426a83(e.lisvO);return t.setAttribute("placement",this._placement),t.setAttribute("id",this._tooltipId),t.innerText=this._content,t}updatePosition(){let e={};e.MgDeo=function(e,t){return e-t},e.UoTZS=function(e,t){return e+t},e.jMHgy="bottom",e.MihkG=function(e,t){return e/t},e.zpjwF=function(e,t){return e-t},e.qZQPU=function(e,t){return e-t},e.bsHpo=function(e,t){return e+t},e.OSSbi=function(e,t){return e-t},e.kHYaD="Invalid placement value";let t=e;if(!this._tooltip)return;let n=this._parent.getBoundingClientRect(),i=this._tooltip.getBoundingClientRect(),a,s;switch(this._placement){case"top":a=t.MgDeo(window.scrollY+n.top,i.height)-8,s=t.UoTZS(window.scrollX,n.left)+n.width/2-i.width/2;break;case t.jMHgy:a=window.scrollY+n.bottom+8,s=t.UoTZS(window.scrollX,n.left)+t.MihkG(n.width,2)-i.width/2;break;case"left":a=t.MgDeo(window.scrollY+n.top+n.height/2,i.height/2),s=t.zpjwF(t.qZQPU(t.bsHpo(window.scrollX,n.left),i.width),8);break;case"right":a=t.OSSbi(t.bsHpo(window.scrollY,n.top)+t.MihkG(n.height,2),i.height/2),s=t.UoTZS(window.scrollX+n.right,8);break;default:throw Error(t.kHYaD)}this._tooltip.style.top=a+"px",this._tooltip.style.left=s+"px"}showTooltip(){let e={};e.OBBip="1|5|4|0|3|2",e.uYFvk="aria-expanded",e.xrAZA="true",e.vplVw="delayed-open";let t=e,n=t.OBBip.split("|"),i=0;for(;;){switch(n[i++]){case"0":this.updatePosition();continue;case"1":if(this._tooltip)return;continue;case"2":this._tooltip.setAttribute(t.uYFvk,t.xrAZA);continue;case"3":this._tooltip.setAttribute("data-state",t.vplVw);continue;case"4":document.body.appendChild(this._tooltip);continue;case"5":this._tooltip=this._createTooltipElement();continue}break}}hideTooltip(){let e={};e.xefrq="closed",e.CGeUV="aria-expanded";let t=e;this._tooltip&&(this._tooltip.setAttribute("data-state",t.xefrq),this._tooltip.setAttribute(t.CGeUV,"false"),this._tooltip.remove(),this._tooltip=null)}setText(e){this._content=e,this._tooltip&&(this._tooltip.innerText=e,this.updatePosition())}destroy(){let e={};e.JJdhl="4|3|2|0|1",e.ttkmF="mouseenter",e.dCHsz="blur";let t=e,n=t.JJdhl.split("|"),i=0;for(;;){switch(n[i++]){case"0":this._parent=null;continue;case"1":this._content=null;continue;case"2":this._tooltip=null;continue;case"3":this._parent&&(this._parent.removeAttribute("aria-describedby"),this._parent.removeEventListener(t.ttkmF,this.showTooltip),this._parent.removeEventListener("focus",this.showTooltip),this._parent.removeEventListener(t.dCHsz,this.hideTooltip),this._parent.removeEventListener("mouseleave",this.hideTooltip));continue;case"4":this.hideTooltip();continue}break}}}class _0x1a3b47{constructor({trigger:e,placement:t="bottom"}){let n={udcNu:"true",llcHY:function(e,t){return e(t)},FKNSk:"xEHCrF5Oe",jnMci:"overlay",lRNgG:"xC3Uih0ex",Etkxa:"open",LQlQU:"role",PUwiB:function(e,t){return e(t)},dgcbr:"click",kkGzt:"contextmenu",ycCHZ:"resize"},i="_"+_0x184faa(12);this.trigger=e,this.placement=t,this.Root=n.llcHY(_0x426a83,n.FKNSk),this.Overlay=_0x426a83(n.jnMci),this.Content=_0x426a83(n.lRNgG),this.Root.setAttribute("data-state",n.Etkxa),this.Root.setAttribute(n.LQlQU,"popover"),this.Root.setAttribute("aria-modal","true"),this.Root.id=i,document.body.appendChild(this.Root),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()};let a=n.PUwiB(_0x130ac7,i);this._deactivated_elements=document.querySelectorAll("body > *:not(#"+a+", script, style)"),this._deactivated_elements.forEach(e=>{e.setAttribute("inert",n.udcNu)}),this.Overlay.addEventListener(n.dgcbr,()=>this.close()),this.Overlay.addEventListener(n.kkGzt,()=>this.close()),document.addEventListener("keydown",this._handleKeyDown),this._setPosition(),window.addEventListener(n.ycCHZ,this._handleResize)}_handleResize=()=>{this._setPosition()};_setPosition(){let e=this.trigger.getBoundingClientRect(),t=this.Content.getBoundingClientRect(),n;if(Array.isArray(this.placement)){for(let i of this.placement){let a=this._calculatePosition(i,e,t);if(this._isPositionWithinViewport(a,t)){n=i;break}}n||(n=this.placement[0])}else n=this.placement;let s=this._calculatePosition(n,e,t);this.Content.style.position="absolute",this.Content.style.top=s.top+"px",this.Content.style.left=s.left+"px"}_calculatePosition(e,t,n){let i={};i.TjafQ=function(e,t){return e-t},i.IqqZV="left",i.gtycL="start",i.ocUAn="top",i.DVSNr="bottom",i.mQUNA=function(e,t){return e/t};let a=i,s=0,o=0,[r,l]=e.split("-");switch(r){case"top":s=a.TjafQ(t.top,n.height);break;case"bottom":s=t.bottom;break;case a.IqqZV:o=t.left-n.width;break;case"right":o=t.right}switch(l){case a.gtycL:o=t.left;break;case"end":o=t.left+t.width-n.width;break;default:r===a.ocUAn||r===a.DVSNr?o=t.left+a.TjafQ(t.width,n.width)/2:s=t.top+a.mQUNA(a.TjafQ(t.height,n.height),2)}let $={};return $.top=s,$.left=o,$}_isPositionWithinViewport(e,t){let n={};n.GBHGv=function(e,t){return e>=t},n.byUPm=function(e,t){return e<=t},n.bQvhF=function(e,t){return e+t};let i=n,a=window.innerWidth,s=window.innerHeight,{top:o,left:r}=e;return i.GBHGv(o,0)&&r>=0&&i.byUPm(o+t.height,s)&&i.byUPm(i.bQvhF(r,t.width),a)}_handleKeyDown=e=>{27===e.keyCode&&(this.close(),this.trigger.focus())};_removeListeners(){let e={};e.gbwai="keydown",document.removeEventListener(e.gbwai,this._handleKeyDown),window.removeEventListener("resize",this._handleResize)}onClose(e){this.onCloseCallback=e}close(){let e={};e.WuVSh="data-state",this._removeListeners(),this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")}),this.Root.setAttribute(e.WuVSh,"closed"),setTimeout(()=>{this.Root.remove(),this.onCloseCallback&&this.onCloseCallback()},100)}}function _0x130ac7(e){let t={};t.qqTGO="\\$&",t.ZrXqq=function(e,t){return e+t},t.ztSKr=function(e,t){return e+t};let n=t;return e.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,n.qqTGO).replace(/^(-?\d)/,n.ZrXqq(n.ztSKr("\\3",e.charAt(0))," "))}class _0x329cf8{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={ATGOx:function(e,t){return e(t)},GaNKY:function(e,t){return e(t)},eyQLo:"role",PhhBj:"aria-modal",TEWfd:"true",ponsV:function(e,t){return e(t)},tsqWb:"show",jpltI:"click",MerbR:"keydown"},a="_"+i.ATGOx(_0x184faa,12);this.Root=i.GaNKY(_0x426a83,"x54SkYRT0"),this.Overlay=_0x426a83("overlay"),this.Content=_0x426a83("content"),this.Root.setAttribute("data-state","open"),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(i.eyQLo,"dialog"),this.Root.setAttribute(i.PhhBj,i.TEWfd),this.Root.onwheel=function(e){e.ctrlKey&&e.preventDefault()},this.Lock=!1,this.Root.id=a;let s=i.ponsV(_0x130ac7,a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add(i.tsqWb),_0x329cf8.stack.push(this),e&&this.Overlay.addEventListener(i.jpltI,this._handleOverlayClick),t&&document.addEventListener(i.MerbR,this._handleKeyDown)}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.fduzs=function(e,t){return e===t},t.fduzs(e.keyCode,27)&&_0x329cf8.stack[_0x329cf8.stack.length-1]===this&&this.close()};onClose(e){this.onCloseCallback=e}close(){let e={RXFSi:"inert",aSVts:"closed",ZVsWS:function(e,t,n){return e(t,n)}};if(!this.Lock){let t=_0x329cf8.stack.indexOf(this);t>-1&&_0x329cf8.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback(),this._exclude_for_restore.length>0?this._exclude_for_restore.forEach(e=>{e instanceof HTMLElement&&e.removeAttribute("inert")}):this._deactivated_elements.forEach(t=>{t.removeAttribute(e.RXFSi)}),this.Root.setAttribute("data-state",e.aSVts),e.ZVsWS(setTimeout,()=>{this.Root.remove()},100),this._removeListeners()}}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}}_0x329cf8.stack=[];class _0x2392c9 extends _0x329cf8{constructor({title:e,message:t,buttons:n=[],closeOnOverlayClick:i=!1,closeOnEsc:a=!0,showCloseButton:s=!1}={}){let o={};o.DvVXW="0px",o.LBHLv="xLDQZ1SSl",o.duDpe=function(e,t){return e>t};let r=o,l={};l.closeOnOverlayClick=i,l.closeOnEsc=a,super(l);let $=this._createHeader(e,s),c=this._createBody(t);if(this.Content.style.padding=r.DvVXW,this.Content.classList.add("xv1VrMJb6"),this.Content.classList.add(r.LBHLv),this.Content.appendChild($),this.Content.appendChild(c),r.duDpe(n.length,0)){let d=this._createFooter(n);c.appendChild(d)}}_createHeader(e,t){let n={MnWHT:"xrYn5ZY3v lf gn",XttDF:"div",kCUVx:"x6Y89FynP",BuRhU:function(e,t){return e||t},LILtR:function(e,t){return e(t)}},i=document.createElement("div");i.className=n.MnWHT;let a=document.createElement(n.XttDF);if(a.className=n.kCUVx,a.textContent=n.BuRhU(e,"Alert"),i.appendChild(a),t){let s=n.LILtR(_0x426a83,"xvb5soWNa");s.focusable(!0),s.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',s.bindWithCooldown(()=>{this.close()}),i.appendChild(s)}return i}_createBody(e){let t={};t.tvWyz="xujSSErs5";let n=document.createElement("div");n.className="xWDUelLWA";let i=document.createElement("div");return i.className=t.tvWyz,i.innerHTML=e||"Are you sure?",n.appendChild(i),n}_createFooter(e){let t={AFzgq:"xtSMPpB1C",cCYvx:"div",Miedp:"xWh2LBcgj",itIDv:function(e,t,n){return e(t,n)},bNhVv:"horizontal"},n=document.createElement("div");n.className=t.Miedp;let i=t.itIDv(_0x1b682f,[],t.bNhVv);return e.forEach(({text:e,classList:a=[],onClick:s})=>{let o={dmggW:function(e){return e()}},r=_0x426a83(t.AFzgq),l=document.createElement(t.cCYvx);l.className="xgw2tzk6r "+a.join(" "),l.setAttribute("tabindex","0"),l.textContent=e,l.bindWithCooldown(()=>{s&&o.dmggW(s),this.close()}),r.appendChild(l),i.addItem(l),n.appendChild(r)}),n}}let _0x426a83=e=>{let t=document.createElement("div");return t.classList.add(e),t},_0x5122df=e=>document.querySelector(e);function _0x184faa(e){let t={};t.COuUd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.vnAHs=function(e,t){return e*t};let n=t,i=n.COuUd,a="";for(let s=0;s<e;s++)a+=i.charAt(Math.floor(n.vnAHs(Math.random(),i.length)));return a}function _0x551f63(e,t,n={}){let i={QuhVJ:"span",GuHxS:function(e,t){return e(t)},ImzBE:function(e,t){return e<t}},{interval:a=24,fadeDuration:s=214,bezierControl:o=[.42,0,1,1]}=n,r=_0x59b7ed(...o),l=Array.from((new DOMParser).parseFromString("<div>"+t+"</div>","text/html").body.firstChild.childNodes),$=[];function c(e){let t={oxLmF:function(e,t){return e-t},cERcp:function(e,t){return i.GuHxS(e,t)},aNQvV:function(e,t){return i.ImzBE(e,t)}},n=performance.now();function a(i){let o=Math.min(t.oxLmF(i,n)/s,1),l=t.cERcp(r,o);e.style.opacity=l,t.aNQvV(o,1)&&t.cERcp(requestAnimationFrame,a)}requestAnimationFrame(a)}l.forEach(t=>(function e(t,n){if(t.nodeType===Node.TEXT_NODE){let a=t.textContent.split("");for(let s of a){let o=document.createElement(i.QuhVJ);o.classList.add("xSwoj5Cx2"),o.textContent=s,n.appendChild(o),$.push(o)}}else if(t.nodeType===Node.ELEMENT_NODE){let r=t.cloneNode(!1);n.appendChild(r),Array.from(t.childNodes).forEach(t=>e(t,r))}})(t,e)),function e(){if($.length){let t=$.shift();i.GuHxS(c,t),setTimeout(e,a)}}()}function _0x5476ec(){let e={};return e.screenWidth=window.screen.width,e.screenHeight=window.screen.height,e.devicePixelRatio=window.devicePixelRatio,e}function _0x59ad6c(){let e={};e.XBcaQ="MacIntel",e.sFpNk=function(e,t){return e>t},e.QHDwf="iOS",e.wjQNf="Mobile",e.RvIMV="Android",e.FVmWs="Desktop",e.enETZ="macOS",e.bHMQB="Unknown";let t=e,n=navigator.userAgent||navigator.vendor||window.opera,i=navigator.platform,a=navigator.maxTouchPoints||0;if(/iPad|iPhone|iPod/.test(n)||i===t.XBcaQ&&t.sFpNk(a,1)){let s=n.match(/OS (\d+)_?(\d+)?_?(\d+)?/i);if(s){let o=s[1]||"0",r=s[2]||"0",l=s[3]||"0";return{os:t.QHDwf,version:o+"."+r+"."+l,deviceType:/iPad/.test(n)?"Tablet":t.wjQNf}}}if(/Android/.test(n)){let $=n.match(/Android (\d+)\.?(\d+)?\.?(\d+)?/i);if($){let c=$[1]||"0",d=$[2]||"0",x=$[3]||"0";return{os:t.RvIMV,version:c+"."+d+"."+x,deviceType:/Mobile/.test(n)?"Mobile":"Tablet"}}}if(/Win/.test(i)){let h=n.match(/Windows NT (\d+)\.?(\d+)?/i);if(h){let u=h[1]||"0",_=h[2]||"0",f={};return f.os="Windows",f.version=u+"."+_,f.deviceType=t.FVmWs,f}let p={};return p.os="Windows",p.version=null,p.deviceType=t.FVmWs,p}if(/Mac/.test(i)){let b=n.match(/Mac OS X (\d+)_?(\d+)?_?(\d+)?/i);if(b){let m=b[1]||"0",v=b[2]||"0",g=b[3]||"0",C={};return C.os=t.enETZ,C.version=m+"."+v+"."+g,C.deviceType=t.FVmWs,C}let w={};return w.os="macOS",w.version=null,w.deviceType="Desktop",w}if(/Linux/.test(i)){let y={};return y.os="Linux",y.version=null,y.deviceType=t.FVmWs,y}let L={};return L.os=t.bHMQB,L.version=null,L.deviceType=t.bHMQB,L}function _0x35551d(e){return e.replace(/\{RUBY_B#(.*?)\}(.*?)\{RUBY_E#\}/g,(e,t,n)=>"<ruby><rb>"+n+"</rb><rt>"+t+"</rt></ruby>")}let _0x1d3470={};_0x1d3470.edit='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"  stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>',_0x1d3470.trash='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',_0x1d3470.copy='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" /><path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" /></svg>';let _0x5e6800=_0x1d3470;class _0x46b243{constructor({closeOnOverlayClick:e=!1,closeOnEsc:t=!1,excludeElements:n=[]}={}){let i={TlMRx:function(e,t){return e(t)},JUIpP:"drawer-root",SrfzT:"drawer-overlay",xmtdM:"div",dtEvu:function(e,t){return e(t)},yKuiu:"open",BMaFO:"role",lxAwI:"dialog",kGKuM:"keydown"},a="_"+_0x184faa(12);this.Root=i.TlMRx(_0x426a83,i.JUIpP),this.Overlay=_0x426a83(i.SrfzT),this.Content=_0x426a83("drawer-content"),this.Header=_0x426a83("drawer-header"),this.Handle=document.createElement(i.xmtdM),this.Handle.className="drawer-drag-handle",this.Header.appendChild(this.Handle),this.Body=i.dtEvu(_0x426a83,"drawer-body"),this.Content.appendChild(this.Header),this.Content.appendChild(this.Body),this.Root.setAttribute("data-state",i.yKuiu),this.Root.appendChild(this.Overlay),this.Root.appendChild(this.Content),this.Root.setAttribute(i.BMaFO,i.lxAwI),this.Root.setAttribute("aria-modal","true"),this.Root.onwheel=e=>{e.ctrlKey&&e.preventDefault()},this.Root.id=a;let s=_0x130ac7(a);this._deactivated_elements=Array.from(document.querySelectorAll("body > *:not(#"+s+", script, style)")),this._deactivated_elements.forEach(e=>e.setAttribute("inert","true")),this._exclude_for_restore=n,document.body.appendChild(this.Root),this.Root.classList.add("show"),_0x46b243.stack.push(this),e&&this.Overlay.addEventListener("click",this._handleOverlayClick),t&&document.addEventListener(i.kGKuM,this._handleKeyDown),this._setupDrag()}_handleOverlayClick=()=>{this.close()};_handleKeyDown=e=>{let t={};t.dvrRa=function(e,t){return e===t};let n=t;if(27===e.keyCode){let i=_0x46b243.stack[_0x46b243.stack.length-1];n.dvrRa(i,this)&&this.close()}};onClose(e){this.onCloseCallback=e}close(){let e={LsFCL:function(e,t){return e>t},NjtxG:function(e){return e()},WpsWt:"matrix",aBykj:"x9GmoP75O",CaRdr:"translateY(100%)"},t=_0x46b243.stack.indexOf(this);t>-1&&_0x46b243.stack.splice(t,1),this.onCloseCallback&&this.onCloseCallback();let n=()=>{e.LsFCL(this._exclude_for_restore.length,0)?this._exclude_for_restore.forEach(e=>e.removeAttribute("inert")):this._deactivated_elements.forEach(e=>e.removeAttribute("inert"))},i=window.getComputedStyle(this.Content).transform;"none"===i||i.includes(e.WpsWt)?(this.Content.classList.remove(e.aBykj),this.Content.style.transform=e.CaRdr,setTimeout(()=>{e.NjtxG(n),this.Root.remove()},300)):(e.NjtxG(n),this.Root.remove()),this._removeListeners()}_removeListeners(){this.Overlay.onclick=null,document.removeEventListener("keydown",this._handleKeyDown)}_setupDrag(){let e={tUaRx:"x9GmoP75O",tQUWP:function(e,t){return e-t},yOfPV:function(e,t){return e>t},oYSVJ:function(e,t){return e/t},yBEKC:function(e,t){return e-t},ClPqn:function(e,t){return e/t},FBSHH:function(e,t){return e*t},TPyES:function(e,t){return e>t},HTOPU:function(e,t){return e(t)},hYEeW:"mouseup",NjrQK:"touchstart"},t=0,n=0,i=0,a=!1,s=n=>{let s="2|0|1|4|3".split("|"),o=0;for(;;){switch(s[o++]){case"0":t=n.touches?n.touches[0].clientY:n.clientY;continue;case"1":i=Date.now();continue;case"2":if(0!==n.target.scrollTop||n.target.closest(".xBWmlKrN2 *"))return;continue;case"3":this.Content.classList.add(e.tUaRx);continue;case"4":a=!0;continue}break}},o=i=>{if(!a)return;n=i.touches?i.touches[0].clientY:i.clientY;let s=e.tQUWP(n,t),o=this.Content.offsetHeight;e.yOfPV(s,0)&&(this.Content.style.transform="translateY("+s+"px)",this.Overlay.style.opacity=Math.max(1-e.oYSVJ(s,o),0))},r=()=>{if(!a)return;let s=e.yBEKC(n,t),o=e.ClPqn(Date.now()-i,1e3),r=this.Content.offsetHeight,l=e.FBSHH(r,.5);this.Content.classList.remove("x9GmoP75O"),e.TPyES(s,l)||s/o>600?this.close():(this.Content.style.transform="translateY(0)",this.Overlay.style.opacity=1),a=!1},l={};l.passive=!0,this.Content.addEventListener(e.NjrQK,s,l);let $={};$.passive=!0,this.Content.addEventListener("touchmove",o,$),this.Content.addEventListener("touchend",r),this.Content.addEventListener("mousedown",t=>{let n={HysFP:function(e){return e()}};e.HTOPU(s,t);let i=e=>o(e),a=()=>{n.HysFP(r),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",i),document.addEventListener(e.hYEeW,a)})}}_0x46b243.stack=[];class _0x47b8c9{constructor(){let e={};e.bJmdl="https://translate.googleapis.com/translate_a/single",e.mWZaU="gtx";let t=e;this.baseUrl=t.bJmdl,this.client=t.mWZaU}async translate(e,t="en",n="auto"){let i={};i.client=this.client,i.sl=n,i.tl=t,i.dt="t",i.q=e;let a=new URLSearchParams(i);try{let s=await fetch(this.baseUrl+"?"+a);if(!s.ok)throw Error("翻譯失敗，狀態碼: "+s.status);let o=await s.json(),r="";o[0]&&o[0].forEach(e=>{e[0]&&(r+=e[0])});let l=o[2]||n,$={};$.text=e,$.language=l;let c={};c.text=r,c.language=t;let d={};return d.original=$,d.translated=c,d}catch(x){throw Error("翻譯錯誤: "+x.message)}}}let _0x2a96f8=_0x403618.get("lang"),_0x61b9df="zh";_0x2a96f8?_0x61b9df=_0x2a96f8:(_0x61b9df="zh",_0x403618.set("lang","zh"));let _0x5fce01={};_0x5fce01.a1="搜尋…",_0x5fce01.a2="未知",_0x5fce01.a3="在這裡輸入訊息…",_0x5fce01.a4="更新了什麼",_0x5fce01.a5="私人",_0x5fce01.a6="說明",_0x5fce01.a7="公開",_0x5fce01.a8="展開全部",_0x5fce01.a9="顯示較少",_0x5fce01.a10="查看全部",_0x5fce01.a11="加入聊天室",_0x5fce01.a12="加入聊天室",_0x5fce01.a13="邀請碼",_0x5fce01.a14="送出",_0x5fce01.a15="查看個人資料",_0x5fce01.a16="登出",_0x5fce01.a17="無效的邀請碼，請重新嘗試",_0x5fce01.a18="$0 秒前",_0x5fce01.a19="$0 個月前",_0x5fce01.a20="$0 分鐘前",_0x5fce01.a21="$0 小時前",_0x5fce01.a22="$0 年前",_0x5fce01.a23="$0 天前",_0x5fce01.a24="無法預覽這個文件",_0x5fce01.a25="下載",_0x5fce01.a26="你",_0x5fce01.b1="描述",_0x5fce01.b2="最後上線",_0x5fce01.b3="描述",_0x5fce01.b4="暱稱",_0x5fce01.b5="編輯個人資料",_0x5fce01.b6="完成",_0x5fce01.b7="完成",_0x5fce01.b8="歡迎回來",_0x5fce01.b9="登入帳號後即可使用我們的服務",_0x5fce01.b10="等待中…",_0x5fce01.b11="使用 Google 繼續",_0x5fce01.b12="使用 電子郵件 登入",_0x5fce01.b13="返回上一頁",_0x5fce01.b14="密碼錯誤，請重新嘗試",_0x5fce01.b15="找不到這個帳號，請重新嘗試",_0x5fce01.b16="網路請求錯誤，請檢查網路連線",_0x5fce01.b17="發生未知的錯誤",_0x5fce01.b18="$0 則訊息",_0x5fce01.b19="沒有訊息",_0x5fce01.b20="所有成員",_0x5fce01.b21="查看所有成員",_0x5fce01.b22="查看行程安排",_0x5fce01.b23="退出",_0x5fce01.b24="電子郵件地址",_0x5fce01.b25="密碼",_0x5fce01.b26="送出",_0x5fce01.b27="電子郵件登入",_0x5fce01.b28="@未知",_0x5fce01.b29="未知",_0x5fce01.b30="已成功清除緩存，重新載入後即生效",_0x5fce01.b31="未知的指令，請重新嘗試",_0x5fce01.b32="載入中…",_0x5fce01.b33="確定要退出這個聊天室嗎，之後仍可重新加入",_0x5fce01.b34="退出",_0x5fce01.b35="取消",_0x5fce01.b36="確定",_0x5fce01.b37="行程安排",_0x5fce01.b38="標題",_0x5fce01.b39="開始",_0x5fce01.b40="結束",_0x5fce01.b41="編輯行程",_0x5fce01.c1="編輯模式",_0x5fce01.c2="預覽模式",_0x5fce01.c3="已更新介面語言為：$0",_0x5fce01.c4="英語",_0x5fce01.c5="中文",_0x5fce01.z0='<li class="xcKqXW8uF">修復了一些錯誤</li><li class="xcKqXW8uF">未來可能不會再更新了，看情況</li>',_0x5fce01.b42="上傳中",_0x5fce01.b43="正在上傳中，請耐心等待",_0x5fce01.b44="上傳遭中斷",_0x5fce01.b45="已取消上傳",_0x5fce01.b46="上傳完成",_0x5fce01.b47="這個文件已經成功上傳了",_0x5fce01.b48="上傳失敗",_0x5fce01.b49="這個文件有 $0 ，我們無法負擔",_0x5fce01.b50="動態",_0x5fce01.b51="暫無動態",_0x5fce01.b52="點擊查看",_0x5fce01.d0="附加文件",_0x5fce01.d1="發送",_0x5fce01.d2="加入貼圖",_0x5fce01.d3="標記為重要",_0x5fce01.d4="取消標記",_0x5fce01.d5="任何人都能加入這個聊天室",_0x5fce01.d6="只有受邀人能加入本聊天室",_0x5fce01.d7="重新載入後方可完整更新您的資料",_0x5fce01.d8="這裡還沒有訊息，現在就開始聊天吧",_0x5fce01.d9="未知",_0x5fce01.d10="暫時還沒有描述哦",_0x5fce01.d11="未知",_0x5fce01.d12="未知",_0x5fce01.d13="尚未加入任何聊天室",_0x5fce01.d14="還沒有任何行程，現在就創建一個吧",_0x5fce01.f1="暫時沒有人欸…\xa0等等你不是人?",_0x5fce01.f2="今天",_0x5fce01.f3="明天",_0x5fce01.f4="昨天",_0x5fce01.f5="$0 天前",_0x5fce01.f6="$0 天後",_0x5fce01.f7="已結束",_0x5fce01.f8="時間範圍無效",_0x5fce01.f11="清除快取",_0x5fce01.f12="隱藏動態",_0x5fce01.f13="最後上線時間將不會公開",_0x5fce01.f14="同步訊息更新",_0x5fce01.f15="訊息被修改、刪除都將即時同步",_0x5fce01.f16="攔截推銷與廣告內容",_0x5fce01.f17="自動識別並攔截此類內容，可能不準確",_0x5fce01.f18="過濾敏感詞彙",_0x5fce01.f19="自動識別並過濾此類內容，可能不準確",_0x5fce01.f20="設定",_0x5fce01.f21="已清除",_0x5fce01.f22="所有人",_0x5fce01.s1="當前版本：$0",_0x5fce01.s2="開發者：$0",_0x5fce01.s3="關於",_0x5fce01.s4="翻譯",_0x5fce01.s5="翻譯中",_0x5fce01.s6="已翻譯",_0x5fce01.s7="重試";let _0x594160={};_0x594160.a1="Search…",_0x594160.a2="Unknown",_0x594160.a3="Enter message here…",_0x594160.a4="What's new",_0x594160.a5="Private",_0x594160.a6="Illustrate",_0x594160.a7="Public",_0x594160.a8="Show more",_0x594160.a9="Show less",_0x594160.a10="Show all",_0x594160.a11="Join groups",_0x594160.a12="Join Groups",_0x594160.a13="Invitation code",_0x594160.a14="Submit",_0x594160.a15="View profile",_0x594160.a16="Logout",_0x594160.a17="Invalid invitation code, please try again",_0x594160.a18="$0 seconds ago",_0x594160.a19="$0 months ago",_0x594160.a20="$0 minutes ago",_0x594160.a21="$0 hours ago",_0x594160.a22="$0 years ago",_0x594160.a23="$0 days ago",_0x594160.a24="Unable to preview this file",_0x594160.a25="Download",_0x594160.a26="You",_0x594160.b1="Description",_0x594160.b2="Last online",_0x594160.b3="Description",_0x594160.b4="Nickname",_0x594160.b5="Edit Profile",_0x594160.b6="Save",_0x594160.b7="Save",_0x594160.b8="Welcome back",_0x594160.b9="Log in to your account to use our services",_0x594160.b10="Waiting…",_0x594160.b11="Continue with Google",_0x594160.b12="Continue with Email",_0x594160.b13="Return to previous page",_0x594160.b14="Wrong password, please try again",_0x594160.b15="The account could not be found. Please try again.",_0x594160.b16="Network request error, please check the network connection",_0x594160.b17="An unknown error occurred",_0x594160.b18="$0 messages",_0x594160.b19="No message",_0x594160.b20="All members",_0x594160.b21="View members",_0x594160.b22="View itinerary",_0x594160.b23="Leave",_0x594160.b24="Email Address",_0x594160.b25="Password",_0x594160.b26="Submit",_0x594160.b27="Login with Email",_0x594160.b28="@unknown",_0x594160.b29="unknown",_0x594160.b30="The cache has been successfully cleared and will take effect after reloading",_0x594160.b31="Unknown command, please try again",_0x594160.b32="Loading…",_0x594160.b33="Are you sure you want to leave this group? You can rejoin later.",_0x594160.b34="Leave",_0x594160.b35="Cancel",_0x594160.b36="Comfirm",_0x594160.b37="All itinerary",_0x594160.b38="Title",_0x594160.b39="Start",_0x594160.b40="End",_0x594160.b41="Edit itinerary",_0x594160.c1="編輯模式",_0x594160.c2="預覽模式",_0x594160.c3="Updated language: $0",_0x594160.c4="English",_0x594160.c5="Chinese",_0x594160.z0='<li class="xcKqXW8uF">Fixed some bugs.</li><li class="xcKqXW8uF">There may be no more updates in the future.</li>',_0x594160.b42="Uploading",_0x594160.b43="Uploading, please wait patiently",_0x594160.b44="Upload interrupted",_0x594160.b45="Upload canceled",_0x594160.b46="Upload completed",_0x594160.b47="The file has been uploaded successfully",_0x594160.b48="Upload failed",_0x594160.b49="This file is $0 and we can't afford it",_0x594160.b50="Dynamics",_0x594160.b51="No dynamic",_0x594160.b52="Click here to view",_0x594160.d0="Attach files",_0x594160.d1="Send",_0x594160.d2="Add stickers",_0x594160.d3="Mark as important",_0x594160.d4="Unmark",_0x594160.d5="Anyone can join this group",_0x594160.d6="Only invited people can join this group",_0x594160.d7="Reload to fully update your information",_0x594160.d8="There are no messages here yet. Start chatting now.",_0x594160.d9="Unknown",_0x594160.d10="There is no description yet",_0x594160.d11="Unknown",_0x594160.d12="Unknown",_0x594160.d13="Not joined any chat room yet",_0x594160.d14="No itinerary yet",_0x594160.f1="There's\xa0no\xa0one\xa0here\xa0at\xa0the\xa0moment...",_0x594160.f2="Today",_0x594160.f3="Tomorrow",_0x594160.f4="Yesterday",_0x594160.f5="$0 days ago",_0x594160.f6="$0 days later",_0x594160.f7="Ended",_0x594160.f8="Invalid\xa0time\xa0range",_0x594160.f11="Clear cache",_0x594160.f12="Hide activity",_0x594160.f13="The last online time will not be disclosed",_0x594160.f14="Sync message updates",_0x594160.f15="Messages that are modified or deleted will be synchronized immediately",_0x594160.f16="Block promotional and advertising content",_0x594160.f17="Automatically identify and block such content, which may not be accurate",_0x594160.f18="Filter sensitive words",_0x594160.f19="Automatically identify and filter this type of content, which may be inaccurate",_0x594160.f20="Settings",_0x594160.f21="Cleared",_0x594160.f22="everyone",_0x594160.s1="Current version: $0",_0x594160.s2="Developer: $0",_0x594160.s3="About",_0x594160.s4="Translate",_0x594160.s5="Translating",_0x594160.s6="Translated",_0x594160.s7="Try again";let _0x1caa60={};_0x1caa60.zh=_0x5fce01,_0x1caa60.en=_0x594160;let _0x6dd456=_0x1caa60;function _0x3a12ff(e){return _0x6dd456[e]}let _0x388dbb={};_0x388dbb.apiKey="AIzaSyAp73V5ZsBUtpy4kS3-QyGirGSpz71DPWo",_0x388dbb.authDomain="smiling-theory-397204.firebaseapp.com",_0x388dbb.databaseURL="https://smiling-theory-397204-default-rtdb.asia-southeast1.firebasedatabase.app",_0x388dbb.projectId="smiling-theory-397204",_0x388dbb.storageBucket="smiling-theory-397204.appspot.com",_0x388dbb.messagingSenderId="360479398694",_0x388dbb.appId="1:360479398694:web:05b7df5ce277f89ea8ffe7",_0x388dbb.measurementId="G-6BKTT1K7D1";let _0x3d0ca4=e(_0x388dbb),_0x317a51=_0x3a12ff(_0x61b9df),_0x219409=d(_0x3d0ca4),_0x2cfa8b=r(_0x3d0ca4),_0x2af2a3=new i,_0x45b8d4=t(),_0x347e2a=new _0x47b8c9;x(_0x219409).then(()=>{let e={};e.xBVBl="離線緩存功能已啟用";let t=e;console.log(t.xBVBl)}).catch(e=>{let t={};t.pUapP="failed-precondition",t.voxCB="已開啟多個分頁，無法啟用離線緩存功能",t.mykta=function(e,t){return e===t},t.eMQHK="unimplemented",t.dEQtv="當前瀏覽器不支持離線緩存";let n=t;e.code===n.pUapP?console.error(n.voxCB):n.mykta(e.code,n.eMQHK)&&console.error(n.dEQtv)});let _0x43c6b0=/(Android|webOS|Windows Phone|iPhone|iPod|iPad)/i.test(window.navigator.platform)||window.innerWidth<550,_0x391a08=[],_0x160ef0={sidebar:_0x5122df(".xFz8bwNFr"),main:_0x5122df(".x8o58HttN"),messageInput:_0x5122df(".xtsARDHTI"),searchInput:_0x5122df(".xujXllYgW"),messageContainer:_0x5122df(".xikyLwDf4"),sendButton:_0x5122df(".xuwRtDpu4"),fileInput:_0x5122df(".xVEJA40Qh"),attachButton:_0x5122df(".xpbRox0hO#xJTcQcZ9E"),stickerButton:_0x5122df(".xpbRox0hO#xbXZpIWEa"),markButton:_0x5122df(".xpbRox0hO#xsVrze5YA"),brushButton:_0x5122df(".xpbRox0hO#xrfvUzMAG"),heading:_0x5122df(".xehdiGgBv"),backButton:_0x5122df(".xehdiGgBv .xMyenRl7K .x8JU9DbQZ"),primaryArea:_0x5122df(".xemr1y6ie"),spinnerContainer:_0x5122df(".xemr1y6ie .spinner"),spinnerLabel:_0x5122df(".xemr1y6ie .spinner .xkT2bkntT"),_mb_att_btn:_0x5122df(".xDADAUUv4"),roomNameLabel:_0x5122df(".x8o58HttN .xMyenRl7K .xvwhg72ii"),signatureLabel:_0x5122df(".xlKSJ67AP"),nameLabel:_0x5122df(".xt4GQkVIo"),avatarLabel:_0x5122df(".xbVHF6S6B"),avatarWrapper:_0x5122df(".xaoteDJh4"),profileContainer:_0x5122df(".xQ6gFUtqT"),layoutResizer:_0x5122df(".xrFP6D2e1"),layoutResizer2:_0x5122df(".xZddo7wlf"),activityBar:_0x5122df(".pS2na74a"),sidebarOverlay:_0x5122df(".xgUJeGeNl")},_0x451672='<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>'+_0x317a51.b32,_0x265fe0={};_0x265fe0.current="0.2.35",_0x265fe0.cacheId="x0n0HCjlj",_0x265fe0.directions='<ul class="xxmjDL5xB xbH7v2Hbn">'+_0x317a51.z0+"</ul>";let _0x55790a=_0x265fe0,_0xa96c4b={};_0xa96c4b.duration=3e4,_0xa96c4b.limit=2,_0xa96c4b.locking=!1;let _0x3311f3=_0xa96c4b,_0x496493=[],_0x3e7280={},_0x356c0b={},_0x2131d1={},_0x18c754={},_0x30021d,_0x28aa23=!1,_0x47e820="",_0x48bf89,_0x38b8f1=0,_0x5d5509,_0x48ca2d=!1,_0x34a619=!1,_0x1e02b0=!1,_0x4d816e=_0x160ef0.messageContainer,_0x5ed0cc={};_0x5ed0cc.state=!1,_0x5ed0cc._a=null,_0x5ed0cc._b=null,_0x5ed0cc._n="",_0x5ed0cc._d="",_0x5ed0cc._m=[];let _0x36c9b6=_0x5ed0cc,_0xa92d7b="",_0x2fd5f0=null;if(_0x43c6b0)document.body.classList.add("mobile"),_0x160ef0._mb_att_btn.bindWithCooldown(function(){_0x160ef0.fileInput.click()});else{document.body.classList.add("desktop");let T={};T.parent=_0x160ef0.attachButton,T.text=_0x317a51.d0,T.placement="top",new _0x231fa6(T),_0x160ef0.attachButton.bindWithCooldown(function(){_0x160ef0.fileInput.click()});let B={};B.parent=_0x160ef0.sendButton,B.text=_0x317a51.d1,B.placement="top",new _0x231fa6(B);let H={};H.parent=_0x160ef0.stickerButton,H.text=_0x317a51.d2,H.placement="top",new _0x231fa6(H);let S={};S.parent=_0x160ef0.markButton,S.text=_0x317a51.d3,S.placement="top";let R=new _0x231fa6(S),M={};M.parent=_0x160ef0.brushButton,M.text="潤色文本",M.placement="top",new _0x231fa6(M),_0x1b682f([_0x160ef0.attachButton,_0x160ef0.brushButton,_0x160ef0.markButton,_0x160ef0.stickerButton],"horizontal"),_0x160ef0.brushButton.bindWithCooldown(function(){let e={};e.LayyB="潤色文本",e.ZfrZj="xDLwiKdTE";let t=e,n=_0x320656(t.LayyB,!0);n.content.classList.add("lg"),n.body.classList.add(t.ZfrZj)}),_0x160ef0.markButton.bindWithCooldown(function(){let e={};e.jZiSC="x3zdxRXQ6";let t=e;_0x1e02b0?(_0x1e02b0=!1,_0x160ef0.markButton.classList.remove(t.jZiSC),R.setText(_0x317a51.d3)):(_0x1e02b0=!0,_0x160ef0.markButton.classList.add(t.jZiSC),R.setText(_0x317a51.d4))},0);let A=!1,I=0,W=0,Y=e=>{let t={};t.jxdMl="xz7kq9zLe",t.xDQvs="mousemove",t.bqJEY="mouseup";let n=t;A=!0,document.body.classList.add(n.jxdMl);let i=e.target.getBoundingClientRect();W=e.clientX-i.left,document.addEventListener(n.xDQvs,D),document.addEventListener(n.bqJEY,O)},D=e=>{let t={};t.xNeAA=function(e,t){return e+t};let n=t;if(!A)return;let i=_0x160ef0.sidebar.getBoundingClientRect().left,a=Math.max(e.clientX-i-W,0);I=a,_0x160ef0.sidebar.style.width=n.xNeAA(a,"px")},O=()=>{let e={};e.pgYOr="xz7kq9zLe",e.oFruc="mouseup";let t=e;A=!1,_0x403618.set("xjS4MkN99",I),document.body.classList.remove(t.pgYOr),document.removeEventListener("mousemove",D),document.removeEventListener(t.oFruc,O)};window.addEventListener("blur",()=>{let e={};e.XJZAq="resizing";let t=e;document.body.classList.remove(t.XJZAq),A=!1}),_0x160ef0.layoutResizer.addEventListener("mousedown",e=>{({uJrFS:function(e,t){return e(t)}}).uJrFS(Y,e)})}function _0x320656(e,t=!1,...n){let i={ULiww:function(e,t){return e(t)},zAqdY:"x6Y89FynP",GoxLA:function(e,t){return e(t)}};console.log(n);let a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x329cf8(a),o=_0x426a83("xrYn5ZY3v");o.classList.add("lf"),s.Content.style.padding="0";let r=i.ULiww(_0x426a83,i.zAqdY);o.appendChild(r),r.innerText=e,s.Content.appendChild(o);let l=_0x426a83("xWDUelLWA");s.Content.appendChild(l);let $;if(t){let c="5|1|2|0|3|4".split("|"),d=0;for(;;){switch(c[d++]){case"0":s.close=s.close.bind(s);continue;case"1":$.focusable(!0);continue;case"2":$.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>';continue;case"3":$.bindWithCooldown(s.close);continue;case"4":o.appendChild($);continue;case"5":$=i.GoxLA(_0x426a83,"xvb5soWNa");continue}break}}let x=o.getBoundingClientRect();o.style.minHeight=x.height+"px";let h={};return h.root=s,h.body=l,h.content=s.Content,h.closebtn=$,h.Root=s.Root,h.Content=s.Content,h}async function _0x260b61(e,t){let n={KSViH:"xUSR4cuWD",BLuLX:"canvas",gxuEK:function(e,t){return e+t},HPPOR:function(e,t){return e+t},uucxf:"loaded",KHyLp:"xFIqZCKV3",TcFHe:"xAQPbc7N3",VjZIk:"instant",zuQCb:function(e,t){return e===t},rLCFH:"x2y08yFOH",XUvrK:function(e,t,n){return e(t,n)},Mqlbg:function(e,t){return e===t},hSGYp:"data-state",fqWUe:"loading",kYEMz:"cache-url",UPpKt:"video",wDHHF:"muted",XkaoY:"controls",OnVHi:"true",oEdYF:"controlslist",OagDd:"audio",xzqMK:"xGsec9lFd",QVuvL:"a24",OKiUB:"a25",EcMJi:"span",veGdl:"xYj7x2KZ4",PivLd:"xVlceg4Ab",BeYeg:function(e,t,n){return e(t,n)},NBILP:"x6EwJGLAa",ptYrk:"a10",sXmyu:"xDVzL7FIt",rjJrl:function(e,t){return e(t)}};if(t.content.startsWith("<")){let i=t.content.match(/<\s*(\w+)\s+(\S+)/),a=i[1],s=i[2];if(n.Mqlbg(a,"image")){let o=document.createElement("img");o.focusable(!0),o.classList.add("xGsec9lFd"),o.classList.add("xUSR4cuWD"),o.setAttribute(n.hSGYp,n.fqWUe),o.onerror=function(){o.setAttribute("data-state","failed"),o.classList.remove(n.KSViH)},o.onload=function(){let t={MOGrQ:"xPSnkbRat",FgGUN:n.BLuLX,iIdiH:"xWuhDLG1C",BjwoK:"x8o1OSu71",SProZ:function(e,t){return e(t)}},i=_0x18c754["_"+s];if(i)o.style.width=n.gxuEK(i.width,"px"),o.style.height=n.HPPOR(i.height,"px");else{let a=o.getBoundingClientRect(),r={};r.width=a.width,r.height=a.height,_0x18c754["_"+s]=r}o.setAttribute("data-state",n.uucxf),o.classList.remove(n.KSViH),e.classList.add(n.KHyLp),o.bindWithCooldown(function(){let e={};e.closeOnEsc=!0,e.closeOnOverlayClick=!0;let n=new _0x329cf8(e);n.Content.classList.add(t.MOGrQ);let i=document.createElement(t.FgGUN);i.classList.add(t.iIdiH),n.Content.appendChild(i);let a=new _0x560fcd(i,{maxScale:2,onClickOutside(e,t){o(e,t)}});function o(){a.destroy(),n.close()}a.loadImage(s);let r=_0x426a83(t.BjwoK);r.focusable(!0),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',r.bindWithCooldown(o),n.Content.appendChild(r);let l=t.SProZ(_0x426a83,"x8o1OSu71");l.classList.add("xHZuqwWhI"),l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5" /></svg>',l.bindWithCooldown(function(){a.rotate()},0),n.Content.appendChild(l)},0)};let r={};r.action=n.kYEMz,r.url=s,navigator.serviceWorker?.controller?.postMessage(r),o.src=s,e.appendChild(o)}else if(a===n.UPpKt){let l=document.createElement("video");l.setAttribute(n.wDHHF,""),l.focusable(!0),l.playsInline=!0,l.setAttribute(n.XkaoY,n.OnVHi),l.setAttribute(n.oEdYF,"nodownload");let $={};$.action=n.kYEMz,$.url=s,navigator.serviceWorker?.controller?.postMessage($),l.src=s,l.classList.add("xGsec9lFd"),e.appendChild(l)}else if(n.Mqlbg(a,"audio")){let c=document.createElement(n.OagDd);c.focusable(!0),c.setAttribute("controls",n.OnVHi);let d={};d.action=n.kYEMz,d.url=s,navigator.serviceWorker?.controller?.postMessage(d),c.src=s,c.classList.add(n.xzqMK),e.appendChild(c)}else e.innerHTML='<div class="xUiYNFhtR">'+_0x317a51[n.QVuvL]+' <a class="x0ciSQShX no-wrap" href="'+s+'" target="_blank" rel="noreferrer noopener">'+_0x317a51[n.OKiUB]+"</a></div>"}else{let x=document.createElement(n.EcMJi),h=_0x426a83(n.veGdl);x.classList.add(n.PivLd),n.BeYeg(_0x40d3cd,x,t.content),e.appendChild(x),e.appendChild(h);let u=t.content;if(x.getBoundingClientRect().height>125){e.classList.add("xDVzL7FIt");let _=_0x426a83(n.NBILP),f={};f["0"]=_0x317a51.a8,f["1"]=_0x317a51.a9,f["2"]=_0x317a51[n.ptYrk];let p=f;_.innerHTML=p[_0x43c6b0?2:0],_.focusable(!0);let b=0;_.bindWithCooldown(function(){if(_0x43c6b0){let t={};t.closeOnEsc=!0,t.closeOnOverlayClick=!0;let i=new _0x46b243(t);i.Root.classList.add(n.TcFHe);let a=_0x426a83("xBWmlKrN2");i.Body.appendChild(a),_0x40d3cd(a,u)}else{let s={};s.top=0,s.behavior=n.VjZIk,x.scrollTo(s),n.zuQCb(b,0)?(b=1,e.classList.add(n.rLCFH),_.innerHTML=p[1]):(b=0,e.classList.remove("x2y08yFOH"),_.innerHTML=p[0])}},0),h.appendChild(_)}if(t.translatable){e.classList.add(n.sXmyu);let m=n.rjJrl(_0x426a83,n.NBILP);m.innerHTML=_0x317a51.s4,m.focusable(!0),m.bindWithCooldown(async function(){m.innerHTML=_0x317a51.s5;try{let e=await _0x347e2a.translate(t.content,"zh"===_0x61b9df?"zh-TW":"en");u=e.translated.text,n.XUvrK(_0x40d3cd,x,e.translated.text),m.innerHTML=_0x317a51.s6,m.classList.add("disabled")}catch(i){m.innerHTML=_0x317a51.s7}}),h.appendChild(m)}}}function _0x40d3cd(e,t){let n={Bhwqn:"b29",NcQNr:function(e,t){return e>t},kdoWT:function(e,t,n){return e(t,n)},GuZHi:function(e,t){return e===t},pjVSk:"everyone",ylxKg:"f22",uWrhV:function(e,t){return e<t},jUtrj:function(e,t,n){return e(t,n)}},i=/@(\w+)/g,a=0,s;for(e.clear();null!==(s=i.exec(t));){let{index:o}=s,r=s[1];if(n.NcQNr(o,a)){let l=t.slice(a,o);n.kdoWT(_0x27a6e5,e,l)}let $=document.createElement("a");$.classList.add("x0ciSQShX"),$.focusable(!0),$.dataset.userId=r;let c={};c.userId=r,c.dom=$,_0x36c9b6._m.push(c),n.GuZHi(r,n.pjVSk)?$.textContent="@"+_0x317a51[n.ylxKg]:_0x3200f4(r).then(function(e){let t={};t.xOgET="desktop";let i=t;e?($.textContent="@"+(e.name||_0x317a51[n.Bhwqn]),$.bindWithCooldown(function(){let t={};t.data=e,t.type=_0x43c6b0?"mobile":i.xOgET,_0x48d5a0(_0x2fd5f0,t)},0)):$.textContent=_0x317a51.b28}).catch(function(e){$.textContent="@"+r,console.log("無法載入這位用戶的暱稱",e)}),e.appendChild($),a=i.lastIndex}n.uWrhV(a,t.length)&&n.jUtrj(_0x27a6e5,e,t.slice(a))}function _0x27a6e5(e,t){let n=t.split("\n");n.forEach((t,i)=>{if(t){let a=_0x508ee2(t),s=document.createElement("div");s.innerHTML=a,Array.from(s.childNodes).forEach(t=>{e.appendChild(t)})}i<n.length-1&&e.appendChild(document.createElement("br"))})}function _0x508ee2(e){let t={};t.jCwhx=function(e,t){return e+t},t.yVuiR=function(e,t){return e+t},t.LInZM=function(e,t){return e+t},t.hWlus='" target="_blank" rel="noreferrer noopener">',t.pPXNv="</a></span>";let n=t;return e.replace(/https?:\/\/[^\s/$.?#].[^\s]*/g,function(e){let t=e.replace(/^https?:\/\//,"");return n.jCwhx(n.yVuiR(n.LInZM('<span class="xCe4Btdzm"><a class="x0ciSQShX" translate="no" href="',e),n.hWlus),decodeURIComponent(t))+n.pPXNv})}async function _0x2f559c(){let e={tIoxU:function(e,t){return e||t},CVznp:function(e,t){return e===t},KrGTd:"disabled",qMFFn:function(e,t){return e===t},iJlnd:"1241",FyKMj:function(e,t,n,i){return e(t,n,i)},LdHtv:function(e,t){return e(t)},sKfPa:function(e,t){return e===t},AlXBU:"b31",eOcGs:function(e,t){return e(t)},rAAjX:"&lt;",zYYvj:"&gt;",usURQ:"x3zdxRXQ6",xHZCA:function(e,t,n,i,a){return e(t,n,i,a)},afKDR:"chats",RjEzX:function(e,t,n,i){return e(t,n,i)}},t=_0x160ef0.messageInput.innerText.trim();if(e.tIoxU(!t,!_0x47e820)||e.CVznp(t,""))return;_0x160ef0.sendButton.classList.add(e.KrGTd),_0x160ef0.sendButton.focusable(!1);let n=t.match(/^\/(\w+)\s*(.*)/);if(n){let i=n[1],a=n[2];if("task"===i){if(e.qMFFn(a,e.iJlnd)){_0x160ef0.messageInput.clear(),e.FyKMj(_0x39de34,{content:_0x317a51.c3.replace("$0",_0x317a51.c5),sender:_0x5d5509,tag:"2"},e.LdHtv(_0x184faa,20),"3"),_0x403618.set("lang","zh");return}if(e.sKfPa(a,"1242")){_0x160ef0.messageInput.clear(),_0x39de34({content:_0x317a51.c3.replace("$0",_0x317a51.c4),sender:_0x5d5509,tag:"2"},_0x184faa(20),"3"),_0x403618.set("lang","en");return}_0x160ef0.messageInput.clear(),e.FyKMj(_0x39de34,{tag:"2",content:_0x317a51[e.AlXBU]},e.eOcGs(_0x184faa,20),"3");return}}t=t.replace(/&([^;]+)/g,"&amp;$1").replaceAll("<",e.rAAjX).replaceAll(">",e.zYYvj).replace(/\.\.\./g,"…").replace(/(\r?\n){3,}/g,"\n\n"),_0x160ef0.messageInput.clear();let s=_0x1e02b0?"1":null;_0x160ef0.markButton.classList.remove(e.usURQ),_0x1e02b0=!1;let o=_(e.xHZCA(h,_0x219409,e.afKDR,_0x47e820,"messages"));_0x496493.push(o.id),await u(o,{sender:_0x5d5509,content:t,timestamp:Date.now(),tag:s}),_0x3311f3.locking=!0;let r={};r.content=t,r.tag=s,e.RjEzX(_0x39de34,r,o.id,"3")}navigator.serviceWorker.addEventListener("message",e=>{let t={zHkjM:"cache-size-result",vKoOX:function(e,t,n,i){return e(t,n,i)},IHDDH:function(e,t){return e(t)},soBid:function(e,t){return e(t)}};if(e.data.type===t.zHkjM){let n=document.getElementById("cacheSizeResult");if(e.data.error){n.innerHTML="錯誤: "+e.data.error;return}t.vKoOX(_0x39de34,{content:t.IHDDH(_0x28d39a,e.data.bytes)},t.soBid(_0x184faa,20),"3")}});let _0x497ea7=0;function _0x39de34(e,t,n="1"){let i={};i.zaUFs="xVC8gtuyS",i.SDXIt="xMyW2iRSH",i.cEVLF="xKljxgVJA",i.VAZah="xc4iCj2Gy",i.Ehkxw="true",i.ZykSW="data-message-id",i.RUGsy=function(e,t){return e===t},i.NpZby="xOmVIOA3e",i.yEiFL="xHJfZfjT1";let a=i,s=_0x426a83(a.zaUFs),o=_0x426a83(a.SDXIt),r=_0x426a83(a.cEVLF),l=_0x426a83("xu4Celbbq"),$=_0x426a83(a.VAZah),c=_0x426a83("xRHoYYwoZ");switch(s.setAttribute("data-visible",a.Ehkxw),s.setAttribute(a.ZykSW,t),s.classList.add("xiOw4dg0O"),s.appendChild(r),r.appendChild(c),c.appendChild(l),l.appendChild($),c.appendChild(o),$.innerText=_0x317a51.a26,a.RUGsy(_0xa92d7b.sender,e.sender)&&s.classList.add(a.NpZby),"1"===e.tag?o.classList.add("x4rKxFxLl"):"2"===e.tag&&o.classList.add(a.yEiFL),_0x30021d&&(_0x30021d.remove(),_0x30021d=null),n){case"1":_0x160ef0.messageContainer.appendChild(s);break;case"2":_0x4d816e.appendChild(s),_0x497ea7+=s.offsetHeight;break;case"3":_0x160ef0.messageContainer.appendChild(s),_0x48ca2d=!0,_0x160ef0.messageContainer.scrollTo({top:_0x160ef0.messageContainer.scrollHeight,behavior:"smooth"})}_0x260b61(o,e)}function _0x10364b(e,t,n="1"){let i={AVbeO:function(e,t,n){return e(t,n)},CkXuQ:"desktop",CCHPE:function(e,t){return e(t)},znWsa:function(e,t){return e(t)},dXcep:function(e,t){return e(t)},DfWsn:"xMyW2iRSH",phdRB:"xKljxgVJA",ifdzX:"xu4Celbbq",pwfAx:function(e,t){return e(t)},jMjIn:"xc4iCj2Gy",gaZyU:"xt8fROB2L",UWhKN:"img",aADvz:"data-message-id",FJlyp:function(e,t){return e===t},JUKpY:"xOmVIOA3e"},a=i.znWsa(_0x426a83,"xVC8gtuyS"),s=i.dXcep(_0x426a83,i.DfWsn),o=_0x426a83("xSYcbYqTG"),r=_0x426a83(i.phdRB),l=i.dXcep(_0x426a83,i.ifdzX),$=i.pwfAx(_0x426a83,i.jMjIn),c=i.CCHPE(_0x426a83,i.gaZyU),d=_0x426a83("xRHoYYwoZ"),x=document.createElement(i.UWhKN);switch(a.setAttribute("data-visible","true"),c.classList.add("xt8fROB2L"),x.loading="lazy",a.appendChild(o),a.appendChild(r),r.appendChild(d),d.appendChild(l),l.appendChild($),d.appendChild(s),l.appendChild(c),o.appendChild(x),a.setAttribute(i.aADvz,t),i.FJlyp(e.tag,"1")&&s.classList.add("x4rKxFxLl"),c.innerText="0s",$.innerText=_0x317a51.d9,x.draggable=!1,_0x30021d&&(_0x30021d.remove(),_0x30021d=null),i.FJlyp(_0xa92d7b.sender,e.sender)&&a.classList.add(i.JUKpY),n){case"1":_0x160ef0.messageContainer.appendChild(a);break;case"2":_0x4d816e.appendChild(a),_0x497ea7+=a.offsetHeight;break;case"3":_0x160ef0.messageContainer.appendChild(a),_0x48ca2d=!0,_0x160ef0.messageContainer.scrollTo({top:_0x160ef0.messageContainer.scrollHeight,behavior:"smooth"})}i.AVbeO(_0x260b61,s,e),i.dXcep(_0x3200f4,e.sender).then(t=>{let n={AHnLO:function(e,t,n){return i.AVbeO(e,t,n)},RODXG:i.CkXuQ};function a(){n.AHnLO(_0x48d5a0,_0x160ef0.main,{data:t,type:_0x43c6b0?"mobile":n.RODXG})}c.innerText=i.CCHPE(_0x4ba631,e.timestamp),x.src=t.avatarUrl||"/assets/avatar.png",x.onload=function(){o.classList.add("xWzeTGC6P")},$.onclick=a,o.focusable(!0),o.bindWithCooldown(a),$.innerText=t.name||_0x317a51.d11}).catch(e=>{console.error(e)})}function _0x47ebd7(e,t,n){let i={};i.upeSg="assets/avatar.png",_0x160ef0.signatureLabel.textContent=n||"unknown",_0x160ef0.avatarWrapper.classList.remove("xJd2GT7MI"),_0x160ef0.avatarLabel.src=e||i.upeSg,_0x160ef0.nameLabel.textContent=t||_0x317a51.d11}let _0x4b7497;async function _0x7f419a(){let e={gGyVc:function(e,t){return e-t},KJhci:function(e,t,n){return e(t,n)},bKzAd:"mousemove",mxPQY:"mouseup",KjUjc:"touchmove",sJcXo:"touchend",ERPDz:"xgu6pGjzk",xeHdB:function(e,t){return e-t},QySdm:function(e,t){return e/t},bYGQm:function(e,t){return e*t},JdvGa:"xp4HXkJGa",rZvvJ:"--x9LFHiVqv",hBhst:"--xVizV2ybq",aTvhp:function(e){return e()},Dcain:function(e,t){return e!==t},mEaDR:"xYIbDcl9T",hBabe:"正在初始化應用程序",gBPBR:"b32",GMtcI:function(e,t){return e&&t},ZFJBd:"xmKH3ad5R",Fsuxr:function(e){return e()},yRksN:function(e){return e()},XzUUo:"mousedown",cqaeY:"resize",icnpz:"設置布局時發生錯誤",qgvdh:"disabled",VPJBJ:"x5RtiEC9k",zHCny:"cvs"};if(_0x28aa23)return;console.log(e.hBabe),_0x160ef0.roomNameLabel.innerText=_0x317a51.a2,_0x160ef0.searchInput.placeholder=_0x317a51.a1,_0x160ef0.messageInput.setAttribute("placeholder",_0x317a51.a3),_0x160ef0.spinnerLabel.innerText=_0x317a51[e.gBPBR];let t=_0x403618.get("xjS4MkN99");e.GMtcI(t,!_0x43c6b0)&&(_0x160ef0.sidebar.style.width=t+"px"),document.body.classList.add(e.ZFJBd);let n=e.aTvhp(_0x59ad6c),i=e.Fsuxr(_0x5476ec);e.yRksN(_0x5505bb);try{_0x3200f4(_0x5d5509).then(async t=>{(!t.deviceInfo||e.gGyVc(Date.now(),t.deviceInfo.lastUpdate)>36e5)&&(await e.KJhci(_0x154703,_0x5d5509,{deviceInfo:{lastUpdate:Date.now(),os:n.os+" "+n.version,screen:i.screenWidth+"x"+i.screenHeight+" @"+i.devicePixelRatio+"x"}}),console.log("已上傳裝置信息"))})}catch(a){console.error("發生未知錯誤",a)}let s=!1,o=0,r=0,l=0,$=t=>{s=!0,o=0,l=(r=t.touches?t.touches[0].clientX:t.clientX)-t.target.getBoundingClientRect().left,document.addEventListener(e.bKzAd,c),document.addEventListener(e.mxPQY,d);let n={};n.passive=!0,document.addEventListener(e.KjUjc,c,n),document.addEventListener(e.sJcXo,d)},c=t=>{if(!s)return;let n=(t.touches?t.touches[0].clientX:t.clientX)-l,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o=n,_0x160ef0.main.classList.add("xp4HXkJGa"),_0x160ef0.sidebar.classList.add(e.ERPDz),_0x160ef0.main.style.transform="translate3d("+Math.max(Math.min(n,i),0)+"px, 0, 0)",_0x160ef0.sidebarOverlay.style.opacity=Math.min(Math.max(e.xeHdB(1,e.QySdm(n,i)),0),1),_0x160ef0.sidebar.style.transform="translate3d("+Math.max(Math.min(e.bYGQm(-30,1-e.QySdm(n,i)),0),-30)+"%, 0, 0)"},d=()=>{if(!s)return;s=!1;let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;_0x160ef0.main.classList.remove(e.JdvGa),_0x160ef0.sidebar.classList.remove("xgu6pGjzk"),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d);let n={};n.passive=!0,document.removeEventListener("touchmove",c,n),document.removeEventListener(e.sJcXo,d),o/t>.5?_0x15f85b():_0x160ef0.sidebarOverlay.style.opacity=1};window.addEventListener("blur",()=>{s=!1,_0x160ef0.sidebarOverlay.style.opacity=1,_0x160ef0.main.classList.remove(e.JdvGa),_0x160ef0.sidebar.classList.remove(e.ERPDz),document.removeEventListener("mousemove",c),document.removeEventListener(e.mxPQY,d);let t={};t.passive=!0,document.removeEventListener("touchmove",c,t),document.removeEventListener(e.sJcXo,d)}),_0x160ef0.layoutResizer2.addEventListener(e.XzUUo,e=>{$(e)});let x={};x.passive=!0,_0x160ef0.layoutResizer2.addEventListener("touchstart",$,x);try{function h(){let t=_0x160ef0.messageContainer.getBoundingClientRect();_0x160ef0.messageContainer.style.setProperty(e.rZvvJ,Number(e.xeHdB(.6*t.height,24).toFixed(2))+"px"),_0x160ef0.messageContainer.style.setProperty(e.hBhst,Number((.72*t.height).toFixed(2))-24+"px")}e.Fsuxr(h),window.addEventListener(e.cqaeY,h)}catch(u){console.log(e.icnpz)}if(_0x4b7497=setInterval(function(){e.aTvhp(_0x4953d5),document.body.classList.contains("xYIbDcl9T")&&e.Dcain(document.activeElement,_0x160ef0.messageInput)&&document.body.classList.remove(e.mEaDR)},1e3),_0x160ef0.searchInput.removeAttribute("disabled"),_0x160ef0.searchInput.focusable(!0),_0x160ef0.profileContainer.classList.remove(e.qgvdh),_0x160ef0.profileContainer.focusable(!0),localStorage.getItem("cvs")!==_0x55790a.current){if(_0x43c6b0){let _={};_.closeOnEsc=!0,_.closeOnOverlayClick=!0;let f=new _0x46b243(_);f.Overlay.classList.add(e.VPJBJ),f.Body.innerHTML='<div class="xa6f2dQXX">'+_0x317a51.a4+'</div><div class="x68JrA5Ak">'+_0x55790a.directions+"</div>"}else e.KJhci(_0x320656,_0x317a51.a4,!0).body.innerHTML='<div class="xeUKJgV96">'+_0x55790a.directions+"</div>";localStorage.setItem(e.zHCny,_0x55790a.current)}_0x28aa23=!0}function _0x4883e2(e){let t={};t.oXDWI="&amp;$1",t.LuleG="&gt;",t.JmBCU="<br>";let n=t;return e.replace(/&([^;]+)/g,n.oXDWI).replaceAll("<","&lt;").replaceAll(">",n.LuleG).replaceAll(" ","&nbsp;").replaceAll("\n",n.JmBCU)}function _0x509b66(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let _0x28a2c5="Structure";function _0xb9988e(e){var t;let n={LbRXt:function(e,t){return e===t},mYPwj:function(e,t){return e===t},KDfbc:function(e,t,n,i){return e(t,n,i)},jlBHU:function(e,t){return e(t)},zwkkN:function(e,t){return e&&t},qCxYv:"inert",Okwmy:"disabled",oGhMz:"x3zdxRXQ6",RpudQ:"contenteditable",krvtD:".x2fP9fkxS.active",XXlkc:function(e,t){return e(t)},mFBsC:"xqBX9i6rZ",eOzBK:function(e,t,n,i,a){return e(t,n,i,a)},AlIUL:"chats",CFLyL:function(e,t,n){return e(t,n)},iuxvc:"timestamp",QosHw:function(e,t){return e===t},cHTCh:function(e,t){return e(t)},EycmR:"Error while deleting item:",toxcq:"b33",eriRt:"b35",Xaljt:"xTJA9U7y9",rnOmp:function(e,t){return e(t)},DCGtR:"b37",Ulzen:"x6q2Zh2QF",KDZMf:"xU2hUavXh",ThEkO:"xTOLrzGN6",TolfA:"xCgVOK4ur",NeKgg:function(e,t){return e(t)},RikuR:function(e,t){return e(t)},moQFU:"x5FOXvrVK",RbpuM:"xY17x64dw",PxVNn:function(e,t){return e(t)},XwjDc:"todos",bXnsK:function(e,t){return e!==t},jgWyy:"刪除失敗：",FLcrS:function(e,t){return e!==t},khyKq:"xOjXmYkxE",WppSS:"time",awDLt:"忘記加上描述了",qZmwJ:"xbrV3058R",LtFEG:"xoV8hdbgt",GOYAm:"xrQdSHI2A",UBWUl:function(e,t){return e(t)},kHWNZ:"xcoXgMpFW",ysgAB:"b21",aTTtX:"b23",vQfPl:"xGy5QqsmI",RSUGZ:"xQ65c0Nkc",HLJOb:"xT3Ta8vKw",BbINJ:"x6HyfOZS7",qABVt:function(e,t){return e(t)},PNEYV:"smooth",wBBJj:"center",BYJwm:"nearest"},i=_0x426a83("x2fP9fkxS"),a=n.PxVNn(_0x426a83,n.RSUGZ),s=_0x426a83("xybvM5cRF"),o=n.jlBHU(_0x426a83,n.HLJOb),r=_0x426a83(n.BbINJ),l=n.qABVt(_0x426a83,"xQkxrD9ZA");async function $(){let t={NGdtg:function(e,t){return n.jlBHU(e,t)}};if(_0x47e820!==e.id||n.zwkkN(_0x43c6b0,!contextOpeneds)){_0x160ef0.messageInput.innerHTML="",_0x47e820=e.id,_0x36c9b6._m.length=0,_0x2fd5f0=_0x160ef0.main,_0x34a619=!0,_0x43c6b0&&_0x160ef0.sidebar.setAttribute(n.qCxYv,"true"),_0xa92d7b="";let a=[];e.members.forEach(e=>{let n={};n.OxgMS="取得用户名称时发生错误：";let i=n;t.NGdtg(_0x3200f4,e).then(t=>{let n={};n.id=e,n.name=t.name,a.push(n)}).catch(e=>{console.error(i.OxgMS,e)})}),_0x28a2c5=(e.name||_0x317a51.d12)+" - Structure",document.title=_0x28a2c5,_0x160ef0.roomNameLabel.innerText=e.name,_0x496493.length=0;let s=new URLSearchParams(window.location.search);s.set("r",e.id),window.history.replaceState({},"","?"+s.toString()),_0x160ef0.messageContainer.classList.remove("xVjpzmyej"),_0x160ef0.fileInput.removeAttribute(n.Okwmy),_0x160ef0.attachButton.classList.remove(n.Okwmy),_0x160ef0.attachButton.focusable(!0),_0x160ef0.stickerButton.classList.remove("disabled"),_0x160ef0.stickerButton.focusable(!0),_0x160ef0.markButton.classList.remove("disabled"),_0x160ef0.markButton.focusable(!0),_0x160ef0.markButton.classList.remove(n.oGhMz),_0x1e02b0=!1,_0x160ef0.brushButton.classList.remove(n.Okwmy),_0x160ef0.brushButton.focusable(!0),_0x160ef0.messageInput.setAttribute(n.RpudQ,"true"),_0x160ef0.sidebarOverlay.style.opacity=1,_0x43c6b0?(_0x160ef0._mb_att_btn.classList.remove(n.Okwmy),_0x160ef0._mb_att_btn.focusable(!0),_0x160ef0.backButton.classList.remove(n.Okwmy),n.XXlkc(_0x5122df,".xehdiGgBv .xMyenRl7K .x8JU9DbQZ").focusable(!0),_0x160ef0.main.classList.add("x8VAGH6N2")):(_0x5122df(n.krvtD)&&_0x5122df(n.krvtD).classList.remove("active"),i.classList.add("active")),_0x160ef0.messageInput.setAttribute(n.RpudQ,"true"),_0x160ef0.messageInput.focusable(!0),_0x160ef0.messageContainer.clear(),(_0x30021d=_0x426a83(n.mFBsC)).classList.add("spinner"),_0x30021d.innerHTML=_0x451672,_0x160ef0.messageContainer.appendChild(_0x30021d);let o=await m(C(n.eOzBK(h,_0x219409,n.AlIUL,e.id,"messages"),n.CFLyL(w,n.iuxvc,"desc"),E(10)));_0x48bf89=o.docs[9];let r=[];o.forEach(e=>{r.push(e)}),n.QosHw(r.length,0)&&_0x30021d&&(_0x30021d.innerHTML=_0x317a51.d8),r.reverse(),r.map(e=>{var t=e.data();n.LbRXt(_0x496493.indexOf(e.id),-1)&&(n.mYPwj(t.sender,_0x5d5509)?(_0x496493.push(e.id),n.KDfbc(_0x39de34,t,e.id,"1")):(_0x496493.push(e.id),_0x10364b(t,e.id,"1")),_0xa92d7b=t)}),_0x48ca2d=!0,_0x160ef0.messageContainer.scrollTo({top:_0x160ef0.messageContainer.scrollHeight,behavior:"instant"}),_0x48ca2d=!1,n.XXlkc(_0x545549,e.id)}}i.bindWithCooldown($);let c={};c.id=e.id,c.length=e.size,c.name=e.name||_0x317a51.d9,c.launch=$,c.dom=i,_0x391a08.push(c),i.appendChild(a),i.appendChild(r),r.appendChild(l);let d=function(){let t={hzewh:function(e,t){return e(t)},wZYRC:"xScefCkPw",rfHKv:function(e,t){return e(t)},sZvnD:function(e,t,n){return e(t,n)},LDawD:"b20",VpRNH:n.jgWyy,MZvwf:function(e,t){return n.FLcrS(e,t)},yZzjj:"d10",RAFuR:n.khyKq,gtQki:"textarea",lzMtF:"xGGKUZ7B3",ljaHg:"date",Iudjf:n.WppSS,GqBBk:function(e,t){return e(t)},pjRiL:"xTIlpY4Et",NYMRF:function(e,t){return e===t},OvUdv:"x0eVQzH93",RvoWb:"xt4GQkVIo",KNxkK:function(e,t){return e(t)},FrGhU:n.awDLt,zZcom:"xPP6DGDrH",SnLmY:function(e,t){return e(t)},AZCbO:function(e,t){return e(t)},pxbxs:"xaTPzRSCY",aIgDD:function(e,t){return n.XXlkc(e,t)},idfbG:"horizontal",zUrqr:n.qZmwJ,faYhJ:function(e,t,n,i,a){return e(t,n,i,a)},CmNLE:"chats",kdKQF:function(e,t,i){return n.CFLyL(e,t,i)}},a={};a.trigger=l,a.placement=["bottom-start","bottom-end","top-start","top-end"];let s=new _0x1a3b47(a);s.Content.classList.add(n.LtFEG);let o=n.rnOmp(_0x426a83,n.GOYAm),r=n.cHTCh(_0x426a83,"xrQdSHI2A"),$=n.UBWUl(_0x426a83,n.kHWNZ),c=_0x426a83(n.GOYAm);o.bindWithCooldown(function(){let n={uqmpR:function(e,t,n){return e(t,n)},ydYXk:t.wZYRC};s.close();let i=t.rfHKv(_0x426a83,"xPAY7PmDq"),a;if(_0x43c6b0){let o={};o.parent=_0x160ef0.sidebar,o.title=_0x317a51.b20,(a=new _0x3bb16a(o)).Content.classList.add("xU2hUavXh"),a.Content.appendChild(i)}else(a=t.sZvnD(_0x320656,_0x317a51[t.LDawD],!0)).content.classList.add("lg"),a.content.classList.add("xb4MnocjO"),a.body.appendChild(i);function r(e){let t={SQOFX:function(e,t,i){return n.uqmpR(e,t,i)},OdHVX:function(e,t){return e(t)},YWNmV:n.ydYXk,lKVsW:"img",ZMVCS:"xxnnTDIPC",SZitl:"assets/avatar.png",DCHCF:"lazy",WEsef:"xt4GQkVIo",IQEom:function(e,t){return e(t)}};_0x3200f4(e).then(e=>{let n=t.OdHVX(_0x426a83,t.YWNmV),s=_0x426a83("xZHdsOFDz"),o=document.createElement(t.lKVsW);o.classList.add(t.ZMVCS),o.src=e.avatarUrl||t.SZitl,o.draggable=!1,o.loading=t.DCHCF;let r={};r.action="cache-url",r.url=e.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),s.appendChild(o);let l=_0x426a83("xs8tjkwHJ"),$=_0x426a83(t.WEsef),c=t.IQEom(_0x426a83,"xlKSJ67AP");$.innerText=e.name,c.innerText=e.qid||e.id,n.focusable(!0),l.appendChild($),l.appendChild(c),n.appendChild(s),n.appendChild(l),n.bindWithCooldown(function(){if(_0x43c6b0){let n={};n.data=e,n.type="mobile",_0x48d5a0(a.Root,n)}else{a.root.close();let i={};i.data=e,i.type="desktop",t.SQOFX(_0x48d5a0,_0x160ef0.main,i)}}),i.appendChild(n)}).catch(e=>{console.error(e)})}let l=0;e.members.forEach(e=>{l++,t.hzewh(r,e)}),1==l&&i.classList.add("xyS4vzBWG")}),o.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="none"  stroke="currentColor" stroke-width="2" stroke-linecap="round"  stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>'+_0x317a51[n.ysgAB],o.classList.add("xUdcoAHYM"),[o,r,c].forEach(e=>{e.focusable(!0)}),c.bindWithCooldown(function(){let t={Txnho:function(e,t,n){return e(t,n)},Tjzxg:function(e,t,n,i){return e(t,n,i)},mRipa:"users",ZDNfQ:function(e,t){return n.cHTCh(e,t)},cjLcC:function(e,t){return e(t)},EBrLF:function(e,t){return e===t},coQXs:"d13",HBZid:n.EycmR};s.close(),new _0x2392c9({closeOnEsc:!0,closeOnOverlayClick:!0,title:_0x317a51.b34,message:_0x317a51[n.toxcq],buttons:[{text:_0x317a51[n.eriRt],classList:["A5o980bj"]},{text:_0x317a51.b36,classList:[n.Xaljt],onClick:async function(){let n=_0x391a08.findIndex(t=>t.id===e.id);if(-1!==n)try{await t.Txnho(k,t.Tjzxg(_,_0x219409,t.mRipa,_0x5d5509),{joined:t.ZDNfQ(L,e.id)}),await k(t.Tjzxg(_,_0x219409,"chats",e.id),{members:t.cjLcC(L,_0x5d5509)}),_0x391a08.splice(n,1),i.remove(),_0x47e820===e.id&&(_0x47e820=null,_0x160ef0.roomNameLabel.innerText=_0x317a51.d12,_0x160ef0.messageContainer.clear()),t.EBrLF(_0x391a08.length,0)&&(_0x160ef0.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x317a51[t.coQXs]+"</div>")}catch(a){console.error(t.HBZid,a)}}}]})}),s.Content.appendChild(o),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M12 6m-7 0a7 3 0 1 0 14 0a7 3 0 1 0 -14 0" /><path d="M5 6v12c0 1.657 3.134 3 7 3s7 -1.343 7 -3v-12" /></svg>'+_0x317a51.b22,r.bindWithCooldown(async function(){let i={zsNmd:function(e){return e()}};s.close();let a,o=n.rnOmp(_0x426a83,"xtx2Cn8cK"),r=n.rnOmp(_0x426a83,"xNu1Upzh6");if(_0x43c6b0){let l={};l.parent=_0x160ef0.sidebar,l.title=_0x317a51[n.DCGtR],(a=new _0x3bb16a(l)).Content.classList.add(n.Ulzen),a.Content.classList.add(n.KDZMf),a.Content.appendChild(o)}else(a=n.CFLyL(_0x320656,_0x317a51[n.DCGtR],!0)).content.classList.add("xb4MnocjO"),a.content.classList.add("lg"),a.body.appendChild(o);let $=n.cHTCh(_0x1b682f,[]);function c(n,s){let o={KPczC:"disabled",EWYnS:function(e,t){return e(t)},xsvtq:t.VpRNH,RwjPg:function(e,t){return e!==t},kirRh:function(e,t){return e!==t},Bbzlg:function(e,n){return t.MZvwf(e,n)},JAUED:"chats",xCQaj:t.yZzjj,ERDDt:t.RAFuR,zAQAh:"xF37V7xd0",InOtG:"xYvZ9WF6d",uWfdB:"label",ZNVUp:t.gtQki,AJmCO:t.lzMtF,WOqeo:"xFJWlqoGn",CUPya:"input",lYsUN:t.ljaHg,Utbri:t.Iudjf,IsDEt:function(e,n){return t.GqBBk(e,n)},maBMd:function(e,t){return e(t)},VQKJW:"b40",ZoNWD:function(e,t){return e(t)},Qsuho:"x40AApYkW"},l=_0x426a83(t.pjRiL),c=t.GqBBk(_0x426a83,"xA9JMbz3o");l.appendChild(c),t.NYMRF(n.theme,"pink")&&c.classList.add(t.OvUdv);let d=_0x426a83("xHxVtIAsn");l.appendChild(d);let x=_0x426a83(t.RvoWb);x.innerHTML=n.name||_0x317a51.d9,d.appendChild(x);let h=t.KNxkK(_0x426a83,"xHQ4s8VGa");_0x40d3cd(h,n.description||t.FrGhU),d.appendChild(h);let u=_0x3daa17(n.startAt,n.endAt),p=_0x426a83(t.zZcom);p.innerText=u,l.appendChild(p);let b=t.SnLmY(_0x426a83,"xxChbQgko"),m=t.AZCbO(_0x426a83,t.pxbxs);m.innerHTML=_0x5e6800.edit,m.focusable(!0);let v=t.aIgDD(_0x426a83,"xaTPzRSCY");v.innerHTML=_0x5e6800.trash,v.focusable(!0),_0x1b682f([m,v],t.idfbG),v.bindWithCooldown(async function(){l.classList.add(o.KPczC);try{v.focusable(!1),v.classList.add(o.KPczC),m.focusable(!1),m.classList.add(o.KPczC),await o.EWYnS(f,_(_0x219409,"chats",e.id,"todos",s)),console.log("已成功刪除行程："+s),l.remove(),$.removeItem(l)}catch(t){v.focusable(!0),v.classList.remove("disabled"),m.focusable(!0),m.classList.remove(o.KPczC),console.error(o.xsvtq,t),l.classList.remove("disabled")}}),b.appendChild(m),b.appendChild(v),l.appendChild(b),l.focusable(!0),$.addItem(l),r.appendChild(l);let g={};g.name=n.name||"未知",g.startAt=n.startAt||17356608e5,g.endAt=n.endAt||17356608e5,g.description=n.description||"";let C=g;function w(){let t={xPvBW:"disabled",vNaBT:o.JAUED,AlPps:"todos",pNJui:o.xCQaj,ChIPW:function(e,t,n){return e(t,n)},xnskh:"更新失敗："},i=_0x320656(_0x317a51.b41,!0,a.Root);i.root.Overlay.classList.add(o.ERDDt);let r=o.EWYnS(_0x426a83,"xGGKUZ7B3"),l="_"+_0x184faa(12),$=document.createElement("label"),c=document.createElement("input");$.classList.add(o.zAQAh),c.classList.add(o.InOtG),$.htmlFor=l,$.textContent=_0x317a51.b38,c.id=l,c.type="text",c.value=C.name,c.maxLength=30,r.appendChild($),r.appendChild(c);let d=o.EWYnS(_0x426a83,"xGGKUZ7B3"),u="_"+o.EWYnS(_0x184faa,12),f=document.createElement(o.uWfdB),p=document.createElement(o.ZNVUp);f.classList.add("xF37V7xd0"),p.classList.add("xGuwEx6qN"),f.htmlFor=u,f.textContent=_0x317a51.b3,p.id=u,p.rows=3,p.value=C.description,p.maxLength=80,d.appendChild(f),d.appendChild(p);let b=_0x426a83(o.AJmCO);b.classList.add(o.WOqeo);let m="_"+_0x184faa(12),v=document.createElement("label"),g=_0x426a83("x9ZwavJjj"),w=document.createElement(o.CUPya),y=document.createElement("input");v.classList.add(o.zAQAh),w.classList.add("xYvZ9WF6d"),v.htmlFor=m,v.textContent=_0x317a51.b39,w.type=o.lYsUN,w.id=m,y.classList.add(o.InOtG),y.type=o.Utbri;let L="_"+o.IsDEt(_0x184faa,12),E=o.maBMd(_0x426a83,"x9ZwavJjj"),T=document.createElement("label"),B=document.createElement(o.CUPya),H=document.createElement("input");T.classList.add(o.zAQAh),B.classList.add("xYvZ9WF6d"),T.htmlFor=L,T.textContent=_0x317a51[o.VQKJW],B.id=L,B.type="date",H.classList.add(o.InOtG),H.type="time";let S=_0x426a83(o.AJmCO),R=o.ZoNWD(_0x426a83,o.Qsuho);R.classList.add("xwtdXtpQT"),R.textContent=_0x317a51.b6,R.classList.add("disabled");let M={};function A(){o.RwjPg(c.value.trim(),"")&&w.value&&y.value&&B.value&&H.value&&(c.value!==M._z||o.RwjPg(w.value,M._a)||y.value!==M._b||o.kirRh(B.value,M._c)||o.RwjPg(H.value,M._d)||o.Bbzlg(p.value,M._y))?(R.focusable(!0),R.classList.remove("disabled")):(R.focusable(!1),R.classList.add("disabled"))}M._z=n.name,M._y=n.description;let I=[c,w,y,B,H,p];if(I.forEach(e=>{e.oninput=A}),R.bindWithCooldown(async function(){R.classList.add(t.xPvBW),R.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>';let n=new Date(w.value+"T"+y.value).getTime(),a=new Date(B.value+"T"+H.value).getTime(),o=c.value,r=p.value;I.forEach(e=>{e.setAttribute(t.xPvBW,!0)});let l=_(_0x219409,t.vNaBT,e.id,t.AlPps,s);try{let $="5|7|8|1|3|0|4|2|6".split("|"),d=0;for(;;){switch($[d++]){case"0":x.innerHTML=C.name;continue;case"1":C.startAt=n;continue;case"2":console.log("已成功更新行程："+s);continue;case"3":C.endAt=a;continue;case"4":_0x40d3cd(h,C.description||_0x317a51[t.pNJui]);continue;case"5":let u={};u.endAt=a,u.startAt=n,u.name=o,u.description=r,await t.ChIPW(k,l,u);continue;case"6":i.root.close();continue;case"7":C.name=o;continue;case"8":C.description=r;continue}break}}catch(f){console.error(t.xnskh,f),I.forEach(e=>{e.classList.remove(t.xPvBW)})}}),g.appendChild(v),g.appendChild(w),g.appendChild(y),E.appendChild(T),E.appendChild(B),E.appendChild(H),i.body.appendChild(r),i.body.appendChild(d),i.body.appendChild(b),i.body.appendChild(S),b.appendChild(g),b.appendChild(E),S.appendChild(R),C.startAt){let W=new Date(C.startAt),Y=new Date(C.startAt).toISOString().split("T")[0];console.log(Y);let D=W.toTimeString().split(":").slice(0,2).join(":");console.log(Y),M._a=Y,M._b=D,w.value=Y,y.value=D}if(C.endAt){let O=new Date(C.endAt),z=new Date(C.endAt).toISOString().split("T")[0],j=O.toTimeString().split(":").slice(0,2).join(":");M._c=z,M._d=j,B.value=z,H.value=j}A(),c.focus()}m.bindWithCooldown(function(e){e.stopPropagation(),i.zsNmd(w)})}o.appendChild(r);let d=_0x426a83(n.ThEkO);o.appendChild(d);let x=_0x426a83(n.TolfA);d.appendChild(x);let p=n.NeKgg(_0x426a83,"xtG9t2xuE"),b=n.RikuR(_0x426a83,"x5FOXvrVK"),v=n.XXlkc(_0x426a83,n.moQFU),g=_0x426a83("x7ho7YfuM");p.appendChild(b),p.appendChild(v),p.appendChild(g);let w=!1;b.innerText=_0x317a51.c1,v.innerText=_0x317a51.c2,p.focusable(!0),x.appendChild(p);let y=_0x426a83(n.RbpuM);y.classList.add("xmiEvp5FV"),y.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',y.focusable(!0),p.bindWithCooldown(function(){w?(y.classList.remove("hide"),r.classList.remove(t.zUrqr),p.classList.remove("xHCo3rIZ7"),w=!1):(y.classList.add("hide"),r.classList.add(t.zUrqr),p.classList.add("xHCo3rIZ7"),w=!0)},0),y.bindWithCooldown(async function(){let n=_(t.faYhJ(h,_0x219409,t.CmNLE,e.id,"todos")),i={name:"新的行程",description:"",startAt:Date.now(),endAt:Date.now()};await t.kdKQF(u,n,i),t.kdKQF(c,i,n.id)},1e3),x.appendChild(y),r.innerHTML='<div class="xmBX2cWRZ spinner">'+_0x451672+"</div>";let L=await m(n.PxVNn(C,h(_0x219409,"chats",e.id,n.XwjDc)));r.innerHTML='<div class="xmBX2cWRZ">'+_0x317a51.d14+"</div>",n.bXnsK(L.docs.length,0)&&L.forEach(e=>{c(e.data(),e.id)})}),s.Content.appendChild(r),s.Content.appendChild($),c.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 12v.01" /><path d="M3 21h18" /><path d="M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5" /><path d="M14 7h7m-3 -3l3 3l-3 3" /></svg>'+_0x317a51[n.aTTtX],c.classList.add(n.vQfPl),s.Content.appendChild(c),_0x1b682f([o,r,c]),s._setPosition()};if(l.bindWithCooldown(function(e){e.stopPropagation(),d()}),l.focusable(!0),i.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 20px;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>',a.appendChild(s),s.innerText=e.name||_0x317a51.a2,t=e.description?e.description:n.LbRXt(e.size,0)?_0x317a51.b19:_0x317a51.b18.replace("$0",n.NeKgg(_0x509b66,e.size)),o.innerText=t,a.appendChild(o),_0x160ef0.primaryArea.appendChild(i),e.focus){$();let x={};x.behavior=n.PNEYV,x.block=n.wBBJj,x.inline=n.BYJwm,i.scrollIntoView(x)}}function _0x4ba631(e){let t={};t.TBqkW="a18",t.RbIZM=function(e,t){return e<t},t.gqLij=function(e,t){return e<t},t.wpqDc="a21",t.eWUSw=function(e,t){return e/t},t.tzvCs=function(e,t){return e<t},t.AArQe="a23",t.cExNj="a22";let n=t,i=Math.max(Math.floor((Date.now()-e)/1e3),0);return i<60?_0x317a51[n.TBqkW].replace("$0",i):n.RbIZM(i,3600)?_0x317a51.a20.replace("$0",Math.floor(i/60)):n.gqLij(i,86400)?_0x317a51[n.wpqDc].replace("$0",Math.floor(n.eWUSw(i,3600))):n.tzvCs(i,2592e3)?_0x317a51[n.AArQe].replace("$0",Math.floor(i/86400)):i<31536e3?_0x317a51.a19.replace("$0",Math.floor(i/2592e3)):_0x317a51[n.cExNj].replace("$0",_0x509b66(Math.floor(i/31536e3)))}function _0x28d39a(e){let t=["B","KB","MB","GB","TB","PB"],n=e,i=0;for(;n>=1024&&i<t.length-1;)n/=1024,i++;return n.toFixed(2)+" "+t[i]}async function _0x154703(e,t){try{let n=({BJvuy:function(e,t,n,i){return e(t,n,i)}}).BJvuy(_,_0x219409,"users",e);if(t){await k(n,t),_0x356c0b[e]&&(_0x356c0b[e]={..._0x356c0b[e],...t});let i=sessionStorage.getItem("upf_"+e);if(i){let a={...JSON.parse(i),...t};sessionStorage.setItem("upf_"+e,JSON.stringify(a))}}else delete _0x356c0b[e],sessionStorage.removeItem("upf_"+e);return!0}catch(s){return console.error("Failed to update user profile:",s),!1}}async function _0x3200f4(e){let t={cBVIA:"users",YxKTs:function(e,t){return e(t)}};if(_0x356c0b[e])return _0x356c0b[e];let n=sessionStorage.getItem("upf_"+e);if(n){let i=JSON.parse(n);return _0x356c0b[e]=i,i}try{let a=await t.YxKTs(p,_(_0x219409,t.cBVIA,e));if(!a.exists())return null;{let s=a.data();return _0x356c0b[e]=s,sessionStorage.setItem("upf_"+e,JSON.stringify(s)),s}}catch(o){throw o}}async function _0x97b7c1(e){if(_0x2131d1[e])return _0x2131d1[e];let t=sessionStorage.getItem("rpf_"+e);if(t){let n=JSON.parse(t);return _0x2131d1[e]=n,n}try{let i=await p(_(_0x219409,"chats",e));if(!i.exists())return null;{let a=i.data();return _0x356c0b[e]=a,sessionStorage.setItem("rpf_"+e,JSON.stringify(a)),a}}catch(s){throw s}}async function _0x517ad5(e,t){let n={PIcTl:function(e,t){return e===t},WUpQp:function(e,t){return e!==t},QPayP:"chats",aZZeh:"messages",yjUAY:function(e,t,n){return e(t,n)},LQwlH:"timestamp",JAQhD:"desc",lvokq:function(e,t){return e(t)},wZAQz:function(e,t){return e===t},SAjZO:"xWIHJooz8",yJcEs:function(e,t){return e-t},RVgYj:function(e,t){return e/t}};if(n.WUpQp(_0x48bf89,void 0)){_0x48ca2d=!0;let i=await m(C(h(_0x219409,n.QPayP,e,n.aZZeh),n.yjUAY(w,n.LQwlH,n.JAQhD),n.lvokq(v,_0x48bf89),E(10)));if(console.log(i.docs.length+" messages left"),n.PIcTl(i.docs.length,0))return;_0x48bf89=n.wZAQz(i.docs.length,10)?i.docs[9]:void 0;let a=[];i.forEach(e=>{a.push(e)}),a.reverse();let s=0;_0x4d816e=_0x426a83(n.SAjZO),_0xa92d7b="";let o=_0x160ef0.messageContainer.firstChild;_0x160ef0.messageContainer.insertBefore(_0x4d816e,o);let r=_0x160ef0.messageContainer.scrollHeight;a.map(e=>{s++;let t=e.data();n.PIcTl(_0x496493.indexOf(e.id),-1)&&(t.sender===_0x5d5509?(_0x496493.push(e.id),_0x39de34(t,e.id,"2")):(_0x496493.push(e.id),_0x10364b(t,e.id,"2")),_0xa92d7b=t)});let l=_0x160ef0.messageContainer.scrollHeight;_0x48ca2d=!0,_0x497ea7=n.yJcEs(l,r),console.log("觸發前："+_0x160ef0.messageContainer.scrollTop+"\n觸發時間："+n.RVgYj(Date.now(),1e3)+"\n高度："+_0x497ea7);let $={};$.top=_0x497ea7,$.left=0,$.behavior="instant",_0x160ef0.messageContainer.scrollTo($),_0x497ea7=0,n.yjUAY(setTimeout,function(){_0x48ca2d=!1},1e3)}else _0x48ca2d=!1}function _0x3daa17(e,t){let n={YUvbg:function(e,t){return e(t)},ukDaU:function(e,t){return e-t},USHQT:function(e,t){return e*t}},i=new Date,a=new Date(e),s=new Date(t);if(s<a)return _0x317a51.f8;if(i>s)return _0x317a51.f7;let o=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=n.YUvbg(o,i<a?a:s),l=o(i),$=Math.floor(n.ukDaU(r,l)/(1440*n.USHQT(1e3,60))),c;switch($){case -1:c=_0x317a51.f4;break;case 0:c=_0x317a51.f2;break;case 1:c=_0x317a51.f3;break;default:c=$>0?_0x317a51.f6.replace("$0",$):_0x317a51.f5.replace("$0",Math.abs($))}return c}let _0x410a04='.xikyLwDf4 .xVC8gtuyS[data-message-id="{sid}"]';function _0x545549(e){let t={VflSt:function(e,t){return e!==t},oGhrK:"added",dhXcU:function(e,t){return e===t},mQPbO:function(e,t){return e===t},HHfVt:function(e,t,n,i){return e(t,n,i)},WcXLO:"{sid}",vccQK:"xl4gtQk5f",rhEzD:function(e,t,n){return e(t,n)},jgkbb:"modified",XKjCt:function(e,t){return e(t)},OhxsI:".xMyW2iRSH",ezdSz:function(e,t,n,i,a){return e(t,n,i,a)},uREVf:"chats"};if(_0x3e7280[e]){console.log("Listener for "+e+" already exists.");return}let n=g(t.ezdSz(h,_0x219409,t.uREVf,e,"messages"),n=>{n.docChanges().forEach(n=>{if(t.VflSt(_0x47e820,e))return;let i=n.doc.data();switch(n.type){case t.oGhrK:t.dhXcU(_0x496493.indexOf(n.doc.id),-1)&&!n.doc.metadata.fromCache&&("hidden"===document.visibilityState&&(_0x38b8f1++,document.title="("+_0x38b8f1+") "+_0x28a2c5),console.log(_0x496493.indexOf(n.doc.id)),_0x496493.push(n.doc.id),t.mQPbO(i.sender,_0x5d5509)?t.HHfVt(_0x39de34,i,n.doc.id,"3"):_0x10364b(i,n.doc.id,"3"));break;case"removed":let a=_0x5122df(_0x410a04.replace(t.WcXLO,n.doc.id));try{a.classList.add(t.vccQK),t.rhEzD(setTimeout,function(){a.remove()},3e3)}catch(s){console.log(s)}break;case t.jgkbb:try{let o=t.XKjCt(_0x5122df,_0x410a04.replace("{sid}",n.doc.id)).querySelector(t.OhxsI);o?(o.clear(),_0x260b61(o,i)):console.log("找不到匹配的訊息容器")}catch(r){console.log("修改訊息時發生未知錯誤",r)}}})},e=>{console.error("An unknown error occurred",e)});_0x3e7280[e]=n}function _0xdef386(){let e={vbUJh:"xA7y7OLtP",qNDqG:"User is logged in: ",wufBh:"b16",egwyg:"show",AQYlr:"disabled",RLLCp:function(e){return e()},UGwEC:function(e,t){return e===t},IhfUD:"auth/popup-closed-by-user",SSLfL:"無法設置",RqKdw:function(e,t,n){return e(t,n)},lbZmD:function(e,t){return e(t)},yeLqg:"div",pKKVU:"b11",JOnxW:"actionbtn xYIKBnbHS",IvEZD:"b12",Klajj:"xCmJYJQtp",ECLeY:"xySmLVr4a",NjERw:"xZyuwxZPZ",mfFot:"x6Y89FynP",uvoFg:"xWDUelLWA",GtwfA:"xwxpzc3QF",swygq:"xZdL9CF5M",ZgKPZ:"label",VfexK:"input",UQQBW:"text",ZLlgA:"10px",rxlbB:"5px",gaslI:"xF37V7xd0",zoEBe:"xYvZ9WF6d",hocTR:"x40AApYkW",hUCgz:"b13"},t=e.lbZmD(_0x426a83,"xrYn5ZY3v");t.innerText=_0x317a51.b8;let a=_0x426a83("x4V8Jejrz");a.innerText=_0x317a51.b9;let o=_0x426a83("xRRuA0Z3S"),r=document.createElement(e.yeLqg);r.id="x7BYgkdiJ",r.focusable(!0);let l='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z" fill=#4285F4></path><path d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z" fill=#34A853></path><path d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z" fill=#FBBC05></path><path d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z" fill=#EA4335></path></svg>'+_0x317a51[e.pKKVU],$='<div class="spinner">\n							<svg aria-hidden="true" class="xxA4Cqchz" style="min-width: 20px" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="M12 3a9 9 0 1 0 9 9"></path>\n							</svg>\n							<span class="xkT2bkntT">'+_0x317a51.b10+"</span>\n						</div>";r.innerHTML=l;let c=document.createElement("div");c.focusable(!0),c.id="xBnuWNG6V",c.className=e.JOnxW,r.className=e.JOnxW,c.innerHTML='<svg aria-hidden="true" class="xGBqJjpdr" viewBox="0 0 20 20"><path d="M1 5.006A2 2 0 012.995 3h14.01A2 2 0 0119 5.006v9.988A2 2 0 0117.005 17H2.995A2 2 0 011 14.994V5.006zM3 5l7 4 7-4v2l-7 4-7-4V5z" fill-rule=evenodd fill=#788aa2></path></svg>'+_0x317a51[e.IvEZD],o.appendChild(r),o.appendChild(c);let d=new _0x329cf8;d.Content.classList.add("bt"),d.Root.classList.add(e.Klajj),d.Content.classList.add(e.ECLeY),d.Content.appendChild(t),d.Content.appendChild(a),d.Content.appendChild(o);let x=_0x426a83("xrYn5ZY3v");x.classList.add("lf"),x.classList.add("gc");let h=e.lbZmD(_0x426a83,e.NjERw);h.focusable(!0),h.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xRmN7l0Zc" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>',x.appendChild(h);let u=_0x426a83(e.mfFot);u.innerText=_0x317a51.b27,x.appendChild(u);let _=e.lbZmD(_0x426a83,e.uvoFg);_.classList.add(e.GtwfA),d.Content.appendChild(x),d.Content.appendChild(_);let f=document.createElement(e.yeLqg);_.appendChild(f),f.classList.add(e.swygq);let p=document.createElement("div");p.classList.add("xGGKUZ7B3"),f.appendChild(p);let b=document.createElement(e.ZgKPZ);b.classList.add("xF37V7xd0"),b.innerText=_0x317a51.b24,p.appendChild(b);let m=document.createElement(e.VfexK);m.classList.add("xYvZ9WF6d"),m.autocomplete="off",m.type=e.UQQBW,m.disabled=!0,m.spellcheck=!1,p.appendChild(m);let v=document.createElement(e.yeLqg);v.classList.add("xGGKUZ7B3"),v.style.marginTop=e.ZLlgA,v.style.marginBottom=e.rxlbB,f.appendChild(v);let g=document.createElement("label");g.classList.add(e.gaslI),g.innerText=_0x317a51.b25,v.appendChild(g);let C=document.createElement("input");C.classList.add(e.zoEBe),C.type="password",C.disabled=!0,C.autocomplete="off",v.appendChild(C);let w=document.createElement("div");w.classList.add("xw0IanPrC"),f.appendChild(w);let y=document.createElement(e.yeLqg);y.innerText=_0x317a51.b26,y.classList.add("disabled"),y.classList.add(e.hocTR),f.appendChild(y);let L=_0x426a83("xPT7rhLdL");L.focusable(!0),L.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M9 14l-4 -4l4 -4" /><path d="M5 10h11a4 4 0 1 1 0 8h-1" /></svg>'+_0x317a51[e.hUCgz],L.bindWithCooldown(function(){d.Content.classList.remove(e.vbUJh),y.classList.add("disabled"),y.focusable(!1),m.disabled=!0,C.disabled=!0}),f.appendChild(L),h.bindWithCooldown(function(){let e="0|4|2|1|3".split("|"),t=0;for(;;){switch(e[t++]){case"0":d.Content.classList.remove("xA7y7OLtP");continue;case"1":m.disabled=!0;continue;case"2":y.focusable(!1);continue;case"3":C.disabled=!0;continue;case"4":y.classList.add("disabled");continue}break}});let k=!0,E=function(){let t={};t.RcxyL="auth/invalid-login-credentials",t.LGCNM="b14",t.dIcPV=e.wufBh,t.ZMpFS="disabled";let n=t;k&&(k=!1,h.classList.add("disabled"),h.focusable(!1),w.classList.remove(e.egwyg),y.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>',m.disabled=!0,C.disabled=!0,y.classList.add(e.AQYlr),y.focusable(!1),y.blur(),L.classList.add(e.AQYlr),L.focusable(!1),s(_0x45b8d4,m.value,C.value).then(t=>{try{d.close(),α.close()}catch(n){}let i=t.user;console.log(e.qNDqG,i)}).catch(e=>{setTimeout(function(){let t=e.code;switch(w.classList.add("show"),t){case n.RcxyL:w.innerText=_0x317a51[n.LGCNM];break;case"auth/invalid-email":w.innerText=_0x317a51.b15;break;case"auth/network-request-failed":w.innerText=_0x317a51[n.dIcPV];break;default:w.innerText=_0x317a51.b17}y.innerHTML=_0x317a51.b26,y.classList.remove(n.ZMpFS),y.focusable(!0),L.classList.remove("disabled"),L.focusable(!0),m.disabled=!1,C.disabled=!1,h.classList.remove("disabled"),h.focusable(!0),k=!0},3e3)}))};C.onkeydown=function(t){13===t.keyCode&&e.RLLCp(E)},y.bindWithCooldown(E),r.bindWithCooldown(function(){let t={TftRO:function(e,t,n,i){return e(t,n,i)},oZTeX:e.SSLfL,EkOYk:function(e,t){return e(t)}};r.classList.add("disabled"),c.classList.add("disabled"),r.innerHTML=$,r.focusable(!1),c.focusable(!1),e.RqKdw(n,_0x45b8d4,_0x2af2a3).then(e=>{let n={eMqZw:function(e,n,i,a){return t.TftRO(e,n,i,a)},UVSoz:t.oZTeX};i.credentialFromResult(e).accessToken,_0x5d5509=e.user.uid,t.EkOYk(_0x3200f4,_0x5d5509).then(e=>{try{n.eMqZw(_0x47ebd7,e.avatarUrl,e.name,e.qid||e.id)}catch(t){console.error(n.UVSoz)}d.close()}).catch(e=>{console.error(e)})}).catch(t=>{e.UGwEC(t.code,e.IhfUD)&&(r.classList.remove(e.AQYlr),c.classList.remove(e.AQYlr),r.focusable(!0),c.focusable(!0),r.innerHTML=l)})}),c.bindWithCooldown(function(){d.Content.classList.add(e.vbUJh),m.disabled=!1,C.disabled=!1,y.focusable(!0),y.classList.remove(e.AQYlr),m.focus()})}function _0xef06b5(e="",t="",...n){let i={weGzP:function(e,t){return e!==t},lXXTS:function(e,t){return e!==t},onKpg:function(e,t){return e===t},kAkSw:function(e,t,n,i){return e(t,n,i)},wnkoH:function(e,t,n){return e(t,n)},cNGJL:function(e,t){return e(t)},HvWnf:function(e,t){return e(t)},xZJLe:"xrYn5ZY3v",AKWCD:function(e,t){return e(t)},NKgRB:"input",fVCoD:"hidden",jQCmT:"_Jy2eOVG7",RJmqi:"xGGKUZ7B3",reJyR:"_rJvAjH9O",YrwUG:"_fM6Qcf9q",RnXNx:"xGuwEx6qN",PbkLv:"disabled"},a={};a.closeOnEsc=!0,a.closeOnOverlayClick=!0,a.excludeElements=n;let s=new _0x329cf8(a);s.Root.classList.add("xMCbxIsn5"),s.Content.style.padding="0";let o=_0x426a83(i.xZJLe);o.classList.add("lf");let r=i.HvWnf(_0x426a83,"x6Y89FynP");r.innerText=_0x317a51.b5,o.appendChild(r);let l=i.HvWnf(_0x426a83,"xvb5soWNa");l.focusable(!0),l.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',s.close=s.close.bind(s),l.bindWithCooldown(s.close),o.appendChild(l),s.Content.appendChild(o);let $=i.AKWCD(_0x426a83,"xWDUelLWA");s.Content.appendChild($);let c=document.createElement(i.NKgRB);c.setAttribute(i.fVCoD,"true"),c.id=i.jQCmT,c.type="file";let d=i.HvWnf(_0x426a83,i.RJmqi),x=document.createElement("label");x.innerText=_0x317a51.b4,x.classList.add("xF37V7xd0"),x.htmlFor="_rJvAjH9O";let h=document.createElement("input");h.value=e,h.classList.add("xYvZ9WF6d"),h.id=i.reJyR,h.type="text",h.maxLength="20",h.autocomplete="off",h.spellcheck=!1,$.appendChild(d),d.appendChild(x),d.appendChild(h);let f=i.AKWCD(_0x426a83,i.RJmqi),b=document.createElement("label");b.innerText=_0x317a51.b3,b.classList.add("xF37V7xd0"),b.htmlFor=i.YrwUG;let m=document.createElement("textarea");m.maxLength="80",m.value=t,m.classList.add(i.RnXNx),m.id=i.YrwUG,m.rows="3",m.maxLength="50",m.autocomplete="off",m.spellcheck=!1,$.appendChild(f),f.appendChild(b),f.appendChild(m);let v=_0x426a83("x40AApYkW");function g(){i.weGzP(m.value,t)||i.lXXTS(h.value,e)?(v.classList.remove("disabled"),v.focusable(!0)):(v.classList.add("disabled"),v.focusable(!1))}async function C(){let e={JqOPa:function(e,t){return i.onKpg(e,t)}};v.classList.add("disabled"),v.innerHTML='<svg aria-hidden="true" class="x3xXCjYFp" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>',v.focusable(!1),h.disabled=!0,m.disabled=!0,c.disabled=!0;let t=h.value,n=m.value.trim();if((await p(i.kAkSw(_,_0x219409,"users",_0x5d5509))).exists()){let a={};a.name=t,a.signature=n,await _0x154703(_0x5d5509,a)}else await i.wnkoH(u,_(_0x219409,"users",_0x5d5509),{name:t,signature:n,id:_0x5d5509,joined:[],deviceInfo:""}),_0x160ef0.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x317a51.d7+"</div>";_0x160ef0.nameLabel.innerText=t,_0x36c9b6.state&&(_0x36c9b6._n=t,_0x36c9b6._a.innerText=t,_0x36c9b6._b.innerHTML=i.cNGJL(_0x508ee2,i.HvWnf(_0x4883e2,n))||_0x317a51.d10,_0x36c9b6._m.forEach(n=>{e.JqOPa(n.userId,_0x5d5509)&&(n.dom.textContent="@"+t)})),s.close()}v.innerText=_0x317a51.b7,v.classList.add(i.PbkLv),v.style.marginTop="0",$.appendChild(v),m.oninput=g,h.oninput=g,v.bindWithCooldown(C),h.focus()}async function _0x26e840(e,t){let n={ptJzE:function(e,t){return e(t)},cYdQw:function(e,t,n,i,a){return e(t,n,i,a)},RETWc:"chats"},i=await n.ptJzE(m,n.cYdQw(h,_0x219409,n.RETWc,e.id,"messages"));if(!_0x391a08.some(t=>t.id===e.id)){let a={};a.name=e.name,a.id=e.id,a.type=e.type,a.tag=e.tag,a.description=e.description,a.size=i.size,a.members=e.members,a.focus=t,a.identity=e.identity,_0xb9988e(a)}}async function _0x5505bb(){let e={onLse:function(e,t){return e(t)}};_0x160ef0.primaryArea.classList.add("xuGldtFot");let t=(await e.onLse(p,_(_0x219409,"users",_0x5d5509))).data(),n=new URLSearchParams(window.location.search).get("r");(t.joined||[]).length>0?t.joined.map(async t=>{try{e.onLse(_0x97b7c1,t).then(async e=>{let i={};i.id=t,i.name=e.name,i.type=e.type,i.tag=e.tag,i.plugins=e.plugins,i.members=e.members,i.description=e.description,i.identity=e.identity,_0x26e840(i,n===t)})}catch(i){console.error("Error fetching document for ID:",t,i)}}):_0x160ef0.primaryArea.innerHTML='<div class="xzF3bjGCc">'+_0x317a51.d13+"</div>"}a(_0x45b8d4,e=>{let t={xIamt:function(e){return e()}};e?(_0x3200f4(_0x5d5509=e.uid).then(e=>{if(!e){_0xef06b5();return}_0x47ebd7(e.avatarUrl,e.name,e.qid||e.id)}).catch(e=>{console.error(e),t.xIamt(_0x47ebd7)}),_0x7f419a()):(_0x5d5509="",t.xIamt(_0xdef386))});let _0x521fa9={};_0x521fa9.audio='<path d="M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0" />',_0x521fa9.video='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="m10 11 5 3-5 3v-6Z" />',_0x521fa9.image='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><circle cx="10" cy="12" r="2" /><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22" />',_0x521fa9.archive='<path d="M10 12v-1" /><path d="M10 18v-2" /><path d="M10 7V6" /><path d="M14 2v4a2 2 0 0 0 2 2h4" /><path d="M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01" /><circle cx="10" cy="20" r="2" />',_0x521fa9.others='<path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" /><path d="M14 2v4a2 2 0 0 0 2 2h4" />';let _0x2935bb=_0x521fa9;function _0x4953d5(){let e={};e.SnFkG=function(e,t){return e!==t},e.rhbSM=function(e,t){return e!==t},e.NYIdX=function(e,t){return e<=t};let t=e,n=_0x160ef0.messageContainer.scrollTop;t.SnFkG(_0x5d5509,"")&&t.rhbSM(_0x47e820,"")&&!_0x48ca2d&&t.NYIdX(n,0)&&_0x517ad5(_0x47e820)}function _0x15f85b(){let e={};e.dJYaD="inert",e.SQavx="contenteditable",e.svEoZ="true",e.iDizq="disabled";let t=e;_0x34a619=!1,_0x160ef0.sidebar.removeAttribute(t.dJYaD),_0x2fd5f0=_0x160ef0.sidebar,_0x160ef0.backButton.classList.add("disabled"),_0x160ef0._mb_att_btn.classList.add("disabled");let n=window.location.href.replace(/\?.*$/,"");window.history.replaceState(null,"",n),_0x160ef0.main.classList.remove("x8VAGH6N2"),_0x48ca2d=!0,_0x160ef0.messageContainer.clear(),_0x48ca2d=!1,_0x47e820="",_0x28a2c5="Structure",document.title=_0x28a2c5,_0x160ef0.messageInput.clear(),_0x160ef0.messageInput.setAttribute(t.SQavx,t.svEoZ),_0x160ef0.messageInput.focusable(!1),_0x160ef0.sendButton.classList.add(t.iDizq),_0x160ef0.sendButton.focusable(!1)}_0x160ef0.fileInput.onchange=async function(e){let t={AjEdt:"b45",hnaqB:function(e,t){return e*t},cgzfi:function(e,t){return e/t},EUSiI:function(e,t){return e(t)},FBnZE:function(e,t,n,i,a){return e(t,n,i,a)},FSwMf:"chats",IOJqs:function(e,t,n,i){return e(t,n,i)},jzOJt:"b46",eozXq:"b47",IAeyK:function(e,t){return e(t)},hfRGF:"xWDUelLWA",qdVvn:"xIOucKmLX",ojyRJ:"xvb5soWNa",rVBYd:function(e,t){return e>t},mDEXj:"b48",bdiIX:"b49",vSuuj:"b42",TeoCB:"application/zip",amtgb:"application/x-compressed",jTCAE:"application/pdf",ghPBp:"div",JESOK:"xsoLox5sj",frQJt:"生成文件名時發生未知錯誤",zrnPy:function(e,t,n){return e(t,n)},kUlDT:function(e,t,n){return e(t,n)}},n=e.target.files[0];if(!n)return;let i={};i.closeOnEsc=!0,i.closeOnOverlayClick=!0;let a=new _0x329cf8(i);a.Overlay.classList.add("xOjXmYkxE"),a.Lock=!0;let s=t.IAeyK(_0x426a83,"xrYn5ZY3v");s.classList.add("lf");let o=_0x426a83(t.hfRGF);o.classList.add(t.qdVvn),a.Content.appendChild(s),a.Content.appendChild(o),a.Content.classList.add("gt");let r=t.EUSiI(_0x426a83,"x6Y89FynP"),d=_0x426a83("xujSSErs5");s.appendChild(r),o.appendChild(d);let x=_0x426a83(t.ojyRJ);if(x.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',x.focusable(!0),s.appendChild(x),t.rVBYd(n.size,52428800)){r.innerText=_0x317a51[t.mDEXj],d.innerText=_0x317a51[t.bdiIX].replace("$0",t.EUSiI(_0x28d39a,n.size)),x.onclick=function(){_0x160ef0.fileInput.value="",a.close.bind(a)()},a.Lock=!1;return}r.innerText=_0x317a51[t.vSuuj],d.innerText=_0x317a51.b43;let f=document.createElement("div");f.classList.add("xCECpHDwZ"),f.focusable(!0),o.appendChild(f);let p=document.createElement("div");p.classList.add("xty9qDHrl"),f.appendChild(p);let b=document.createElement("div");b.classList.add("xIEj1ZAnA");let m=String(n.type),v="",g="";m.startsWith("image/")?(v=_0x2935bb.image,g="< image {u}"):m.startsWith("video/")?(v=_0x2935bb.video,g="< video {u}"):m.startsWith("audio/")?(v=_0x2935bb.audio,g="< audio {u}"):-1!==["application/x-zip-compressed",t.TeoCB,"application/x-rar-compressed","application/vnd.rar",t.amtgb].indexOf(m)?(v=_0x2935bb.archive,g="< other {u}"):m===t.jTCAE?(v=_0x2935bb.others,g="< pdf {u}"):(v=_0x2935bb.others,g="< other {u}"),b.innerHTML='<svg aria-hidden="true" style="min-width: 28px" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+v+"</svg>",p.appendChild(b);let C=document.createElement(t.ghPBp);C.classList.add("xxs4n9nhX"),p.appendChild(C),C.innerHTML='<div class="xTGGn7ABj">'.concat(n.name).concat('</div><div class="xtyaQiCLO">'+t.IAeyK(_0x28d39a,n.size)+"</div>"),p.appendChild(C);let w=document.createElement(t.ghPBp);w.classList.add(t.JESOK),p.appendChild(w);let y=document.createElement("div");y.classList.add("xk0osKWCK"),w.appendChild(y);let L="";try{L=t.IAeyK(_0x184faa,12)+"-"+n.name}catch(k){console.log(t.frQJt,k)}let E=t.zrnPy(l,_0x2cfa8b,"uploads/"+_0x47e820+"/attachment/"+L),T=t.kUlDT($,E,n);x.onclick=function(){r.innerText=_0x317a51.b44,d.innerText=_0x317a51[t.AjEdt],a.Lock=!1,T.cancel(),_0x160ef0.fileInput.value="",a.close()},T.on("state_changed",e=>{let n=t.hnaqB(t.cgzfi(e.bytesTransferred,e.totalBytes),100);y.style.width=n+"%"},e=>{console.log(e)},async()=>{let e=await t.EUSiI(c,T.snapshot.ref),n="";n=g.replace("{u}",e);let i=_(t.FBnZE(h,_0x219409,t.FSwMf,_0x47e820,"messages"));_0x496493.push(i.id),await u(i,{sender:_0x5d5509,content:n,timestamp:Date.now()});let s={};s.content=n,t.IOJqs(_0x39de34,s,i.id,"3"),_0x160ef0.fileInput.value="",f.remove(),r.innerText=_0x317a51[t.jzOJt],d.innerText=_0x317a51[t.eozXq],x.onclick=()=>{},a.Lock=!1,x.bindWithCooldown(function(){a.close()})})},document.addEventListener("visibilitychange",function(){let e={};e.FcUQC=function(e,t){return e===t},e.pYcME="已重新聚焦 清除未讀訊息數";let t=e;t.FcUQC(document.visibilityState,"visible")&&(console.log(t.pYcME),document.title=_0x28a2c5,_0x38b8f1=0)}),_0x160ef0.searchInput.oninput=function(){let e={};e.XhDAi="hide";let t=e,n=_0x160ef0.searchInput.value.toLowerCase().trim();""!==n?_0x391a08.forEach(e=>{e.name.toLowerCase().includes(n)?e.dom.classList.remove("hide"):e.dom.classList.add(t.XhDAi)}):_0x391a08.forEach(e=>{e.dom.classList.remove(t.XhDAi)})},_0x160ef0.messageContainer.addEventListener("scroll",function(){_0x4953d5()}),_0x160ef0.messageInput.oninput=function(){let e={};e.ChKxz=function(e,t){return e!==t},e.iynsd="disabled";let t=e,n=_0x160ef0.messageInput.childNodes;1==n.length&&("BR"===n[0].nodeName||"DIV"===n[0].nodeName)&&_0x160ef0.messageInput.clear(),t.ChKxz(_0x160ef0.messageInput.innerText.trim(),"")?(_0x160ef0.sendButton.classList.remove("disabled"),_0x160ef0.sendButton.focusable(!0)):(_0x160ef0.sendButton.classList.add(t.iynsd),_0x160ef0.sendButton.focusable(!1))},_0x160ef0.messageInput.onfocus=function(){let e={};e.ytNIa="xYIbDcl9T",document.body.classList.add(e.ytNIa)},_0x160ef0.messageInput.onblur=function(){document.body.classList.remove("xYIbDcl9T")},_0x160ef0.messageInput.onpaste=function(e){e.preventDefault(),document.execCommand("insertHTML",!0,({vYrhn:function(e,t){return e(t)}}).vYrhn(_0x4883e2,(e.clipboardData||window.Clipboard).getData("text/plain")))},_0x160ef0.messageInput.ondrop=function(e){let t={};t.KHuFk="text/plain",e.preventDefault();let n=e.dataTransfer.getData(t.KHuFk);e.target.focus(),document.execCommand("insertHTML",!0,_0x4883e2(n))},_0x160ef0.messageInput.oncopy=function(e){let t={};t.RvWaF="text/plain",e.preventDefault();var n=window.getSelection().toString();e.clipboardData.setData(t.RvWaF,n)},_0x160ef0.messageInput.addEventListener("keydown",function(e){switch(e.keyCode){case 13:_0x43c6b0||e.shiftKey||(e.preventDefault(),({zydoL:function(e){return e()}}).zydoL(_0x2f559c));break;case 85:case 66:case 73:e.ctrlKey&&e.preventDefault()}}),_0x160ef0.sendButton.bindWithCooldown(_0x2f559c),document.onkeydown=function(e){let t={};t.KCweP=function(e,t){return e!=t},t.CWeUr=function(e,t){return e!=t},t.tHRqP="xGuwEx6qN";let n=t;switch(e.keyCode){case 191:let i=document.activeElement;n.KCweP(i,_0x160ef0.messageInput)&&i!=_0x160ef0.searchInput&&n.CWeUr(i.tagName.toUpperCase(),"INPUT")&&!i.classList.contains(n.tHRqP)&&!i.classList.contains("xYvZ9WF6d")&&(e.preventDefault(),_0x160ef0.messageInput.focus());break;case 75:e.ctrlKey&&_0x28aa23&&(e.preventDefault(),_0x160ef0.searchInput.focus());break;case 123:e.preventDefault();break;case 67:e.ctrlKey&&e.shiftKey&&e.preventDefault();break;case 85:case 187:case 189:case 80:case 83:case 79:case 109:case 107:e.ctrlKey&&e.preventDefault();break;case 37:case 39:e.altKey&&e.preventDefault()}},document.querySelectorAll("body > div").forEach(function(e){e.onwheel=function(e){e.ctrlKey&&e.preventDefault()}}),_0x160ef0.backButton.bindWithCooldown(function(){_0x15f85b()});let _0x4222ac=!1;_0x160ef0.profileContainer.bindWithCooldown(function(){let e={cLqLt:function(e,t){return e(t)},duLKY:function(e,t){return e===t},KlWCT:"input",UiLcS:"checkbox",GzPiZ:"xoKmBEVCz",UHBdI:"xIkbBJgzp",Rexrn:"kunelinmc",OCovQ:"disabled",fRSZh:function(e,t,n){return e(t,n)},xiZuw:"f20",ySwfm:function(e,t){return e(t)},XNmqD:function(e,t){return e(t)},nxVvX:"STG-8dac6660-22f9-412e-b1b4-14a1e1657ad2",xHkHK:"f12",SyMkv:"STG-a5ac39c4-4976-4ca8-8ee0-bd15908acf38",vIutF:"f14",JvbKQ:"f15",lJsnG:"STG-1298f54f-582b-4487-9084-37bbfd5eb0cb",oNDWG:"f17",Atkih:"STG-9e6b2b08-c23c-4f39-b0d8-80418b10f95f",NUWXf:"f18",drjIS:"f19",NwHAQ:"STG-252a9b54-19c6-4ecd-9d22-ba36aa6e45ee",xnnfw:"btn",xOIPa:"x9EnCPd4S",zblTT:"xLhiIL2Wm",pnZxs:function(e,t){return e(t)},qLkzM:"xrQdSHI2A",lBnQJ:function(e,t){return e(t)},brIpY:"a15",ZSbCK:"xcoXgMpFW",wfmRO:function(e,t){return e(t)},BbfXN:"a16"};_0x160ef0.sidebar.classList.add(e.xOIPa);let t={};t.trigger=_0x160ef0.profileContainer,t.placement="top";let n=new _0x1a3b47(t);n.Content.classList.add(e.zblTT);let i=e.pnZxs(_0x426a83,e.qLkzM);i.focusable(!0),i.innerHTML='<svg aria-hidden="true" style="min-width: 24px;" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 6l8 0" /><path d="M16 6l4 0" /><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 12l2 0" /><path d="M10 12l10 0" /><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M4 18l11 0" /><path d="M19 18l1 0" /></svg>'+_0x317a51[e.xiZuw],i.bindWithCooldown(function(){n.close();let t;if(_0x43c6b0){let i={};i.parent=_0x160ef0.sidebar,i.title=_0x317a51[e.xiZuw],t=new _0x3bb16a(i).Content}else{let a=new _0x320656(_0x317a51[e.xiZuw],!0);a.Content.classList.add("lg"),t=a.body}function s(t,n){let i=e.cLqLt(_0x426a83,"xXhKBDWcA"),a=_0x426a83("xnrc3UgAV");if(i.appendChild(a),e.duLKY(n.type,"cb")){let s=_0x426a83("xoKmBEVCz"),o=_0x426a83("xhaYJ4QyT");s.textContent=n.title,o.textContent=n.desc;let r=document.createElement(e.KlWCT);r.type=e.UiLcS,r.classList.add("cls-switch"),r.checked=_0x403618.get(n.id)||n.checked,r.onchange=function(){_0x403618.set(n.id,r.checked)},i.appendChild(r),a.appendChild(s),a.appendChild(o)}else if("btn"===n.type){let l=_0x426a83(e.GzPiZ);i.classList.add("xmdgdJduU"),i.focusable(!0),n.disabled&&i.classList.add("disabled"),l.textContent=n.label,i.bindWithCooldown(function(){let e={};e.labelEle=l,e.ButtonEle=i,n.trigger(e)}),a.appendChild(l)}t.appendChild(i)}let o=e.ySwfm(_0x426a83,"xmRZa1NtY"),r=e.XNmqD(_0x426a83,"xmRZa1NtY"),l=e.ySwfm(_0x426a83,"xmRZa1NtY");r.classList.add("xG4XOK4JW");let $={};$.id=e.nxVvX,$.title=_0x317a51[e.xHkHK],$.desc=_0x317a51.f13,$.checked=!1,$.type="cb";let c={};c.id=e.SyMkv,c.title=_0x317a51[e.vIutF],c.desc=_0x317a51[e.JvbKQ],c.checked=!0,c.type="cb",[$,c].forEach(e=>{s(o,e)});let d={};d.id=e.lJsnG,d.title=_0x317a51.f16,d.desc=_0x317a51[e.oNDWG],d.checked=!1,d.type="cb";let x={};x.id=e.Atkih,x.title=_0x317a51[e.NUWXf],x.desc=_0x317a51[e.drjIS],x.checked=!1,x.type="cb",[d,x].forEach(e=>{s(r,e)}),[{id:e.NwHAQ,label:_0x317a51.s3,type:e.xnnfw,trigger:function(){let t={};t.closeOnEsc=!0,t.closeOnOverlayClick=!0;let n=new _0x46b243(t);n.Overlay.classList.add(e.UHBdI),n.Body.innerHTML='\n					<div class="xHNNAeZhF">\n						<div class="xyctbgO0V">\n							<div class="xLu4Zx9Ip">\n								<img src="assets/logo.png" draggable="false">\n							</div>\n							<div class="xsR4e4fZB">Structure</div>\n						</div>\n						<div class="xrbR4QxkX">\n							<span class="xRDXgIF4B">'+_0x317a51.s1.replace("$0",_0x55790a.current)+'</span>\n							<span class="xRDXgIF4B">'+_0x317a51.s2.replace("$0",e.Rexrn)+"</span>\n						</div>\n					</div>"}},{id:e.lJsnG,label:_0x4222ac?_0x317a51.f21:_0x317a51.f11,disabled:_0x4222ac,type:"btn",trigger:function(t){let n="4|1|0|2|3".split("|"),i=0;for(;;){switch(n[i++]){case"0":t.ButtonEle.classList.add(e.OCovQ);continue;case"1":t.labelEle.textContent=_0x317a51.f21;continue;case"2":_0x403618.clear();continue;case"3":_0x4222ac=!0;continue;case"4":let a={};a.action="clear-all-caches",navigator.serviceWorker?.controller?.postMessage(a);continue}break}}}].forEach(t=>{e.fRSZh(s,l,t)}),t.appendChild(o),t.appendChild(r),t.appendChild(l)});let a=e.lBnQJ(_0x426a83,e.qLkzM);a.focusable(!0),a.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h1.5" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>'+_0x317a51[e.brIpY],a.bindWithCooldown(function(){let t={fVeje:function(e,t,n){return e(t,n)}};n.close(),e.ySwfm(_0x3200f4,_0x5d5509).then(e=>{let n={};n.data=e,n.type=_0x43c6b0?"mobile":"desktop",t.fVeje(_0x48d5a0,_0x160ef0.sidebar,n)}).catch(e=>{console.error(e)})});let s=_0x426a83(e.ZSbCK),r=e.wfmRO(_0x426a83,e.qLkzM);r.focusable(!0),r.bindWithCooldown(function(){let t={};t.Qlsxv=e.OCovQ;let i=t;n.close(),o(_0x45b8d4).then(()=>{_0x5d5509="",_0x47e820="",_0x391a08.length=0,_0x496493.length=0,_0x28aa23=!1;let e=window.location.href.replace(/\?.*$/,"");for(let t in window.history.replaceState(null,"",e),_0x160ef0.primaryArea.clear(),_0x160ef0.messageContainer.clear(),_0x3e7280)_0x3e7280[t](),console.log("Listener for "+t+" removed.");Object.keys(_0x3e7280).forEach(e=>delete _0x3e7280[e]),_0x4b7497&&clearInterval(_0x4b7497),localStorage.setItem("cvs",""),_0x30021d&&(_0x30021d.remove(),_0x30021d=null),document.body.classList.remove("xmKH3ad5R"),_0x160ef0.profileContainer.classList.remove("disabled"),_0x160ef0.profileContainer.focusable(!0),_0x160ef0.markButton.classList.add("disabled"),_0x160ef0.brushButton.classList.add(i.Qlsxv),_0x160ef0.attachButton.classList.add(i.Qlsxv),_0x160ef0.stickerButton.classList.add(i.Qlsxv),_0x1e02b0=!1,_0x160ef0.avatarWrapper.classList.add("xJd2GT7MI"),_0x160ef0.avatarLabel.src="",_0x160ef0.nameLabel.innerText="",_0x160ef0.signatureLabel.innerText=""}).catch(e=>{console.error("Sign out error",e)})}),r.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" /><path d="M9 12h12l-3 -3" /><path d="M18 15l3 -3" /></svg>'+_0x317a51[e.BbfXN],_0x1b682f([i,a,r]),n.Content.appendChild(i),n.Content.appendChild(a),n.Content.appendChild(s),n.Content.appendChild(r),n._setPosition(),n.onClose(()=>{_0x160ef0.sidebar.classList.remove("x9EnCPd4S")})});class _0x3bb16a{constructor({parent:e,title:t}){let n={GmvZF:"inert",quIMO:function(e,t){return e(t)},QTNNG:"xB4hVI3El",zNZdr:function(e,t){return e(t)},hqItu:"xopQXJrX5",CrXQF:"xMyenRl7K",jSNZC:function(e,t){return e(t)},YbXFJ:"body > *:not(.xEHCrF5Oe, script, [hidden])"},i=e,a=n.quIMO(_0x426a83,n.QTNNG),s=n.zNZdr(_0x426a83,n.hqItu),o=n.quIMO(_0x426a83,"xZz4zYjIm"),r=_0x426a83(n.CrXQF),l=n.quIMO(_0x426a83,"x8JU9DbQZ"),$=n.jSNZC(_0x426a83,"xvwhg72ii");this._parent=i,this.Root=a,this.Content=o,this.Heading=s,this._backButton=l,this._deactivated_elements=document.querySelectorAll(n.YbXFJ),this._deactivated_elements.forEach(e=>{e.setAttribute(n.GmvZF,"true")}),s.appendChild(r),r.appendChild(l),r.appendChild($),$.textContent=t,l.focusable(!0),l.innerHTML='<svg style="min-width: 24px" aria-hidden="true" class="xvx75W2b4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n								<path d="m12 19-7-7 7-7"></path>\n								<path d="M19 12H5"></path>\n							</svg>',l.bindWithCooldown(this.close.bind(this)),a.appendChild(s),a.appendChild(o),document.body.appendChild(a),setTimeout(function(){_0x2fd5f0=a,i.classList.add("xCr0RyqCg"),a.classList.add("xa2pPtuLq")},50)}onClose(e){this.onCloseCallback=e}close(){let e={XNRDn:function(e,t,n){return e(t,n)},VDYYM:"xjv5U11Kz",UpbWp:"xa2pPtuLq"},t="6|5|4|7|2|0|3|1".split("|"),n=0;for(;;){switch(t[n++]){case"0":this._parent.classList.remove("xjv5U11Kz");continue;case"1":e.XNRDn(setTimeout,()=>{this.Root.remove()},100);continue;case"2":this._parent.classList.remove("xCr0RyqCg");continue;case"3":this.Root.classList.remove(e.VDYYM);continue;case"4":_0x2fd5f0=this._parent;continue;case"5":this._deactivated_elements.forEach(e=>{e.removeAttribute("inert")});continue;case"6":this.onCloseCallback&&this.onCloseCallback();continue;case"7":this.Root.classList.remove(e.UpbWp);continue}break}}}async function _0x48d5a0(e,t){let n={RILoC:function(e,t){return e>t},prgEa:"xORN7XV1j",jWJCN:"xkyfCNAI0",JDWVC:function(e,t){return e(t)},QlrIV:"cache-url",YaIBB:"video",ZCgPl:"nodownload",aSeIO:"img",aIquD:"lazy",evYCM:"xCYnK7ffo",ikEuj:"xBjZoCxmV",JIiYe:function(e,t){return e(t)},QxHCZ:"xjam05uvc",btiqD:function(e,t){return e(t)},PUEeD:function(e,t){return e(t)},lmprh:"x2OCp76zA",loMmW:"xokk3UP7N",CwsYS:"xxXoB6W0R",WjGBr:"xodqSvoQM",qbmOX:function(e,t){return e+t},uYydL:function(e,t){return e+t},usmdw:function(e,t){return e+t},OXmOi:function(e,t){return e(t)},kHCGO:"xkRGF6AbD",OmfpB:function(e,t){return e===t},cxFOM:function(e,t){return e(t)},sskyW:"xhMhXcFlu",bSKZm:function(e,t){return e(t)},yIPYS:"xjMYgfYFc",EBNqb:"xHPTUCUar",ReLzP:"horizontal",ojupl:"xTKxbdpu3",ihxsh:"x8JU9DbQZ",iqSCg:"xnS3FTqjp",LBwod:"xwMgtrL2x"};_0x36c9b6.state=!0,_0x36c9b6._n||(_0x36c9b6._n=t.data.name),_0x36c9b6._d||(_0x36c9b6._d=t.data.signature);let i=_0x426a83(n.jWJCN),a=n.JDWVC(_0x426a83,"x0zSVRG3y"),s,o={};o.action=n.QlrIV,o.url=t.data.bannerUrl,navigator.serviceWorker?.controller?.postMessage(o);let r={};r.action="cache-url",r.url=t.data.avatarUrl,navigator.serviceWorker?.controller?.postMessage(r),t.data.bannerType===n.YaIBB?((s=document.createElement("video")).loop=!0,s.controlslist=n.ZCgPl,s.controls=!1,s.setAttribute("muted",""),s.playsInline=!0,s.preload=!0,s.autoplay=!0,s.src=t.data.bannerUrl):((s=document.createElement(n.aSeIO)).draggable=!1,s.src=t.data.bannerUrl||"assets/default-banner.png",s.loading=n.aIquD),s.classList.add("x96ofpjeu");let l=_0x426a83("xkKF4v6d2"),$=_0x426a83("xwvIJoAtO"),c=document.createElement(n.aSeIO);c.classList.add("xVwXc1fhM");let d=_0x426a83("xzCCWGB1D"),x=n.JDWVC(_0x426a83,n.evYCM),h=_0x426a83("xqYV0G7JT"),u=_0x426a83(n.ikEuj),_=n.JIiYe(_0x426a83,n.QxHCZ),f=_0x426a83("xodqSvoQM"),p=n.btiqD(_0x426a83,"xt0pX9m5p");i.appendChild(a),a.appendChild(s),i.appendChild(l),h.appendChild($),$.appendChild(c),c.draggable=!1,c.src=t.data.avatarUrl||"assets/avatar.png",c.loading="lazy",l.appendChild(x),l.appendChild(d),d.appendChild(h);let b=n.PUEeD(_0x426a83,n.lmprh);d.appendChild(b);let m=_0x426a83(n.loMmW);h.appendChild(m);let v=_0x36c9b6._n,g=_0x426a83("x117sdiIx");g.textContent=v,u.appendChild(g),u.appendChild(_);let C=n.JDWVC(_0x426a83,n.CwsYS),w=1;t.data.qid?(C.textContent=t.data.qid,C.bindWithCooldown(function(){0===w?(w=1,C.textContent=t.data.qid):(w=0,C.textContent=t.data.id)},0)):C.textContent=t.data.id,m.appendChild(u),m.appendChild(C),_0x36c9b6._a=g,_0x36c9b6._b=f,f.innerHTML=n.JIiYe(_0x508ee2,_0x4883e2(_0x36c9b6._d||_0x317a51.d10)),l.appendChild(p);let y=n.btiqD(_0x426a83,"xylvbLNlS");y.textContent=_0x317a51.b1,p.appendChild(y),p.appendChild(f);let L=_0x426a83("xylvbLNlS");L.id="xY3QPRePs",L.textContent=_0x317a51.b2;let k=_0x426a83(n.WjGBr),E=new Date(t.data.deviceInfo.lastUpdate),T=n.qbmOX(n.uYydL(n.usmdw(n.usmdw(E.getFullYear(),"/"),E.getMonth()+1)+"/",E.getDate())," ")+E.getHours().toString()+":"+E.getMinutes().toString().padStart(2,"0");k.innerText=(n.OXmOi(_0x4ba631,t.data.deviceInfo.lastUpdate)||_0x317a51.d11)+" ("+(T||_0x317a51.d12)+")",p.appendChild(L),p.appendChild(k);let B=_0x426a83("xylvbLNlS");B.id=n.kHCGO,B.textContent=_0x317a51.b50;let H=_0x426a83(n.WjGBr);if(H.innerHTML=t.data.dynamics||_0x317a51.b51,p.appendChild(B),p.appendChild(H),n.OmfpB(t.type,"desktop")){let S={};S.closeOnEsc=!0,S.closeOnOverlayClick=!0;let R=new _0x329cf8(S);R.Content.classList.add("xlY0G76Nv"),R.Content.classList.add("lg"),R.Content.classList.add("gb");let M=_0x426a83("xjMiLDVEU"),A=n.cxFOM(_0x426a83,"xUHiz9aGO"),I=_0x426a83(n.sskyW),W=_0x426a83("xIl46kG8k"),Y=n.bSKZm(_0x426a83,n.yIPYS);W.appendChild(Y),Y.textContent=t.data.name,A.appendChild(W),A.appendChild(I);let D=_0x426a83("xHPTUCUar");if(D.bindWithCooldown(R.close.bind(R)),D.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',D.focusable(!0),n.OmfpB(t.data.id,_0x5d5509)){let O=_0x426a83(n.EBNqb);O.bindWithCooldown(function(){_0xef06b5(_0x36c9b6._n,_0x36c9b6._d,R.Root)}),O.innerHTML=_0x5e6800.edit,O.focusable(!0),I.appendChild(O),_0x1b682f([O,D],n.ReLzP)}I.appendChild(D),M.appendChild(A),R.Content.appendChild(M),M.appendChild(i);let z=R.Content.getBoundingClientRect();if(R.Content.style.setProperty("--xD672nKxG",z.height+"px"),M.onscroll=function(){n.RILoC(M.scrollTop,60)?M.classList.add("xORN7XV1j"):M.classList.remove(n.prgEa)},t.data.verified){let j=_0x426a83(n.ojupl);j.innerHTML='<svg aria-hidden="true" style="min-width: 24px" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',_.appendChild(j)}R.onClose(function(){_0x36c9b6.state=!1,_0x36c9b6._a=null,_0x36c9b6._b=null,_0x36c9b6._n="",_0x36c9b6._d=""})}else{let U={};U.parent=e,U.title=t.data.name;let X=new _0x3bb16a(U);if(t.data.id===_0x5d5509){let F=n.bSKZm(_0x426a83,n.ihxsh);F.classList.add(n.iqSCg),F.bindWithCooldown(function(){_0xef06b5(_0x36c9b6._n,_0x36c9b6._d,X.Root)}),F.innerHTML=_0x5e6800.edit,F.focusable(!0),X.Heading.appendChild(F)}X.Root.classList.add(n.LBwod),X.onClose(function(){_0x36c9b6.state=!1,_0x36c9b6._a=null,_0x36c9b6._b=null,_0x36c9b6._n="",_0x36c9b6._d=""}),X.Root.onscroll=function(){X.Root.scrollTop>60?X.Root.classList.add(n.prgEa):X.Root.classList.remove("xORN7XV1j")},X._backButton.classList.add(n.iqSCg),X.Content.appendChild(i)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{e.onupdatefound=()=>{let t=e.installing;t.onstatechange=()=>{"installed"===t.state&&window.location.reload()}}}).catch(e=>{let t={};t.tRSUt="註冊失敗：";let n=t;console.log(n.tRSUt,e)});
